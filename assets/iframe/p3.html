<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCiFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxlKTplKCh0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmVjaGFydHM9e30pfSh0aGlzLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LG4pfTtmdW5jdGlvbiBuKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfXZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuKGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiByKCl7Zm9yKHZhciB0PTAsZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIGk9QXJyYXkodCkscj0wO2ZvcihlPTA7ZTxuO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLGE9MCxzPW8ubGVuZ3RoO2E8czthKysscisrKWlbcl09b1thXTtyZXR1cm4gaX12YXIgbz1mdW5jdGlvbigpe3RoaXMuZmlyZWZveD0hMSx0aGlzLmllPSExLHRoaXMuZWRnZT0hMSx0aGlzLm5ld0VkZ2U9ITEsdGhpcy53ZUNoYXQ9ITF9LGE9bmV3IGZ1bmN0aW9uKCl7dGhpcy5icm93c2VyPW5ldyBvLHRoaXMubm9kZT0hMSx0aGlzLnd4YT0hMSx0aGlzLndvcmtlcj0hMSx0aGlzLmNhbnZhc1N1cHBvcnRlZD0hMSx0aGlzLnN2Z1N1cHBvcnRlZD0hMSx0aGlzLnRvdWNoRXZlbnRzU3VwcG9ydGVkPSExLHRoaXMucG9pbnRlckV2ZW50c1N1cHBvcnRlZD0hMSx0aGlzLmRvbVN1cHBvcnRlZD0hMSx0aGlzLnRyYW5zZm9ybVN1cHBvcnRlZD0hMSx0aGlzLnRyYW5zZm9ybTNkU3VwcG9ydGVkPSExfTsib2JqZWN0Ij09dHlwZW9mIHd4JiYiZnVuY3Rpb24iPT10eXBlb2Ygd3guZ2V0U3lzdGVtSW5mb1N5bmM/KGEud3hhPSEwLGEuY2FudmFzU3VwcG9ydGVkPSEwLGEudG91Y2hFdmVudHNTdXBwb3J0ZWQ9ITApOiJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj8oYS53b3JrZXI9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITApOiJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yPyhhLm5vZGU9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITAsYS5zdmdTdXBwb3J0ZWQ9ITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5icm93c2VyLGk9dC5tYXRjaCgvRmlyZWZveFwvKFtcZC5dKykvKSxyPXQubWF0Y2goL01TSUVccyhbXGQuXSspLyl8fHQubWF0Y2goL1RyaWRlbnRcLy4rP3J2OigoW1xkLl0rKSkvKSxvPXQubWF0Y2goL0VkZ2U/XC8oW1xkLl0rKS8pLGE9L21pY3JvbWVzc2VuZ2VyL2kudGVzdCh0KTtpJiYobi5maXJlZm94PSEwLG4udmVyc2lvbj1pWzFdKTtyJiYobi5pZT0hMCxuLnZlcnNpb249clsxXSk7byYmKG4uZWRnZT0hMCxuLnZlcnNpb249b1sxXSxuLm5ld0VkZ2U9K29bMV0uc3BsaXQoIi4iKVswXT4xOCk7YSYmKG4ud2VDaGF0PSEwKTtlLmNhbnZhc1N1cHBvcnRlZD0hIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQsZS5zdmdTdXBwb3J0ZWQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdSZWN0LGUudG91Y2hFdmVudHNTdXBwb3J0ZWQ9Im9udG91Y2hzdGFydCJpbiB3aW5kb3cmJiFuLmllJiYhbi5lZGdlLGUucG9pbnRlckV2ZW50c1N1cHBvcnRlZD0ib25wb2ludGVyZG93biJpbiB3aW5kb3cmJihuLmVkZ2V8fG4uaWUmJituLnZlcnNpb24+PTExKSxlLmRvbVN1cHBvcnRlZD0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50O3ZhciBzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtlLnRyYW5zZm9ybTNkU3VwcG9ydGVkPShuLmllJiYidHJhbnNpdGlvbiJpbiBzfHxuLmVkZ2V8fCJXZWJLaXRDU1NNYXRyaXgiaW4gd2luZG93JiYibTExImluIG5ldyBXZWJLaXRDU1NNYXRyaXh8fCJNb3pQZXJzcGVjdGl2ZSJpbiBzKSYmISgiT1RyYW5zaXRpb24iaW4gcyksZS50cmFuc2Zvcm1TdXBwb3J0ZWQ9ZS50cmFuc2Zvcm0zZFN1cHBvcnRlZHx8bi5pZSYmK24udmVyc2lvbj49OX0obmF2aWdhdG9yLnVzZXJBZ2VudCxhKTt2YXIgcz17IltvYmplY3QgRnVuY3Rpb25dIjohMCwiW29iamVjdCBSZWdFeHBdIjohMCwiW29iamVjdCBEYXRlXSI6ITAsIltvYmplY3QgRXJyb3JdIjohMCwiW29iamVjdCBDYW52YXNHcmFkaWVudF0iOiEwLCJbb2JqZWN0IENhbnZhc1BhdHRlcm5dIjohMCwiW29iamVjdCBJbWFnZV0iOiEwLCJbb2JqZWN0IENhbnZhc10iOiEwfSxsPXsiW29iamVjdCBJbnQ4QXJyYXldIjohMCwiW29iamVjdCBVaW50OEFycmF5XSI6ITAsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIjohMCwiW29iamVjdCBJbnQxNkFycmF5XSI6ITAsIltvYmplY3QgVWludDE2QXJyYXldIjohMCwiW29iamVjdCBJbnQzMkFycmF5XSI6ITAsIltvYmplY3QgVWludDMyQXJyYXldIjohMCwiW29iamVjdCBGbG9hdDMyQXJyYXldIjohMCwiW29iamVjdCBGbG9hdDY0QXJyYXldIjohMH0sdT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGg9QXJyYXkucHJvdG90eXBlLGM9aC5mb3JFYWNoLHA9aC5maWx0ZXIsZD1oLnNsaWNlLGY9aC5tYXAsZz1mdW5jdGlvbigpe30uY29uc3RydWN0b3IseT1nP2cucHJvdG90eXBlOm51bGwsdj17fTtmdW5jdGlvbiBtKHQsZSl7dlt0XT1lfXZhciBfPTIzMTE7ZnVuY3Rpb24geCgpe3JldHVybiBfKyt9ZnVuY3Rpb24gYigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTsidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSx0KX1mdW5jdGlvbiB3KHQpe2lmKG51bGw9PXR8fCJvYmplY3QiIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgZT10LG49dS5jYWxsKHQpO2lmKCJbb2JqZWN0IEFycmF5XSI9PT1uKXtpZighbHQodCkpe2U9W107Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWVbaV09dyh0W2ldKX19ZWxzZSBpZihsW25dKXtpZighbHQodCkpe3ZhciBvPXQuY29uc3RydWN0b3I7aWYoby5mcm9tKWU9by5mcm9tKHQpO2Vsc2V7ZT1uZXcgbyh0Lmxlbmd0aCk7Zm9yKGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspZVtpXT13KHRbaV0pfX19ZWxzZSBpZighc1tuXSYmIWx0KHQpJiYhaih0KSlmb3IodmFyIGEgaW4gZT17fSx0KXQuaGFzT3duUHJvcGVydHkoYSkmJihlW2FdPXcodFthXSkpO3JldHVybiBlfWZ1bmN0aW9uIFModCxlLG4pe2lmKCFYKGUpfHwhWCh0KSlyZXR1cm4gbj93KGUpOnQ7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIHI9dFtpXSxvPWVbaV07IVgobyl8fCFYKHIpfHxGKG8pfHxGKHIpfHxqKG8pfHxqKHIpfHxZKG8pfHxZKHIpfHxsdChvKXx8bHQocik/IW4mJmkgaW4gdHx8KHRbaV09dyhlW2ldKSk6UyhyLG8sbil9cmV0dXJuIHR9ZnVuY3Rpb24gTSh0LGUpe2Zvcih2YXIgbj10WzBdLGk9MSxyPXQubGVuZ3RoO2k8cjtpKyspbj1TKG4sdFtpXSxlKTtyZXR1cm4gbn1mdW5jdGlvbiBJKHQsZSl7aWYoT2JqZWN0LmFzc2lnbilPYmplY3QuYXNzaWduKHQsZSk7ZWxzZSBmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBUKHQsZSxuKXtmb3IodmFyIGk9RShlKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07KG4/bnVsbCE9ZVtvXTpudWxsPT10W29dKSYmKHRbb109ZVtvXSl9cmV0dXJuIHR9dmFyIEM9ZnVuY3Rpb24oKXtyZXR1cm4gdi5jcmVhdGVDYW52YXMoKX07ZnVuY3Rpb24gRCh0LGUpe2lmKHQpe2lmKHQuaW5kZXhPZilyZXR1cm4gdC5pbmRleE9mKGUpO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZih0W25dPT09ZSlyZXR1cm4gbn1yZXR1cm4tMX1mdW5jdGlvbiBBKHQsZSl7dmFyIG49dC5wcm90b3R5cGU7ZnVuY3Rpb24gaSgpe31mb3IodmFyIHIgaW4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksbiluLmhhc093blByb3BlcnR5KHIpJiYodC5wcm90b3R5cGVbcl09bltyXSk7dC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0LnN1cGVyQ2xhc3M9ZX1mdW5jdGlvbiBMKHQsZSxuKXtpZih0PSJwcm90b3R5cGUiaW4gdD90LnByb3RvdHlwZTp0LGU9InByb3RvdHlwZSJpbiBlP2UucHJvdG90eXBlOmUsT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpZm9yKHZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTsiY29uc3RydWN0b3IiIT09byYmKG4/bnVsbCE9ZVtvXTpudWxsPT10W29dKSYmKHRbb109ZVtvXSl9ZWxzZSBUKHQsZSxuKX1mdW5jdGlvbiBrKHQpe3JldHVybiEhdCYmKCJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aCl9ZnVuY3Rpb24gUCh0LGUsbil7aWYodCYmZSlpZih0LmZvckVhY2gmJnQuZm9yRWFjaD09PWMpdC5mb3JFYWNoKGUsbik7ZWxzZSBpZih0Lmxlbmd0aD09PSt0Lmxlbmd0aClmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspZS5jYWxsKG4sdFtpXSxpLHQpO2Vsc2UgZm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmZS5jYWxsKG4sdFtvXSxvLHQpfWZ1bmN0aW9uIE8odCxlLG4pe2lmKCF0KXJldHVybltdO2lmKCFlKXJldHVybiBudCh0KTtpZih0Lm1hcCYmdC5tYXA9PT1mKXJldHVybiB0Lm1hcChlLG4pO2Zvcih2YXIgaT1bXSxyPTAsbz10Lmxlbmd0aDtyPG87cisrKWkucHVzaChlLmNhbGwobix0W3JdLHIsdCkpO3JldHVybiBpfWZ1bmN0aW9uIFIodCxlLG4saSl7aWYodCYmZSl7Zm9yKHZhciByPTAsbz10Lmxlbmd0aDtyPG87cisrKW49ZS5jYWxsKGksbix0W3JdLHIsdCk7cmV0dXJuIG59fWZ1bmN0aW9uIE4odCxlLG4pe2lmKCF0KXJldHVybltdO2lmKCFlKXJldHVybiBudCh0KTtpZih0LmZpbHRlciYmdC5maWx0ZXI9PT1wKXJldHVybiB0LmZpbHRlcihlLG4pO2Zvcih2YXIgaT1bXSxyPTAsbz10Lmxlbmd0aDtyPG87cisrKWUuY2FsbChuLHRbcl0scix0KSYmaS5wdXNoKHRbcl0pO3JldHVybiBpfWZ1bmN0aW9uIHoodCxlLG4pe2lmKHQmJmUpZm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKGUuY2FsbChuLHRbaV0saSx0KSlyZXR1cm4gdFtpXX1mdW5jdGlvbiBFKHQpe2lmKCF0KXJldHVybltdO2lmKE9iamVjdC5rZXlzKXJldHVybiBPYmplY3Qua2V5cyh0KTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlLnB1c2gobik7cmV0dXJuIGV9di5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIil9O3ZhciBWPXkmJkcoeS5iaW5kKT95LmNhbGwuYmluZCh5LmJpbmQpOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0yXT1hcmd1bWVudHNbaV07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfX07ZnVuY3Rpb24gQih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGUuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIEYodCl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheSh0KToiW29iamVjdCBBcnJheV0iPT09dS5jYWxsKHQpfWZ1bmN0aW9uIEcodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9ZnVuY3Rpb24gSCh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHR9ZnVuY3Rpb24gVyh0KXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PXUuY2FsbCh0KX1mdW5jdGlvbiBVKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdH1mdW5jdGlvbiBYKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJmdW5jdGlvbiI9PT1lfHwhIXQmJiJvYmplY3QiPT09ZX1mdW5jdGlvbiBZKHQpe3JldHVybiEhc1t1LmNhbGwodCldfWZ1bmN0aW9uIFoodCl7cmV0dXJuISFsW3UuY2FsbCh0KV19ZnVuY3Rpb24gaih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5ub2RlVHlwZSYmIm9iamVjdCI9PXR5cGVvZiB0Lm93bmVyRG9jdW1lbnR9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gbnVsbCE9dC5jb2xvclN0b3BzfWZ1bmN0aW9uIEsodCl7cmV0dXJuIG51bGwhPXQuaW1hZ2V9ZnVuY3Rpb24gJCh0KXtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PXUuY2FsbCh0KX1mdW5jdGlvbiBKKHQpe3JldHVybiB0IT10fWZ1bmN0aW9uIFEoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKG51bGwhPXRbbl0pcmV0dXJuIHRbbl19ZnVuY3Rpb24gdHQodCxlKXtyZXR1cm4gbnVsbCE9dD90OmV9ZnVuY3Rpb24gZXQodCxlLG4pe3JldHVybiBudWxsIT10P3Q6bnVsbCE9ZT9lOm59ZnVuY3Rpb24gbnQodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGQuYXBwbHkodCxlKX1mdW5jdGlvbiBpdCh0KXtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW3QsdCx0LHRdO3ZhciBlPXQubGVuZ3RoO3JldHVybiAyPT09ZT9bdFswXSx0WzFdLHRbMF0sdFsxXV06Mz09PWU/W3RbMF0sdFsxXSx0WzJdLHRbMV1dOnR9ZnVuY3Rpb24gcnQodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZSl9ZnVuY3Rpb24gb3QodCl7cmV0dXJuIG51bGw9PXQ/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csIiIpfXZhciBhdD0iX19lY19wcmltaXRpdmVfXyI7ZnVuY3Rpb24gc3QodCl7dFthdF09ITB9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIHRbYXRdfXZhciB1dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5kYXRhPXt9O3ZhciBuPUYoZSk7dGhpcy5kYXRhPXt9O3ZhciBpPXRoaXM7ZnVuY3Rpb24gcih0LGUpe24/aS5zZXQodCxlKTppLnNldChlLHQpfWUgaW5zdGFuY2VvZiB0P2UuZWFjaChyKTplJiZQKGUscil9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmhhc093blByb3BlcnR5KHQpP3RoaXMuZGF0YVt0XTpudWxsfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhW3RdPWV9LHQucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdGhpcy5kYXRhKXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5jYWxsKGUsdGhpcy5kYXRhW25dLG4pfSx0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIEUodGhpcy5kYXRhKX0sdC5wcm90b3R5cGUucmVtb3ZlS2V5PWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmRhdGFbdF19LHR9KCk7ZnVuY3Rpb24gaHQodCl7cmV0dXJuIG5ldyB1dCh0KX1mdW5jdGlvbiBjdCh0LGUpe2Zvcih2YXIgbj1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlLmxlbmd0aCksaT0wO2k8dC5sZW5ndGg7aSsrKW5baV09dFtpXTt2YXIgcj10Lmxlbmd0aDtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKW5baStyXT1lW2ldO3JldHVybiBufWZ1bmN0aW9uIHB0KHQsZSl7dmFyIG47aWYoT2JqZWN0LmNyZWF0ZSluPU9iamVjdC5jcmVhdGUodCk7ZWxzZXt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dCxuPW5ldyBpfXJldHVybiBlJiZJKG4sZSksbn1mdW5jdGlvbiBkdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGZ0KCl7fXZhciBndD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCwkb3ZlcnJpZGU6bSxndWlkOngsbG9nRXJyb3I6YixjbG9uZTp3LG1lcmdlOlMsbWVyZ2VBbGw6TSxleHRlbmQ6SSxkZWZhdWx0czpULGNyZWF0ZUNhbnZhczpDLGluZGV4T2Y6RCxpbmhlcml0czpBLG1peGluOkwsaXNBcnJheUxpa2U6ayxlYWNoOlAsbWFwOk8scmVkdWNlOlIsZmlsdGVyOk4sZmluZDp6LGtleXM6RSxiaW5kOlYsY3Vycnk6Qixpc0FycmF5OkYsaXNGdW5jdGlvbjpHLGlzU3RyaW5nOkgsaXNTdHJpbmdTYWZlOlcsaXNOdW1iZXI6VSxpc09iamVjdDpYLGlzQnVpbHRJbk9iamVjdDpZLGlzVHlwZWRBcnJheTpaLGlzRG9tOmosaXNHcmFkaWVudE9iamVjdDpxLGlzSW1hZ2VQYXR0ZXJuT2JqZWN0OkssaXNSZWdFeHA6JCxlcU5hTjpKLHJldHJpZXZlOlEscmV0cmlldmUyOnR0LHJldHJpZXZlMzpldCxzbGljZTpudCxub3JtYWxpemVDc3NBcnJheTppdCxhc3NlcnQ6cnQsdHJpbTpvdCxzZXRBc1ByaW1pdGl2ZTpzdCxpc1ByaW1pdGl2ZTpsdCxIYXNoTWFwOnV0LGNyZWF0ZUhhc2hNYXA6aHQsY29uY2F0QXJyYXk6Y3QsY3JlYXRlT2JqZWN0OnB0LGhhc093bjpkdCxub29wOmZ0fSk7ZnVuY3Rpb24geXQodCxlKXtyZXR1cm4gbnVsbD09dCYmKHQ9MCksbnVsbD09ZSYmKGU9MCksW3QsZV19ZnVuY3Rpb24gdnQodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fWZ1bmN0aW9uIG10KHQpe3JldHVyblt0WzBdLHRbMV1dfWZ1bmN0aW9uIF90KHQsZSxuKXtyZXR1cm4gdFswXT1lLHRbMV09bix0fWZ1bmN0aW9uIHh0KHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdK25bMF0sdFsxXT1lWzFdK25bMV0sdH1mdW5jdGlvbiBidCh0LGUsbixpKXtyZXR1cm4gdFswXT1lWzBdK25bMF0qaSx0WzFdPWVbMV0rblsxXSppLHR9ZnVuY3Rpb24gd3QodCxlLG4pe3JldHVybiB0WzBdPWVbMF0tblswXSx0WzFdPWVbMV0tblsxXSx0fWZ1bmN0aW9uIFN0KHQpe3JldHVybiBNYXRoLnNxcnQoSXQodCkpfXZhciBNdD1TdDtmdW5jdGlvbiBJdCh0KXtyZXR1cm4gdFswXSp0WzBdK3RbMV0qdFsxXX12YXIgVHQ9SXQ7ZnVuY3Rpb24gQ3QodCxlLG4pe3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbix0fWZ1bmN0aW9uIER0KHQsZSl7dmFyIG49U3QoZSk7cmV0dXJuIDA9PT1uPyh0WzBdPTAsdFsxXT0wKToodFswXT1lWzBdL24sdFsxXT1lWzFdL24pLHR9ZnVuY3Rpb24gQXQodCxlKXtyZXR1cm4gTWF0aC5zcXJ0KCh0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pKX12YXIgTHQ9QXQ7ZnVuY3Rpb24ga3QodCxlKXtyZXR1cm4odFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKX12YXIgUHQ9a3Q7ZnVuY3Rpb24gT3QodCxlLG4saSl7cmV0dXJuIHRbMF09ZVswXStpKihuWzBdLWVbMF0pLHRbMV09ZVsxXStpKihuWzFdLWVbMV0pLHR9ZnVuY3Rpb24gUnQodCxlLG4pe3ZhciBpPWVbMF0scj1lWzFdO3JldHVybiB0WzBdPW5bMF0qaStuWzJdKnIrbls0XSx0WzFdPW5bMV0qaStuWzNdKnIrbls1XSx0fWZ1bmN0aW9uIE50KHQsZSxuKXtyZXR1cm4gdFswXT1NYXRoLm1pbihlWzBdLG5bMF0pLHRbMV09TWF0aC5taW4oZVsxXSxuWzFdKSx0fWZ1bmN0aW9uIHp0KHQsZSxuKXtyZXR1cm4gdFswXT1NYXRoLm1heChlWzBdLG5bMF0pLHRbMV09TWF0aC5tYXgoZVsxXSxuWzFdKSx0fXZhciBFdD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjcmVhdGU6eXQsY29weTp2dCxjbG9uZTptdCxzZXQ6X3QsYWRkOnh0LHNjYWxlQW5kQWRkOmJ0LHN1Yjp3dCxsZW46U3QsbGVuZ3RoOk10LGxlblNxdWFyZTpJdCxsZW5ndGhTcXVhcmU6VHQsbXVsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdKm5bMF0sdFsxXT1lWzFdKm5bMV0sdH0sZGl2OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdL25bMF0sdFsxXT1lWzFdL25bMV0sdH0sZG90OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV19LHNjYWxlOkN0LG5vcm1hbGl6ZTpEdCxkaXN0YW5jZTpBdCxkaXN0Okx0LGRpc3RhbmNlU3F1YXJlOmt0LGRpc3RTcXVhcmU6UHQsbmVnYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09LWVbMF0sdFsxXT0tZVsxXSx0fSxsZXJwOk90LGFwcGx5VHJhbnNmb3JtOlJ0LG1pbjpOdCxtYXg6enR9KSxWdD1mdW5jdGlvbih0LGUpe3RoaXMudGFyZ2V0PXQsdGhpcy50b3BUYXJnZXQ9ZSYmZS50b3BUYXJnZXR9LEJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmhhbmRsZXI9dCx0Lm9uKCJtb3VzZWRvd24iLHRoaXMuX2RyYWdTdGFydCx0aGlzKSx0Lm9uKCJtb3VzZW1vdmUiLHRoaXMuX2RyYWcsdGhpcyksdC5vbigibW91c2V1cCIsdGhpcy5fZHJhZ0VuZCx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUuX2RyYWdTdGFydD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC50YXJnZXQ7ZSYmIWUuZHJhZ2dhYmxlOyllPWUucGFyZW50O2UmJih0aGlzLl9kcmFnZ2luZ1RhcmdldD1lLGUuZHJhZ2dpbmc9ITAsdGhpcy5feD10Lm9mZnNldFgsdGhpcy5feT10Lm9mZnNldFksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBWdChlLHQpLCJkcmFnc3RhcnQiLHQuZXZlbnQpKX0sdC5wcm90b3R5cGUuX2RyYWc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7aWYoZSl7dmFyIG49dC5vZmZzZXRYLGk9dC5vZmZzZXRZLHI9bi10aGlzLl94LG89aS10aGlzLl95O3RoaXMuX3g9bix0aGlzLl95PWksZS5kcmlmdChyLG8sdCksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBWdChlLHQpLCJkcmFnIix0LmV2ZW50KTt2YXIgYT10aGlzLmhhbmRsZXIuZmluZEhvdmVyKG4saSxlKS50YXJnZXQscz10aGlzLl9kcm9wVGFyZ2V0O3RoaXMuX2Ryb3BUYXJnZXQ9YSxlIT09YSYmKHMmJmEhPT1zJiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IFZ0KHMsdCksImRyYWdsZWF2ZSIsdC5ldmVudCksYSYmYSE9PXMmJnRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgVnQoYSx0KSwiZHJhZ2VudGVyIix0LmV2ZW50KSl9fSx0LnByb3RvdHlwZS5fZHJhZ0VuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kcmFnZ2luZ1RhcmdldDtlJiYoZS5kcmFnZ2luZz0hMSksdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBWdChlLHQpLCJkcmFnZW5kIix0LmV2ZW50KSx0aGlzLl9kcm9wVGFyZ2V0JiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IFZ0KHRoaXMuX2Ryb3BUYXJnZXQsdCksImRyb3AiLHQuZXZlbnQpLHRoaXMuX2RyYWdnaW5nVGFyZ2V0PW51bGwsdGhpcy5fZHJvcFRhcmdldD1udWxsfSx0fSgpLEZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0JiYodGhpcy5fJGV2ZW50UHJvY2Vzc29yPXQpfXJldHVybiB0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl8kaGFuZGxlcnN8fCh0aGlzLl8kaGFuZGxlcnM9e30pO3ZhciByPXRoaXMuXyRoYW5kbGVycztpZigiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGk9bixuPWUsZT1udWxsKSwhbnx8IXQpcmV0dXJuIHRoaXM7dmFyIG89dGhpcy5fJGV2ZW50UHJvY2Vzc29yO251bGwhPWUmJm8mJm8ubm9ybWFsaXplUXVlcnkmJihlPW8ubm9ybWFsaXplUXVlcnkoZSkpLHJbdF18fChyW3RdPVtdKTtmb3IodmFyIGE9MDthPHJbdF0ubGVuZ3RoO2ErKylpZihyW3RdW2FdLmg9PT1uKXJldHVybiB0aGlzO3ZhciBzPXtoOm4scXVlcnk6ZSxjdHg6aXx8dGhpcyxjYWxsQXRMYXN0Om4uenJFdmVudGZ1bENhbGxBdExhc3R9LGw9clt0XS5sZW5ndGgtMSx1PXJbdF1bbF07cmV0dXJuIHUmJnUuY2FsbEF0TGFzdD9yW3RdLnNwbGljZShsLDAscyk6clt0XS5wdXNoKHMpLHRoaXN9LHQucHJvdG90eXBlLmlzU2lsZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuXyRoYW5kbGVycztyZXR1cm4hZXx8IWVbdF18fCFlW3RdLmxlbmd0aH0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fJGhhbmRsZXJzO2lmKCFuKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiB0aGlzLl8kaGFuZGxlcnM9e30sdGhpcztpZihlKXtpZihuW3RdKXtmb3IodmFyIGk9W10scj0wLG89blt0XS5sZW5ndGg7cjxvO3IrKyluW3RdW3JdLmghPT1lJiZpLnB1c2goblt0XVtyXSk7blt0XT1pfW5bdF0mJjA9PT1uW3RdLmxlbmd0aCYmZGVsZXRlIG5bdF19ZWxzZSBkZWxldGUgblt0XTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtpZighdGhpcy5fJGhhbmRsZXJzKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuXyRoYW5kbGVyc1t0XSxyPXRoaXMuXyRldmVudFByb2Nlc3NvcjtpZihpKWZvcih2YXIgbz1lLmxlbmd0aCxhPWkubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1pW3NdO2lmKCFyfHwhci5maWx0ZXJ8fG51bGw9PWwucXVlcnl8fHIuZmlsdGVyKHQsbC5xdWVyeSkpc3dpdGNoKG8pe2Nhc2UgMDpsLmguY2FsbChsLmN0eCk7YnJlYWs7Y2FzZSAxOmwuaC5jYWxsKGwuY3R4LGVbMF0pO2JyZWFrO2Nhc2UgMjpsLmguY2FsbChsLmN0eCxlWzBdLGVbMV0pO2JyZWFrO2RlZmF1bHQ6bC5oLmFwcGx5KGwuY3R4LGUpfX1yZXR1cm4gciYmci5hZnRlclRyaWdnZXImJnIuYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9LHQucHJvdG90eXBlLnRyaWdnZXJXaXRoQ29udGV4dD1mdW5jdGlvbih0KXtpZighdGhpcy5fJGhhbmRsZXJzKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuXyRoYW5kbGVyc1t0XSxuPXRoaXMuXyRldmVudFByb2Nlc3NvcjtpZihlKWZvcih2YXIgaT1hcmd1bWVudHMscj1pLmxlbmd0aCxvPWlbci0xXSxhPWUubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1lW3NdO2lmKCFufHwhbi5maWx0ZXJ8fG51bGw9PWwucXVlcnl8fG4uZmlsdGVyKHQsbC5xdWVyeSkpc3dpdGNoKHIpe2Nhc2UgMDpsLmguY2FsbChvKTticmVhaztjYXNlIDE6bC5oLmNhbGwobyxpWzBdKTticmVhaztjYXNlIDI6bC5oLmNhbGwobyxpWzBdLGlbMV0pO2JyZWFrO2RlZmF1bHQ6bC5oLmFwcGx5KG8saS5zbGljZSgxLHItMSkpfX1yZXR1cm4gbiYmbi5hZnRlclRyaWdnZXImJm4uYWZ0ZXJUcmlnZ2VyKHQpLHRoaXN9LHR9KCksR3Q9TWF0aC5sb2coMik7ZnVuY3Rpb24gSHQodCxlLG4saSxyLG8pe3ZhciBhPWkrIi0iK3Iscz10Lmxlbmd0aDtpZihvLmhhc093blByb3BlcnR5KGEpKXJldHVybiBvW2FdO2lmKDE9PT1lKXt2YXIgbD1NYXRoLnJvdW5kKE1hdGgubG9nKCgxPDxzKS0xJn5yKS9HdCk7cmV0dXJuIHRbbl1bbF19Zm9yKHZhciB1PWl8MTw8bixoPW4rMTtpJjE8PGg7KWgrKztmb3IodmFyIGM9MCxwPTAsZD0wO3A8cztwKyspe3ZhciBmPTE8PHA7ZiZyfHwoYys9KGQlMj8tMToxKSp0W25dW3BdKkh0KHQsZS0xLGgsdSxyfGYsbyksZCsrKX1yZXR1cm4gb1thXT1jLGN9ZnVuY3Rpb24gV3QodCxlKXt2YXIgbj1bW3RbMF0sdFsxXSwxLDAsMCwwLC1lWzBdKnRbMF0sLWVbMF0qdFsxXV0sWzAsMCwwLHRbMF0sdFsxXSwxLC1lWzFdKnRbMF0sLWVbMV0qdFsxXV0sW3RbMl0sdFszXSwxLDAsMCwwLC1lWzJdKnRbMl0sLWVbMl0qdFszXV0sWzAsMCwwLHRbMl0sdFszXSwxLC1lWzNdKnRbMl0sLWVbM10qdFszXV0sW3RbNF0sdFs1XSwxLDAsMCwwLC1lWzRdKnRbNF0sLWVbNF0qdFs1XV0sWzAsMCwwLHRbNF0sdFs1XSwxLC1lWzVdKnRbNF0sLWVbNV0qdFs1XV0sW3RbNl0sdFs3XSwxLDAsMCwwLC1lWzZdKnRbNl0sLWVbNl0qdFs3XV0sWzAsMCwwLHRbNl0sdFs3XSwxLC1lWzddKnRbNl0sLWVbN10qdFs3XV1dLGk9e30scj1IdChuLDgsMCwwLDAsaSk7aWYoMCE9PXIpe2Zvcih2YXIgbz1bXSxhPTA7YTw4O2ErKylmb3IodmFyIHM9MDtzPDg7cysrKW51bGw9PW9bc10mJihvW3NdPTApLG9bc10rPSgoYStzKSUyPy0xOjEpKkh0KG4sNywwPT09YT8xOjAsMTw8YSwxPDxzLGkpL3IqZVthXTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUqb1s2XStuKm9bN10rMTt0WzBdPShlKm9bMF0rbipvWzFdK29bMl0pL2ksdFsxXT0oZSpvWzNdK24qb1s0XStvWzVdKS9pfX19dmFyIFV0PVtdO2Z1bmN0aW9uIFh0KHQsZSxuLGkscil7aWYoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJmEuZG9tU3VwcG9ydGVkJiYhWXQoZSkpe3ZhciBvPWUuX19fenJFVkVOVFNBVkVEfHwoZS5fX196ckVWRU5UU0FWRUQ9e30pLHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1uPyJpbnZUcmFucyI6InRyYW5zIixyPWVbaV0sbz1lLnNyY0Nvb3JkcyxhPVtdLHM9W10sbD0hMCx1PTA7dTw0O3UrKyl7dmFyIGg9dFt1XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPTIqdSxwPWgubGVmdCxkPWgudG9wO2EucHVzaChwLGQpLGw9bCYmbyYmcD09PW9bY10mJmQ9PT1vW2MrMV0scy5wdXNoKHRbdV0ub2Zmc2V0TGVmdCx0W3VdLm9mZnNldFRvcCl9cmV0dXJuIGwmJnI/cjooZS5zcmNDb29yZHM9YSxlW2ldPW4/V3QocyxhKTpXdChhLHMpKX0oZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hcmtlcnM7aWYobilyZXR1cm4gbjtuPWUubWFya2Vycz1bXTtmb3IodmFyIGk9WyJsZWZ0IiwicmlnaHQiXSxyPVsidG9wIiwiYm90dG9tIl0sbz0wO288NDtvKyspe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHM9byUyLGw9KG8+PjEpJTI7YS5zdHlsZS5jc3NUZXh0PVsicG9zaXRpb246IGFic29sdXRlIiwidmlzaWJpbGl0eTogaGlkZGVuIiwicGFkZGluZzogMCIsIm1hcmdpbjogMCIsImJvcmRlci13aWR0aDogMCIsInVzZXItc2VsZWN0OiBub25lIiwid2lkdGg6MCIsImhlaWdodDowIixpW3NdKyI6MCIscltsXSsiOjAiLGlbMS1zXSsiOmF1dG8iLHJbMS1sXSsiOmF1dG8iLCIiXS5qb2luKCIhaW1wb3J0YW50OyIpLHQuYXBwZW5kQ2hpbGQoYSksbi5wdXNoKGEpfXJldHVybiBufShlLG8pLG8scik7aWYocylyZXR1cm4gcyh0LG4saSksITB9cmV0dXJuITF9ZnVuY3Rpb24gWXQodCl7cmV0dXJuIkNBTlZBUyI9PT10Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl9dmFyIFp0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLGp0PS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxxdD1bXTtmdW5jdGlvbiBLdCh0LGUsbixpKXtyZXR1cm4gbj1ufHx7fSxpfHwhYS5jYW52YXNTdXBwb3J0ZWQ/JHQodCxlLG4pOmEuYnJvd3Nlci5maXJlZm94JiZudWxsIT1lLmxheWVyWCYmZS5sYXllclghPT1lLm9mZnNldFg/KG4uenJYPWUubGF5ZXJYLG4uenJZPWUubGF5ZXJZKTpudWxsIT1lLm9mZnNldFg/KG4uenJYPWUub2Zmc2V0WCxuLnpyWT1lLm9mZnNldFkpOiR0KHQsZSxuKSxufWZ1bmN0aW9uICR0KHQsZSxuKXtpZihhLmRvbVN1cHBvcnRlZCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPWUuY2xpZW50WCxyPWUuY2xpZW50WTtpZihZdCh0KSl7dmFyIG89dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gbi56clg9aS1vLmxlZnQsdm9pZChuLnpyWT1yLW8udG9wKX1pZihYdChxdCx0LGkscikpcmV0dXJuIG4uenJYPXF0WzBdLHZvaWQobi56clk9cXRbMV0pfW4uenJYPW4uenJZPTB9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIHR8fHdpbmRvdy5ldmVudH1mdW5jdGlvbiBRdCh0LGUsbil7aWYobnVsbCE9KGU9SnQoZSkpLnpyWClyZXR1cm4gZTt2YXIgaT1lLnR5cGU7aWYoaSYmaS5pbmRleE9mKCJ0b3VjaCIpPj0wKXt2YXIgcj0idG91Y2hlbmQiIT09aT9lLnRhcmdldFRvdWNoZXNbMF06ZS5jaGFuZ2VkVG91Y2hlc1swXTtyJiZLdCh0LHIsZSxuKX1lbHNle0t0KHQsZSxlLG4pO3ZhciBvPWZ1bmN0aW9uKHQpe3ZhciBlPXQud2hlZWxEZWx0YTtpZihlKXJldHVybiBlO3ZhciBuPXQuZGVsdGFYLGk9dC5kZWx0YVk7aWYobnVsbD09bnx8bnVsbD09aSlyZXR1cm4gZTtyZXR1cm4gMyooMCE9PWk/TWF0aC5hYnMoaSk6TWF0aC5hYnMobikpKihpPjA/LTE6aTwwPzE6bj4wPy0xOjEpfShlKTtlLnpyRGVsdGE9bz9vLzEyMDotKGUuZGV0YWlsfHwwKS8zfXZhciBhPWUuYnV0dG9uO3JldHVybiBudWxsPT1lLndoaWNoJiZ2b2lkIDAhPT1hJiZqdC50ZXN0KGUudHlwZSkmJihlLndoaWNoPTEmYT8xOjImYT8zOjQmYT8yOjApLGV9ZnVuY3Rpb24gdGUodCxlLG4saSl7WnQ/dC5hZGRFdmVudExpc3RlbmVyKGUsbixpKTp0LmF0dGFjaEV2ZW50KCJvbiIrZSxuKX12YXIgZWU9WnQ/ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdC5jYW5jZWxCdWJibGU9ITB9OmZ1bmN0aW9uKHQpe3QucmV0dXJuVmFsdWU9ITEsdC5jYW5jZWxCdWJibGU9ITB9O2Z1bmN0aW9uIG5lKHQpe3JldHVybiAyPT09dC53aGljaHx8Mz09PXQud2hpY2h9dmFyIGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3RyYWNrPVtdfXJldHVybiB0LnByb3RvdHlwZS5yZWNvZ25pemU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9kb1RyYWNrKHQsZSxuKSx0aGlzLl9yZWNvZ25pemUodCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrLmxlbmd0aD0wLHRoaXN9LHQucHJvdG90eXBlLl9kb1RyYWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LnRvdWNoZXM7aWYoaSl7Zm9yKHZhciByPXtwb2ludHM6W10sdG91Y2hlczpbXSx0YXJnZXQ6ZSxldmVudDp0fSxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKXt2YXIgcz1pW29dLGw9S3QobixzLHt9KTtyLnBvaW50cy5wdXNoKFtsLnpyWCxsLnpyWV0pLHIudG91Y2hlcy5wdXNoKHMpfXRoaXMuX3RyYWNrLnB1c2gocil9fSx0LnByb3RvdHlwZS5fcmVjb2duaXplPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBvZSlpZihvZS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49b2VbZV0odGhpcy5fdHJhY2ssdCk7aWYobilyZXR1cm4gbn19LHR9KCk7ZnVuY3Rpb24gcmUodCl7dmFyIGU9dFsxXVswXS10WzBdWzBdLG49dFsxXVsxXS10WzBdWzFdO3JldHVybiBNYXRoLnNxcnQoZSplK24qbil9dmFyIG9lPXtwaW5jaDpmdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoO2lmKG4pe3ZhciBpLHI9KHRbbi0xXXx8e30pLnBvaW50cyxvPSh0W24tMl18fHt9KS5wb2ludHN8fHI7aWYobyYmby5sZW5ndGg+MSYmciYmci5sZW5ndGg+MSl7dmFyIGE9cmUocikvcmUobyk7IWlzRmluaXRlKGEpJiYoYT0xKSxlLnBpbmNoU2NhbGU9YTt2YXIgcz1bKChpPXIpWzBdWzBdK2lbMV1bMF0pLzIsKGlbMF1bMV0raVsxXVsxXSkvMl07cmV0dXJuIGUucGluY2hYPXNbMF0sZS5waW5jaFk9c1sxXSx7dHlwZToicGluY2giLHRhcmdldDp0WzBdLnRhcmdldCxldmVudDplfX19fX0sYWU9InNpbGVudCI7ZnVuY3Rpb24gc2UoKXtlZSh0aGlzLmV2ZW50KX12YXIgbGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5oYW5kbGVyPW51bGwsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbigpe30sZX0oRnQpLHVlPWZ1bmN0aW9uKHQsZSl7dGhpcy54PXQsdGhpcy55PWV9LGhlPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNld2hlZWwiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLGNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLl9ob3ZlcmVkPW5ldyB1ZSgwLDApLG8uc3RvcmFnZT1lLG8ucGFpbnRlcj1uLG8ucGFpbnRlclJvb3Q9cixpPWl8fG5ldyBsZSxvLnByb3h5PW51bGwsby5zZXRIYW5kbGVyUHJveHkoaSksby5fZHJhZ2dpbmdNZ3I9bmV3IEJ0KG8pLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zZXRIYW5kbGVyUHJveHk9ZnVuY3Rpb24odCl7dGhpcy5wcm94eSYmdGhpcy5wcm94eS5kaXNwb3NlKCksdCYmKFAoaGUsKGZ1bmN0aW9uKGUpe3Qub24mJnQub24oZSx0aGlzW2VdLHRoaXMpfSksdGhpcyksdC5oYW5kbGVyPXRoaXMpLHRoaXMucHJveHk9dH0sZS5wcm90b3R5cGUubW91c2Vtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuenJYLG49dC56clksaT1kZSh0aGlzLGUsbikscj10aGlzLl9ob3ZlcmVkLG89ci50YXJnZXQ7byYmIW8uX196ciYmKG89KHI9dGhpcy5maW5kSG92ZXIoci54LHIueSkpLnRhcmdldCk7dmFyIGE9dGhpcy5faG92ZXJlZD1pP25ldyB1ZShlLG4pOnRoaXMuZmluZEhvdmVyKGUsbikscz1hLnRhcmdldCxsPXRoaXMucHJveHk7bC5zZXRDdXJzb3ImJmwuc2V0Q3Vyc29yKHM/cy5jdXJzb3I6ImRlZmF1bHQiKSxvJiZzIT09byYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChyLCJtb3VzZW91dCIsdCksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChhLCJtb3VzZW1vdmUiLHQpLHMmJnMhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGEsIm1vdXNlb3ZlciIsdCl9LGUucHJvdG90eXBlLm1vdXNlb3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuenJFdmVudENvbnRyb2w7Im9ubHlfZ2xvYmFsb3V0IiE9PWUmJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQodGhpcy5faG92ZXJlZCwibW91c2VvdXQiLHQpLCJub19nbG9iYWxvdXQiIT09ZSYmdGhpcy50cmlnZ2VyKCJnbG9iYWxvdXQiLHt0eXBlOiJnbG9iYWxvdXQiLGV2ZW50OnR9KX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5faG92ZXJlZD1uZXcgdWUoMCwwKX0sZS5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzW3RdO24mJm4uY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5wcm94eS5kaXNwb3NlKCksdGhpcy5zdG9yYWdlPW51bGwsdGhpcy5wcm94eT1udWxsLHRoaXMucGFpbnRlcj1udWxsfSxlLnByb3RvdHlwZS5zZXRDdXJzb3JTdHlsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3h5O2Uuc2V0Q3Vyc29yJiZlLnNldEN1cnNvcih0KX0sZS5wcm90b3R5cGUuZGlzcGF0Y2hUb0VsZW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSh0PXR8fHt9KS50YXJnZXQ7aWYoIWl8fCFpLnNpbGVudCl7Zm9yKHZhciByPSJvbiIrZSxvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57dHlwZTp0LGV2ZW50Om4sdGFyZ2V0OmUudGFyZ2V0LHRvcFRhcmdldDplLnRvcFRhcmdldCxjYW5jZWxCdWJibGU6ITEsb2Zmc2V0WDpuLnpyWCxvZmZzZXRZOm4uenJZLGdlc3R1cmVFdmVudDpuLmdlc3R1cmVFdmVudCxwaW5jaFg6bi5waW5jaFgscGluY2hZOm4ucGluY2hZLHBpbmNoU2NhbGU6bi5waW5jaFNjYWxlLHdoZWVsRGVsdGE6bi56ckRlbHRhLHpyQnlUb3VjaDpuLnpyQnlUb3VjaCx3aGljaDpuLndoaWNoLHN0b3A6c2V9fShlLHQsbik7aSYmKGlbcl0mJihvLmNhbmNlbEJ1YmJsZT0hIWlbcl0uY2FsbChpLG8pKSxpLnRyaWdnZXIoZSxvKSxpPWkuX19ob3N0VGFyZ2V0P2kuX19ob3N0VGFyZ2V0OmkucGFyZW50LCFvLmNhbmNlbEJ1YmJsZSk7KTtvLmNhbmNlbEJ1YmJsZXx8KHRoaXMudHJpZ2dlcihlLG8pLHRoaXMucGFpbnRlciYmdGhpcy5wYWludGVyLmVhY2hPdGhlckxheWVyJiZ0aGlzLnBhaW50ZXIuZWFjaE90aGVyTGF5ZXIoKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0W3JdJiZ0W3JdLmNhbGwodCxvKSx0LnRyaWdnZXImJnQudHJpZ2dlcihlLG8pfSkpKX19LGUucHJvdG90eXBlLmZpbmRIb3Zlcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLHI9bmV3IHVlKHQsZSksbz1pLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT12b2lkIDA7aWYoaVtvXSE9PW4mJiFpW29dLmlnbm9yZSYmKGE9cGUoaVtvXSx0LGUpKSYmKCFyLnRvcFRhcmdldCYmKHIudG9wVGFyZ2V0PWlbb10pLGEhPT1hZSkpe3IudGFyZ2V0PWlbb107YnJlYWt9fXJldHVybiByfSxlLnByb3RvdHlwZS5wcm9jZXNzR2VzdHVyZT1mdW5jdGlvbih0LGUpe3RoaXMuX2dlc3R1cmVNZ3J8fCh0aGlzLl9nZXN0dXJlTWdyPW5ldyBpZSk7dmFyIG49dGhpcy5fZ2VzdHVyZU1ncjsic3RhcnQiPT09ZSYmbi5jbGVhcigpO3ZhciBpPW4ucmVjb2duaXplKHQsdGhpcy5maW5kSG92ZXIodC56clgsdC56clksbnVsbCkudGFyZ2V0LHRoaXMucHJveHkuZG9tKTtpZigiZW5kIj09PWUmJm4uY2xlYXIoKSxpKXt2YXIgcj1pLnR5cGU7dC5nZXN0dXJlRXZlbnQ9cjt2YXIgbz1uZXcgdWU7by50YXJnZXQ9aS50YXJnZXQsdGhpcy5kaXNwYXRjaFRvRWxlbWVudChvLHIsaS5ldmVudCl9fSxlfShGdCk7ZnVuY3Rpb24gcGUodCxlLG4pe2lmKHRbdC5yZWN0SG92ZXI/InJlY3RDb250YWluIjoiY29udGFpbiJdKGUsbikpe2Zvcih2YXIgaT10LHI9dm9pZCAwLG89ITE7aTspe2lmKGkuaWdub3JlQ2xpcCYmKG89ITApLCFvKXt2YXIgYT1pLmdldENsaXBQYXRoKCk7aWYoYSYmIWEuY29udGFpbihlLG4pKXJldHVybiExO2kuc2lsZW50JiYocj0hMCl9dmFyIHM9aS5fX2hvc3RUYXJnZXQ7aT1zfHxpLnBhcmVudH1yZXR1cm4hcnx8YWV9cmV0dXJuITF9ZnVuY3Rpb24gZGUodCxlLG4pe3ZhciBpPXQucGFpbnRlcjtyZXR1cm4gZTwwfHxlPmkuZ2V0V2lkdGgoKXx8bjwwfHxuPmkuZ2V0SGVpZ2h0KCl9UChbImNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJkYmxjbGljayIsImNvbnRleHRtZW51Il0sKGZ1bmN0aW9uKHQpe2NlLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlKXt2YXIgbixpLHI9ZS56clgsbz1lLnpyWSxhPWRlKHRoaXMscixvKTtpZigibW91c2V1cCI9PT10JiZhfHwoaT0obj10aGlzLmZpbmRIb3ZlcihyLG8pKS50YXJnZXQpLCJtb3VzZWRvd24iPT09dCl0aGlzLl9kb3duRWw9aSx0aGlzLl9kb3duUG9pbnQ9W2UuenJYLGUuenJZXSx0aGlzLl91cEVsPWk7ZWxzZSBpZigibW91c2V1cCI9PT10KXRoaXMuX3VwRWw9aTtlbHNlIGlmKCJjbGljayI9PT10KXtpZih0aGlzLl9kb3duRWwhPT10aGlzLl91cEVsfHwhdGhpcy5fZG93blBvaW50fHxMdCh0aGlzLl9kb3duUG9pbnQsW2UuenJYLGUuenJZXSk+NClyZXR1cm47dGhpcy5fZG93blBvaW50PW51bGx9dGhpcy5kaXNwYXRjaFRvRWxlbWVudChuLHQsZSl9fSkpO2Z1bmN0aW9uIGZlKHQsZSxuLGkpe3ZhciByPWUrMTtpZihyPT09bilyZXR1cm4gMTtpZihpKHRbcisrXSx0W2VdKTwwKXtmb3IoO3I8biYmaSh0W3JdLHRbci0xXSk8MDspcisrOyFmdW5jdGlvbih0LGUsbil7bi0tO2Zvcig7ZTxuOyl7dmFyIGk9dFtlXTt0W2UrK109dFtuXSx0W24tLV09aX19KHQsZSxyKX1lbHNlIGZvcig7cjxuJiZpKHRbcl0sdFtyLTFdKT49MDspcisrO3JldHVybiByLWV9ZnVuY3Rpb24gZ2UodCxlLG4saSxyKXtmb3IoaT09PWUmJmkrKztpPG47aSsrKXtmb3IodmFyIG8sYT10W2ldLHM9ZSxsPWk7czxsOylyKGEsdFtvPXMrbD4+PjFdKTwwP2w9bzpzPW8rMTt2YXIgdT1pLXM7c3dpdGNoKHUpe2Nhc2UgMzp0W3MrM109dFtzKzJdO2Nhc2UgMjp0W3MrMl09dFtzKzFdO2Nhc2UgMTp0W3MrMV09dFtzXTticmVhaztkZWZhdWx0OmZvcig7dT4wOyl0W3MrdV09dFtzK3UtMV0sdS0tfXRbc109YX19ZnVuY3Rpb24geWUodCxlLG4saSxyLG8pe3ZhciBhPTAscz0wLGw9MTtpZihvKHQsZVtuK3JdKT4wKXtmb3Iocz1pLXI7bDxzJiZvKHQsZVtuK3IrbF0pPjA7KWE9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyksYSs9cixsKz1yfWVsc2V7Zm9yKHM9cisxO2w8cyYmbyh0LGVbbityLWxdKTw9MDspYT1sLChsPTErKGw8PDEpKTw9MCYmKGw9cyk7bD5zJiYobD1zKTt2YXIgdT1hO2E9ci1sLGw9ci11fWZvcihhKys7YTxsOyl7dmFyIGg9YSsobC1hPj4+MSk7byh0LGVbbitoXSk+MD9hPWgrMTpsPWh9cmV0dXJuIGx9ZnVuY3Rpb24gdmUodCxlLG4saSxyLG8pe3ZhciBhPTAscz0wLGw9MTtpZihvKHQsZVtuK3JdKTwwKXtmb3Iocz1yKzE7bDxzJiZvKHQsZVtuK3ItbF0pPDA7KWE9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyk7dmFyIHU9YTthPXItbCxsPXItdX1lbHNle2ZvcihzPWktcjtsPHMmJm8odCxlW24rcitsXSk+PTA7KWE9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyksYSs9cixsKz1yfWZvcihhKys7YTxsOyl7dmFyIGg9YSsobC1hPj4+MSk7byh0LGVbbitoXSk8MD9sPWg6YT1oKzF9cmV0dXJuIGx9ZnVuY3Rpb24gbWUodCxlKXt2YXIgbixpLHI9NyxvPTA7dC5sZW5ndGg7dmFyIGE9W107ZnVuY3Rpb24gcyhzKXt2YXIgbD1uW3NdLHU9aVtzXSxoPW5bcysxXSxjPWlbcysxXTtpW3NdPXUrYyxzPT09by0zJiYobltzKzFdPW5bcysyXSxpW3MrMV09aVtzKzJdKSxvLS07dmFyIHA9dmUodFtoXSx0LGwsdSwwLGUpO2wrPXAsMCE9PSh1LT1wKSYmMCE9PShjPXllKHRbbCt1LTFdLHQsaCxjLGMtMSxlKSkmJih1PD1jP2Z1bmN0aW9uKG4saSxvLHMpe3ZhciBsPTA7Zm9yKGw9MDtsPGk7bCsrKWFbbF09dFtuK2xdO3ZhciB1PTAsaD1vLGM9bjtpZih0W2MrK109dFtoKytdLDA9PS0tcyl7Zm9yKGw9MDtsPGk7bCsrKXRbYytsXT1hW3UrbF07cmV0dXJufWlmKDE9PT1pKXtmb3IobD0wO2w8cztsKyspdFtjK2xdPXRbaCtsXTtyZXR1cm4gdm9pZCh0W2Mrc109YVt1XSl9dmFyIHAsZCxmLGc9cjtmb3IoOzspe3A9MCxkPTAsZj0hMTtkb3tpZihlKHRbaF0sYVt1XSk8MCl7aWYodFtjKytdPXRbaCsrXSxkKysscD0wLDA9PS0tcyl7Zj0hMDticmVha319ZWxzZSBpZih0W2MrK109YVt1KytdLHArKyxkPTAsMT09LS1pKXtmPSEwO2JyZWFrfX13aGlsZSgocHxkKTxnKTtpZihmKWJyZWFrO2Rve2lmKDAhPT0ocD12ZSh0W2hdLGEsdSxpLDAsZSkpKXtmb3IobD0wO2w8cDtsKyspdFtjK2xdPWFbdStsXTtpZihjKz1wLHUrPXAsKGktPXApPD0xKXtmPSEwO2JyZWFrfX1pZih0W2MrK109dFtoKytdLDA9PS0tcyl7Zj0hMDticmVha31pZigwIT09KGQ9eWUoYVt1XSx0LGgscywwLGUpKSl7Zm9yKGw9MDtsPGQ7bCsrKXRbYytsXT10W2grbF07aWYoYys9ZCxoKz1kLDA9PT0ocy09ZCkpe2Y9ITA7YnJlYWt9fWlmKHRbYysrXT1hW3UrK10sMT09LS1pKXtmPSEwO2JyZWFrfWctLX13aGlsZShwPj03fHxkPj03KTtpZihmKWJyZWFrO2c8MCYmKGc9MCksZys9Mn1pZigocj1nKTwxJiYocj0xKSwxPT09aSl7Zm9yKGw9MDtsPHM7bCsrKXRbYytsXT10W2grbF07dFtjK3NdPWFbdV19ZWxzZXtpZigwPT09aSl0aHJvdyBuZXcgRXJyb3I7Zm9yKGw9MDtsPGk7bCsrKXRbYytsXT1hW3UrbF19fShsLHUsaCxjKTpmdW5jdGlvbihuLGksbyxzKXt2YXIgbD0wO2ZvcihsPTA7bDxzO2wrKylhW2xdPXRbbytsXTt2YXIgdT1uK2ktMSxoPXMtMSxjPW8rcy0xLHA9MCxkPTA7aWYodFtjLS1dPXRbdS0tXSwwPT0tLWkpe2ZvcihwPWMtKHMtMSksbD0wO2w8cztsKyspdFtwK2xdPWFbbF07cmV0dXJufWlmKDE9PT1zKXtmb3IoZD0oYy09aSkrMSxwPSh1LT1pKSsxLGw9aS0xO2w+PTA7bC0tKXRbZCtsXT10W3ArbF07cmV0dXJuIHZvaWQodFtjXT1hW2hdKX12YXIgZj1yO2Zvcig7Oyl7dmFyIGc9MCx5PTAsdj0hMTtkb3tpZihlKGFbaF0sdFt1XSk8MCl7aWYodFtjLS1dPXRbdS0tXSxnKysseT0wLDA9PS0taSl7dj0hMDticmVha319ZWxzZSBpZih0W2MtLV09YVtoLS1dLHkrKyxnPTAsMT09LS1zKXt2PSEwO2JyZWFrfX13aGlsZSgoZ3x5KTxmKTtpZih2KWJyZWFrO2Rve2lmKDAhPT0oZz1pLXZlKGFbaF0sdCxuLGksaS0xLGUpKSl7Zm9yKGktPWcsZD0oYy09ZykrMSxwPSh1LT1nKSsxLGw9Zy0xO2w+PTA7bC0tKXRbZCtsXT10W3ArbF07aWYoMD09PWkpe3Y9ITA7YnJlYWt9fWlmKHRbYy0tXT1hW2gtLV0sMT09LS1zKXt2PSEwO2JyZWFrfWlmKDAhPT0oeT1zLXllKHRbdV0sYSwwLHMscy0xLGUpKSl7Zm9yKHMtPXksZD0oYy09eSkrMSxwPShoLT15KSsxLGw9MDtsPHk7bCsrKXRbZCtsXT1hW3ArbF07aWYoczw9MSl7dj0hMDticmVha319aWYodFtjLS1dPXRbdS0tXSwwPT0tLWkpe3Y9ITA7YnJlYWt9Zi0tfXdoaWxlKGc+PTd8fHk+PTcpO2lmKHYpYnJlYWs7ZjwwJiYoZj0wKSxmKz0yfShyPWYpPDEmJihyPTEpO2lmKDE9PT1zKXtmb3IoZD0oYy09aSkrMSxwPSh1LT1pKSsxLGw9aS0xO2w+PTA7bC0tKXRbZCtsXT10W3ArbF07dFtjXT1hW2hdfWVsc2V7aWYoMD09PXMpdGhyb3cgbmV3IEVycm9yO2ZvcihwPWMtKHMtMSksbD0wO2w8cztsKyspdFtwK2xdPWFbbF19fShsLHUsaCxjKSl9cmV0dXJuIG49W10saT1bXSx7bWVyZ2VSdW5zOmZ1bmN0aW9uKCl7Zm9yKDtvPjE7KXt2YXIgdD1vLTI7aWYodD49MSYmaVt0LTFdPD1pW3RdK2lbdCsxXXx8dD49MiYmaVt0LTJdPD1pW3RdK2lbdC0xXSlpW3QtMV08aVt0KzFdJiZ0LS07ZWxzZSBpZihpW3RdPmlbdCsxXSlicmVhaztzKHQpfX0sZm9yY2VNZXJnZVJ1bnM6ZnVuY3Rpb24oKXtmb3IoO28+MTspe3ZhciB0PW8tMjt0PjAmJmlbdC0xXTxpW3QrMV0mJnQtLSxzKHQpfX0scHVzaFJ1bjpmdW5jdGlvbih0LGUpe25bb109dCxpW29dPWUsbys9MX19fWZ1bmN0aW9uIF9lKHQsZSxuLGkpe258fChuPTApLGl8fChpPXQubGVuZ3RoKTt2YXIgcj1pLW47aWYoIShyPDIpKXt2YXIgbz0wO2lmKHI8MzIpZ2UodCxuLGksbisobz1mZSh0LG4saSxlKSksZSk7ZWxzZXt2YXIgYT1tZSh0LGUpLHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7dD49MzI7KWV8PTEmdCx0Pj49MTtyZXR1cm4gdCtlfShyKTtkb3tpZigobz1mZSh0LG4saSxlKSk8cyl7dmFyIGw9cjtsPnMmJihsPXMpLGdlKHQsbixuK2wsbitvLGUpLG89bH1hLnB1c2hSdW4obixvKSxhLm1lcmdlUnVucygpLHItPW8sbis9b313aGlsZSgwIT09cik7YS5mb3JjZU1lcmdlUnVucygpfX19dmFyIHhlPSExO2Z1bmN0aW9uIGJlKCl7eGV8fCh4ZT0hMCxjb25zb2xlLndhcm4oInogLyB6MiAvIHpsZXZlbCBvZiBkaXNwbGF5YWJsZSBpcyBpbnZhbGlkLCB3aGljaCBtYXkgY2F1c2UgdW5leHBlY3RlZCBlcnJvcnMiKSl9ZnVuY3Rpb24gd2UodCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90Lno9PT1lLno/dC56Mi1lLnoyOnQuei1lLno6dC56bGV2ZWwtZS56bGV2ZWx9dmFyIFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3Jvb3RzPVtdLHRoaXMuX2Rpc3BsYXlMaXN0PVtdLHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTAsdGhpcy5kaXNwbGF5YWJsZVNvcnRGdW5jPXdlfXJldHVybiB0LnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5fcm9vdHMubGVuZ3RoO24rKyl0aGlzLl9yb290c1tuXS50cmF2ZXJzZSh0LGUpfSx0LnByb3RvdHlwZS5nZXREaXNwbGF5TGlzdD1mdW5jdGlvbih0LGUpe2U9ZXx8ITE7dmFyIG49dGhpcy5fZGlzcGxheUxpc3Q7cmV0dXJuIXQmJm4ubGVuZ3RofHx0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLG59LHQucHJvdG90eXBlLnVwZGF0ZURpc3BsYXlMaXN0PWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3BsYXlMaXN0TGVuPTA7Zm9yKHZhciBlPXRoaXMuX3Jvb3RzLG49dGhpcy5fZGlzcGxheUxpc3QsaT0wLHI9ZS5sZW5ndGg7aTxyO2krKyl0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShlW2ldLG51bGwsdCk7bi5sZW5ndGg9dGhpcy5fZGlzcGxheUxpc3RMZW4sYS5jYW52YXNTdXBwb3J0ZWQmJl9lKG4sd2UpfSx0LnByb3RvdHlwZS5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGU9ZnVuY3Rpb24odCxlLG4pe2lmKCF0Lmlnbm9yZXx8bil7dC5iZWZvcmVVcGRhdGUoKSx0LnVwZGF0ZSgpLHQuYWZ0ZXJVcGRhdGUoKTt2YXIgaT10LmdldENsaXBQYXRoKCk7aWYodC5pZ25vcmVDbGlwKWU9bnVsbDtlbHNlIGlmKGkpe2U9ZT9lLnNsaWNlKCk6W107Zm9yKHZhciByPWksbz10O3I7KXIucGFyZW50PW8sci51cGRhdGVUcmFuc2Zvcm0oKSxlLnB1c2gociksbz1yLHI9ci5nZXRDbGlwUGF0aCgpfWlmKHQuY2hpbGRyZW5SZWYpe2Zvcih2YXIgYT10LmNoaWxkcmVuUmVmKCkscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO3QuX19kaXJ0eSYmKGwuX19kaXJ0eXw9MSksdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUobCxlLG4pfXQuX19kaXJ0eT0wfWVsc2V7dmFyIHU9dDtlJiZlLmxlbmd0aD91Ll9fY2xpcFBhdGhzPWU6dS5fX2NsaXBQYXRocyYmdS5fX2NsaXBQYXRocy5sZW5ndGg+MCYmKHUuX19jbGlwUGF0aHM9W10pLGlzTmFOKHUueikmJihiZSgpLHUuej0wKSxpc05hTih1LnoyKSYmKGJlKCksdS56Mj0wKSxpc05hTih1LnpsZXZlbCkmJihiZSgpLHUuemxldmVsPTApLHRoaXMuX2Rpc3BsYXlMaXN0W3RoaXMuX2Rpc3BsYXlMaXN0TGVuKytdPXV9dmFyIGg9dC5nZXREZWNhbEVsZW1lbnQmJnQuZ2V0RGVjYWxFbGVtZW50KCk7aCYmdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoaCxlLG4pO3ZhciBjPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2MmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGMsZSxuKTt2YXIgcD10LmdldFRleHRDb250ZW50KCk7cCYmdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUocCxlLG4pfX0sdC5wcm90b3R5cGUuYWRkUm9vdD1mdW5jdGlvbih0KXt0Ll9fenImJnQuX196ci5zdG9yYWdlPT09dGhpc3x8dGhpcy5fcm9vdHMucHVzaCh0KX0sdC5wcm90b3R5cGUuZGVsUm9vdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuZGVsUm9vdCh0W2VdKTtlbHNle3ZhciBpPUQodGhpcy5fcm9vdHMsdCk7aT49MCYmdGhpcy5fcm9vdHMuc3BsaWNlKGksMSl9fSx0LnByb3RvdHlwZS5kZWxBbGxSb290cz1mdW5jdGlvbigpe3RoaXMuX3Jvb3RzPVtdLHRoaXMuX2Rpc3BsYXlMaXN0PVtdLHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTB9LHQucHJvdG90eXBlLmdldFJvb3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3RzfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcGxheUxpc3Q9bnVsbCx0aGlzLl9yb290cz1udWxsfSx0fSgpLE1lPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsMTYpfSxJZT17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxxdWFkcmF0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0fSxxdWFkcmF0aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDItdCl9LHF1YWRyYXRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdDotLjUqKC0tdCoodC0yKS0xKX0sY3ViaWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnR9LGN1YmljT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sY3ViaWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX0scXVhcnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxxdWFydGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxLSAtLXQqdCp0KnR9LHF1YXJ0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0Oi0uNSooKHQtPTIpKnQqdCp0LTIpfSxxdWludGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0scXVpbnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KnQqdCsxfSxxdWludGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKX0sc2ludXNvaWRhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbE91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpNYXRoLlBJLzIpfSxzaW51c29pZGFsSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLjUqKDEtTWF0aC5jb3MoTWF0aC5QSSp0KSl9LGV4cG9uZW50aWFsSW46ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6TWF0aC5wb3coMTAyNCx0LTEpfSxleHBvbmVudGlhbE91dDpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxLU1hdGgucG93KDIsLTEwKnQpfSxleHBvbmVudGlhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCx0LTEpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSl9LGNpcmN1bGFySW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sY2lyY3VsYXJPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCgxLSAtLXQqdCl9LGNpcmN1bGFySW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LS41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9LGVsYXN0aWNJbjpmdW5jdGlvbih0KXt2YXIgZSxuPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL24pLygyKk1hdGguUEkpLC1uKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkpfSxlbGFzdGljT3V0OmZ1bmN0aW9uKHQpe3ZhciBlLG49LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIW58fG48MT8obj0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvbikvKDIqTWF0aC5QSSksbipNYXRoLnBvdygyLC0xMCp0KSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkrMSl9LGVsYXN0aWNJbk91dDpmdW5jdGlvbih0KXt2YXIgZSxuPS4xLGk9LjQ7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIW58fG48MT8obj0xLGU9LjEpOmU9aSpNYXRoLmFzaW4oMS9uKS8oMipNYXRoLlBJKSwodCo9Mik8MT9uKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS9pKSotLjU6bipNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpL2kpKi41KzEpfSxiYWNrSW46ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gdCp0KigoZSsxKSp0LWUpfSxiYWNrT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX0sYmFja0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT90KnQqKChlKzEpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoZSsxKSp0K2UpKzIpfSxib3VuY2VJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1JZS5ib3VuY2VPdXQoMS10KX0sYm91bmNlT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LGJvdW5jZUluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KkllLmJvdW5jZUluKDIqdCk6LjUqSWUuYm91bmNlT3V0KDIqdC0xKSsuNX19LFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9zdGFydFRpbWU9MCx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX2xpZmU9dC5saWZlfHwxZTMsdGhpcy5fZGVsYXk9dC5kZWxheXx8MCx0aGlzLmxvb3A9bnVsbCE9dC5sb29wJiZ0Lmxvb3AsdGhpcy5nYXA9dC5nYXB8fDAsdGhpcy5lYXNpbmc9dC5lYXNpbmd8fCJsaW5lYXIiLHRoaXMub25mcmFtZT10Lm9uZnJhbWUsdGhpcy5vbmRlc3Ryb3k9dC5vbmRlc3Ryb3ksdGhpcy5vbnJlc3RhcnQ9dC5vbnJlc3RhcnR9cmV0dXJuIHQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuX3N0YXJ0VGltZT10K3RoaXMuX2RlbGF5LHRoaXMuX2luaXRpYWxpemVkPSEwKSwhdGhpcy5fcGF1c2VkKXt2YXIgbj0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkvdGhpcy5fbGlmZTtuPDAmJihuPTApLG49TWF0aC5taW4obiwxKTt2YXIgaT10aGlzLmVhc2luZyxyPSJzdHJpbmciPT10eXBlb2YgaT9JZVtpXTppLG89ImZ1bmN0aW9uIj09dHlwZW9mIHI/cihuKTpuO2lmKHRoaXMub25mcmFtZSYmdGhpcy5vbmZyYW1lKG8pLDE9PT1uKXtpZighdGhpcy5sb29wKXJldHVybiEwO3RoaXMuX3Jlc3RhcnQodCksdGhpcy5vbnJlc3RhcnQmJnRoaXMub25yZXN0YXJ0KCl9cmV0dXJuITF9dGhpcy5fcGF1c2VkVGltZSs9ZX0sdC5wcm90b3R5cGUuX3Jlc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9KHQtdGhpcy5fc3RhcnRUaW1lLXRoaXMuX3BhdXNlZFRpbWUpJXRoaXMuX2xpZmU7dGhpcy5fc3RhcnRUaW1lPXQtZSt0aGlzLmdhcCx0aGlzLl9wYXVzZWRUaW1lPTB9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSEwfSx0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITF9LHR9KCksQ2U9ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10fSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9sZW49MH1yZXR1cm4gdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDZSh0KTtyZXR1cm4gdGhpcy5pbnNlcnRFbnRyeShlKSxlfSx0LnByb3RvdHlwZS5pbnNlcnRFbnRyeT1mdW5jdGlvbih0KXt0aGlzLmhlYWQ/KHRoaXMudGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMudGFpbCx0Lm5leHQ9bnVsbCx0aGlzLnRhaWw9dCk6dGhpcy5oZWFkPXRoaXMudGFpbD10LHRoaXMuX2xlbisrfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmV2LG49dC5uZXh0O2U/ZS5uZXh0PW46dGhpcy5oZWFkPW4sbj9uLnByZXY9ZTp0aGlzLnRhaWw9ZSx0Lm5leHQ9dC5wcmV2PW51bGwsdGhpcy5fbGVuLS19LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW59LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMuX2xlbj0wfSx0fSgpLEFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9saXN0PW5ldyBEZSx0aGlzLl9tYXhTaXplPTEwLHRoaXMuX21hcD17fSx0aGlzLl9tYXhTaXplPXR9cmV0dXJuIHQucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xpc3QsaT10aGlzLl9tYXAscj1udWxsO2lmKG51bGw9PWlbdF0pe3ZhciBvPW4ubGVuKCksYT10aGlzLl9sYXN0UmVtb3ZlZEVudHJ5O2lmKG8+PXRoaXMuX21heFNpemUmJm8+MCl7dmFyIHM9bi5oZWFkO24ucmVtb3ZlKHMpLGRlbGV0ZSBpW3Mua2V5XSxyPXMudmFsdWUsdGhpcy5fbGFzdFJlbW92ZWRFbnRyeT1zfWE/YS52YWx1ZT1lOmE9bmV3IENlKGUpLGEua2V5PXQsbi5pbnNlcnRFbnRyeShhKSxpW3RdPWF9cmV0dXJuIHJ9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXBbdF0sbj10aGlzLl9saXN0O2lmKG51bGwhPWUpcmV0dXJuIGUhPT1uLnRhaWwmJihuLnJlbW92ZShlKSxuLmluc2VydEVudHJ5KGUpKSxlLnZhbHVlfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2xpc3QuY2xlYXIoKSx0aGlzLl9tYXA9e319LHQucHJvdG90eXBlLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saXN0LmxlbigpfSx0fSgpLExlPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDgsMV0sdmlvbGV0OlsyMzgsMTMwLDIzOCwxXSx3aGVhdDpbMjQ1LDIyMiwxNzksMV0sd2hpdGU6WzI1NSwyNTUsMjU1LDFdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1LDFdLHllbGxvdzpbMjU1LDI1NSwwLDFdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwLDFdfTtmdW5jdGlvbiBrZSh0KXtyZXR1cm4odD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gUGUodCl7cmV0dXJuIHQ8MD8wOnQ+MT8xOnR9ZnVuY3Rpb24gT2UodCl7dmFyIGU9dDtyZXR1cm4gZS5sZW5ndGgmJiIlIj09PWUuY2hhckF0KGUubGVuZ3RoLTEpP2tlKHBhcnNlRmxvYXQoZSkvMTAwKjI1NSk6a2UocGFyc2VJbnQoZSwxMCkpfWZ1bmN0aW9uIFJlKHQpe3ZhciBlPXQ7cmV0dXJuIGUubGVuZ3RoJiYiJSI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKT9QZShwYXJzZUZsb2F0KGUpLzEwMCk6UGUocGFyc2VGbG9hdChlKSl9ZnVuY3Rpb24gTmUodCxlLG4pe3JldHVybiBuPDA/bis9MTpuPjEmJihuLT0xKSw2Km48MT90KyhlLXQpKm4qNjoyKm48MT9lOjMqbjwyP3QrKGUtdCkqKDIvMy1uKSo2OnR9ZnVuY3Rpb24gemUodCxlLG4pe3JldHVybiB0KyhlLXQpKm59ZnVuY3Rpb24gRWUodCxlLG4saSxyKXtyZXR1cm4gdFswXT1lLHRbMV09bix0WzJdPWksdFszXT1yLHR9ZnVuY3Rpb24gVmUodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9dmFyIEJlPW5ldyBBZSgyMCksRmU9bnVsbDtmdW5jdGlvbiBHZSh0LGUpe0ZlJiZWZShGZSxlKSxGZT1CZS5wdXQodCxGZXx8ZS5zbGljZSgpKX1mdW5jdGlvbiBIZSh0LGUpe2lmKHQpe2U9ZXx8W107dmFyIG49QmUuZ2V0KHQpO2lmKG4pcmV0dXJuIFZlKGUsbik7dmFyIGk9KHQrPSIiKS5yZXBsYWNlKC8gL2csIiIpLnRvTG93ZXJDYXNlKCk7aWYoaSBpbiBMZSlyZXR1cm4gVmUoZSxMZVtpXSksR2UodCxlKSxlO3ZhciByLG89aS5sZW5ndGg7aWYoIiMiPT09aS5jaGFyQXQoMCkpcmV0dXJuIDQ9PT1vfHw1PT09bz8ocj1wYXJzZUludChpLnNsaWNlKDEsNCksMTYpKT49MCYmcjw9NDA5NT8oRWUoZSwoMzg0MCZyKT4+NHwoMzg0MCZyKT4+OCwyNDAmcnwoMjQwJnIpPj40LDE1JnJ8KDE1JnIpPDw0LDU9PT1vP3BhcnNlSW50KGkuc2xpY2UoNCksMTYpLzE1OjEpLEdlKHQsZSksZSk6dm9pZCBFZShlLDAsMCwwLDEpOjc9PT1vfHw5PT09bz8ocj1wYXJzZUludChpLnNsaWNlKDEsNyksMTYpKT49MCYmcjw9MTY3NzcyMTU/KEVlKGUsKDE2NzExNjgwJnIpPj4xNiwoNjUyODAmcik+PjgsMjU1JnIsOT09PW8/cGFyc2VJbnQoaS5zbGljZSg3KSwxNikvMjU1OjEpLEdlKHQsZSksZSk6dm9pZCBFZShlLDAsMCwwLDEpOnZvaWQgMDt2YXIgYT1pLmluZGV4T2YoIigiKSxzPWkuaW5kZXhPZigiKSIpO2lmKC0xIT09YSYmcysxPT09byl7dmFyIGw9aS5zdWJzdHIoMCxhKSx1PWkuc3Vic3RyKGErMSxzLShhKzEpKS5zcGxpdCgiLCIpLGg9MTtzd2l0Y2gobCl7Y2FzZSJyZ2JhIjppZig0IT09dS5sZW5ndGgpcmV0dXJuIDM9PT11Lmxlbmd0aD9FZShlLCt1WzBdLCt1WzFdLCt1WzJdLDEpOkVlKGUsMCwwLDAsMSk7aD1SZSh1LnBvcCgpKTtjYXNlInJnYiI6cmV0dXJuIDMhPT11Lmxlbmd0aD92b2lkIEVlKGUsMCwwLDAsMSk6KEVlKGUsT2UodVswXSksT2UodVsxXSksT2UodVsyXSksaCksR2UodCxlKSxlKTtjYXNlImhzbGEiOnJldHVybiA0IT09dS5sZW5ndGg/dm9pZCBFZShlLDAsMCwwLDEpOih1WzNdPVJlKHVbM10pLFdlKHUsZSksR2UodCxlKSxlKTtjYXNlImhzbCI6cmV0dXJuIDMhPT11Lmxlbmd0aD92b2lkIEVlKGUsMCwwLDAsMSk6KFdlKHUsZSksR2UodCxlKSxlKTtkZWZhdWx0OnJldHVybn19RWUoZSwwLDAsMCwxKX19ZnVuY3Rpb24gV2UodCxlKXt2YXIgbj0ocGFyc2VGbG9hdCh0WzBdKSUzNjArMzYwKSUzNjAvMzYwLGk9UmUodFsxXSkscj1SZSh0WzJdKSxvPXI8PS41P3IqKGkrMSk6citpLXIqaSxhPTIqci1vO3JldHVybiBFZShlPWV8fFtdLGtlKDI1NSpOZShhLG8sbisxLzMpKSxrZSgyNTUqTmUoYSxvLG4pKSxrZSgyNTUqTmUoYSxvLG4tMS8zKSksMSksND09PXQubGVuZ3RoJiYoZVszXT10WzNdKSxlfWZ1bmN0aW9uIFVlKHQsZSl7dmFyIG49SGUodCk7aWYobil7Zm9yKHZhciBpPTA7aTwzO2krKyluW2ldPWU8MD9uW2ldKigxLWUpfDA6KDI1NS1uW2ldKSplK25baV18MCxuW2ldPjI1NT9uW2ldPTI1NTpuW2ldPDAmJihuW2ldPTApO3JldHVybiBKZShuLDQ9PT1uLmxlbmd0aD8icmdiYSI6InJnYiIpfX1mdW5jdGlvbiBYZSh0KXt2YXIgZT1IZSh0KTtpZihlKXJldHVybigoMTw8MjQpKyhlWzBdPDwxNikrKGVbMV08PDgpKyArZVsyXSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpfWZ1bmN0aW9uIFllKHQsZSxuKXtpZihlJiZlLmxlbmd0aCYmdD49MCYmdDw9MSl7bj1ufHxbXTt2YXIgaT10KihlLmxlbmd0aC0xKSxyPU1hdGguZmxvb3IoaSksbz1NYXRoLmNlaWwoaSksYT1lW3JdLHM9ZVtvXSxsPWktcjtyZXR1cm4gblswXT1rZSh6ZShhWzBdLHNbMF0sbCkpLG5bMV09a2UoemUoYVsxXSxzWzFdLGwpKSxuWzJdPWtlKHplKGFbMl0sc1syXSxsKSksblszXT1QZSh6ZShhWzNdLHNbM10sbCkpLG59fXZhciBaZT1ZZTtmdW5jdGlvbiBqZSh0LGUsbil7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJnQ8PTEpe3ZhciBpPXQqKGUubGVuZ3RoLTEpLHI9TWF0aC5mbG9vcihpKSxvPU1hdGguY2VpbChpKSxhPUhlKGVbcl0pLHM9SGUoZVtvXSksbD1pLXIsdT1KZShba2UoemUoYVswXSxzWzBdLGwpKSxrZSh6ZShhWzFdLHNbMV0sbCkpLGtlKHplKGFbMl0sc1syXSxsKSksUGUoemUoYVszXSxzWzNdLGwpKV0sInJnYmEiKTtyZXR1cm4gbj97Y29sb3I6dSxsZWZ0SW5kZXg6cixyaWdodEluZGV4Om8sdmFsdWU6aX06dX19dmFyIHFlPWplO2Z1bmN0aW9uIEtlKHQsZSxuLGkpe3ZhciByPUhlKHQpO2lmKHQpcmV0dXJuIHI9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGUsbixpPXRbMF0vMjU1LHI9dFsxXS8yNTUsbz10WzJdLzI1NSxhPU1hdGgubWluKGkscixvKSxzPU1hdGgubWF4KGkscixvKSxsPXMtYSx1PShzK2EpLzI7aWYoMD09PWwpZT0wLG49MDtlbHNle249dTwuNT9sLyhzK2EpOmwvKDItcy1hKTt2YXIgaD0oKHMtaSkvNitsLzIpL2wsYz0oKHMtcikvNitsLzIpL2wscD0oKHMtbykvNitsLzIpL2w7aT09PXM/ZT1wLWM6cj09PXM/ZT0xLzMraC1wOm89PT1zJiYoZT0yLzMrYy1oKSxlPDAmJihlKz0xKSxlPjEmJihlLT0xKX12YXIgZD1bMzYwKmUsbix1XTtyZXR1cm4gbnVsbCE9dFszXSYmZC5wdXNoKHRbM10pLGR9fShyKSxudWxsIT1lJiYoclswXT1mdW5jdGlvbih0KXtyZXR1cm4odD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4zNjA/MzYwOnR9KGUpKSxudWxsIT1uJiYoclsxXT1SZShuKSksbnVsbCE9aSYmKHJbMl09UmUoaSkpLEplKFdlKHIpLCJyZ2JhIil9ZnVuY3Rpb24gJGUodCxlKXt2YXIgbj1IZSh0KTtpZihuJiZudWxsIT1lKXJldHVybiBuWzNdPVBlKGUpLEplKG4sInJnYmEiKX1mdW5jdGlvbiBKZSh0LGUpe2lmKHQmJnQubGVuZ3RoKXt2YXIgbj10WzBdKyIsIit0WzFdKyIsIit0WzJdO3JldHVybiJyZ2JhIiE9PWUmJiJoc3ZhIiE9PWUmJiJoc2xhIiE9PWV8fChuKz0iLCIrdFszXSksZSsiKCIrbisiKSJ9fWZ1bmN0aW9uIFFlKHQsZSl7dmFyIG49SGUodCk7cmV0dXJuIG4/KC4yOTkqblswXSsuNTg3Km5bMV0rLjExNCpuWzJdKSpuWzNdLzI1NSsoMS1uWzNdKSplOjB9dmFyIHRuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOkhlLGxpZnQ6VWUsdG9IZXg6WGUsZmFzdExlcnA6WWUsZmFzdE1hcFRvQ29sb3I6WmUsbGVycDpqZSxtYXBUb0NvbG9yOnFlLG1vZGlmeUhTTDpLZSxtb2RpZnlBbHBoYTokZSxzdHJpbmdpZnk6SmUsbHVtOlFlLHJhbmRvbTpmdW5jdGlvbigpe3JldHVybiJyZ2IoIitNYXRoLnJvdW5kKDI1NSpNYXRoLnJhbmRvbSgpKSsiLCIrTWF0aC5yb3VuZCgyNTUqTWF0aC5yYW5kb20oKSkrIiwiK01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpKyIpIn19KSxlbj1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gbm4odCxlLG4pe3JldHVybihlLXQpKm4rdH1mdW5jdGlvbiBybih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz0wO288cjtvKyspdFtvXT1ubihlW29dLG5bb10saSl9ZnVuY3Rpb24gb24odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89MDtvPHI7bysrKXRbb109ZVtvXStuW29dKmk7cmV0dXJuIHR9ZnVuY3Rpb24gYW4odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89ciYmZVswXS5sZW5ndGgsYT0wO2E8cjthKyspe3RbYV18fCh0W2FdPVtdKTtmb3IodmFyIHM9MDtzPG87cysrKXRbYV1bc109ZVthXVtzXStuW2FdW3NdKml9cmV0dXJuIHR9ZnVuY3Rpb24gc24odCxlLG4pe3ZhciBpPXQscj1lO2lmKGkucHVzaCYmci5wdXNoKXt2YXIgbz1pLmxlbmd0aCxhPXIubGVuZ3RoO2lmKG8hPT1hKWlmKG8+YSlpLmxlbmd0aD1hO2Vsc2UgZm9yKHZhciBzPW87czxhO3MrKylpLnB1c2goMT09PW4/cltzXTplbi5jYWxsKHJbc10pKTt2YXIgbD1pWzBdJiZpWzBdLmxlbmd0aDtmb3Iocz0wO3M8aS5sZW5ndGg7cysrKWlmKDE9PT1uKWlzTmFOKGlbc10pJiYoaVtzXT1yW3NdKTtlbHNlIGZvcih2YXIgdT0wO3U8bDt1KyspaXNOYU4oaVtzXVt1XSkmJihpW3NdW3VdPXJbc11bdV0pfX1mdW5jdGlvbiBsbih0LGUpe3ZhciBuPXQubGVuZ3RoO2lmKG4hPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPG47aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHVuKHQsZSxuLGkscixvLGEpe3ZhciBzPS41KihuLXQpLGw9LjUqKGktZSk7cmV0dXJuKDIqKGUtbikrcytsKSphKygtMyooZS1uKS0yKnMtbCkqbytzKnIrZX1mdW5jdGlvbiBobih0LGUsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD1lLmxlbmd0aCx1PTA7dTxsO3UrKyl0W3VdPXVuKGVbdV0sblt1XSxpW3VdLHJbdV0sbyxhLHMpfWZ1bmN0aW9uIGNuKHQpe2lmKGsodCkpe3ZhciBlPXQubGVuZ3RoO2lmKGsodFswXSkpe2Zvcih2YXIgbj1bXSxpPTA7aTxlO2krKyluLnB1c2goZW4uY2FsbCh0W2ldKSk7cmV0dXJuIG59cmV0dXJuIGVuLmNhbGwodCl9cmV0dXJuIHR9ZnVuY3Rpb24gcG4odCl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcih0WzBdKSx0WzFdPU1hdGguZmxvb3IodFsxXSksdFsyXT1NYXRoLmZsb29yKHRbMl0pLCJyZ2JhKCIrdC5qb2luKCIsIikrIikifXZhciBkbixmbixnbj1bMCwwLDAsMF0seW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMua2V5ZnJhbWVzPVtdLHRoaXMubWF4VGltZT0wLHRoaXMuYXJyRGltPTAsdGhpcy5pbnRlcnBvbGFibGU9ITAsdGhpcy5fbmVlZHNTb3J0PSExLHRoaXMuX2lzQWxsVmFsdWVFcXVhbD0hMCx0aGlzLl9sYXN0RnJhbWU9MCx0aGlzLl9sYXN0RnJhbWVQZXJjZW50PTAsdGhpcy5wcm9wTmFtZT10fXJldHVybiB0LnByb3RvdHlwZS5pc0ZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbmlzaGVkfSx0LnByb3RvdHlwZS5zZXRGaW5pc2hlZD1mdW5jdGlvbigpe3RoaXMuX2ZpbmlzaGVkPSEwLHRoaXMuX2FkZGl0aXZlVHJhY2smJnRoaXMuX2FkZGl0aXZlVHJhY2suc2V0RmluaXNoZWQoKX0sdC5wcm90b3R5cGUubmVlZHNBbmltYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2lzQWxsVmFsdWVFcXVhbCYmdGhpcy5rZXlmcmFtZXMubGVuZ3RoPj0yJiZ0aGlzLmludGVycG9sYWJsZX0sdC5wcm90b3R5cGUuZ2V0QWRkaXRpdmVUcmFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hZGRpdGl2ZVRyYWNrfSx0LnByb3RvdHlwZS5hZGRLZXlmcmFtZT1mdW5jdGlvbih0LGUpe3Q+PXRoaXMubWF4VGltZT90aGlzLm1heFRpbWU9dDp0aGlzLl9uZWVkc1NvcnQ9ITA7dmFyIG49dGhpcy5rZXlmcmFtZXMsaT1uLmxlbmd0aDtpZih0aGlzLmludGVycG9sYWJsZSlpZihrKGUpKXt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gayh0JiZ0WzBdKT8yOjF9KGUpO2lmKGk+MCYmdGhpcy5hcnJEaW0hPT1yKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZigxPT09ciYmIm51bWJlciIhPXR5cGVvZiBlWzBdfHwyPT09ciYmIm51bWJlciIhPXR5cGVvZiBlWzBdWzBdKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZihpPjApe3ZhciBvPW5baS0xXTt0aGlzLl9pc0FsbFZhbHVlRXF1YWwmJigxPT09ciYmbG4oZSxvLnZhbHVlKXx8KHRoaXMuX2lzQWxsVmFsdWVFcXVhbD0hMSkpfXRoaXMuYXJyRGltPXJ9ZWxzZXtpZih0aGlzLmFyckRpbT4wKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBhPUhlKGUpO2E/KGU9YSx0aGlzLmlzVmFsdWVDb2xvcj0hMCk6dGhpcy5pbnRlcnBvbGFibGU9ITF9ZWxzZSBpZigibnVtYmVyIiE9dHlwZW9mIGV8fGlzTmFOKGUpKXJldHVybiB2b2lkKHRoaXMuaW50ZXJwb2xhYmxlPSExKTtpZih0aGlzLl9pc0FsbFZhbHVlRXF1YWwmJmk+MCl7bz1uW2ktMV07KHRoaXMuaXNWYWx1ZUNvbG9yJiYhbG4oby52YWx1ZSxlKXx8by52YWx1ZSE9PWUpJiYodGhpcy5faXNBbGxWYWx1ZUVxdWFsPSExKX19dmFyIHM9e3RpbWU6dCx2YWx1ZTplLHBlcmNlbnQ6MH07cmV0dXJuIHRoaXMua2V5ZnJhbWVzLnB1c2gocyksc30sdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmtleWZyYW1lczt0aGlzLl9uZWVkc1NvcnQmJmUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pKTtmb3IodmFyIG49dGhpcy5hcnJEaW0saT1lLmxlbmd0aCxyPWVbaS0xXSxvPTA7bzxpO28rKyllW29dLnBlcmNlbnQ9ZVtvXS50aW1lL3RoaXMubWF4VGltZSxuPjAmJm8hPT1pLTEmJnNuKGVbb10udmFsdWUsci52YWx1ZSxuKTtpZih0JiZ0aGlzLm5lZWRzQW5pbWF0ZSgpJiZ0Lm5lZWRzQW5pbWF0ZSgpJiZuPT09dC5hcnJEaW0mJnRoaXMuaXNWYWx1ZUNvbG9yPT09dC5pc1ZhbHVlQ29sb3ImJiF0Ll9maW5pc2hlZCl7dGhpcy5fYWRkaXRpdmVUcmFjaz10O3ZhciBhPWVbMF0udmFsdWU7Zm9yKG89MDtvPGk7bysrKTA9PT1uP3RoaXMuaXNWYWx1ZUNvbG9yP2Vbb10uYWRkaXRpdmVWYWx1ZT1vbihbXSxlW29dLnZhbHVlLGEsLTEpOmVbb10uYWRkaXRpdmVWYWx1ZT1lW29dLnZhbHVlLWE6MT09PW4/ZVtvXS5hZGRpdGl2ZVZhbHVlPW9uKFtdLGVbb10udmFsdWUsYSwtMSk6Mj09PW4mJihlW29dLmFkZGl0aXZlVmFsdWU9YW4oW10sZVtvXS52YWx1ZSxhLC0xKSl9fSx0LnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2ZpbmlzaGVkKXt0aGlzLl9hZGRpdGl2ZVRyYWNrJiZ0aGlzLl9hZGRpdGl2ZVRyYWNrLl9maW5pc2hlZCYmKHRoaXMuX2FkZGl0aXZlVHJhY2s9bnVsbCk7dmFyIG4saT1udWxsIT10aGlzLl9hZGRpdGl2ZVRyYWNrLHI9aT8iYWRkaXRpdmVWYWx1ZSI6InZhbHVlIixvPXRoaXMua2V5ZnJhbWVzLGE9dGhpcy5rZXlmcmFtZXMubGVuZ3RoLHM9dGhpcy5wcm9wTmFtZSxsPXRoaXMuYXJyRGltLHU9dGhpcy5pc1ZhbHVlQ29sb3I7aWYoZTwwKW49MDtlbHNlIGlmKGU8dGhpcy5fbGFzdEZyYW1lUGVyY2VudCl7Zm9yKG49TWF0aC5taW4odGhpcy5fbGFzdEZyYW1lKzEsYS0xKTtuPj0wJiYhKG9bbl0ucGVyY2VudDw9ZSk7bi0tKTtuPU1hdGgubWluKG4sYS0yKX1lbHNle2ZvcihuPXRoaXMuX2xhc3RGcmFtZTtuPGEmJiEob1tuXS5wZXJjZW50PmUpO24rKyk7bj1NYXRoLm1pbihuLTEsYS0yKX12YXIgaD1vW24rMV0sYz1vW25dO2lmKGMmJmgpe3RoaXMuX2xhc3RGcmFtZT1uLHRoaXMuX2xhc3RGcmFtZVBlcmNlbnQ9ZTt2YXIgcD1oLnBlcmNlbnQtYy5wZXJjZW50O2lmKDAhPT1wKXt2YXIgZD0oZS1jLnBlcmNlbnQpL3AsZj1pP3RoaXMuX2FkZGl0aXZlVmFsdWU6dT9nbjp0W3NdO2lmKChsPjB8fHUpJiYhZiYmKGY9dGhpcy5fYWRkaXRpdmVWYWx1ZT1bXSksdGhpcy51c2VTcGxpbmUpe3ZhciBnPW9bbl1bcl0seT1vWzA9PT1uP246bi0xXVtyXSx2PW9bbj5hLTI/YS0xOm4rMV1bcl0sbT1vW24+YS0zP2EtMTpuKzJdW3JdO2lmKGw+MCkxPT09bD9obihmLHksZyx2LG0sZCxkKmQsZCpkKmQpOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPWUubGVuZ3RoLHU9ZVswXS5sZW5ndGgsaD0wO2g8bDtoKyspe3RbaF18fCh0WzFdPVtdKTtmb3IodmFyIGM9MDtjPHU7YysrKXRbaF1bY109dW4oZVtoXVtjXSxuW2hdW2NdLGlbaF1bY10scltoXVtjXSxvLGEscyl9fShmLHksZyx2LG0sZCxkKmQsZCpkKmQpO2Vsc2UgaWYodSlobihmLHksZyx2LG0sZCxkKmQsZCpkKmQpLGl8fCh0W3NdPXBuKGYpKTtlbHNle3ZhciBfPXZvaWQgMDtfPXRoaXMuaW50ZXJwb2xhYmxlP3VuKHksZyx2LG0sZCxkKmQsZCpkKmQpOnYsaT90aGlzLl9hZGRpdGl2ZVZhbHVlPV86dFtzXT1ffX1lbHNlIGlmKGw+MCkxPT09bD9ybihmLGNbcl0saFtyXSxkKTpmdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1yJiZlWzBdLmxlbmd0aCxhPTA7YTxyO2ErKyl7dFthXXx8KHRbYV09W10pO2Zvcih2YXIgcz0wO3M8bztzKyspdFthXVtzXT1ubihlW2FdW3NdLG5bYV1bc10saSl9fShmLGNbcl0saFtyXSxkKTtlbHNlIGlmKHUpcm4oZixjW3JdLGhbcl0sZCksaXx8KHRbc109cG4oZikpO2Vsc2V7Xz12b2lkIDA7Xz10aGlzLmludGVycG9sYWJsZT9ubihjW3JdLGhbcl0sZCk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPi41P2U6dH0oY1tyXSxoW3JdLGQpLGk/dGhpcy5fYWRkaXRpdmVWYWx1ZT1fOnRbc109X31pJiZ0aGlzLl9hZGRUb1RhcmdldCh0KX19fX0sdC5wcm90b3R5cGUuX2FkZFRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXJyRGltLG49dGhpcy5wcm9wTmFtZSxpPXRoaXMuX2FkZGl0aXZlVmFsdWU7MD09PWU/dGhpcy5pc1ZhbHVlQ29sb3I/KEhlKHRbbl0sZ24pLG9uKGduLGduLGksMSksdFtuXT1wbihnbikpOnRbbl09dFtuXStpOjE9PT1lP29uKHRbbl0sdFtuXSxpLDEpOjI9PT1lJiZhbih0W25dLHRbbl0saSwxKX0sdH0oKSx2bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX3RyYWNrcz17fSx0aGlzLl90cmFja0tleXM9W10sdGhpcy5fZGVsYXk9MCx0aGlzLl9tYXhUaW1lPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX3N0YXJ0ZWQ9MCx0aGlzLl9jbGlwPW51bGwsdGhpcy5fdGFyZ2V0PXQsdGhpcy5fbG9vcD1lLGUmJm4/YigiQ2FuJyB1c2UgYWRkaXRpdmUgYW5pbWF0aW9uIG9uIGxvb3BlZCBhbmltYXRpb24uIik6dGhpcy5fYWRkaXRpdmVBbmltYXRvcnM9bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldH0sdC5wcm90b3R5cGUuY2hhbmdlVGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldD10fSx0LnByb3RvdHlwZS53aGVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMud2hlbldpdGhLZXlzKHQsZSxFKGUpKX0sdC5wcm90b3R5cGUud2hlbldpdGhLZXlzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fdHJhY2tzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxhPWlbb107aWYoIWEpe2E9aVtvXT1uZXcgeW4obyk7dmFyIHM9dm9pZCAwLGw9dGhpcy5fZ2V0QWRkaXRpdmVUcmFjayhvKTtpZihsKXt2YXIgdT1sLmtleWZyYW1lc1tsLmtleWZyYW1lcy5sZW5ndGgtMV07cz11JiZ1LnZhbHVlLGwuaXNWYWx1ZUNvbG9yJiZzJiYocz1wbihzKSl9ZWxzZSBzPXRoaXMuX3RhcmdldFtvXTtpZihudWxsPT1zKWNvbnRpbnVlOzAhPT10JiZhLmFkZEtleWZyYW1lKDAsY24ocykpLHRoaXMuX3RyYWNrS2V5cy5wdXNoKG8pfWEuYWRkS2V5ZnJhbWUodCxjbihlW29dKSl9cmV0dXJuIHRoaXMuX21heFRpbWU9TWF0aC5tYXgodGhpcy5fbWF4VGltZSx0KSx0aGlzfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucGF1c2UoKSx0aGlzLl9wYXVzZWQ9ITB9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2NsaXAucmVzdW1lKCksdGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcGF1c2VkfSx0LnByb3RvdHlwZS5fZG9uZUNhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhY2tzRmluaXNoZWQoKSx0aGlzLl9jbGlwPW51bGw7dmFyIHQ9dGhpcy5fZG9uZUxpc3Q7aWYodClmb3IodmFyIGU9dC5sZW5ndGgsbj0wO248ZTtuKyspdFtuXS5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fYWJvcnRlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhY2tzRmluaXNoZWQoKTt2YXIgdD10aGlzLmFuaW1hdGlvbixlPXRoaXMuX2Fib3J0ZWRMaXN0O2lmKHQmJnQucmVtb3ZlQ2xpcCh0aGlzLl9jbGlwKSx0aGlzLl9jbGlwPW51bGwsZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9zZXRUcmFja3NGaW5pc2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90cmFja3MsZT10aGlzLl90cmFja0tleXMsbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV0uc2V0RmluaXNoZWQoKX0sdC5wcm90b3R5cGUuX2dldEFkZGl0aXZlVHJhY2s9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLmdldFRyYWNrKHQpO3ImJihlPXIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0LGUpe2lmKCEodGhpcy5fc3RhcnRlZD4wKSl7dGhpcy5fc3RhcnRlZD0xO2Zvcih2YXIgbj10aGlzLGk9W10scj0wO3I8dGhpcy5fdHJhY2tLZXlzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuX3RyYWNrS2V5c1tyXSxhPXRoaXMuX3RyYWNrc1tvXSxzPXRoaXMuX2dldEFkZGl0aXZlVHJhY2sobyksbD1hLmtleWZyYW1lcztpZihhLnByZXBhcmUocyksYS5uZWVkc0FuaW1hdGUoKSlpLnB1c2goYSk7ZWxzZSBpZighYS5pbnRlcnBvbGFibGUpe3ZhciB1PWxbbC5sZW5ndGgtMV07dSYmKG4uX3RhcmdldFthLnByb3BOYW1lXT11LnZhbHVlKX19aWYoaS5sZW5ndGh8fGUpe3ZhciBoPW5ldyBUZSh7bGlmZTp0aGlzLl9tYXhUaW1lLGxvb3A6dGhpcy5fbG9vcCxkZWxheTp0aGlzLl9kZWxheSxvbmZyYW1lOmZ1bmN0aW9uKHQpe24uX3N0YXJ0ZWQ9Mjt2YXIgZT1uLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihlKXtmb3IodmFyIHI9ITEsbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb10uX2NsaXApe3I9ITA7YnJlYWt9cnx8KG4uX2FkZGl0aXZlQW5pbWF0b3JzPW51bGwpfWZvcihvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS5zdGVwKG4uX3RhcmdldCx0KTt2YXIgYT1uLl9vbmZyYW1lTGlzdDtpZihhKWZvcihvPTA7bzxhLmxlbmd0aDtvKyspYVtvXShuLl90YXJnZXQsdCl9LG9uZGVzdHJveTpmdW5jdGlvbigpe24uX2RvbmVDYWxsYmFjaygpfX0pO3RoaXMuX2NsaXA9aCx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24uYWRkQ2xpcChoKSx0JiYic3BsaW5lIiE9PXQmJihoLmVhc2luZz10KX1lbHNlIHRoaXMuX2RvbmVDYWxsYmFjaygpO3JldHVybiB0aGlzfX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbih0KXtpZih0aGlzLl9jbGlwKXt2YXIgZT10aGlzLl9jbGlwO3QmJmUub25mcmFtZSgxKSx0aGlzLl9hYm9ydGVkQ2FsbGJhY2soKX19LHQucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxheT10LHRoaXN9LHQucHJvdG90eXBlLmR1cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmKHRoaXMuX29uZnJhbWVMaXN0fHwodGhpcy5fb25mcmFtZUxpc3Q9W10pLHRoaXMuX29uZnJhbWVMaXN0LnB1c2godCkpLHRoaXN9LHQucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLl9kb25lTGlzdHx8KHRoaXMuX2RvbmVMaXN0PVtdKSx0aGlzLl9kb25lTGlzdC5wdXNoKHQpKSx0aGlzfSx0LnByb3RvdHlwZS5hYm9ydGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5fYWJvcnRlZExpc3R8fCh0aGlzLl9hYm9ydGVkTGlzdD1bXSksdGhpcy5fYWJvcnRlZExpc3QucHVzaCh0KSksdGhpc30sdC5wcm90b3R5cGUuZ2V0Q2xpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbGlwfSx0LnByb3RvdHlwZS5nZXRUcmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdHJhY2tzW3RdfSx0LnByb3RvdHlwZS5zdG9wVHJhY2tzPWZ1bmN0aW9uKHQsZSl7aWYoIXQubGVuZ3RofHwhdGhpcy5fY2xpcClyZXR1cm4hMDtmb3IodmFyIG49dGhpcy5fdHJhY2tzLGk9dGhpcy5fdHJhY2tLZXlzLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89blt0W3JdXTtvJiYoZT9vLnN0ZXAodGhpcy5fdGFyZ2V0LDEpOjE9PT10aGlzLl9zdGFydGVkJiZvLnN0ZXAodGhpcy5fdGFyZ2V0LDApLG8uc2V0RmluaXNoZWQoKSl9dmFyIGE9ITA7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKylpZighbltpW3JdXS5pc0ZpbmlzaGVkKCkpe2E9ITE7YnJlYWt9cmV0dXJuIGEmJnRoaXMuX2Fib3J0ZWRDYWxsYmFjaygpLGF9LHQucHJvdG90eXBlLnNhdmVGaW5hbFRvVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7aWYodCl7ZT1lfHx0aGlzLl90cmFja0tleXM7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj10aGlzLl90cmFja3NbaV07aWYociYmIXIuaXNGaW5pc2hlZCgpKXt2YXIgbz1yLmtleWZyYW1lcyxhPW9bby5sZW5ndGgtMV07aWYoYSl7dmFyIHM9Y24oYS52YWx1ZSk7ci5pc1ZhbHVlQ29sb3ImJihzPXBuKHMpKSx0W2ldPXN9fX19fSx0LnByb3RvdHlwZS5fX2NoYW5nZUZpbmFsVmFsdWU9ZnVuY3Rpb24odCxlKXtlPWV8fEUodCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj10aGlzLl90cmFja3NbaV07aWYocil7dmFyIG89ci5rZXlmcmFtZXM7aWYoby5sZW5ndGg+MSl7dmFyIGE9by5wb3AoKTtyLmFkZEtleWZyYW1lKGEudGltZSx0W2ldKSxyLnByZXBhcmUoci5nZXRBZGRpdGl2ZVRyYWNrKCkpfX19fSx0fSgpLG1uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl9ydW5uaW5nPSExLG4uX3RpbWU9MCxuLl9wYXVzZWRUaW1lPTAsbi5fcGF1c2VTdGFydD0wLG4uX3BhdXNlZD0hMSxlPWV8fHt9LG4uc3RhZ2U9ZS5zdGFnZXx8e30sbi5vbmZyYW1lPWUub25mcmFtZXx8ZnVuY3Rpb24oKXt9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hZGRDbGlwPWZ1bmN0aW9uKHQpe3QuYW5pbWF0aW9uJiZ0aGlzLnJlbW92ZUNsaXAodCksdGhpcy5fY2xpcHNIZWFkPyh0aGlzLl9jbGlwc1RhaWwubmV4dD10LHQucHJldj10aGlzLl9jbGlwc1RhaWwsdC5uZXh0PW51bGwsdGhpcy5fY2xpcHNUYWlsPXQpOnRoaXMuX2NsaXBzSGVhZD10aGlzLl9jbGlwc1RhaWw9dCx0LmFuaW1hdGlvbj10aGlzfSxlLnByb3RvdHlwZS5hZGRBbmltYXRvcj1mdW5jdGlvbih0KXt0LmFuaW1hdGlvbj10aGlzO3ZhciBlPXQuZ2V0Q2xpcCgpO2UmJnRoaXMuYWRkQ2xpcChlKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2xpcD1mdW5jdGlvbih0KXtpZih0LmFuaW1hdGlvbil7dmFyIGU9dC5wcmV2LG49dC5uZXh0O2U/ZS5uZXh0PW46dGhpcy5fY2xpcHNIZWFkPW4sbj9uLnByZXY9ZTp0aGlzLl9jbGlwc1RhaWw9ZSx0Lm5leHQ9dC5wcmV2PXQuYW5pbWF0aW9uPW51bGx9fSxlLnByb3RvdHlwZS5yZW1vdmVBbmltYXRvcj1mdW5jdGlvbih0KXt2YXIgZT10LmdldENsaXAoKTtlJiZ0aGlzLnJlbW92ZUNsaXAoZSksdC5hbmltYXRpb249bnVsbH0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9wYXVzZWRUaW1lLG49ZS10aGlzLl90aW1lLGk9dGhpcy5fY2xpcHNIZWFkO2k7KXt2YXIgcj1pLm5leHQ7aS5zdGVwKGUsbik/KGkub25kZXN0cm95JiZpLm9uZGVzdHJveSgpLHRoaXMucmVtb3ZlQ2xpcChpKSxpPXIpOmk9cn10aGlzLl90aW1lPWUsdHx8KHRoaXMub25mcmFtZShuKSx0aGlzLnRyaWdnZXIoImZyYW1lIixuKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKSl9LGUucHJvdG90eXBlLl9zdGFydExvb3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3J1bm5pbmc9ITAsTWUoKGZ1bmN0aW9uIGUoKXt0Ll9ydW5uaW5nJiYoTWUoZSksIXQuX3BhdXNlZCYmdC51cGRhdGUoKSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fcnVubmluZ3x8KHRoaXMuX3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3N0YXJ0TG9vcCgpKX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3J1bm5pbmc9ITF9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkfHwodGhpcy5fcGF1c2VTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWQ9ITApfSxlLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWRUaW1lKz0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2NsaXBzSGVhZDt0Oyl7dmFyIGU9dC5uZXh0O3QucHJldj10Lm5leHQ9dC5hbmltYXRpb249bnVsbCx0PWV9dGhpcy5fY2xpcHNIZWFkPXRoaXMuX2NsaXBzVGFpbD1udWxsfSxlLnByb3RvdHlwZS5pc0ZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuX2NsaXBzSGVhZH0sZS5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0LGUpe2U9ZXx8e30sdGhpcy5zdGFydCgpO3ZhciBuPW5ldyB2bih0LGUubG9vcCk7cmV0dXJuIHRoaXMuYWRkQW5pbWF0b3Iobiksbn0sZX0oRnQpLF9uPWEuZG9tU3VwcG9ydGVkLHhuPShmbj17cG9pbnRlcmRvd246MSxwb2ludGVydXA6MSxwb2ludGVybW92ZToxLHBvaW50ZXJvdXQ6MX0se21vdXNlOmRuPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNld2hlZWwiLCJ3aGVlbCIsIm1vdXNlb3V0IiwibW91c2V1cCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsImNvbnRleHRtZW51Il0sdG91Y2g6WyJ0b3VjaHN0YXJ0IiwidG91Y2hlbmQiLCJ0b3VjaG1vdmUiXSxwb2ludGVyOk8oZG4sKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZSgibW91c2UiLCJwb2ludGVyIik7cmV0dXJuIGZuLmhhc093blByb3BlcnR5KGUpP2U6dH0pKX0pLGJuPVsibW91c2Vtb3ZlIiwibW91c2V1cCJdLHduPVsicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiXSxTbj0hMTtmdW5jdGlvbiBNbih0KXt2YXIgZT10LnBvaW50ZXJUeXBlO3JldHVybiJwZW4iPT09ZXx8InRvdWNoIj09PWV9ZnVuY3Rpb24gSW4odCl7dCYmKHQuenJCeVRvdWNoPSEwKX1mdW5jdGlvbiBUbih0LGUpe2Zvcih2YXIgbj1lLGk9ITE7biYmOSE9PW4ubm9kZVR5cGUmJiEoaT1uLmRvbUJlbG9uZ1RvWnJ8fG4hPT1lJiZuPT09dC5wYWludGVyUm9vdCk7KW49bi5wYXJlbnROb2RlO3JldHVybiBpfXZhciBDbj1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcFByb3BhZ2F0aW9uPWZ0LHRoaXMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ0LHRoaXMucHJldmVudERlZmF1bHQ9ZnQsdGhpcy50eXBlPWUudHlwZSx0aGlzLnRhcmdldD10aGlzLmN1cnJlbnRUYXJnZXQ9dC5kb20sdGhpcy5wb2ludGVyVHlwZT1lLnBvaW50ZXJUeXBlLHRoaXMuY2xpZW50WD1lLmNsaWVudFgsdGhpcy5jbGllbnRZPWUuY2xpZW50WX0sRG49e21vdXNlZG93bjpmdW5jdGlvbih0KXt0PVF0KHRoaXMuZG9tLHQpLHRoaXMuX19tYXlQb2ludGVyQ2FwdHVyZT1bdC56clgsdC56clldLHRoaXMudHJpZ2dlcigibW91c2Vkb3duIix0KX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3Q9UXQodGhpcy5kb20sdCk7dmFyIGU9dGhpcy5fX21heVBvaW50ZXJDYXB0dXJlOyFlfHx0LnpyWD09PWVbMF0mJnQuenJZPT09ZVsxXXx8dGhpcy5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlKCEwKSx0aGlzLnRyaWdnZXIoIm1vdXNlbW92ZSIsdCl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dD1RdCh0aGlzLmRvbSx0KSx0aGlzLl9fdG9nZ2xlUG9pbnRlckNhcHR1cmUoITEpLHRoaXMudHJpZ2dlcigibW91c2V1cCIsdCl9LG1vdXNlb3V0OmZ1bmN0aW9uKHQpe1RuKHRoaXMsKHQ9UXQodGhpcy5kb20sdCkpLnRvRWxlbWVudHx8dC5yZWxhdGVkVGFyZ2V0KXx8KHRoaXMuX19wb2ludGVyQ2FwdHVyaW5nJiYodC56ckV2ZW50Q29udHJvbD0ibm9fZ2xvYmFsb3V0IiksdGhpcy50cmlnZ2VyKCJtb3VzZW91dCIsdCkpfSx3aGVlbDpmdW5jdGlvbih0KXtTbj0hMCx0PVF0KHRoaXMuZG9tLHQpLHRoaXMudHJpZ2dlcigibW91c2V3aGVlbCIsdCl9LG1vdXNld2hlZWw6ZnVuY3Rpb24odCl7U258fCh0PVF0KHRoaXMuZG9tLHQpLHRoaXMudHJpZ2dlcigibW91c2V3aGVlbCIsdCkpfSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKHQpe0luKHQ9UXQodGhpcy5kb20sdCkpLHRoaXMuX19sYXN0VG91Y2hNb21lbnQ9bmV3IERhdGUsdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsInN0YXJ0IiksRG4ubW91c2Vtb3ZlLmNhbGwodGhpcyx0KSxEbi5tb3VzZWRvd24uY2FsbCh0aGlzLHQpfSx0b3VjaG1vdmU6ZnVuY3Rpb24odCl7SW4odD1RdCh0aGlzLmRvbSx0KSksdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsImNoYW5nZSIpLERuLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHRvdWNoZW5kOmZ1bmN0aW9uKHQpe0luKHQ9UXQodGhpcy5kb20sdCkpLHRoaXMuaGFuZGxlci5wcm9jZXNzR2VzdHVyZSh0LCJlbmQiKSxEbi5tb3VzZXVwLmNhbGwodGhpcyx0KSwrbmV3IERhdGUtK3RoaXMuX19sYXN0VG91Y2hNb21lbnQ8MzAwJiZEbi5jbGljay5jYWxsKHRoaXMsdCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKHQpe0RuLm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQpe01uKHQpfHxEbi5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSxwb2ludGVydXA6ZnVuY3Rpb24odCl7RG4ubW91c2V1cC5jYWxsKHRoaXMsdCl9LHBvaW50ZXJvdXQ6ZnVuY3Rpb24odCl7TW4odCl8fERuLm1vdXNlb3V0LmNhbGwodGhpcyx0KX19O1AoWyJjbGljayIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiXSwoZnVuY3Rpb24odCl7RG5bdF09ZnVuY3Rpb24oZSl7ZT1RdCh0aGlzLmRvbSxlKSx0aGlzLnRyaWdnZXIodCxlKX19KSk7dmFyIEFuPXtwb2ludGVybW92ZTpmdW5jdGlvbih0KXtNbih0KXx8QW4ubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0scG9pbnRlcnVwOmZ1bmN0aW9uKHQpe0FuLm1vdXNldXAuY2FsbCh0aGlzLHQpfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKCJtb3VzZW1vdmUiLHQpfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19wb2ludGVyQ2FwdHVyaW5nO3RoaXMuX190b2dnbGVQb2ludGVyQ2FwdHVyZSghMSksdGhpcy50cmlnZ2VyKCJtb3VzZXVwIix0KSxlJiYodC56ckV2ZW50Q29udHJvbD0ib25seV9nbG9iYWxvdXQiLHRoaXMudHJpZ2dlcigibW91c2VvdXQiLHQpKX19O2Z1bmN0aW9uIExuKHQsZSl7dmFyIG49ZS5kb21IYW5kbGVyczthLnBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ/UCh4bi5wb2ludGVyLChmdW5jdGlvbihpKXtQbihlLGksKGZ1bmN0aW9uKGUpe25baV0uY2FsbCh0LGUpfSkpfSkpOihhLnRvdWNoRXZlbnRzU3VwcG9ydGVkJiZQKHhuLnRvdWNoLChmdW5jdGlvbihpKXtQbihlLGksKGZ1bmN0aW9uKHIpe25baV0uY2FsbCh0LHIpLGZ1bmN0aW9uKHQpe3QudG91Y2hpbmc9ITAsbnVsbCE9dC50b3VjaFRpbWVyJiYoY2xlYXJUaW1lb3V0KHQudG91Y2hUaW1lciksdC50b3VjaFRpbWVyPW51bGwpLHQudG91Y2hUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QudG91Y2hpbmc9ITEsdC50b3VjaFRpbWVyPW51bGx9KSw3MDApfShlKX0pKX0pKSxQKHhuLm1vdXNlLChmdW5jdGlvbihpKXtQbihlLGksKGZ1bmN0aW9uKHIpe3I9SnQociksZS50b3VjaGluZ3x8bltpXS5jYWxsKHQscil9KSl9KSkpfWZ1bmN0aW9uIGtuKHQsZSl7ZnVuY3Rpb24gbihuKXtQbihlLG4sKGZ1bmN0aW9uKGkpe2k9SnQoaSksVG4odCxpLnRhcmdldCl8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFF0KHQuZG9tLG5ldyBDbih0LGUpLCEwKX0odCxpKSxlLmRvbUhhbmRsZXJzW25dLmNhbGwodCxpKSl9KSx7Y2FwdHVyZTohMH0pfWEucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9QKHduLG4pOmEudG91Y2hFdmVudHNTdXBwb3J0ZWR8fFAoYm4sbil9ZnVuY3Rpb24gUG4odCxlLG4saSl7dC5tb3VudGVkW2VdPW4sdC5saXN0ZW5lck9wdHNbZV09aSx0ZSh0LmRvbVRhcmdldCxlLG4saSl9ZnVuY3Rpb24gT24odCl7dmFyIGUsbixpLHIsbz10Lm1vdW50ZWQ7Zm9yKHZhciBhIGluIG8pby5oYXNPd25Qcm9wZXJ0eShhKSYmKGU9dC5kb21UYXJnZXQsbj1hLGk9b1thXSxyPXQubGlzdGVuZXJPcHRzW2FdLFp0P2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGkscik6ZS5kZXRhY2hFdmVudCgib24iK24saSkpO3QubW91bnRlZD17fX12YXIgUm49ZnVuY3Rpb24odCxlKXt0aGlzLm1vdW50ZWQ9e30sdGhpcy5saXN0ZW5lck9wdHM9e30sdGhpcy50b3VjaGluZz0hMSx0aGlzLmRvbVRhcmdldD10LHRoaXMuZG9tSGFuZGxlcnM9ZX0sTm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fX3BvaW50ZXJDYXB0dXJpbmc9ITEsaS5kb209ZSxpLnBhaW50ZXJSb290PW4saS5fbG9jYWxIYW5kbGVyU2NvcGU9bmV3IFJuKGUsRG4pLF9uJiYoaS5fZ2xvYmFsSGFuZGxlclNjb3BlPW5ldyBSbihkb2N1bWVudCxBbikpLExuKGksaS5fbG9jYWxIYW5kbGVyU2NvcGUpLGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7T24odGhpcy5fbG9jYWxIYW5kbGVyU2NvcGUpLF9uJiZPbih0aGlzLl9nbG9iYWxIYW5kbGVyU2NvcGUpfSxlLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24odCl7dGhpcy5kb20uc3R5bGUmJih0aGlzLmRvbS5zdHlsZS5jdXJzb3I9dHx8ImRlZmF1bHQiKX0sZS5wcm90b3R5cGUuX190b2dnbGVQb2ludGVyQ2FwdHVyZT1mdW5jdGlvbih0KXtpZih0aGlzLl9fbWF5UG9pbnRlckNhcHR1cmU9bnVsbCxfbiYmK3RoaXMuX19wb2ludGVyQ2FwdHVyaW5nXit0KXt0aGlzLl9fcG9pbnRlckNhcHR1cmluZz10O3ZhciBlPXRoaXMuX2dsb2JhbEhhbmRsZXJTY29wZTt0P2tuKHRoaXMsZSk6T24oZSl9fSxlfShGdCksem49MTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHpuPU1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHx3aW5kb3cuc2NyZWVuJiZ3aW5kb3cuc2NyZWVuLmRldmljZVhEUEkvd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSXx8MSwxKSk7dmFyIEVuPXpuLFZuPSIjMzMzIixCbj0iI2NjYyI7ZnVuY3Rpb24gRm4oKXtyZXR1cm5bMSwwLDAsMSwwLDBdfWZ1bmN0aW9uIEduKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0fWZ1bmN0aW9uIEhuKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHR9ZnVuY3Rpb24gV24odCxlLG4pe3ZhciBpPWVbMF0qblswXStlWzJdKm5bMV0scj1lWzFdKm5bMF0rZVszXSpuWzFdLG89ZVswXSpuWzJdK2VbMl0qblszXSxhPWVbMV0qblsyXStlWzNdKm5bM10scz1lWzBdKm5bNF0rZVsyXSpuWzVdK2VbNF0sbD1lWzFdKm5bNF0rZVszXSpuWzVdK2VbNV07cmV0dXJuIHRbMF09aSx0WzFdPXIsdFsyXT1vLHRbM109YSx0WzRdPXMsdFs1XT1sLHR9ZnVuY3Rpb24gVW4odCxlLG4pe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdK25bMF0sdFs1XT1lWzVdK25bMV0sdH1mdW5jdGlvbiBYbih0LGUsbil7dmFyIGk9ZVswXSxyPWVbMl0sbz1lWzRdLGE9ZVsxXSxzPWVbM10sbD1lWzVdLHU9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKTtyZXR1cm4gdFswXT1pKmgrYSp1LHRbMV09LWkqdSthKmgsdFsyXT1yKmgrcyp1LHRbM109LXIqdStoKnMsdFs0XT1oKm8rdSpsLHRbNV09aCpsLXUqbyx0fWZ1bmN0aW9uIFluKHQsZSxuKXt2YXIgaT1uWzBdLHI9blsxXTtyZXR1cm4gdFswXT1lWzBdKmksdFsxXT1lWzFdKnIsdFsyXT1lWzJdKmksdFszXT1lWzNdKnIsdFs0XT1lWzRdKmksdFs1XT1lWzVdKnIsdH1mdW5jdGlvbiBabih0LGUpe3ZhciBuPWVbMF0saT1lWzJdLHI9ZVs0XSxvPWVbMV0sYT1lWzNdLHM9ZVs1XSxsPW4qYS1vKmk7cmV0dXJuIGw/KGw9MS9sLHRbMF09YSpsLHRbMV09LW8qbCx0WzJdPS1pKmwsdFszXT1uKmwsdFs0XT0oaSpzLWEqcikqbCx0WzVdPShvKnItbipzKSpsLHQpOm51bGx9ZnVuY3Rpb24gam4odCl7dmFyIGU9WzEsMCwwLDEsMCwwXTtyZXR1cm4gSG4oZSx0KSxlfXZhciBxbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjcmVhdGU6Rm4saWRlbnRpdHk6R24sY29weTpIbixtdWw6V24sdHJhbnNsYXRlOlVuLHJvdGF0ZTpYbixzY2FsZTpZbixpbnZlcnQ6Wm4sY2xvbmU6am59KSxLbj1Hbiwkbj01ZS01O2Z1bmN0aW9uIEpuKHQpe3JldHVybiB0PiRufHx0PC01ZS01fXZhciBRbix0aSxlaT1bXSxuaT1bXSxpaT1bMSwwLDAsMSwwLDBdLHJpPU1hdGguYWJzLG9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy54PXRbMF0sdGhpcy55PXRbMV19LHQucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVYPXRbMF0sdGhpcy5zY2FsZVk9dFsxXX0sdC5wcm90b3R5cGUuc2V0U2tldz1mdW5jdGlvbih0KXt0aGlzLnNrZXdYPXRbMF0sdGhpcy5za2V3WT10WzFdfSx0LnByb3RvdHlwZS5zZXRPcmlnaW49ZnVuY3Rpb24odCl7dGhpcy5vcmlnaW5YPXRbMF0sdGhpcy5vcmlnaW5ZPXRbMV19LHQucHJvdG90eXBlLm5lZWRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBKbih0aGlzLnJvdGF0aW9uKXx8Sm4odGhpcy54KXx8Sm4odGhpcy55KXx8Sm4odGhpcy5zY2FsZVgtMSl8fEpuKHRoaXMuc2NhbGVZLTEpfSx0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXQmJnQudHJhbnNmb3JtLG49dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxpPXRoaXMudHJhbnNmb3JtO258fGU/KGk9aXx8WzEsMCwwLDEsMCwwXSxuP3RoaXMuZ2V0TG9jYWxUcmFuc2Zvcm0oaSk6S24oaSksZSYmKG4/V24oaSx0LnRyYW5zZm9ybSxpKTpIbihpLHQudHJhbnNmb3JtKSksdGhpcy50cmFuc2Zvcm09aSx0aGlzLl9yZXNvbHZlR2xvYmFsU2NhbGVSYXRpbyhpKSk6aSYmS24oaSl9LHQucHJvdG90eXBlLl9yZXNvbHZlR2xvYmFsU2NhbGVSYXRpbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsb2JhbFNjYWxlUmF0aW87aWYobnVsbCE9ZSYmMSE9PWUpe3RoaXMuZ2V0R2xvYmFsU2NhbGUoZWkpO3ZhciBuPWVpWzBdPDA/LTE6MSxpPWVpWzFdPDA/LTE6MSxyPSgoZWlbMF0tbikqZStuKS9laVswXXx8MCxvPSgoZWlbMV0taSkqZStpKS9laVsxXXx8MDt0WzBdKj1yLHRbMV0qPXIsdFsyXSo9byx0WzNdKj1vfXRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxbMSwwLDAsMSwwLDBdLFpuKHRoaXMuaW52VHJhbnNmb3JtLHQpfSx0LnByb3RvdHlwZS5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRMb2NhbFRyYW5zZm9ybSh0aGlzLGUpfSx0LnByb3RvdHlwZS5nZXRDb21wdXRlZFRyYW5zZm9ybT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9W107dDspZS5wdXNoKHQpLHQ9dC5wYXJlbnQ7Zm9yKDt0PWUucG9wKCk7KXQudXBkYXRlVHJhbnNmb3JtKCk7cmV0dXJuIHRoaXMudHJhbnNmb3JtfSx0LnByb3RvdHlwZS5zZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10WzBdKnRbMF0rdFsxXSp0WzFdLG49dFsyXSp0WzJdK3RbM10qdFszXSxpPU1hdGguYXRhbjIodFsxXSx0WzBdKSxyPU1hdGguUEkvMitpLU1hdGguYXRhbjIodFszXSx0WzJdKTtuPU1hdGguc3FydChuKSpNYXRoLmNvcyhyKSxlPU1hdGguc3FydChlKSx0aGlzLnNrZXdYPXIsdGhpcy5za2V3WT0wLHRoaXMucm90YXRpb249LWksdGhpcy54PSt0WzRdLHRoaXMueT0rdFs1XSx0aGlzLnNjYWxlWD1lLHRoaXMuc2NhbGVZPW4sdGhpcy5vcmlnaW5YPTAsdGhpcy5vcmlnaW5ZPTB9fSx0LnByb3RvdHlwZS5kZWNvbXBvc2VUcmFuc2Zvcm09ZnVuY3Rpb24oKXtpZih0aGlzLnRyYW5zZm9ybSl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10aGlzLnRyYW5zZm9ybTt0JiZ0LnRyYW5zZm9ybSYmKFduKG5pLHQuaW52VHJhbnNmb3JtLGUpLGU9bmkpO3ZhciBuPXRoaXMub3JpZ2luWCxpPXRoaXMub3JpZ2luWTsobnx8aSkmJihpaVs0XT1uLGlpWzVdPWksV24obmksZSxpaSksbmlbNF0tPW4sbmlbNV0tPWksZT1uaSksdGhpcy5zZXRMb2NhbFRyYW5zZm9ybShlKX19LHQucHJvdG90eXBlLmdldEdsb2JhbFNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO3JldHVybiB0PXR8fFtdLGU/KHRbMF09TWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLHRbMV09TWF0aC5zcXJ0KGVbMl0qZVsyXStlWzNdKmVbM10pLGVbMF08MCYmKHRbMF09LXRbMF0pLGVbM108MCYmKHRbMV09LXRbMV0pLHQpOih0WzBdPTEsdFsxXT0xLHQpfSx0LnByb3RvdHlwZS50cmFuc2Zvcm1Db29yZFRvTG9jYWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bdCxlXSxpPXRoaXMuaW52VHJhbnNmb3JtO3JldHVybiBpJiZSdChuLG4saSksbn0sdC5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRUb0dsb2JhbD1mdW5jdGlvbih0LGUpe3ZhciBuPVt0LGVdLGk9dGhpcy50cmFuc2Zvcm07cmV0dXJuIGkmJlJ0KG4sbixpKSxufSx0LnByb3RvdHlwZS5nZXRMaW5lU2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdCYmcmkodFswXS0xKT4xZS0xMCYmcmkodFszXS0xKT4xZS0xMD9NYXRoLnNxcnQocmkodFswXSp0WzNdLXRbMl0qdFsxXSkpOjF9LHQuZ2V0TG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24odCxlKXtlPWV8fFtdO3ZhciBuPXQub3JpZ2luWHx8MCxpPXQub3JpZ2luWXx8MCxyPXQuc2NhbGVYLG89dC5zY2FsZVksYT10LnJvdGF0aW9ufHwwLHM9dC54LGw9dC55LHU9dC5za2V3WD9NYXRoLnRhbih0LnNrZXdYKTowLGg9dC5za2V3WT9NYXRoLnRhbigtdC5za2V3WSk6MDtyZXR1cm4gbnx8aT8oZVs0XT0tbipyLXUqaSpvLGVbNV09LWkqby1oKm4qcik6ZVs0XT1lWzVdPTAsZVswXT1yLGVbM109byxlWzFdPWgqcixlWzJdPXUqbyxhJiZYbihlLGUsYSksZVs0XSs9bitzLGVbNV0rPWkrbCxlfSx0LmluaXREZWZhdWx0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZTtlLng9MCxlLnk9MCxlLnNjYWxlWD0xLGUuc2NhbGVZPTEsZS5vcmlnaW5YPTAsZS5vcmlnaW5ZPTAsZS5za2V3WD0wLGUuc2tld1k9MCxlLnJvdGF0aW9uPTAsZS5nbG9iYWxTY2FsZVJhdGlvPTF9KCksdH0oKSxhaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLng9dHx8MCx0aGlzLnk9ZXx8MH1yZXR1cm4gdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXN9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnkpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpc30sdC5wcm90b3R5cGUuZXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3RoaXMueCo9dCx0aGlzLnkqPXR9LHQucHJvdG90eXBlLnNjYWxlQW5kQWRkPWZ1bmN0aW9uKHQsZSl7dGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplfSx0LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LHQucHJvdG90eXBlLmRvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55fSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LHQucHJvdG90eXBlLmxlblNxdWFyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LHQucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuKCk7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sdC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrbipuKX0sdC5wcm90b3R5cGUuZGlzdGFuY2VTcXVhcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIGUqZStuKm59LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzfSx0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy54LG49dGhpcy55O3JldHVybiB0aGlzLng9dFswXSplK3RbMl0qbit0WzRdLHRoaXMueT10WzFdKmUrdFszXSpuK3RbNV0sdGhpc319LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09dGhpcy54LHRbMV09dGhpcy55LHR9LHQucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbih0KXt0aGlzLng9dFswXSx0aGlzLnk9dFsxXX0sdC5zZXQ9ZnVuY3Rpb24odCxlLG4pe3QueD1lLHQueT1ufSx0LmNvcHk9ZnVuY3Rpb24odCxlKXt0Lng9ZS54LHQueT1lLnl9LHQubGVuPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodC54KnQueCt0LnkqdC55KX0sdC5sZW5TcXVhcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQueCp0LngrdC55KnQueX0sdC5kb3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54KmUueCt0LnkqZS55fSx0LmFkZD1mdW5jdGlvbih0LGUsbil7dC54PWUueCtuLngsdC55PWUueStuLnl9LHQuc3ViPWZ1bmN0aW9uKHQsZSxuKXt0Lng9ZS54LW4ueCx0Lnk9ZS55LW4ueX0sdC5zY2FsZT1mdW5jdGlvbih0LGUsbil7dC54PWUueCpuLHQueT1lLnkqbn0sdC5zY2FsZUFuZEFkZD1mdW5jdGlvbih0LGUsbixpKXt0Lng9ZS54K24ueCppLHQueT1lLnkrbi55Kml9LHQubGVycD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj0xLWk7dC54PXIqZS54K2kqbi54LHQueT1yKmUueStpKm4ueX0sdH0oKSxzaT1NYXRoLm1pbixsaT1NYXRoLm1heCx1aT1uZXcgYWksaGk9bmV3IGFpLGNpPW5ldyBhaSxwaT1uZXcgYWksZGk9bmV3IGFpLGZpPW5ldyBhaSxnaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7bjwwJiYodCs9bixuPS1uKSxpPDAmJihlKz1pLGk9LWkpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1pfXJldHVybiB0LnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbih0KXt2YXIgZT1zaSh0LngsdGhpcy54KSxuPXNpKHQueSx0aGlzLnkpO2lzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMud2lkdGgpP3RoaXMud2lkdGg9bGkodC54K3Qud2lkdGgsdGhpcy54K3RoaXMud2lkdGgpLWU6dGhpcy53aWR0aD10LndpZHRoLGlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMuaGVpZ2h0KT90aGlzLmhlaWdodD1saSh0LnkrdC5oZWlnaHQsdGhpcy55K3RoaXMuaGVpZ2h0KS1uOnRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMueD1lLHRoaXMueT1ufSx0LnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlKXt0LmFwcGx5VHJhbnNmb3JtKHRoaXMsdGhpcyxlKX0sdC5wcm90b3R5cGUuY2FsY3VsYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LndpZHRoL2Uud2lkdGgsaT10LmhlaWdodC9lLmhlaWdodCxyPVsxLDAsMCwxLDAsMF07cmV0dXJuIFVuKHIscixbLWUueCwtZS55XSksWW4ocixyLFtuLGldKSxVbihyLHIsW3QueCx0LnldKSxyfSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZSxuKXtpZighZSlyZXR1cm4hMTtlIGluc3RhbmNlb2YgdHx8KGU9dC5jcmVhdGUoZSkpO3ZhciBpPXRoaXMscj1pLngsbz1pLngraS53aWR0aCxhPWkueSxzPWkueStpLmhlaWdodCxsPWUueCx1PWUueCtlLndpZHRoLGg9ZS55LGM9ZS55K2UuaGVpZ2h0LHA9IShvPGx8fHU8cnx8czxofHxjPGEpO2lmKG4pe3ZhciBkPTEvMCxmPTAsZz1NYXRoLmFicyhvLWwpLHk9TWF0aC5hYnModS1yKSx2PU1hdGguYWJzKHMtaCksbT1NYXRoLmFicyhjLWEpLF89TWF0aC5taW4oZyx5KSx4PU1hdGgubWluKHYsbSk7bzxsfHx1PHI/Xz5mJiYoZj1fLGc8eT9haS5zZXQoZmksLWcsMCk6YWkuc2V0KGZpLHksMCkpOl88ZCYmKGQ9XyxnPHk/YWkuc2V0KGRpLGcsMCk6YWkuc2V0KGRpLC15LDApKSxzPGh8fGM8YT94PmYmJihmPXgsdjxtP2FpLnNldChmaSwwLC12KTphaS5zZXQoZmksMCxtKSk6XzxkJiYoZD1fLHY8bT9haS5zZXQoZGksMCx2KTphaS5zZXQoZGksMCwtbSkpfXJldHVybiBuJiZhaS5jb3B5KG4scD9kaTpmaSkscH0sdC5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQ+PW4ueCYmdDw9bi54K24ud2lkdGgmJmU+PW4ueSYmZTw9bi55K24uaGVpZ2h0fSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3QuY29weSh0aGlzLGUpfSx0LnByb3RvdHlwZS5wbGFpbj1mdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH19LHQucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMueCkmJmlzRmluaXRlKHRoaXMueSkmJmlzRmluaXRlKHRoaXMud2lkdGgpJiZpc0Zpbml0ZSh0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy53aWR0aHx8MD09PXRoaXMuaGVpZ2h0fSx0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KX0sdC5jb3B5PWZ1bmN0aW9uKHQsZSl7dC54PWUueCx0Lnk9ZS55LHQud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodH0sdC5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbihlLG4saSl7aWYoaSl7aWYoaVsxXTwxZS01JiZpWzFdPi0xZS01JiZpWzJdPDFlLTUmJmlbMl0+LTFlLTUpe3ZhciByPWlbMF0sbz1pWzNdLGE9aVs0XSxzPWlbNV07cmV0dXJuIGUueD1uLngqcithLGUueT1uLnkqbytzLGUud2lkdGg9bi53aWR0aCpyLGUuaGVpZ2h0PW4uaGVpZ2h0Km8sZS53aWR0aDwwJiYoZS54Kz1lLndpZHRoLGUud2lkdGg9LWUud2lkdGgpLHZvaWQoZS5oZWlnaHQ8MCYmKGUueSs9ZS5oZWlnaHQsZS5oZWlnaHQ9LWUuaGVpZ2h0KSl9dWkueD1jaS54PW4ueCx1aS55PXBpLnk9bi55LGhpLng9cGkueD1uLngrbi53aWR0aCxoaS55PWNpLnk9bi55K24uaGVpZ2h0LHVpLnRyYW5zZm9ybShpKSxwaS50cmFuc2Zvcm0oaSksaGkudHJhbnNmb3JtKGkpLGNpLnRyYW5zZm9ybShpKSxlLng9c2kodWkueCxoaS54LGNpLngscGkueCksZS55PXNpKHVpLnksaGkueSxjaS55LHBpLnkpO3ZhciBsPWxpKHVpLngsaGkueCxjaS54LHBpLngpLHU9bGkodWkueSxoaS55LGNpLnkscGkueSk7ZS53aWR0aD1sLWUueCxlLmhlaWdodD11LWUueX1lbHNlIGUhPT1uJiZ0LmNvcHkoZSxuKX0sdH0oKSx5aT17fSx2aT0iMTJweCBzYW5zLXNlcmlmIjt2YXIgbWk9e21lYXN1cmVUZXh0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFufHwoUW49QygpLmdldENvbnRleHQoIjJkIikpLHRpIT09ZSYmKHRpPVFuLmZvbnQ9ZXx8dmkpLFFuLm1lYXN1cmVUZXh0KHQpfX07ZnVuY3Rpb24gX2kodCxlKXt2YXIgbj15aVtlPWV8fHZpXTtufHwobj15aVtlXT1uZXcgQWUoNTAwKSk7dmFyIGk9bi5nZXQodCk7cmV0dXJuIG51bGw9PWkmJihpPW1pLm1lYXN1cmVUZXh0KHQsZSkud2lkdGgsbi5wdXQodCxpKSksaX1mdW5jdGlvbiB4aSh0LGUsbixpKXt2YXIgcj1faSh0LGUpLG89TWkoZSksYT13aSgwLHIsbikscz1TaSgwLG8saSk7cmV0dXJuIG5ldyBnaShhLHMscixvKX1mdW5jdGlvbiBiaSh0LGUsbixpKXt2YXIgcj0oKHR8fCIiKSsiIikuc3BsaXQoIlxuIik7aWYoMT09PXIubGVuZ3RoKXJldHVybiB4aShyWzBdLGUsbixpKTtmb3IodmFyIG89bmV3IGdpKDAsMCwwLDApLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHM9eGkoclthXSxlLG4saSk7MD09PWE/by5jb3B5KHMpOm8udW5pb24ocyl9cmV0dXJuIG99ZnVuY3Rpb24gd2kodCxlLG4pe3JldHVybiJyaWdodCI9PT1uP3QtPWU6ImNlbnRlciI9PT1uJiYodC09ZS8yKSx0fWZ1bmN0aW9uIFNpKHQsZSxuKXtyZXR1cm4ibWlkZGxlIj09PW4/dC09ZS8yOiJib3R0b20iPT09biYmKHQtPWUpLHR9ZnVuY3Rpb24gTWkodCl7cmV0dXJuIF9pKCLlm70iLHQpfWZ1bmN0aW9uIElpKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3QubGFzdEluZGV4T2YoIiUiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6dH1mdW5jdGlvbiBUaSh0LGUsbil7dmFyIGk9ZS5wb3NpdGlvbnx8Imluc2lkZSIscj1udWxsIT1lLmRpc3RhbmNlP2UuZGlzdGFuY2U6NSxvPW4uaGVpZ2h0LGE9bi53aWR0aCxzPW8vMixsPW4ueCx1PW4ueSxoPSJsZWZ0IixjPSJ0b3AiO2lmKGkgaW5zdGFuY2VvZiBBcnJheSlsKz1JaShpWzBdLG4ud2lkdGgpLHUrPUlpKGlbMV0sbi5oZWlnaHQpLGg9bnVsbCxjPW51bGw7ZWxzZSBzd2l0Y2goaSl7Y2FzZSJsZWZ0IjpsLT1yLHUrPXMsaD0icmlnaHQiLGM9Im1pZGRsZSI7YnJlYWs7Y2FzZSJyaWdodCI6bCs9cithLHUrPXMsYz0ibWlkZGxlIjticmVhaztjYXNlInRvcCI6bCs9YS8yLHUtPXIsaD0iY2VudGVyIixjPSJib3R0b20iO2JyZWFrO2Nhc2UiYm90dG9tIjpsKz1hLzIsdSs9bytyLGg9ImNlbnRlciI7YnJlYWs7Y2FzZSJpbnNpZGUiOmwrPWEvMix1Kz1zLGg9ImNlbnRlciIsYz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZUxlZnQiOmwrPXIsdSs9cyxjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlUmlnaHQiOmwrPWEtcix1Kz1zLGg9InJpZ2h0IixjPSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlVG9wIjpsKz1hLzIsdSs9cixoPSJjZW50ZXIiO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tIjpsKz1hLzIsdSs9by1yLGg9ImNlbnRlciIsYz0iYm90dG9tIjticmVhaztjYXNlImluc2lkZVRvcExlZnQiOmwrPXIsdSs9cjticmVhaztjYXNlImluc2lkZVRvcFJpZ2h0IjpsKz1hLXIsdSs9cixoPSJyaWdodCI7YnJlYWs7Y2FzZSJpbnNpZGVCb3R0b21MZWZ0IjpsKz1yLHUrPW8tcixjPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tUmlnaHQiOmwrPWEtcix1Kz1vLXIsaD0icmlnaHQiLGM9ImJvdHRvbSJ9cmV0dXJuKHQ9dHx8e30pLng9bCx0Lnk9dSx0LmFsaWduPWgsdC52ZXJ0aWNhbEFsaWduPWMsdH12YXIgQ2k9Il9fenJfbm9ybWFsX18iLERpPVsieCIsInkiLCJzY2FsZVgiLCJzY2FsZVkiLCJvcmlnaW5YIiwib3JpZ2luWSIsInJvdGF0aW9uIiwiaWdub3JlIl0sQWk9e3g6ITAseTohMCxzY2FsZVg6ITAsc2NhbGVZOiEwLG9yaWdpblg6ITAsb3JpZ2luWTohMCxyb3RhdGlvbjohMCxpZ25vcmU6ITF9LExpPXt9LGtpPW5ldyBnaSgwLDAsMCwwKSxQaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5pZD14KCksdGhpcy5hbmltYXRvcnM9W10sdGhpcy5jdXJyZW50U3RhdGVzPVtdLHRoaXMuc3RhdGVzPXt9LHRoaXMuX2luaXQodCl9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHQpe3RoaXMuYXR0cih0KX0sdC5wcm90b3R5cGUuZHJpZnQ9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaCh0aGlzLmRyYWdnYWJsZSl7Y2FzZSJob3Jpem9udGFsIjplPTA7YnJlYWs7Y2FzZSJ2ZXJ0aWNhbCI6dD0wfXZhciBpPXRoaXMudHJhbnNmb3JtO2l8fChpPXRoaXMudHJhbnNmb3JtPVsxLDAsMCwxLDAsMF0pLGlbNF0rPXQsaVs1XSs9ZSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5iZWZvcmVVcGRhdGU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmFmdGVyVXBkYXRlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX19kaXJ0eSYmdGhpcy51cGRhdGVJbm5lclRleHQoKX0sdC5wcm90b3R5cGUudXBkYXRlSW5uZXJUZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RleHRDb250ZW50O2lmKGUmJighZS5pZ25vcmV8fHQpKXt0aGlzLnRleHRDb25maWd8fCh0aGlzLnRleHRDb25maWc9e30pO3ZhciBuPXRoaXMudGV4dENvbmZpZyxpPW4ubG9jYWwscj1lLmF0dGFjaGVkVHJhbnNmb3JtLG89dm9pZCAwLGE9dm9pZCAwLHM9ITE7ci5wYXJlbnQ9aT90aGlzOm51bGw7dmFyIGw9ITE7aWYoci54PWUueCxyLnk9ZS55LHIub3JpZ2luWD1lLm9yaWdpblgsci5vcmlnaW5ZPWUub3JpZ2luWSxyLnJvdGF0aW9uPWUucm90YXRpb24sci5zY2FsZVg9ZS5zY2FsZVgsci5zY2FsZVk9ZS5zY2FsZVksbnVsbCE9bi5wb3NpdGlvbil7dmFyIHU9a2k7bi5sYXlvdXRSZWN0P3UuY29weShuLmxheW91dFJlY3QpOnUuY29weSh0aGlzLmdldEJvdW5kaW5nUmVjdCgpKSxpfHx1LmFwcGx5VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtKSx0aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbj90aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbihMaSxuLHUpOlRpKExpLG4sdSksci54PUxpLngsci55PUxpLnksbz1MaS5hbGlnbixhPUxpLnZlcnRpY2FsQWxpZ247dmFyIGg9bi5vcmlnaW47aWYoaCYmbnVsbCE9bi5yb3RhdGlvbil7dmFyIGM9dm9pZCAwLHA9dm9pZCAwOyJjZW50ZXIiPT09aD8oYz0uNSp1LndpZHRoLHA9LjUqdS5oZWlnaHQpOihjPUlpKGhbMF0sdS53aWR0aCkscD1JaShoWzFdLHUuaGVpZ2h0KSksbD0hMCxyLm9yaWdpblg9LXIueCtjKyhpPzA6dS54KSxyLm9yaWdpblk9LXIueStwKyhpPzA6dS55KX19bnVsbCE9bi5yb3RhdGlvbiYmKHIucm90YXRpb249bi5yb3RhdGlvbik7dmFyIGQ9bi5vZmZzZXQ7ZCYmKHIueCs9ZFswXSxyLnkrPWRbMV0sbHx8KHIub3JpZ2luWD0tZFswXSxyLm9yaWdpblk9LWRbMV0pKTt2YXIgZj1udWxsPT1uLmluc2lkZT8ic3RyaW5nIj09dHlwZW9mIG4ucG9zaXRpb24mJm4ucG9zaXRpb24uaW5kZXhPZigiaW5zaWRlIik+PTA6bi5pbnNpZGUsZz10aGlzLl9pbm5lclRleHREZWZhdWx0U3R5bGV8fCh0aGlzLl9pbm5lclRleHREZWZhdWx0U3R5bGU9e30pLHk9dm9pZCAwLHY9dm9pZCAwLG09dm9pZCAwO2YmJnRoaXMuY2FuQmVJbnNpZGVUZXh0KCk/KHk9bi5pbnNpZGVGaWxsLHY9bi5pbnNpZGVTdHJva2UsbnVsbCE9eSYmImF1dG8iIT09eXx8KHk9dGhpcy5nZXRJbnNpZGVUZXh0RmlsbCgpKSxudWxsIT12JiYiYXV0byIhPT12fHwodj10aGlzLmdldEluc2lkZVRleHRTdHJva2UoeSksbT0hMCkpOih5PW4ub3V0c2lkZUZpbGwsdj1uLm91dHNpZGVTdHJva2UsbnVsbCE9eSYmImF1dG8iIT09eXx8KHk9dGhpcy5nZXRPdXRzaWRlRmlsbCgpKSxudWxsIT12JiYiYXV0byIhPT12fHwodj10aGlzLmdldE91dHNpZGVTdHJva2UoeSksbT0hMCkpLCh5PXl8fCIjMDAwIik9PT1nLmZpbGwmJnY9PT1nLnN0cm9rZSYmbT09PWcuYXV0b1N0cm9rZSYmbz09PWcuYWxpZ24mJmE9PT1nLnZlcnRpY2FsQWxpZ258fChzPSEwLGcuZmlsbD15LGcuc3Ryb2tlPXYsZy5hdXRvU3Ryb2tlPW0sZy5hbGlnbj1vLGcudmVydGljYWxBbGlnbj1hLGUuc2V0RGVmYXVsdFRleHRTdHlsZShnKSksZS5fX2RpcnR5fD0xLHMmJmUuZGlydHlTdHlsZSghMCl9fSx0LnByb3RvdHlwZS5jYW5CZUluc2lkZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZ2V0SW5zaWRlVGV4dEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4iI2ZmZiJ9LHQucHJvdG90eXBlLmdldEluc2lkZVRleHRTdHJva2U9ZnVuY3Rpb24odCl7cmV0dXJuIiMwMDAifSx0LnByb3RvdHlwZS5nZXRPdXRzaWRlRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fenImJnRoaXMuX196ci5pc0RhcmtNb2RlKCk/Qm46Vm59LHQucHJvdG90eXBlLmdldE91dHNpZGVTdHJva2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyJiZ0aGlzLl9fenIuZ2V0QmFja2dyb3VuZENvbG9yKCksbj0ic3RyaW5nIj09dHlwZW9mIGUmJkhlKGUpO258fChuPVsyNTUsMjU1LDI1NSwxXSk7Zm9yKHZhciBpPW5bM10scj10aGlzLl9fenIuaXNEYXJrTW9kZSgpLG89MDtvPDM7bysrKW5bb109bltvXSppKyhyPzA6MjU1KSooMS1pKTtyZXR1cm4gblszXT0xLEplKG4sInJnYmEiKX0sdC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmF0dHJLVj1mdW5jdGlvbih0LGUpeyJ0ZXh0Q29uZmlnIj09PXQ/dGhpcy5zZXRUZXh0Q29uZmlnKGUpOiJ0ZXh0Q29udGVudCI9PT10P3RoaXMuc2V0VGV4dENvbnRlbnQoZSk6ImNsaXBQYXRoIj09PXQ/dGhpcy5zZXRDbGlwUGF0aChlKToiZXh0cmEiPT09dD8odGhpcy5leHRyYT10aGlzLmV4dHJhfHx7fSxJKHRoaXMuZXh0cmEsZSkpOnRoaXNbdF09ZX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaWdub3JlPSEwLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5pZ25vcmU9ITEsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLmF0dHI9ZnVuY3Rpb24odCxlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhpcy5hdHRyS1YodCxlKTtlbHNlIGlmKFgodCkpZm9yKHZhciBuPUUodCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3RoaXMuYXR0cktWKHIsdFtyXSl9cmV0dXJuIHRoaXMubWFya1JlZHJhdygpLHRoaXN9LHQucHJvdG90eXBlLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9pbm5lclNhdmVUb05vcm1hbCh0KTtmb3IodmFyIGU9dGhpcy5fbm9ybWFsU3RhdGUsbj0wO248dGhpcy5hbmltYXRvcnMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5hbmltYXRvcnNbbl0scj1pLl9fZnJvbVN0YXRlVHJhbnNpdGlvbjtpZighcnx8cj09PUNpKXt2YXIgbz1pLnRhcmdldE5hbWUsYT1vP2Vbb106ZTtpLnNhdmVGaW5hbFRvVGFyZ2V0KGEpfX19LHQucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxTdGF0ZTtlfHwoZT10aGlzLl9ub3JtYWxTdGF0ZT17fSksdC50ZXh0Q29uZmlnJiYhZS50ZXh0Q29uZmlnJiYoZS50ZXh0Q29uZmlnPXRoaXMudGV4dENvbmZpZyksdGhpcy5fc2F2ZVByaW1hcnlUb05vcm1hbCh0LGUsRGkpfSx0LnByb3RvdHlwZS5fc2F2ZVByaW1hcnlUb05vcm1hbD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07bnVsbD09dFtyXXx8ciBpbiBlfHwoZVtyXT10aGlzW3JdKX19LHQucHJvdG90eXBlLmhhc1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFN0YXRlcy5sZW5ndGg+MH0sdC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGVzW3RdfSx0LnByb3RvdHlwZS5lbnN1cmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlcztyZXR1cm4gZVt0XXx8KGVbdF09e30pLGVbdF19LHQucHJvdG90eXBlLmNsZWFyU3RhdGVzPWZ1bmN0aW9uKHQpe3RoaXMudXNlU3RhdGUoQ2ksITEsdCl9LHQucHJvdG90eXBlLnVzZVN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQ9PT1DaTtpZih0aGlzLmhhc1N0YXRlKCl8fCFyKXt2YXIgbz10aGlzLmN1cnJlbnRTdGF0ZXMsYT10aGlzLnN0YXRlVHJhbnNpdGlvbjtpZighKEQobyx0KT49MCl8fCFlJiYxIT09by5sZW5ndGgpe3ZhciBzO2lmKHRoaXMuc3RhdGVQcm94eSYmIXImJihzPXRoaXMuc3RhdGVQcm94eSh0KSksc3x8KHM9dGhpcy5zdGF0ZXMmJnRoaXMuc3RhdGVzW3RdKSxzfHxyKXtyfHx0aGlzLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZShzKTt2YXIgbD0hIShzJiZzLmhvdmVyTGF5ZXJ8fGkpO2wmJnRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCEwKSx0aGlzLl9hcHBseVN0YXRlT2JqKHQscyx0aGlzLl9ub3JtYWxTdGF0ZSxlLCFuJiYhdGhpcy5fX2luSG92ZXImJmEmJmEuZHVyYXRpb24+MCxhKTt2YXIgdT10aGlzLl90ZXh0Q29udGVudCxoPXRoaXMuX3RleHRHdWlkZTtyZXR1cm4gdSYmdS51c2VTdGF0ZSh0LGUsbixsKSxoJiZoLnVzZVN0YXRlKHQsZSxuLGwpLHI/KHRoaXMuY3VycmVudFN0YXRlcz1bXSx0aGlzLl9ub3JtYWxTdGF0ZT17fSk6ZT90aGlzLmN1cnJlbnRTdGF0ZXMucHVzaCh0KTp0aGlzLmN1cnJlbnRTdGF0ZXM9W3RdLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHMoKSx0aGlzLm1hcmtSZWRyYXcoKSwhbCYmdGhpcy5fX2luSG92ZXImJih0aGlzLl90b2dnbGVIb3ZlckxheWVyRmxhZyghMSksdGhpcy5fX2RpcnR5Jj0tMiksc31iKCJTdGF0ZSAiK3QrIiBub3QgZXhpc3RzLiIpfX19LHQucHJvdG90eXBlLnVzZVN0YXRlcz1mdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGgpe3ZhciBpPVtdLHI9dGhpcy5jdXJyZW50U3RhdGVzLG89dC5sZW5ndGgsYT1vPT09ci5sZW5ndGg7aWYoYSlmb3IodmFyIHM9MDtzPG87cysrKWlmKHRbc10hPT1yW3NdKXthPSExO2JyZWFrfWlmKGEpcmV0dXJuO2ZvcihzPTA7czxvO3MrKyl7dmFyIGw9dFtzXSx1PXZvaWQgMDt0aGlzLnN0YXRlUHJveHkmJih1PXRoaXMuc3RhdGVQcm94eShsLHQpKSx1fHwodT10aGlzLnN0YXRlc1tsXSksdSYmaS5wdXNoKHUpfXZhciBoPWlbby0xXSxjPSEhKGgmJmguaG92ZXJMYXllcnx8bik7YyYmdGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITApO3ZhciBwPXRoaXMuX21lcmdlU3RhdGVzKGkpLGQ9dGhpcy5zdGF0ZVRyYW5zaXRpb247dGhpcy5zYXZlQ3VycmVudFRvTm9ybWFsU3RhdGUocCksdGhpcy5fYXBwbHlTdGF0ZU9iaih0LmpvaW4oIiwiKSxwLHRoaXMuX25vcm1hbFN0YXRlLCExLCFlJiYhdGhpcy5fX2luSG92ZXImJmQmJmQuZHVyYXRpb24+MCxkKTt2YXIgZj10aGlzLl90ZXh0Q29udGVudCxnPXRoaXMuX3RleHRHdWlkZTtmJiZmLnVzZVN0YXRlcyh0LGUsYyksZyYmZy51c2VTdGF0ZXModCxlLGMpLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHMoKSx0aGlzLmN1cnJlbnRTdGF0ZXM9dC5zbGljZSgpLHRoaXMubWFya1JlZHJhdygpLCFjJiZ0aGlzLl9faW5Ib3ZlciYmKHRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCExKSx0aGlzLl9fZGlydHkmPS0yKX1lbHNlIHRoaXMuY2xlYXJTdGF0ZXMoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuYW5pbWF0b3JzW3RdO2UudGFyZ2V0TmFtZSYmZS5jaGFuZ2VUYXJnZXQodGhpc1tlLnRhcmdldE5hbWVdKX19LHQucHJvdG90eXBlLnJlbW92ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPUQodGhpcy5jdXJyZW50U3RhdGVzLHQpO2lmKGU+PTApe3ZhciBuPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpO24uc3BsaWNlKGUsMSksdGhpcy51c2VTdGF0ZXMobil9fSx0LnByb3RvdHlwZS5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpLHI9RChpLHQpLG89RChpLGUpPj0wO3I+PTA/bz9pLnNwbGljZShyLDEpOmlbcl09ZTpuJiYhbyYmaS5wdXNoKGUpLHRoaXMudXNlU3RhdGVzKGkpfSx0LnByb3RvdHlwZS50b2dnbGVTdGF0ZT1mdW5jdGlvbih0LGUpe2U/dGhpcy51c2VTdGF0ZSh0LCEwKTp0aGlzLnJlbW92ZVN0YXRlKHQpfSx0LnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49e30saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO0kobixyKSxyLnRleHRDb25maWcmJkkoZT1lfHx7fSxyLnRleHRDb25maWcpfXJldHVybiBlJiYobi50ZXh0Q29uZmlnPWUpLG59LHQucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT0hKGUmJmkpO2UmJmUudGV4dENvbmZpZz8odGhpcy50ZXh0Q29uZmlnPUkoe30saT90aGlzLnRleHRDb25maWc6bi50ZXh0Q29uZmlnKSxJKHRoaXMudGV4dENvbmZpZyxlLnRleHRDb25maWcpKTphJiZuLnRleHRDb25maWcmJih0aGlzLnRleHRDb25maWc9bi50ZXh0Q29uZmlnKTtmb3IodmFyIHM9e30sbD0hMSx1PTA7dTxEaS5sZW5ndGg7dSsrKXt2YXIgaD1EaVt1XSxjPXImJkFpW2hdO2UmJm51bGwhPWVbaF0/Yz8obD0hMCxzW2hdPWVbaF0pOnRoaXNbaF09ZVtoXTphJiZudWxsIT1uW2hdJiYoYz8obD0hMCxzW2hdPW5baF0pOnRoaXNbaF09bltoXSl9aWYoIXIpZm9yKHU9MDt1PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt1Kyspe3ZhciBwPXRoaXMuYW5pbWF0b3JzW3VdLGQ9cC50YXJnZXROYW1lO3AuX19jaGFuZ2VGaW5hbFZhbHVlKGQ/KGV8fG4pW2RdOmV8fG4pfWwmJnRoaXMuX3RyYW5zaXRpb25TdGF0ZSh0LHMsbyl9LHQucHJvdG90eXBlLl9hdHRhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7aWYodC5fX3pyJiYhdC5fX2hvc3RUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJUZXh0IGVsZW1lbnQgaGFzIGJlZW4gYWRkZWQgdG8genJlbmRlci4iKTtpZih0PT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoIlJlY3Vyc2l2ZSBjb21wb25lbnQgYXR0YWNobWVudC4iKTt2YXIgZT10aGlzLl9fenI7ZSYmdC5hZGRTZWxmVG9acihlKSx0Ll9fenI9ZSx0Ll9faG9zdFRhcmdldD10aGlzfSx0LnByb3RvdHlwZS5fZGV0YWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3QuX196ciYmdC5yZW1vdmVTZWxmRnJvbVpyKHQuX196ciksdC5fX3pyPW51bGwsdC5fX2hvc3RUYXJnZXQ9bnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcFBhdGh9LHQucHJvdG90eXBlLnNldENsaXBQYXRoPWZ1bmN0aW9uKHQpe3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aCE9PXQmJnRoaXMucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fY2xpcFBhdGg9dCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlQ2xpcFBhdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jbGlwUGF0aDt0JiYodGhpcy5fZGV0YWNoQ29tcG9uZW50KHQpLHRoaXMuX2NsaXBQYXRoPW51bGwsdGhpcy5tYXJrUmVkcmF3KCkpfSx0LnByb3RvdHlwZS5nZXRUZXh0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0Q29udGVudH0sdC5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dENvbnRlbnQ7aWYoZSE9PXQpe2lmKGUmJmUhPT10JiZ0aGlzLnJlbW92ZVRleHRDb250ZW50KCksdC5fX3pyJiYhdC5fX2hvc3RUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJUZXh0IGVsZW1lbnQgaGFzIGJlZW4gYWRkZWQgdG8genJlbmRlci4iKTt0LmF0dGFjaGVkVHJhbnNmb3JtPW5ldyBvaSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dENvbnRlbnQ9dCx0aGlzLm1hcmtSZWRyYXcoKX19LHQucHJvdG90eXBlLnNldFRleHRDb25maWc9ZnVuY3Rpb24odCl7dGhpcy50ZXh0Q29uZmlnfHwodGhpcy50ZXh0Q29uZmlnPXt9KSxJKHRoaXMudGV4dENvbmZpZyx0KSx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlVGV4dENvbmZpZz1mdW5jdGlvbigpe3RoaXMudGV4dENvbmZpZz1udWxsLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5yZW1vdmVUZXh0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RleHRDb250ZW50O3QmJih0LmF0dGFjaGVkVHJhbnNmb3JtPW51bGwsdGhpcy5fZGV0YWNoQ29tcG9uZW50KHQpLHRoaXMuX3RleHRDb250ZW50PW51bGwsdGhpcy5faW5uZXJUZXh0RGVmYXVsdFN0eWxlPW51bGwsdGhpcy5tYXJrUmVkcmF3KCkpfSx0LnByb3RvdHlwZS5nZXRUZXh0R3VpZGVMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHRHdWlkZX0sdC5wcm90b3R5cGUuc2V0VGV4dEd1aWRlTGluZT1mdW5jdGlvbih0KXt0aGlzLl90ZXh0R3VpZGUmJnRoaXMuX3RleHRHdWlkZSE9PXQmJnRoaXMucmVtb3ZlVGV4dEd1aWRlTGluZSgpLHRoaXMuX2F0dGFjaENvbXBvbmVudCh0KSx0aGlzLl90ZXh0R3VpZGU9dCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlVGV4dEd1aWRlTGluZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RleHRHdWlkZTt0JiYodGhpcy5fZGV0YWNoQ29tcG9uZW50KHQpLHRoaXMuX3RleHRHdWlkZT1udWxsLHRoaXMubWFya1JlZHJhdygpKX0sdC5wcm90b3R5cGUubWFya1JlZHJhdz1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eXw9MTt2YXIgdD10aGlzLl9fenI7dCYmKHRoaXMuX19pbkhvdmVyP3QucmVmcmVzaEhvdmVyKCk6dC5yZWZyZXNoKCkpLHRoaXMuX19ob3N0VGFyZ2V0JiZ0aGlzLl9faG9zdFRhcmdldC5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLl90b2dnbGVIb3ZlckxheWVyRmxhZz1mdW5jdGlvbih0KXt0aGlzLl9faW5Ib3Zlcj10O3ZhciBlPXRoaXMuX3RleHRDb250ZW50LG49dGhpcy5fdGV4dEd1aWRlO2UmJihlLl9faW5Ib3Zlcj10KSxuJiYobi5fX2luSG92ZXI9dCl9LHQucHJvdG90eXBlLmFkZFNlbGZUb1pyPWZ1bmN0aW9uKHQpe3RoaXMuX196cj10O3ZhciBlPXRoaXMuYW5pbWF0b3JzO2lmKGUpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5hbmltYXRpb24uYWRkQW5pbWF0b3IoZVtuXSk7dGhpcy5fY2xpcFBhdGgmJnRoaXMuX2NsaXBQYXRoLmFkZFNlbGZUb1pyKHQpLHRoaXMuX3RleHRDb250ZW50JiZ0aGlzLl90ZXh0Q29udGVudC5hZGRTZWxmVG9acih0KSx0aGlzLl90ZXh0R3VpZGUmJnRoaXMuX3RleHRHdWlkZS5hZGRTZWxmVG9acih0KX0sdC5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbih0KXt0aGlzLl9fenI9bnVsbDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQuYW5pbWF0aW9uLnJlbW92ZUFuaW1hdG9yKGVbbl0pO3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aC5yZW1vdmVTZWxmRnJvbVpyKHQpLHRoaXMuX3RleHRDb250ZW50JiZ0aGlzLl90ZXh0Q29udGVudC5yZW1vdmVTZWxmRnJvbVpyKHQpLHRoaXMuX3RleHRHdWlkZSYmdGhpcy5fdGV4dEd1aWRlLnJlbW92ZVNlbGZGcm9tWnIodCl9LHQucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10P3RoaXNbdF06dGhpcztpZihuKXt2YXIgaT1uZXcgdm4obixlKTtyZXR1cm4gdGhpcy5hZGRBbmltYXRvcihpLHQpLGl9YignUHJvcGVydHkgIicrdCsnIiBpcyBub3QgZXhpc3RlZCBpbiBlbGVtZW50ICcrdGhpcy5pZCl9LHQucHJvdG90eXBlLmFkZEFuaW1hdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX3pyLGk9dGhpczt0LmR1cmluZygoZnVuY3Rpb24oKXtpLnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKX0pKS5kb25lKChmdW5jdGlvbigpe3ZhciBlPWkuYW5pbWF0b3JzLG49RChlLHQpO24+PTAmJmUuc3BsaWNlKG4sMSl9KSksdGhpcy5hbmltYXRvcnMucHVzaCh0KSxuJiZuLmFuaW1hdGlvbi5hZGRBbmltYXRvcih0KSxuJiZuLndha2VVcCgpfSx0LnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnN0b3BBbmltYXRpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5hbmltYXRvcnMsaT1uLmxlbmd0aCxyPVtdLG89MDtvPGk7bysrKXt2YXIgYT1uW29dO3QmJnQhPT1hLnNjb3BlP3IucHVzaChhKTphLnN0b3AoZSl9cmV0dXJuIHRoaXMuYW5pbWF0b3JzPXIsdGhpc30sdC5wcm90b3R5cGUuYW5pbWF0ZVRvPWZ1bmN0aW9uKHQsZSxuKXtPaSh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUuYW5pbWF0ZUZyb209ZnVuY3Rpb24odCxlLG4pe09pKHRoaXMsdCxlLG4sITApfSx0LnByb3RvdHlwZS5fdHJhbnNpdGlvblN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj1PaSh0aGlzLGUsbixpKSxvPTA7bzxyLmxlbmd0aDtvKyspcltvXS5fX2Zyb21TdGF0ZVRyYW5zaXRpb249dH0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFBhaW50UmVjdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0LmluaXREZWZhdWx0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZTtlLnR5cGU9ImVsZW1lbnQiLGUubmFtZT0iIixlLmlnbm9yZT0hMSxlLnNpbGVudD0hMSxlLmlzR3JvdXA9ITEsZS5kcmFnZ2FibGU9ITEsZS5kcmFnZ2luZz0hMSxlLmlnbm9yZUNsaXA9ITEsZS5fX2luSG92ZXI9ITEsZS5fX2RpcnR5PTE7dmFyIG49e307ZnVuY3Rpb24gaSh0LGUsaSl7blt0K2UraV18fChjb25zb2xlLndhcm4oIkRFUFJFQ0FURUQ6ICciK3QrIicgaGFzIGJlZW4gZGVwcmVjYXRlZC4gdXNlICciK2UrIicsICciK2krIicgaW5zdGVhZCIpLG5bdCtlK2ldPSEwKX1mdW5jdGlvbiByKHQsbixyLG8pe2Z1bmN0aW9uIGEodCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtyXX0sc2V0OmZ1bmN0aW9uKGUpe3Rbcl09ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtvXX0sc2V0OmZ1bmN0aW9uKGUpe3Rbb109ZX19KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6ZnVuY3Rpb24oKXsoaSh0LHIsbyksdGhpc1tuXSl8fGEodGhpcyx0aGlzW25dPVtdKTtyZXR1cm4gdGhpc1tuXX0sc2V0OmZ1bmN0aW9uKGUpe2kodCxyLG8pLHRoaXNbcl09ZVswXSx0aGlzW29dPWVbMV0sdGhpc1tuXT1lLGEodGhpcyxlKX19KX1PYmplY3QuZGVmaW5lUHJvcGVydHkmJighYS5icm93c2VyLmllfHxhLmJyb3dzZXIudmVyc2lvbj44KSYmKHIoInBvc2l0aW9uIiwiX2xlZ2FjeVBvcyIsIngiLCJ5Iikscigic2NhbGUiLCJfbGVnYWN5U2NhbGUiLCJzY2FsZVgiLCJzY2FsZVkiKSxyKCJvcmlnaW4iLCJfbGVnYWN5T3JpZ2luIiwib3JpZ2luWCIsIm9yaWdpblkiKSl9KCksdH0oKTtmdW5jdGlvbiBPaSh0LGUsbixpLHIpe3ZhciBvPVtdO3ppKHQsIiIsdCxlLG49bnx8e30saSxvLHIpO3ZhciBhPW8ubGVuZ3RoLHM9ITEsbD1uLmRvbmUsdT1uLmFib3J0ZWQsaD1mdW5jdGlvbigpe3M9ITAsLS1hPD0wJiYocz9sJiZsKCk6dSYmdSgpKX0sYz1mdW5jdGlvbigpey0tYTw9MCYmKHM/bCYmbCgpOnUmJnUoKSl9O2F8fGwmJmwoKSxvLmxlbmd0aD4wJiZuLmR1cmluZyYmb1swXS5kdXJpbmcoKGZ1bmN0aW9uKHQsZSl7bi5kdXJpbmcoZSl9KSk7Zm9yKHZhciBwPTA7cDxvLmxlbmd0aDtwKyspe3ZhciBkPW9bcF07aCYmZC5kb25lKGgpLGMmJmQuYWJvcnRlZChjKSxkLnN0YXJ0KG4uZWFzaW5nLG4uZm9yY2UpfXJldHVybiBvfWZ1bmN0aW9uIFJpKHQsZSxuKXtmb3IodmFyIGk9MDtpPG47aSsrKXRbaV09ZVtpXX1mdW5jdGlvbiBOaSh0LGUsbil7aWYoayhlW25dKSlpZihrKHRbbl0pfHwodFtuXT1bXSksWihlW25dKSl7dmFyIGk9ZVtuXS5sZW5ndGg7dFtuXS5sZW5ndGghPT1pJiYodFtuXT1uZXcgZVtuXS5jb25zdHJ1Y3RvcihpKSxSaSh0W25dLGVbbl0saSkpfWVsc2V7dmFyIHI9ZVtuXSxvPXRbbl0sYT1yLmxlbmd0aDtpZihrKHJbMF0pKWZvcih2YXIgcz1yWzBdLmxlbmd0aCxsPTA7bDxhO2wrKylvW2xdP1JpKG9bbF0scltsXSxzKTpvW2xdPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJbbF0pO2Vsc2UgUmkobyxyLGEpO28ubGVuZ3RoPXIubGVuZ3RofWVsc2UgdFtuXT1lW25dfWZ1bmN0aW9uIHppKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPVtdLHU9W10saD1FKGkpLGM9ci5kdXJhdGlvbixwPXIuZGVsYXksZD1yLmFkZGl0aXZlLGY9ci5zZXRUb0ZpbmFsLGc9IVgobykseT0wO3k8aC5sZW5ndGg7eSsrKXtpZihudWxsIT1uW0k9aFt5XV0mJm51bGwhPWlbSV0mJihnfHxvW0ldKSlpZihYKGlbSV0pJiYhayhpW0ldKSl7aWYoZSl7c3x8KG5bSV09aVtJXSx0LnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKSk7Y29udGludWV9emkodCxJLG5bSV0saVtJXSxyLG8mJm9bSV0sYSxzKX1lbHNlIGwucHVzaChJKSx1LnB1c2goSSk7ZWxzZSBzfHwobltJXT1pW0ldLHQudXBkYXRlRHVyaW5nQW5pbWF0aW9uKGUpLHUucHVzaChJKSl9dmFyIHY9bC5sZW5ndGg7aWYodj4wfHxyLmZvcmNlJiYhYS5sZW5ndGgpe2Zvcih2YXIgbT10LmFuaW1hdG9ycyxfPVtdLHg9MDt4PG0ubGVuZ3RoO3grKyltW3hdLnRhcmdldE5hbWU9PT1lJiZfLnB1c2gobVt4XSk7aWYoIWQmJl8ubGVuZ3RoKWZvcih4PTA7eDxfLmxlbmd0aDt4Kyspe2lmKF9beF0uc3RvcFRyYWNrcyh1KSl7dmFyIGI9RChtLF9beF0pO20uc3BsaWNlKGIsMSl9fXZhciB3PXZvaWQgMCxTPXZvaWQgMCxNPXZvaWQgMDtpZihzKXtTPXt9LGYmJih3PXt9KTtmb3IoeD0wO3g8djt4Kyspe1NbST1sW3hdXT1uW0ldLGY/d1tJXT1pW0ldOm5bSV09aVtJXX19ZWxzZSBpZihmKXtNPXt9O2Zvcih4PTA7eDx2O3grKyl7dmFyIEk7TVtJPWxbeF1dPWNuKG5bSV0pLE5pKG4saSxJKX19dmFyIFQ9bmV3IHZuKG4sITEsZD9fOm51bGwpO1QudGFyZ2V0TmFtZT1lLHIuc2NvcGUmJihULnNjb3BlPXIuc2NvcGUpLGYmJncmJlQud2hlbldpdGhLZXlzKDAsdyxsKSxNJiZULndoZW5XaXRoS2V5cygwLE0sbCksVC53aGVuV2l0aEtleXMobnVsbD09Yz81MDA6YyxzP1M6aSxsKS5kZWxheShwfHwwKSx0LmFkZEFuaW1hdG9yKFQsZSksYS5wdXNoKFQpfX1MKFBpLEZ0KSxMKFBpLG9pKTt2YXIgRWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaXNHcm91cD0hMCxuLl9jaGlsZHJlbj1bXSxuLmF0dHIoZSksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNoaWxkcmVuUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufSxlLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxlLnByb3RvdHlwZS5jaGlsZEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sZS5wcm90b3R5cGUuY2hpbGRPZk5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT10KXJldHVybiBlW25dfSxlLnByb3RvdHlwZS5jaGlsZENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHQmJih0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdC5fX2hvc3RUYXJnZXQpKXRocm93IlRoaXMgZWxlbWVuZXQgaGFzIGJlZW4gdXNlZCBhcyBhbiBhdHRhY2htZW50IjtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYWRkQmVmb3JlPWZ1bmN0aW9uKHQsZSl7aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmZSYmZS5wYXJlbnQ9PT10aGlzKXt2YXIgbj10aGlzLl9jaGlsZHJlbixpPW4uaW5kZXhPZihlKTtpPj0wJiYobi5zcGxpY2UoaSwwLHQpLHRoaXMuX2RvQWRkKHQpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucmVwbGFjZUF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY2hpbGRyZW4saT1uW2VdO2lmKHQmJnQhPT10aGlzJiZ0LnBhcmVudCE9PXRoaXMmJnQhPT1pKXtuW2VdPXQsaS5wYXJlbnQ9bnVsbDt2YXIgcj10aGlzLl9fenI7ciYmaS5yZW1vdmVTZWxmRnJvbVpyKHIpLHRoaXMuX2RvQWRkKHQpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fZG9BZGQ9ZnVuY3Rpb24odCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KSx0LnBhcmVudD10aGlzO3ZhciBlPXRoaXMuX196cjtlJiZlIT09dC5fX3pyJiZ0LmFkZFNlbGZUb1pyKGUpLGUmJmUucmVmcmVzaCgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyLG49dGhpcy5fY2hpbGRyZW4saT1EKG4sdCk7cmV0dXJuIGk8MHx8KG4uc3BsaWNlKGksMSksdC5wYXJlbnQ9bnVsbCxlJiZ0LnJlbW92ZVNlbGZGcm9tWnIoZSksZSYmZS5yZWZyZXNoKCkpLHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9jaGlsZHJlbixlPXRoaXMuX196cixuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07ZSYmaS5yZW1vdmVTZWxmRnJvbVpyKGUpLGkucGFyZW50PW51bGx9cmV0dXJuIHQubGVuZ3RoPTAsdGhpc30sZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2NoaWxkcmVuLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0LmNhbGwoZSxyLGkpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5fY2hpbGRyZW5bbl0scj10LmNhbGwoZSxpKTtpLmlzR3JvdXAmJiFyJiZpLnRyYXZlcnNlKHQsZSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmFkZFNlbGZUb1pyPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmFkZFNlbGZUb1pyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspe3RoaXMuX2NoaWxkcmVuW25dLmFkZFNlbGZUb1pyKGUpfX0sZS5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspe3RoaXMuX2NoaWxkcmVuW25dLnJlbW92ZVNlbGZGcm9tWnIoZSl9fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBnaSgwLDAsMCwwKSxuPXR8fHRoaXMuX2NoaWxkcmVuLGk9W10scj1udWxsLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZighYS5pZ25vcmUmJiFhLmludmlzaWJsZSl7dmFyIHM9YS5nZXRCb3VuZGluZ1JlY3QoKSxsPWEuZ2V0TG9jYWxUcmFuc2Zvcm0oaSk7bD8oZ2kuYXBwbHlUcmFuc2Zvcm0oZSxzLGwpLChyPXJ8fGUuY2xvbmUoKSkudW5pb24oZSkpOihyPXJ8fHMuY2xvbmUoKSkudW5pb24ocyl9fXJldHVybiByfHxlfSxlfShQaSk7RWkucHJvdG90eXBlLnR5cGU9Imdyb3VwIjsKLyohCiAgICAqIFpSZW5kZXIsIGEgaGlnaCBwZXJmb3JtYW5jZSAyZCBkcmF3aW5nIGxpYnJhcnkuCiAgICAqCiAgICAqIENvcHlyaWdodCAoYykgMjAxMywgQmFpZHUgSW5jLgogICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLgogICAgKgogICAgKiBMSUNFTlNFCiAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lY29tZmUvenJlbmRlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dAogICAgKi8KdmFyIFZpPSFhLmNhbnZhc1N1cHBvcnRlZCxCaT17fSxGaT17fTt2YXIgR2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX3NsZWVwQWZ0ZXJTdGlsbD0xMCx0aGlzLl9zdGlsbEZyYW1lQWNjdW09MCx0aGlzLl9uZWVkc1JlZnJlc2g9ITAsdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITAsdGhpcy5fZGFya01vZGU9ITEsbj1ufHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgcj1uZXcgU2Usbz1uLnJlbmRlcmVyfHwiY2FudmFzIjtpZihWaSl0aHJvdyBuZXcgRXJyb3IoIklFOCBzdXBwb3J0IGhhcyBiZWVuIGRyb3BwZWQgc2luY2UgNS4wIik7aWYoQmlbb118fChvPUUoQmkpWzBdKSwhQmlbb10pdGhyb3cgbmV3IEVycm9yKCJSZW5kZXJlciAnIitvKyInIGlzIG5vdCBpbXBvcnRlZC4gUGxlYXNlIGltcG9ydCBpdCBmaXJzdC4iKTtuLnVzZURpcnR5UmVjdD1udWxsIT1uLnVzZURpcnR5UmVjdCYmbi51c2VEaXJ0eVJlY3Q7dmFyIHM9bmV3IEJpW29dKGUscixuLHQpO3RoaXMuc3RvcmFnZT1yLHRoaXMucGFpbnRlcj1zO3ZhciBsPWEubm9kZXx8YS53b3JrZXI/bnVsbDpuZXcgTm4ocy5nZXRWaWV3cG9ydFJvb3QoKSxzLnJvb3QpO3RoaXMuaGFuZGxlcj1uZXcgY2UocixzLGwscy5yb290KSx0aGlzLmFuaW1hdGlvbj1uZXcgbW4oe3N0YWdlOnt1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fZmx1c2goITApfX19KSx0aGlzLmFuaW1hdGlvbi5zdGFydCgpfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dCYmKHRoaXMuc3RvcmFnZS5hZGRSb290KHQpLHQuYWRkU2VsZlRvWnIodGhpcyksdGhpcy5yZWZyZXNoKCkpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCYmKHRoaXMuc3RvcmFnZS5kZWxSb290KHQpLHQucmVtb3ZlU2VsZkZyb21acih0aGlzKSx0aGlzLnJlZnJlc2goKSl9LHQucHJvdG90eXBlLmNvbmZpZ0xheWVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5wYWludGVyLmNvbmZpZ0xheWVyJiZ0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXIodCxlKSx0aGlzLnJlZnJlc2goKX0sdC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3ImJnRoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodCksdGhpcy5yZWZyZXNoKCksdGhpcy5fYmFja2dyb3VuZENvbG9yPXQsdGhpcy5fZGFya01vZGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBRZSh0LDEpPC40O2lmKHQuY29sb3JTdG9wcyl7Zm9yKHZhciBlPXQuY29sb3JTdG9wcyxuPTAsaT1lLmxlbmd0aCxyPTA7cjxpO3IrKyluKz1RZShlW3JdLmNvbG9yLDEpO3JldHVybihuLz1pKTwuNH1yZXR1cm4hMX0odCl9LHQucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3J9LHQucHJvdG90eXBlLnNldERhcmtNb2RlPWZ1bmN0aW9uKHQpe3RoaXMuX2RhcmtNb2RlPXR9LHQucHJvdG90eXBlLmlzRGFya01vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGFya01vZGV9LHQucHJvdG90eXBlLnJlZnJlc2hJbW1lZGlhdGVseT1mdW5jdGlvbih0KXt0fHx0aGlzLmFuaW1hdGlvbi51cGRhdGUoITApLHRoaXMuX25lZWRzUmVmcmVzaD0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaCgpLHRoaXMuX25lZWRzUmVmcmVzaD0hMX0sdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMCx0aGlzLmFuaW1hdGlvbi5zdGFydCgpfSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3RoaXMuX2ZsdXNoKCExKX0sdC5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKHQpe3ZhciBlLG49KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5fbmVlZHNSZWZyZXNoJiYoZT0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSh0KSksdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXImJihlPSEwLHRoaXMucmVmcmVzaEhvdmVySW1tZWRpYXRlbHkoKSk7dmFyIGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT8odGhpcy5fc3RpbGxGcmFtZUFjY3VtPTAsdGhpcy50cmlnZ2VyKCJyZW5kZXJlZCIse2VsYXBzZWRUaW1lOmktbn0pKTp0aGlzLl9zbGVlcEFmdGVyU3RpbGw+MCYmKHRoaXMuX3N0aWxsRnJhbWVBY2N1bSsrLHRoaXMuX3N0aWxsRnJhbWVBY2N1bT50aGlzLl9zbGVlcEFmdGVyU3RpbGwmJnRoaXMuYW5pbWF0aW9uLnN0b3AoKSl9LHQucHJvdG90eXBlLnNldFNsZWVwQWZ0ZXJTdGlsbD1mdW5jdGlvbih0KXt0aGlzLl9zbGVlcEFmdGVyU3RpbGw9dH0sdC5wcm90b3R5cGUud2FrZVVwPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uc3RhcnQoKSx0aGlzLl9zdGlsbEZyYW1lQWNjdW09MH0sdC5wcm90b3R5cGUuYWRkSG92ZXI9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5yZW1vdmVIb3Zlcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsZWFySG92ZXI9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlZnJlc2hIb3Zlcj1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSEwfSx0LnByb3RvdHlwZS5yZWZyZXNoSG92ZXJJbW1lZGlhdGVseT1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSExLHRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXImJiJjYW52YXMiPT09dGhpcy5wYWludGVyLmdldFR5cGUoKSYmdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlcigpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnBhaW50ZXIucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuaGFuZGxlci5yZXNpemUoKX0sdC5wcm90b3R5cGUuY2xlYXJBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5jbGVhcigpfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0V2lkdGgoKX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRIZWlnaHQoKX0sdC5wcm90b3R5cGUucGF0aFRvSW1hZ2U9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnBhaW50ZXIucGF0aFRvSW1hZ2UpcmV0dXJuIHRoaXMucGFpbnRlci5wYXRoVG9JbWFnZSh0LGUpfSx0LnByb3RvdHlwZS5zZXRDdXJzb3JTdHlsZT1mdW5jdGlvbih0KXt0aGlzLmhhbmRsZXIuc2V0Q3Vyc29yU3R5bGUodCl9LHQucHJvdG90eXBlLmZpbmRIb3Zlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhbmRsZXIuZmluZEhvdmVyKHQsZSl9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5oYW5kbGVyLm9uKHQsZSxuKSx0aGlzfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIub2ZmKHQsZSl9LHQucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIudHJpZ2dlcih0LGUpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0Um9vdHMoKSxlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXWluc3RhbmNlb2YgRWkmJnRbZV0ucmVtb3ZlU2VsZkZyb21acih0aGlzKTt0aGlzLnN0b3JhZ2UuZGVsQWxsUm9vdHMoKSx0aGlzLnBhaW50ZXIuY2xlYXIoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuYW5pbWF0aW9uLnN0b3AoKSx0aGlzLmNsZWFyKCksdGhpcy5zdG9yYWdlLmRpc3Bvc2UoKSx0aGlzLnBhaW50ZXIuZGlzcG9zZSgpLHRoaXMuaGFuZGxlci5kaXNwb3NlKCksdGhpcy5hbmltYXRpb249dGhpcy5zdG9yYWdlPXRoaXMucGFpbnRlcj10aGlzLmhhbmRsZXI9bnVsbCx0PXRoaXMuaWQsZGVsZXRlIEZpW3RdfSx0fSgpO2Z1bmN0aW9uIEhpKHQsZSl7dmFyIG49bmV3IEdpKHgoKSx0LGUpO3JldHVybiBGaVtuLmlkXT1uLG59ZnVuY3Rpb24gV2kodCxlKXtCaVt0XT1lfXZhciBVaT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpbml0OkhpLGRpc3Bvc2U6ZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9LGRpc3Bvc2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gRmkpRmkuaGFzT3duUHJvcGVydHkodCkmJkZpW3RdLmRpc3Bvc2UoKTtGaT17fX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIEZpW3RdfSxyZWdpc3RlclBhaW50ZXI6V2ksdmVyc2lvbjoiNS4xLjEifSksWGk9MWUtNDtmdW5jdGlvbiBZaSh0LGUsbixpKXt2YXIgcj1lWzBdLG89ZVsxXSxhPW5bMF0scz1uWzFdLGw9by1yLHU9cy1hO2lmKDA9PT1sKXJldHVybiAwPT09dT9hOihhK3MpLzI7aWYoaSlpZihsPjApe2lmKHQ8PXIpcmV0dXJuIGE7aWYodD49bylyZXR1cm4gc31lbHNle2lmKHQ+PXIpcmV0dXJuIGE7aWYodDw9bylyZXR1cm4gc31lbHNle2lmKHQ9PT1yKXJldHVybiBhO2lmKHQ9PT1vKXJldHVybiBzfXJldHVybih0LXIpL2wqdSthfWZ1bmN0aW9uIFppKHQsZSl7c3dpdGNoKHQpe2Nhc2UiY2VudGVyIjpjYXNlIm1pZGRsZSI6dD0iNTAlIjticmVhaztjYXNlImxlZnQiOmNhc2UidG9wIjp0PSIwJSI7YnJlYWs7Y2FzZSJyaWdodCI6Y2FzZSJib3R0b20iOnQ9IjEwMCUifXJldHVybiJzdHJpbmciPT10eXBlb2YgdD8obj10LG4ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpKS5tYXRjaCgvJSQvKT9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6bnVsbD09dD9OYU46K3Q7dmFyIG59ZnVuY3Rpb24gamkodCxlLG4pe3JldHVybiBudWxsPT1lJiYoZT0xMCksZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDIwKSx0PSgrdCkudG9GaXhlZChlKSxuP3Q6K3R9ZnVuY3Rpb24gcWkodCl7cmV0dXJuIHQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLHR9ZnVuY3Rpb24gS2kodCl7aWYodD0rdCxpc05hTih0KSlyZXR1cm4gMDtpZih0PjFlLTE0KWZvcih2YXIgZT0xLG49MDtuPDE1O24rKyxlKj0xMClpZihNYXRoLnJvdW5kKHQqZSkvZT09PXQpcmV0dXJuIG47cmV0dXJuICRpKHQpfWZ1bmN0aW9uICRpKHQpe3ZhciBlPXQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLG49ZS5pbmRleE9mKCJlIiksaT1uPjA/K2Uuc2xpY2UobisxKTowLHI9bj4wP246ZS5sZW5ndGgsbz1lLmluZGV4T2YoIi4iKSxhPW88MD8wOnItMS1vO3JldHVybiBNYXRoLm1heCgwLGEtaSl9ZnVuY3Rpb24gSmkodCxlKXt2YXIgbj1NYXRoLmxvZyxpPU1hdGguTE4xMCxyPU1hdGguZmxvb3Iobih0WzFdLXRbMF0pL2kpLG89TWF0aC5yb3VuZChuKE1hdGguYWJzKGVbMV0tZVswXSkpL2kpLGE9TWF0aC5taW4oTWF0aC5tYXgoLXIrbywwKSwyMCk7cmV0dXJuIGlzRmluaXRlKGEpP2E6MjB9ZnVuY3Rpb24gUWkodCxlLG4pe2lmKCF0W2VdKXJldHVybiAwO3ZhciBpPVIodCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCsoaXNOYU4oZSk/MDplKX0pLDApO2lmKDA9PT1pKXJldHVybiAwO2Zvcih2YXIgcj1NYXRoLnBvdygxMCxuKSxvPU8odCwoZnVuY3Rpb24odCl7cmV0dXJuKGlzTmFOKHQpPzA6dCkvaSpyKjEwMH0pKSxhPTEwMCpyLHM9TyhvLChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0KX0pKSxsPVIocywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCksdT1PKG8sKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtc1tlXX0pKTtsPGE7KXtmb3IodmFyIGg9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLGM9bnVsbCxwPTAsZD11Lmxlbmd0aDtwPGQ7KytwKXVbcF0+aCYmKGg9dVtwXSxjPXApOysrc1tjXSx1W2NdPTAsKytsfXJldHVybiBzW2VdL3J9ZnVuY3Rpb24gdHIodCxlKXt2YXIgbj1NYXRoLm1heChLaSh0KSxLaShlKSksaT10K2U7cmV0dXJuIG4+MjA/aTpqaShpLG4pfXZhciBlcj05MDA3MTk5MjU0NzQwOTkxO2Z1bmN0aW9uIG5yKHQpe3ZhciBlPTIqTWF0aC5QSTtyZXR1cm4odCVlK2UpJWV9ZnVuY3Rpb24gaXIodCl7cmV0dXJuIHQ+LTFlLTQmJnQ8WGl9dmFyIHJyPS9eKD86KFxkezR9KSg/OlstXC9dKFxkezEsMn0pKD86Wy1cL10oXGR7MSwyfSkoPzpbVCBdKFxkezEsMn0pKD86OihcZHsxLDJ9KSg/OjooXGR7MSwyfSkoPzpbLixdKFxkKykpPyk/KT8oWnxbXCtcLV1cZFxkOj9cZFxkKT8pPyk/KT8pPyQvO2Z1bmN0aW9uIG9yKHQpe2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9cnIuZXhlYyh0KTtpZighZSlyZXR1cm4gbmV3IERhdGUoTmFOKTtpZihlWzhdKXt2YXIgbj0rZVs0XXx8MDtyZXR1cm4iWiIhPT1lWzhdLnRvVXBwZXJDYXNlKCkmJihuLT0rZVs4XS5zbGljZSgwLDMpKSxuZXcgRGF0ZShEYXRlLlVUQygrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsbiwrKGVbNV18fDApLCtlWzZdfHwwLCtlWzddfHwwKSl9cmV0dXJuIG5ldyBEYXRlKCtlWzFdLCsoZVsyXXx8MSktMSwrZVszXXx8MSwrZVs0XXx8MCwrKGVbNV18fDApLCtlWzZdfHwwLCtlWzddfHwwKX1yZXR1cm4gbnVsbD09dD9uZXcgRGF0ZShOYU4pOm5ldyBEYXRlKE1hdGgucm91bmQodCkpfWZ1bmN0aW9uIGFyKHQpe3JldHVybiBNYXRoLnBvdygxMCxzcih0KSl9ZnVuY3Rpb24gc3IodCl7aWYoMD09PXQpcmV0dXJuIDA7dmFyIGU9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMTApO3JldHVybiB0L01hdGgucG93KDEwLGUpPj0xMCYmZSsrLGV9ZnVuY3Rpb24gbHIodCxlKXt2YXIgbj1zcih0KSxpPU1hdGgucG93KDEwLG4pLHI9dC9pO3JldHVybiB0PShlP3I8MS41PzE6cjwyLjU/MjpyPDQ/MzpyPDc/NToxMDpyPDE/MTpyPDI/MjpyPDM/MzpyPDU/NToxMCkqaSxuPj0tMjA/K3QudG9GaXhlZChuPDA/LW46MCk6dH1mdW5jdGlvbiB1cih0LGUpe3ZhciBuPSh0Lmxlbmd0aC0xKSplKzEsaT1NYXRoLmZsb29yKG4pLHI9K3RbaS0xXSxvPW4taTtyZXR1cm4gbz9yK28qKHRbaV0tcik6cn1mdW5jdGlvbiBocih0KXt0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHModCxlLDApPy0xOjF9KSk7Zm9yKHZhciBlPS0xLzAsbj0xLGk9MDtpPHQubGVuZ3RoOyl7Zm9yKHZhciByPXRbaV0uaW50ZXJ2YWwsbz10W2ldLmNsb3NlLGE9MDthPDI7YSsrKXJbYV08PWUmJihyW2FdPWUsb1thXT1hPzE6MS1uKSxlPXJbYV0sbj1vW2FdO3JbMF09PT1yWzFdJiZvWzBdKm9bMV0hPTE/dC5zcGxpY2UoaSwxKTppKyt9cmV0dXJuIHQ7ZnVuY3Rpb24gcyh0LGUsbil7cmV0dXJuIHQuaW50ZXJ2YWxbbl08ZS5pbnRlcnZhbFtuXXx8dC5pbnRlcnZhbFtuXT09PWUuaW50ZXJ2YWxbbl0mJih0LmNsb3NlW25dLWUuY2xvc2Vbbl09PShuPy0xOjEpfHwhbiYmcyh0LGUsMSkpfX1mdW5jdGlvbiBjcih0KXt2YXIgZT1wYXJzZUZsb2F0KHQpO3JldHVybiBlPT10JiYoMCE9PWV8fCJzdHJpbmciIT10eXBlb2YgdHx8dC5pbmRleE9mKCJ4Iik8PTApP2U6TmFOfWZ1bmN0aW9uIHByKHQpe3JldHVybiFpc05hTihjcih0KSl9ZnVuY3Rpb24gZHIoKXtyZXR1cm4gTWF0aC5yb3VuZCg5Kk1hdGgucmFuZG9tKCkpfWZ1bmN0aW9uIGZyKHQsZSl7cmV0dXJuIDA9PT1lP3Q6ZnIoZSx0JWUpfWZ1bmN0aW9uIGdyKHQsZSl7cmV0dXJuIG51bGw9PXQ/ZTpudWxsPT1lP3Q6dCplL2ZyKHQsZSl9InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUubG9nO2Z1bmN0aW9uIHlyKHQpezB9ZnVuY3Rpb24gdnIodCl7dGhyb3cgbmV3IEVycm9yKHQpfXZhciBtcj0ic2VyaWVzXDAiLF9yPSJcMF9lY19cMCI7ZnVuY3Rpb24geHIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheT90Om51bGw9PXQ/W106W3RdfWZ1bmN0aW9uIGJyKHQsZSxuKXtpZih0KXt0W2VdPXRbZV18fHt9LHQuZW1waGFzaXM9dC5lbXBoYXNpc3x8e30sdC5lbXBoYXNpc1tlXT10LmVtcGhhc2lzW2VdfHx7fTtmb3IodmFyIGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspe3ZhciBvPW5baV07IXQuZW1waGFzaXNbZV0uaGFzT3duUHJvcGVydHkobykmJnRbZV0uaGFzT3duUHJvcGVydHkobykmJih0LmVtcGhhc2lzW2VdW29dPXRbZV1bb10pfX19dmFyIHdyPVsiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsInJpY2giLCJ0YWciLCJjb2xvciIsInRleHRCb3JkZXJDb2xvciIsInRleHRCb3JkZXJXaWR0aCIsIndpZHRoIiwiaGVpZ2h0IiwibGluZUhlaWdodCIsImFsaWduIiwidmVydGljYWxBbGlnbiIsImJhc2VsaW5lIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJ0ZXh0U2hhZG93Q29sb3IiLCJ0ZXh0U2hhZG93Qmx1ciIsInRleHRTaGFkb3dPZmZzZXRYIiwidGV4dFNoYWRvd09mZnNldFkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyJdO2Z1bmN0aW9uIFNyKHQpe3JldHVybiFYKHQpfHxGKHQpfHx0IGluc3RhbmNlb2YgRGF0ZT90OnQudmFsdWV9ZnVuY3Rpb24gTXIodCxlLG4pe3ZhciBpPSJub3JtYWxNZXJnZSI9PT1uLHI9InJlcGxhY2VNZXJnZSI9PT1uLG89InJlcGxhY2VBbGwiPT09bjt0PXR8fFtdLGU9KGV8fFtdKS5zbGljZSgpO3ZhciBhPWh0KCk7UChlLChmdW5jdGlvbih0LG4pe1godCl8fChlW25dPW51bGwpfSkpO3ZhciBzLGwsdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9W107aWYoInJlcGxhY2VBbGwiPT09bilyZXR1cm4gaTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvJiZudWxsIT1vLmlkJiZlLnNldChvLmlkLHIpLGkucHVzaCh7ZXhpc3Rpbmc6InJlcGxhY2VNZXJnZSI9PT1ufHxBcihvKT9udWxsOm8sbmV3T3B0aW9uOm51bGwsa2V5SW5mbzpudWxsLGJyYW5kTmV3Om51bGx9KX1yZXR1cm4gaX0odCxhLG4pO3JldHVybihpfHxyKSYmZnVuY3Rpb24odCxlLG4saSl7UChpLChmdW5jdGlvbihyLG8pe2lmKHImJm51bGwhPXIuaWQpe3ZhciBhPVRyKHIuaWQpLHM9bi5nZXQoYSk7aWYobnVsbCE9cyl7dmFyIGw9dFtzXTtydCghbC5uZXdPcHRpb24sJ0R1cGxpY2F0ZWQgb3B0aW9uIG9uIGlkICInK2ErJyIuJyksbC5uZXdPcHRpb249cixsLmV4aXN0aW5nPWVbc10saVtvXT1udWxsfX19KSl9KHUsdCxhLGUpLGkmJmZ1bmN0aW9uKHQsZSl7UChlLChmdW5jdGlvbihuLGkpe2lmKG4mJm51bGwhPW4ubmFtZSlmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXS5leGlzdGluZztpZighdFtyXS5uZXdPcHRpb24mJm8mJihudWxsPT1vLmlkfHxudWxsPT1uLmlkKSYmIUFyKG4pJiYhQXIobykmJklyKCJuYW1lIixvLG4pKXJldHVybiB0W3JdLm5ld09wdGlvbj1uLHZvaWQoZVtpXT1udWxsKX19KSl9KHUsZSksaXx8cj9mdW5jdGlvbih0LGUsbil7UChlLChmdW5jdGlvbihlKXtpZihlKXtmb3IodmFyIGkscj0wOyhpPXRbcl0pJiYoaS5uZXdPcHRpb258fEFyKGkuZXhpc3RpbmcpfHxpLmV4aXN0aW5nJiZudWxsIT1lLmlkJiYhSXIoImlkIixlLGkuZXhpc3RpbmcpKTspcisrO2k/KGkubmV3T3B0aW9uPWUsaS5icmFuZE5ldz1uKTp0LnB1c2goe25ld09wdGlvbjplLGJyYW5kTmV3Om4sZXhpc3Rpbmc6bnVsbCxrZXlJbmZvOm51bGx9KSxyKyt9fSkpfSh1LGUscik6byYmZnVuY3Rpb24odCxlKXtQKGUsKGZ1bmN0aW9uKGUpe3QucHVzaCh7bmV3T3B0aW9uOmUsYnJhbmROZXc6ITAsZXhpc3Rpbmc6bnVsbCxrZXlJbmZvOm51bGx9KX0pKX0odSxlKSxzPXUsbD1odCgpLFAocywoZnVuY3Rpb24odCl7dmFyIGU9dC5leGlzdGluZztlJiZsLnNldChlLmlkLHQpfSkpLFAocywoZnVuY3Rpb24odCl7dmFyIGU9dC5uZXdPcHRpb247cnQoIWV8fG51bGw9PWUuaWR8fCFsLmdldChlLmlkKXx8bC5nZXQoZS5pZCk9PT10LCJpZCBkdXBsaWNhdGVzOiAiKyhlJiZlLmlkKSksZSYmbnVsbCE9ZS5pZCYmbC5zZXQoZS5pZCx0KSwhdC5rZXlJbmZvJiYodC5rZXlJbmZvPXt9KX0pKSxQKHMsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leGlzdGluZyxpPXQubmV3T3B0aW9uLHI9dC5rZXlJbmZvO2lmKFgoaSkpe2lmKHIubmFtZT1udWxsIT1pLm5hbWU/VHIoaS5uYW1lKTpuP24ubmFtZTptcitlLG4pci5pZD1UcihuLmlkKTtlbHNlIGlmKG51bGwhPWkuaWQpci5pZD1UcihpLmlkKTtlbHNle3ZhciBvPTA7ZG97ci5pZD0iXDAiK3IubmFtZSsiXDAiK28rK313aGlsZShsLmdldChyLmlkKSl9bC5zZXQoci5pZCx0KX19KSksdX1mdW5jdGlvbiBJcih0LGUsbil7dmFyIGk9Q3IoZVt0XSxudWxsKSxyPUNyKG5bdF0sbnVsbCk7cmV0dXJuIG51bGwhPWkmJm51bGwhPXImJmk9PT1yfWZ1bmN0aW9uIFRyKHQpe3JldHVybiBDcih0LCIiKX1mdW5jdGlvbiBDcih0LGUpe2lmKG51bGw9PXQpcmV0dXJuIGU7dmFyIG49dHlwZW9mIHQ7cmV0dXJuInN0cmluZyI9PT1uP3Q6Im51bWJlciI9PT1ufHxXKHQpP3QrIiI6ZX1mdW5jdGlvbiBEcih0KXt2YXIgZT10Lm5hbWU7cmV0dXJuISghZXx8IWUuaW5kZXhPZihtcikpfWZ1bmN0aW9uIEFyKHQpe3JldHVybiB0JiZudWxsIT10LmlkJiYwPT09VHIodC5pZCkuaW5kZXhPZihfcil9ZnVuY3Rpb24gTHIodCxlKXtyZXR1cm4gbnVsbCE9ZS5kYXRhSW5kZXhJbnNpZGU/ZS5kYXRhSW5kZXhJbnNpZGU6bnVsbCE9ZS5kYXRhSW5kZXg/RihlLmRhdGFJbmRleCk/TyhlLmRhdGFJbmRleCwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZlJhd0luZGV4KGUpfSkpOnQuaW5kZXhPZlJhd0luZGV4KGUuZGF0YUluZGV4KTpudWxsIT1lLm5hbWU/RihlLm5hbWUpP08oZS5uYW1lLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmRleE9mTmFtZShlKX0pKTp0LmluZGV4T2ZOYW1lKGUubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIGtyKCl7dmFyIHQ9Il9fZWNfaW5uZXJfIitQcisrO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZVt0XXx8KGVbdF09e30pfX12YXIgUHI9ZHIoKTtmdW5jdGlvbiBPcih0LGUsbil7dmFyIGk9UnIoZSxuKSxyPWkubWFpblR5cGVTcGVjaWZpZWQsbz1pLnF1ZXJ5T3B0aW9uTWFwLGE9aS5vdGhlcnMscz1uP24uZGVmYXVsdE1haW5UeXBlOm51bGw7cmV0dXJuIXImJnMmJm8uc2V0KHMse30pLG8uZWFjaCgoZnVuY3Rpb24oZSxpKXt2YXIgcj1Fcih0LGksZSx7dXNlRGVmYXVsdDpzPT09aSxlbmFibGVBbGw6IW58fG51bGw9PW4uZW5hYmxlQWxsfHxuLmVuYWJsZUFsbCxlbmFibGVOb25lOiFufHxudWxsPT1uLmVuYWJsZU5vbmV8fG4uZW5hYmxlTm9uZX0pO2FbaSsiTW9kZWxzIl09ci5tb2RlbHMsYVtpKyJNb2RlbCJdPXIubW9kZWxzWzBdfSkpLGF9ZnVuY3Rpb24gUnIodCxlKXt2YXIgbjtpZihIKHQpKXt2YXIgaT17fTtpW3QrIkluZGV4Il09MCxuPWl9ZWxzZSBuPXQ7dmFyIHI9aHQoKSxvPXt9LGE9ITE7cmV0dXJuIFAobiwoZnVuY3Rpb24odCxuKXtpZigiZGF0YUluZGV4IiE9PW4mJiJkYXRhSW5kZXhJbnNpZGUiIT09bil7dmFyIGk9bi5tYXRjaCgvXihcdyspKEluZGV4fElkfE5hbWUpJC8pfHxbXSxzPWlbMV0sbD0oaVsyXXx8IiIpLnRvTG93ZXJDYXNlKCk7aWYocyYmbCYmIShlJiZlLmluY2x1ZGVNYWluVHlwZXMmJkQoZS5pbmNsdWRlTWFpblR5cGVzLHMpPDApKWE9YXx8ISFzLChyLmdldChzKXx8ci5zZXQocyx7fSkpW2xdPXR9ZWxzZSBvW25dPXR9KSkse21haW5UeXBlU3BlY2lmaWVkOmEscXVlcnlPcHRpb25NYXA6cixvdGhlcnM6b319dmFyIE5yPXt1c2VEZWZhdWx0OiEwLGVuYWJsZUFsbDohMSxlbmFibGVOb25lOiExfSx6cj17dXNlRGVmYXVsdDohMSxlbmFibGVBbGw6ITAsZW5hYmxlTm9uZTohMH07ZnVuY3Rpb24gRXIodCxlLG4saSl7aT1pfHxOcjt2YXIgcj1uLmluZGV4LG89bi5pZCxhPW4ubmFtZSxzPXttb2RlbHM6bnVsbCxzcGVjaWZpZWQ6bnVsbCE9cnx8bnVsbCE9b3x8bnVsbCE9YX07aWYoIXMuc3BlY2lmaWVkKXt2YXIgbD12b2lkIDA7cmV0dXJuIHMubW9kZWxzPWkudXNlRGVmYXVsdCYmKGw9dC5nZXRDb21wb25lbnQoZSkpP1tsXTpbXSxzfXJldHVybiJub25lIj09PXJ8fCExPT09cj8ocnQoaS5lbmFibGVOb25lLCdgIm5vbmUiYCBvciBgZmFsc2VgIGlzIG5vdCBhIHZhbGlkIHZhbHVlIG9uIGluZGV4IG9wdGlvbi4nKSxzLm1vZGVscz1bXSxzKTooImFsbCI9PT1yJiYocnQoaS5lbmFibGVBbGwsJ2AiYWxsImAgaXMgbm90IGEgdmFsaWQgdmFsdWUgb24gaW5kZXggb3B0aW9uLicpLHI9bz1hPW51bGwpLHMubW9kZWxzPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTplLGluZGV4OnIsaWQ6byxuYW1lOmF9KSxzKX1mdW5jdGlvbiBWcih0LGUsbil7dC5zZXRBdHRyaWJ1dGU/dC5zZXRBdHRyaWJ1dGUoZSxuKTp0W2VdPW59ZnVuY3Rpb24gQnIodCxlKXt2YXIgbj1odCgpLGk9W107cmV0dXJuIFAodCwoZnVuY3Rpb24odCl7dmFyIHI9ZSh0KTsobi5nZXQocil8fChpLnB1c2gociksbi5zZXQocixbXSkpKS5wdXNoKHQpfSkpLHtrZXlzOmksYnVja2V0czpufX1mdW5jdGlvbiBGcih0LGUsbixpLHIpe3ZhciBvPW51bGw9PWV8fCJhdXRvIj09PWU7aWYobnVsbD09aSlyZXR1cm4gaTtpZigibnVtYmVyIj09dHlwZW9mIGkpcmV0dXJuIGppKGQ9bm4obnx8MCxpLHIpLG8/TWF0aC5tYXgoS2kobnx8MCksS2koaSkpOmUpO2lmKCJzdHJpbmciPT10eXBlb2YgaSlyZXR1cm4gcjwxP246aTtmb3IodmFyIGE9W10scz1uLGw9aSx1PU1hdGgubWF4KHM/cy5sZW5ndGg6MCxsLmxlbmd0aCksaD0wO2g8dTsrK2gpe2lmKCJvcmRpbmFsIj09PXQuZ2V0RGltZW5zaW9uSW5mbyhoKS50eXBlKWFbaF09KHI8MSYmcz9zOmwpW2hdO2Vsc2V7dmFyIGM9cyYmc1toXT9zW2hdOjAscD1sW2hdLGQ9bm4oYyxwLHIpO2FbaF09amkoZCxvP01hdGgubWF4KEtpKGMpLEtpKHApKTplKX19cmV0dXJuIGF9dmFyIEdyPSJfX19FQ19fQ09NUE9ORU5UX19DT05UQUlORVJfX18iLEhyPSJfX19FQ19fRVhURU5ERURfQ0xBU1NfX18iO2Z1bmN0aW9uIFdyKHQpe3ZhciBlPXttYWluOiIiLHN1YjoiIn07aWYodCl7dmFyIG49dC5zcGxpdCgiLiIpO2UubWFpbj1uWzBdfHwiIixlLnN1Yj1uWzFdfHwiIn1yZXR1cm4gZX1mdW5jdGlvbiBVcih0LGUpe3QuJGNvbnN0cnVjdG9yPXQsdC5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztmdW5jdGlvbiBuKCl7Zm9yKHZhciBpPVtdLG89MDtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWlbb109YXJndW1lbnRzW29dO2lmKHQuJGNvbnN0cnVjdG9yKXQuJGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle2lmKFhyKGUpKXt2YXIgYT1wdChuLnByb3RvdHlwZSxuZXcoZS5iaW5kLmFwcGx5KGUscihbdm9pZCAwXSxpKSkpKTtyZXR1cm4gYX1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19cmV0dXJuIG5bSHJdPSEwLEkobi5wcm90b3R5cGUsdCksbi5leHRlbmQ9dGhpcy5leHRlbmQsbi5zdXBlckNhbGw9anIsbi5zdXBlckFwcGx5PXFyLEEobix0aGlzKSxuLnN1cGVyQ2xhc3M9ZSxufX1mdW5jdGlvbiBYcih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmL15jbGFzc1xzLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKX1mdW5jdGlvbiBZcih0LGUpe3QuZXh0ZW5kPWUuZXh0ZW5kfXZhciBacj1NYXRoLnJvdW5kKDEwKk1hdGgucmFuZG9tKCkpO2Z1bmN0aW9uIGpyKHQsZSl7Zm9yKHZhciBuPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0yXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxuKX1mdW5jdGlvbiBxcih0LGUsbil7cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxuKX1mdW5jdGlvbiBLcih0KXt2YXIgZT17fTt0LnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIG4saT10LnR5cGV8fHQucHJvdG90eXBlLnR5cGU7aWYoaSl7cnQoL15bYS16QS1aMC05X10rKFsuXVthLXpBLVowLTlfXSspPyQvLnRlc3Qobj1pKSwnY29tcG9uZW50VHlwZSAiJytuKyciIGlsbGVnYWwnKSx0LnByb3RvdHlwZS50eXBlPWk7dmFyIHI9V3IoaSk7aWYoci5zdWIpe2lmKHIuc3ViIT09R3IpeyhmdW5jdGlvbih0KXt2YXIgbj1lW3QubWFpbl07biYmbltHcl18fCgobj1lW3QubWFpbl09e30pW0dyXT0hMCk7cmV0dXJuIG59KHIpKVtyLnN1Yl09dH19ZWxzZSBlW3IubWFpbl09dH1yZXR1cm4gdH0sdC5nZXRDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZVt0XTtpZihyJiZyW0dyXSYmKHI9bj9yW25dOm51bGwpLGkmJiFyKXRocm93IG5ldyBFcnJvcihuPyJDb21wb25lbnQgIit0KyIuIisobnx8IiIpKyIgaXMgdXNlZCBidXQgbm90IGltcG9ydGVkLiI6dCsiLnR5cGUgc2hvdWxkIGJlIHNwZWNpZmllZC4iKTtyZXR1cm4gcn0sdC5nZXRDbGFzc2VzQnlNYWluVHlwZT1mdW5jdGlvbih0KXt2YXIgbj1Xcih0KSxpPVtdLHI9ZVtuLm1haW5dO3JldHVybiByJiZyW0dyXT9QKHIsKGZ1bmN0aW9uKHQsZSl7ZSE9PUdyJiZpLnB1c2godCl9KSk6aS5wdXNoKHIpLGl9LHQuaGFzQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIG49V3IodCk7cmV0dXJuISFlW24ubWFpbl19LHQuZ2V0QWxsQ2xhc3NNYWluVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gUChlLChmdW5jdGlvbihlLG4pe3QucHVzaChuKX0pKSx0fSx0Lmhhc1N1YlR5cGVzPWZ1bmN0aW9uKHQpe3ZhciBuPVdyKHQpLGk9ZVtuLm1haW5dO3JldHVybiBpJiZpW0dyXX19ZnVuY3Rpb24gJHIodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dWzFdfHwodFtuXVsxXT10W25dWzBdKTtyZXR1cm4gZT1lfHwhMSxmdW5jdGlvbihuLGkscil7Zm9yKHZhciBvPXt9LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXVsxXTtpZighKGkmJkQoaSxzKT49MHx8ciYmRChyLHMpPDApKXt2YXIgbD1uLmdldFNoYWxsb3cocyxlKTtudWxsIT1sJiYob1t0W2FdWzBdXT1sKX19cmV0dXJuIG99fXZhciBKcj0kcihbWyJmaWxsIiwiY29sb3IiXSxbInNoYWRvd0JsdXIiXSxbInNoYWRvd09mZnNldFgiXSxbInNoYWRvd09mZnNldFkiXSxbIm9wYWNpdHkiXSxbInNoYWRvd0NvbG9yIl1dKSxRcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldEFyZWFTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiBKcih0aGlzLHQsZSl9LHR9KCksdG89bmV3IEFlKDUwKTtmdW5jdGlvbiBlbyh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBlPXRvLmdldCh0KTtyZXR1cm4gZSYmZS5pbWFnZX1yZXR1cm4gdH1mdW5jdGlvbiBubyh0LGUsbixpLHIpe2lmKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoZSYmZS5fX3pySW1hZ2VTcmM9PT10fHwhbilyZXR1cm4gZTt2YXIgbz10by5nZXQodCksYT17aG9zdEVsOm4sY2I6aSxjYlBheWxvYWQ6cn07cmV0dXJuIG8/IXJvKGU9by5pbWFnZSkmJm8ucGVuZGluZy5wdXNoKGEpOigoZT1uZXcgSW1hZ2UpLm9ubG9hZD1lLm9uZXJyb3I9aW8sdG8ucHV0KHQsZS5fX2NhY2hlZEltZ09iaj17aW1hZ2U6ZSxwZW5kaW5nOlthXX0pLGUuc3JjPWUuX196ckltYWdlU3JjPXQpLGV9cmV0dXJuIHR9cmV0dXJuIGV9ZnVuY3Rpb24gaW8oKXt2YXIgdD10aGlzLl9fY2FjaGVkSW1nT2JqO3RoaXMub25sb2FkPXRoaXMub25lcnJvcj10aGlzLl9fY2FjaGVkSW1nT2JqPW51bGw7Zm9yKHZhciBlPTA7ZTx0LnBlbmRpbmcubGVuZ3RoO2UrKyl7dmFyIG49dC5wZW5kaW5nW2VdLGk9bi5jYjtpJiZpKHRoaXMsbi5jYlBheWxvYWQpLG4uaG9zdEVsLmRpcnR5KCl9dC5wZW5kaW5nLmxlbmd0aD0wfWZ1bmN0aW9uIHJvKHQpe3JldHVybiB0JiZ0LndpZHRoJiZ0LmhlaWdodH12YXIgb289L1x7KFthLXpBLVowLTlfXSspXHwoW159XSopXH0vZztmdW5jdGlvbiBhbyh0LGUsbixpLHIpe2lmKCFlKXJldHVybiIiO3ZhciBvPSh0KyIiKS5zcGxpdCgiXG4iKTtyPXNvKGUsbixpLHIpO2Zvcih2YXIgYT0wLHM9by5sZW5ndGg7YTxzO2ErKylvW2FdPWxvKG9bYV0scik7cmV0dXJuIG8uam9pbigiXG4iKX1mdW5jdGlvbiBzbyh0LGUsbixpKXt2YXIgcj1JKHt9LGk9aXx8e30pO3IuZm9udD1lLG49dHQobiwiLi4uIiksci5tYXhJdGVyYXRpb25zPXR0KGkubWF4SXRlcmF0aW9ucywyKTt2YXIgbz1yLm1pbkNoYXI9dHQoaS5taW5DaGFyLDApO3IuY25DaGFyV2lkdGg9X2koIuWbvSIsZSk7dmFyIGE9ci5hc2NDaGFyV2lkdGg9X2koImEiLGUpO3IucGxhY2Vob2xkZXI9dHQoaS5wbGFjZWhvbGRlciwiIik7Zm9yKHZhciBzPXQ9TWF0aC5tYXgoMCx0LTEpLGw9MDtsPG8mJnM+PWE7bCsrKXMtPWE7dmFyIHU9X2kobixlKTtyZXR1cm4gdT5zJiYobj0iIix1PTApLHM9dC11LHIuZWxsaXBzaXM9bixyLmVsbGlwc2lzV2lkdGg9dSxyLmNvbnRlbnRXaWR0aD1zLHIuY29udGFpbmVyV2lkdGg9dCxyfWZ1bmN0aW9uIGxvKHQsZSl7dmFyIG49ZS5jb250YWluZXJXaWR0aCxpPWUuZm9udCxyPWUuY29udGVudFdpZHRoO2lmKCFuKXJldHVybiIiO3ZhciBvPV9pKHQsaSk7aWYobzw9bilyZXR1cm4gdDtmb3IodmFyIGE9MDs7YSsrKXtpZihvPD1yfHxhPj1lLm1heEl0ZXJhdGlvbnMpe3QrPWUuZWxsaXBzaXM7YnJlYWt9dmFyIHM9MD09PWE/dW8odCxyLGUuYXNjQ2hhcldpZHRoLGUuY25DaGFyV2lkdGgpOm8+MD9NYXRoLmZsb29yKHQubGVuZ3RoKnIvbyk6MDtvPV9pKHQ9dC5zdWJzdHIoMCxzKSxpKX1yZXR1cm4iIj09PXQmJih0PWUucGxhY2Vob2xkZXIpLHR9ZnVuY3Rpb24gdW8odCxlLG4saSl7Zm9yKHZhciByPTAsbz0wLGE9dC5sZW5ndGg7bzxhJiZyPGU7bysrKXt2YXIgcz10LmNoYXJDb2RlQXQobyk7cis9MDw9cyYmczw9MTI3P246aX1yZXR1cm4gb312YXIgaG89ZnVuY3Rpb24oKXt9LGNvPWZ1bmN0aW9uKHQpe3RoaXMudG9rZW5zPVtdLHQmJih0aGlzLnRva2Vucz10KX0scG89ZnVuY3Rpb24oKXt0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmNvbnRlbnRXaWR0aD0wLHRoaXMuY29udGVudEhlaWdodD0wLHRoaXMub3V0ZXJXaWR0aD0wLHRoaXMub3V0ZXJIZWlnaHQ9MCx0aGlzLmxpbmVzPVtdfTtmdW5jdGlvbiBmbyh0LGUsbixpLHIpe3ZhciBvLGEscz0iIj09PWUsbD1yJiZuLnJpY2hbcl18fHt9LHU9dC5saW5lcyxoPWwuZm9udHx8bi5mb250LGM9ITE7aWYoaSl7dmFyIHA9bC5wYWRkaW5nLGQ9cD9wWzFdK3BbM106MDtpZihudWxsIT1sLndpZHRoJiYiYXV0byIhPT1sLndpZHRoKXt2YXIgZj1JaShsLndpZHRoLGkud2lkdGgpK2Q7dS5sZW5ndGg+MCYmZitpLmFjY3VtV2lkdGg+aS53aWR0aCYmKG89ZS5zcGxpdCgiXG4iKSxjPSEwKSxpLmFjY3VtV2lkdGg9Zn1lbHNle3ZhciBnPXZvKGUsaCxpLndpZHRoLGkuYnJlYWtBbGwsaS5hY2N1bVdpZHRoKTtpLmFjY3VtV2lkdGg9Zy5hY2N1bVdpZHRoK2QsYT1nLmxpbmVzV2lkdGhzLG89Zy5saW5lc319ZWxzZSBvPWUuc3BsaXQoIlxuIik7Zm9yKHZhciB5PTA7eTxvLmxlbmd0aDt5Kyspe3ZhciB2PW9beV0sbT1uZXcgaG87aWYobS5zdHlsZU5hbWU9cixtLnRleHQ9dixtLmlzTGluZUhvbGRlcj0hdiYmIXMsIm51bWJlciI9PXR5cGVvZiBsLndpZHRoP20ud2lkdGg9bC53aWR0aDptLndpZHRoPWE/YVt5XTpfaSh2LGgpLHl8fGMpdS5wdXNoKG5ldyBjbyhbbV0pKTtlbHNle3ZhciBfPSh1W3UubGVuZ3RoLTFdfHwodVswXT1uZXcgY28pKS50b2tlbnMseD1fLmxlbmd0aDsxPT09eCYmX1swXS5pc0xpbmVIb2xkZXI/X1swXT1tOih2fHwheHx8cykmJl8ucHVzaChtKX19fXZhciBnbz1SKCIsJj8vO10gIi5zcGxpdCgiIiksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV09ITAsdH0pLHt9KTtmdW5jdGlvbiB5byh0KXtyZXR1cm4hZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApO3JldHVybiBlPj0zMyYmZTw9MjU1fSh0KXx8ISFnb1t0XX1mdW5jdGlvbiB2byh0LGUsbixpLHIpe2Zvcih2YXIgbz1bXSxhPVtdLHM9IiIsbD0iIix1PTAsaD0wLGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIHA9dC5jaGFyQXQoYyk7aWYoIlxuIiE9PXApe3ZhciBkPV9pKHAsZSksZj0haSYmIXlvKHApOyhvLmxlbmd0aD9oK2Q+bjpyK2grZD5uKT9oPyhzfHxsKSYmKGY/KHN8fChzPWwsbD0iIixoPXU9MCksby5wdXNoKHMpLGEucHVzaChoLXUpLGwrPXAscz0iIixoPXUrPWQpOihsJiYocys9bCxoKz11LGw9IiIsdT0wKSxvLnB1c2gocyksYS5wdXNoKGgpLHM9cCxoPWQpKTpmPyhvLnB1c2gobCksYS5wdXNoKHUpLGw9cCx1PWQpOihvLnB1c2gocCksYS5wdXNoKGQpKTooaCs9ZCxmPyhsKz1wLHUrPWQpOihsJiYocys9bCxsPSIiLHU9MCkscys9cCkpfWVsc2UgbCYmKHMrPWwsaCs9dSksby5wdXNoKHMpLGEucHVzaChoKSxzPSIiLGw9IiIsdT0wLGg9MH1yZXR1cm4gby5sZW5ndGh8fHN8fChzPXQsbD0iIix1PTApLGwmJihzKz1sKSxzJiYoby5wdXNoKHMpLGEucHVzaChoKSksMT09PW8ubGVuZ3RoJiYoaCs9cikse2FjY3VtV2lkdGg6aCxsaW5lczpvLGxpbmVzV2lkdGhzOmF9fXZhciBtbz0iX196cl9zdHlsZV8iK01hdGgucm91bmQoMTAqTWF0aC5yYW5kb20oKSksX289e3NoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHNoYWRvd0NvbG9yOiIjMDAwIixvcGFjaXR5OjEsYmxlbmQ6InNvdXJjZS1vdmVyIn0seG89e3N0eWxlOntzaGFkb3dCbHVyOiEwLHNoYWRvd09mZnNldFg6ITAsc2hhZG93T2Zmc2V0WTohMCxzaGFkb3dDb2xvcjohMCxvcGFjaXR5OiEwfX07X29bbW9dPSEwO3ZhciBibz1bInoiLCJ6MiIsImludmlzaWJsZSJdLHdvPVsiaW52aXNpYmxlIl0sU289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9dmFyIGk7cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXtmb3IodmFyIG49RShlKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07InN0eWxlIj09PXI/dGhpcy51c2VTdHlsZShlW3JdKTp0LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLHIsZVtyXSl9dGhpcy5zdHlsZXx8dGhpcy51c2VTdHlsZSh7fSl9LGUucHJvdG90eXBlLmJlZm9yZUJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pbm5lckJlZm9yZUJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pbm5lckFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNob3VsZEJlUGFpbnRlZD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLnRyYW5zZm9ybTtpZih0aGlzLmlnbm9yZXx8dGhpcy5pbnZpc2libGV8fDA9PT10aGlzLnN0eWxlLm9wYWNpdHl8fHRoaXMuY3VsbGluZyYmZnVuY3Rpb24odCxlLG4pe01vLmNvcHkodC5nZXRCb3VuZGluZ1JlY3QoKSksdC50cmFuc2Zvcm0mJk1vLmFwcGx5VHJhbnNmb3JtKHQudHJhbnNmb3JtKTtyZXR1cm4gSW8ud2lkdGg9ZSxJby5oZWlnaHQ9biwhTW8uaW50ZXJzZWN0KElvKX0odGhpcyx0LGUpfHxyJiYhclswXSYmIXJbM10pcmV0dXJuITE7aWYobiYmdGhpcy5fX2NsaXBQYXRocylmb3IodmFyIG89MDtvPHRoaXMuX19jbGlwUGF0aHMubGVuZ3RoOysrbylpZih0aGlzLl9fY2xpcFBhdGhzW29dLmlzWmVyb0FyZWEoKSlyZXR1cm4hMTtpZihpJiZ0aGlzLnBhcmVudClmb3IodmFyIGE9dGhpcy5wYXJlbnQ7YTspe2lmKGEuaWdub3JlKXJldHVybiExO2E9YS5wYXJlbnR9cmV0dXJuITB9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWN0Q29udGFpbih0LGUpfSxlLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe3QuY2FsbChlLHRoaXMpfSxlLnByb3RvdHlwZS5yZWN0Q29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihuWzBdLG5bMV0pfSxlLnByb3RvdHlwZS5nZXRQYWludFJlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYWludFJlY3Q7aWYoIXRoaXMuX3BhaW50UmVjdHx8dGhpcy5fX2RpcnR5KXt2YXIgZT10aGlzLnRyYW5zZm9ybSxuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksaT10aGlzLnN0eWxlLHI9aS5zaGFkb3dCbHVyfHwwLG89aS5zaGFkb3dPZmZzZXRYfHwwLGE9aS5zaGFkb3dPZmZzZXRZfHwwO3Q9dGhpcy5fcGFpbnRSZWN0fHwodGhpcy5fcGFpbnRSZWN0PW5ldyBnaSgwLDAsMCwwKSksZT9naS5hcHBseVRyYW5zZm9ybSh0LG4sZSk6dC5jb3B5KG4pLChyfHxvfHxhKSYmKHQud2lkdGgrPTIqcitNYXRoLmFicyhvKSx0LmhlaWdodCs9MipyK01hdGguYWJzKGEpLHQueD1NYXRoLm1pbih0LngsdC54K28tciksdC55PU1hdGgubWluKHQueSx0LnkrYS1yKSk7dmFyIHM9dGhpcy5kaXJ0eVJlY3RUb2xlcmFuY2U7dC5pc1plcm8oKXx8KHQueD1NYXRoLmZsb29yKHQueC1zKSx0Lnk9TWF0aC5mbG9vcih0LnktcyksdC53aWR0aD1NYXRoLmNlaWwodC53aWR0aCsxKzIqcyksdC5oZWlnaHQ9TWF0aC5jZWlsKHQuaGVpZ2h0KzErMipzKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLnNldFByZXZQYWludFJlY3Q9ZnVuY3Rpb24odCl7dD8odGhpcy5fcHJldlBhaW50UmVjdD10aGlzLl9wcmV2UGFpbnRSZWN0fHxuZXcgZ2koMCwwLDAsMCksdGhpcy5fcHJldlBhaW50UmVjdC5jb3B5KHQpKTp0aGlzLl9wcmV2UGFpbnRSZWN0PW51bGx9LGUucHJvdG90eXBlLmdldFByZXZQYWludFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJldlBhaW50UmVjdH0sZS5wcm90b3R5cGUuYW5pbWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoInN0eWxlIix0KX0sZS5wcm90b3R5cGUudXBkYXRlRHVyaW5nQW5pbWF0aW9uPWZ1bmN0aW9uKHQpeyJzdHlsZSI9PT10P3RoaXMuZGlydHlTdHlsZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXsic3R5bGUiIT09ZT90LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLGUsbik6dGhpcy5zdHlsZT90aGlzLnNldFN0eWxlKG4pOnRoaXMudXNlU3R5bGUobil9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuc3R5bGVbdF09ZTpJKHRoaXMuc3R5bGUsdCksdGhpcy5kaXJ0eVN0eWxlKCksdGhpc30sZS5wcm90b3R5cGUuZGlydHlTdHlsZT1mdW5jdGlvbih0KXt0fHx0aGlzLm1hcmtSZWRyYXcoKSx0aGlzLl9fZGlydHl8PTIsdGhpcy5fcmVjdCYmKHRoaXMuX3JlY3Q9bnVsbCl9LGUucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLnN0eWxlQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiEhKDImdGhpcy5fX2RpcnR5KX0sZS5wcm90b3R5cGUuc3R5bGVVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5Jj0tM30sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHB0KF9vLHQpfSxlLnByb3RvdHlwZS51c2VTdHlsZT1mdW5jdGlvbih0KXt0W21vXXx8KHQ9dGhpcy5jcmVhdGVTdHlsZSh0KSksdGhpcy5fX2luSG92ZXI/dGhpcy5fX2hvdmVyU3R5bGU9dDp0aGlzLnN0eWxlPXQsdGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLmlzU3R5bGVPYmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbbW9dfSxlLnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsLmNhbGwodGhpcyxlKTt2YXIgbj10aGlzLl9ub3JtYWxTdGF0ZTtlLnN0eWxlJiYhbi5zdHlsZSYmKG4uc3R5bGU9dGhpcy5fbWVyZ2VTdHlsZSh0aGlzLmNyZWF0ZVN0eWxlKCksdGhpcy5zdHlsZSkpLHRoaXMuX3NhdmVQcmltYXJ5VG9Ob3JtYWwoZSxuLGJvKX0sZS5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmo9ZnVuY3Rpb24oZSxuLGkscixvLGEpe3QucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqLmNhbGwodGhpcyxlLG4saSxyLG8sYSk7dmFyIHMsbD0hKG4mJnIpO2lmKG4mJm4uc3R5bGU/bz9yP3M9bi5zdHlsZToocz10aGlzLl9tZXJnZVN0eWxlKHRoaXMuY3JlYXRlU3R5bGUoKSxpLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOihzPXRoaXMuX21lcmdlU3R5bGUodGhpcy5jcmVhdGVTdHlsZSgpLHI/dGhpcy5zdHlsZTppLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOmwmJihzPWkuc3R5bGUpLHMpaWYobyl7dmFyIHU9dGhpcy5zdHlsZTtpZih0aGlzLnN0eWxlPXRoaXMuY3JlYXRlU3R5bGUobD97fTp1KSxsKWZvcih2YXIgaD1FKHUpLGM9MDtjPGgubGVuZ3RoO2MrKyl7KGQ9aFtjXSlpbiBzJiYoc1tkXT1zW2RdLHRoaXMuc3R5bGVbZF09dVtkXSl9dmFyIHA9RShzKTtmb3IoYz0wO2M8cC5sZW5ndGg7YysrKXt2YXIgZD1wW2NdO3RoaXMuc3R5bGVbZF09dGhpcy5zdHlsZVtkXX10aGlzLl90cmFuc2l0aW9uU3RhdGUoZSx7c3R5bGU6c30sYSx0aGlzLmdldEFuaW1hdGlvblN0eWxlUHJvcHMoKSl9ZWxzZSB0aGlzLnVzZVN0eWxlKHMpO3ZhciBmPXRoaXMuX19pbkhvdmVyP3dvOmJvO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspe2Q9ZltjXTtuJiZudWxsIT1uW2RdP3RoaXNbZF09bltkXTpsJiZudWxsIT1pW2RdJiYodGhpc1tkXT1pW2RdKX19LGUucHJvdG90eXBlLl9tZXJnZVN0YXRlcz1mdW5jdGlvbihlKXtmb3IodmFyIG4saT10LnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXMuY2FsbCh0aGlzLGUpLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtvLnN0eWxlJiYobj1ufHx7fSx0aGlzLl9tZXJnZVN0eWxlKG4sby5zdHlsZSkpfXJldHVybiBuJiYoaS5zdHlsZT1uKSxpfSxlLnByb3RvdHlwZS5fbWVyZ2VTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiBJKHQsZSksdH0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiB4b30sZS5pbml0RGVmYXVsdFByb3BzPSgoaT1lLnByb3RvdHlwZSkudHlwZT0iZGlzcGxheWFibGUiLGkuaW52aXNpYmxlPSExLGkuej0wLGkuejI9MCxpLnpsZXZlbD0wLGkuY3VsbGluZz0hMSxpLmN1cnNvcj0icG9pbnRlciIsaS5yZWN0SG92ZXI9ITEsaS5pbmNyZW1lbnRhbD0hMSxpLl9yZWN0PW51bGwsaS5kaXJ0eVJlY3RUb2xlcmFuY2U9MCx2b2lkKGkuX19kaXJ0eT0zKSksZX0oUGkpLE1vPW5ldyBnaSgwLDAsMCwwKSxJbz1uZXcgZ2koMCwwLDAsMCk7dmFyIFRvPU1hdGgucG93LENvPU1hdGguc3FydCxEbz0xZS04LEFvPTFlLTQsTG89Q28oMyksa289MS8zLFBvPXl0KCksT289eXQoKSxSbz15dCgpO2Z1bmN0aW9uIE5vKHQpe3JldHVybiB0Pi0xZS04JiZ0PERvfWZ1bmN0aW9uIHpvKHQpe3JldHVybiB0PkRvfHx0PC0xZS04fWZ1bmN0aW9uIEVvKHQsZSxuLGkscil7dmFyIG89MS1yO3JldHVybiBvKm8qKG8qdCszKnIqZSkrcipyKihyKmkrMypvKm4pfWZ1bmN0aW9uIFZvKHQsZSxuLGkscil7dmFyIG89MS1yO3JldHVybiAzKigoKGUtdCkqbysyKihuLWUpKnIpKm8rKGktbikqcipyKX1mdW5jdGlvbiBCbyh0LGUsbixpLHIsbyl7dmFyIGE9aSszKihlLW4pLXQscz0zKihuLTIqZSt0KSxsPTMqKGUtdCksdT10LXIsaD1zKnMtMyphKmwsYz1zKmwtOSphKnUscD1sKmwtMypzKnUsZD0wO2lmKE5vKGgpJiZObyhjKSl7aWYoTm8ocykpb1swXT0wO2Vsc2UoTT0tbC9zKT49MCYmTTw9MSYmKG9bZCsrXT1NKX1lbHNle3ZhciBmPWMqYy00KmgqcDtpZihObyhmKSl7dmFyIGc9Yy9oLHk9LWcvMjsoTT0tcy9hK2cpPj0wJiZNPD0xJiYob1tkKytdPU0pLHk+PTAmJnk8PTEmJihvW2QrK109eSl9ZWxzZSBpZihmPjApe3ZhciB2PUNvKGYpLG09aCpzKzEuNSphKigtYyt2KSxfPWgqcysxLjUqYSooLWMtdik7KE09KC1zLSgobT1tPDA/LVRvKC1tLGtvKTpUbyhtLGtvKSkrKF89XzwwPy1UbygtXyxrbyk6VG8oXyxrbykpKSkvKDMqYSkpPj0wJiZNPD0xJiYob1tkKytdPU0pfWVsc2V7dmFyIHg9KDIqaCpzLTMqYSpjKS8oMipDbyhoKmgqaCkpLGI9TWF0aC5hY29zKHgpLzMsdz1DbyhoKSxTPU1hdGguY29zKGIpLE09KC1zLTIqdypTKS8oMyphKSxJPSh5PSgtcyt3KihTK0xvKk1hdGguc2luKGIpKSkvKDMqYSksKC1zK3cqKFMtTG8qTWF0aC5zaW4oYikpKS8oMyphKSk7TT49MCYmTTw9MSYmKG9bZCsrXT1NKSx5Pj0wJiZ5PD0xJiYob1tkKytdPXkpLEk+PTAmJkk8PTEmJihvW2QrK109SSl9fXJldHVybiBkfWZ1bmN0aW9uIEZvKHQsZSxuLGkscil7dmFyIG89NipuLTEyKmUrNip0LGE9OSplKzMqaS0zKnQtOSpuLHM9MyplLTMqdCxsPTA7aWYoTm8oYSkpe2lmKHpvKG8pKShoPS1zL28pPj0wJiZoPD0xJiYocltsKytdPWgpfWVsc2V7dmFyIHU9bypvLTQqYSpzO2lmKE5vKHUpKXJbMF09LW8vKDIqYSk7ZWxzZSBpZih1PjApe3ZhciBoLGM9Q28odSkscD0oLW8tYykvKDIqYSk7KGg9KC1vK2MpLygyKmEpKT49MCYmaDw9MSYmKHJbbCsrXT1oKSxwPj0wJiZwPD0xJiYocltsKytdPXApfX1yZXR1cm4gbH1mdW5jdGlvbiBHbyh0LGUsbixpLHIsbyl7dmFyIGE9KGUtdCkqcit0LHM9KG4tZSkqcitlLGw9KGktbikqcituLHU9KHMtYSkqcithLGg9KGwtcykqcitzLGM9KGgtdSkqcit1O29bMF09dCxvWzFdPWEsb1syXT11LG9bM109YyxvWzRdPWMsb1s1XT1oLG9bNl09bCxvWzddPWl9ZnVuY3Rpb24gSG8odCxlLG4saSxyLG8sYSxzLGwsdSxoKXt2YXIgYyxwLGQsZixnLHk9LjAwNSx2PTEvMDtQb1swXT1sLFBvWzFdPXU7Zm9yKHZhciBtPTA7bTwxO20rPS4wNSlPb1swXT1Fbyh0LG4scixhLG0pLE9vWzFdPUVvKGUsaSxvLHMsbSksKGY9UHQoUG8sT28pKTx2JiYoYz1tLHY9Zik7dj0xLzA7Zm9yKHZhciBfPTA7XzwzMiYmISh5PEFvKTtfKyspcD1jLXksZD1jK3ksT29bMF09RW8odCxuLHIsYSxwKSxPb1sxXT1FbyhlLGksbyxzLHApLGY9UHQoT28sUG8pLHA+PTAmJmY8dj8oYz1wLHY9Zik6KFJvWzBdPUVvKHQsbixyLGEsZCksUm9bMV09RW8oZSxpLG8scyxkKSxnPVB0KFJvLFBvKSxkPD0xJiZnPHY/KGM9ZCx2PWcpOnkqPS41KTtyZXR1cm4gaCYmKGhbMF09RW8odCxuLHIsYSxjKSxoWzFdPUVvKGUsaSxvLHMsYykpLENvKHYpfWZ1bmN0aW9uIFdvKHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHU9dCxoPWUsYz0wLHA9MS9sLGQ9MTtkPD1sO2QrKyl7dmFyIGY9ZCpwLGc9RW8odCxuLHIsYSxmKSx5PUVvKGUsaSxvLHMsZiksdj1nLXUsbT15LWg7Yys9TWF0aC5zcXJ0KHYqdittKm0pLHU9ZyxoPXl9cmV0dXJuIGN9ZnVuY3Rpb24gVW8odCxlLG4saSl7dmFyIHI9MS1pO3JldHVybiByKihyKnQrMippKmUpK2kqaSpufWZ1bmN0aW9uIFhvKHQsZSxuLGkpe3JldHVybiAyKigoMS1pKSooZS10KStpKihuLWUpKX1mdW5jdGlvbiBZbyh0LGUsbil7dmFyIGk9dCtuLTIqZTtyZXR1cm4gMD09PWk/LjU6KHQtZSkvaX1mdW5jdGlvbiBabyh0LGUsbixpLHIpe3ZhciBvPShlLXQpKmkrdCxhPShuLWUpKmkrZSxzPShhLW8pKmkrbztyWzBdPXQsclsxXT1vLHJbMl09cyxyWzNdPXMscls0XT1hLHJbNV09bn1mdW5jdGlvbiBqbyh0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHUsaD0uMDA1LGM9MS8wO1BvWzBdPWEsUG9bMV09cztmb3IodmFyIHA9MDtwPDE7cCs9LjA1KXtPb1swXT1Vbyh0LG4scixwKSxPb1sxXT1VbyhlLGksbyxwKSwoeT1QdChQbyxPbykpPGMmJih1PXAsYz15KX1jPTEvMDtmb3IodmFyIGQ9MDtkPDMyJiYhKGg8QW8pO2QrKyl7dmFyIGY9dS1oLGc9dStoO09vWzBdPVVvKHQsbixyLGYpLE9vWzFdPVVvKGUsaSxvLGYpO3ZhciB5PVB0KE9vLFBvKTtpZihmPj0wJiZ5PGMpdT1mLGM9eTtlbHNle1JvWzBdPVVvKHQsbixyLGcpLFJvWzFdPVVvKGUsaSxvLGcpO3ZhciB2PVB0KFJvLFBvKTtnPD0xJiZ2PGM/KHU9ZyxjPXYpOmgqPS41fX1yZXR1cm4gbCYmKGxbMF09VW8odCxuLHIsdSksbFsxXT1VbyhlLGksbyx1KSksQ28oYyl9ZnVuY3Rpb24gcW8odCxlLG4saSxyLG8sYSl7Zm9yKHZhciBzPXQsbD1lLHU9MCxoPTEvYSxjPTE7Yzw9YTtjKyspe3ZhciBwPWMqaCxkPVVvKHQsbixyLHApLGY9VW8oZSxpLG8scCksZz1kLXMseT1mLWw7dSs9TWF0aC5zcXJ0KGcqZyt5KnkpLHM9ZCxsPWZ9cmV0dXJuIHV9dmFyIEtvPU1hdGgubWluLCRvPU1hdGgubWF4LEpvPU1hdGguc2luLFFvPU1hdGguY29zLHRhPTIqTWF0aC5QSSxlYT15dCgpLG5hPXl0KCksaWE9eXQoKTtmdW5jdGlvbiByYSh0LGUsbil7aWYoMCE9PXQubGVuZ3RoKXtmb3IodmFyIGk9dFswXSxyPWlbMF0sbz1pWzBdLGE9aVsxXSxzPWlbMV0sbD0xO2w8dC5sZW5ndGg7bCsrKWk9dFtsXSxyPUtvKHIsaVswXSksbz0kbyhvLGlbMF0pLGE9S28oYSxpWzFdKSxzPSRvKHMsaVsxXSk7ZVswXT1yLGVbMV09YSxuWzBdPW8sblsxXT1zfX1mdW5jdGlvbiBvYSh0LGUsbixpLHIsbyl7clswXT1Lbyh0LG4pLHJbMV09S28oZSxpKSxvWzBdPSRvKHQsbiksb1sxXT0kbyhlLGkpfXZhciBhYT1bXSxzYT1bXTtmdW5jdGlvbiBsYSh0LGUsbixpLHIsbyxhLHMsbCx1KXt2YXIgaD1GbyxjPUVvLHA9aCh0LG4scixhLGFhKTtsWzBdPTEvMCxsWzFdPTEvMCx1WzBdPS0xLzAsdVsxXT0tMS8wO2Zvcih2YXIgZD0wO2Q8cDtkKyspe3ZhciBmPWModCxuLHIsYSxhYVtkXSk7bFswXT1LbyhmLGxbMF0pLHVbMF09JG8oZix1WzBdKX1wPWgoZSxpLG8scyxzYSk7Zm9yKGQ9MDtkPHA7ZCsrKXt2YXIgZz1jKGUsaSxvLHMsc2FbZF0pO2xbMV09S28oZyxsWzFdKSx1WzFdPSRvKGcsdVsxXSl9bFswXT1Lbyh0LGxbMF0pLHVbMF09JG8odCx1WzBdKSxsWzBdPUtvKGEsbFswXSksdVswXT0kbyhhLHVbMF0pLGxbMV09S28oZSxsWzFdKSx1WzFdPSRvKGUsdVsxXSksbFsxXT1LbyhzLGxbMV0pLHVbMV09JG8ocyx1WzFdKX1mdW5jdGlvbiB1YSh0LGUsbixpLHIsbyxhLHMpe3ZhciBsPVlvLHU9VW8saD0kbyhLbyhsKHQsbixyKSwxKSwwKSxjPSRvKEtvKGwoZSxpLG8pLDEpLDApLHA9dSh0LG4scixoKSxkPXUoZSxpLG8sYyk7YVswXT1Lbyh0LHIscCksYVsxXT1LbyhlLG8sZCksc1swXT0kbyh0LHIscCksc1sxXT0kbyhlLG8sZCl9ZnVuY3Rpb24gaGEodCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1PU50LGg9enQsYz1NYXRoLmFicyhyLW8pO2lmKGMldGE8MWUtNCYmYz4xZS00KXJldHVybiBzWzBdPXQtbixzWzFdPWUtaSxsWzBdPXQrbix2b2lkKGxbMV09ZStpKTtpZihlYVswXT1RbyhyKSpuK3QsZWFbMV09Sm8ocikqaStlLG5hWzBdPVFvKG8pKm4rdCxuYVsxXT1KbyhvKSppK2UsdShzLGVhLG5hKSxoKGwsZWEsbmEpLChyJT10YSk8MCYmKHIrPXRhKSwobyU9dGEpPDAmJihvKz10YSkscj5vJiYhYT9vKz10YTpyPG8mJmEmJihyKz10YSksYSl7dmFyIHA9bztvPXIscj1wfWZvcih2YXIgZD0wO2Q8bztkKz1NYXRoLlBJLzIpZD5yJiYoaWFbMF09UW8oZCkqbit0LGlhWzFdPUpvKGQpKmkrZSx1KHMsaWEscyksaChsLGlhLGwpKX12YXIgY2E9e006MSxMOjIsQzozLFE6NCxBOjUsWjo2LFI6N30scGE9W10sZGE9W10sZmE9W10sZ2E9W10seWE9W10sdmE9W10sbWE9TWF0aC5taW4sX2E9TWF0aC5tYXgseGE9TWF0aC5jb3MsYmE9TWF0aC5zaW4sd2E9TWF0aC5zcXJ0LFNhPU1hdGguYWJzLE1hPU1hdGguUEksSWE9MipNYSxUYT0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxDYT1bXTtmdW5jdGlvbiBEYSh0KXtyZXR1cm4gTWF0aC5yb3VuZCh0L01hKjFlOCkvMWU4JTIqTWF9ZnVuY3Rpb24gQWEodCxlKXt2YXIgbj1EYSh0WzBdKTtuPDAmJihuKz1JYSk7dmFyIGk9bi10WzBdLHI9dFsxXTtyKz1pLCFlJiZyLW4+PUlhP3I9bitJYTplJiZuLXI+PUlhP3I9bi1JYTohZSYmbj5yP3I9bisoSWEtRGEobi1yKSk6ZSYmbjxyJiYocj1uLShJYS1EYShyLW4pKSksdFswXT1uLHRbMV09cn12YXIgTGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZHByPTEsdGhpcy5feGk9MCx0aGlzLl95aT0wLHRoaXMuX3gwPTAsdGhpcy5feTA9MCx0aGlzLl9sZW49MCx0JiYodGhpcy5fc2F2ZURhdGE9ITEpLHRoaXMuX3NhdmVEYXRhJiYodGhpcy5kYXRhPVtdKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5jcmVhc2VWZXJzaW9uPWZ1bmN0aW9uKCl7dGhpcy5fdmVyc2lvbisrfSx0LnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LHQucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQsZSxuKXsobj1ufHwwKT4wJiYodGhpcy5fdXg9U2Eobi9Fbi90KXx8MCx0aGlzLl91eT1TYShuL0VuL2UpfHwwKX0sdC5wcm90b3R5cGUuc2V0RFBSPWZ1bmN0aW9uKHQpe3RoaXMuZHByPXR9LHQucHJvdG90eXBlLnNldENvbnRleHQ9ZnVuY3Rpb24odCl7dGhpcy5fY3R4PXR9LHQucHJvdG90eXBlLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSx0LnByb3RvdHlwZS5iZWdpblBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHguYmVnaW5QYXRoKCksdGhpcy5yZXNldCgpLHRoaXN9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc2F2ZURhdGEmJih0aGlzLl9sZW49MCksdGhpcy5fbGluZURhc2gmJih0aGlzLl9saW5lRGFzaD1udWxsLHRoaXMuX2Rhc2hPZmZzZXQ9MCksdGhpcy5fcGF0aFNlZ0xlbiYmKHRoaXMuX3BhdGhTZWdMZW49bnVsbCx0aGlzLl9wYXRoTGVuPTApLHRoaXMuX3ZlcnNpb24rK30sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RyYXdQZW5kaW5nUHQoKSx0aGlzLmFkZERhdGEoY2EuTSx0LGUpLHRoaXMuX2N0eCYmdGhpcy5fY3R4Lm1vdmVUbyh0LGUpLHRoaXMuX3gwPXQsdGhpcy5feTA9ZSx0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpc30sdC5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49U2EodC10aGlzLl94aSksaT1TYShlLXRoaXMuX3lpKSxyPW4+dGhpcy5fdXh8fGk+dGhpcy5fdXk7aWYodGhpcy5hZGREYXRhKGNhLkwsdCxlKSx0aGlzLl9jdHgmJnImJih0aGlzLl9uZWVkc0Rhc2g/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxyKXRoaXMuX3hpPXQsdGhpcy5feWk9ZSx0aGlzLl9wZW5kaW5nUHREaXN0PTA7ZWxzZXt2YXIgbz1uKm4raSppO28+dGhpcy5fcGVuZGluZ1B0RGlzdCYmKHRoaXMuX3BlbmRpbmdQdFg9dCx0aGlzLl9wZW5kaW5nUHRZPWUsdGhpcy5fcGVuZGluZ1B0RGlzdD1vKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIHRoaXMuYWRkRGF0YShjYS5DLHQsZSxuLGkscixvKSx0aGlzLl9jdHgmJih0aGlzLl9uZWVkc0Rhc2g/dGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLG4saSxyLG8pOnRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvKHQsZSxuLGkscixvKSksdGhpcy5feGk9cix0aGlzLl95aT1vLHRoaXN9LHQucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRoaXMuYWRkRGF0YShjYS5RLHQsZSxuLGkpLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaD90aGlzLl9kYXNoZWRRdWFkcmF0aWNUbyh0LGUsbixpKTp0aGlzLl9jdHgucXVhZHJhdGljQ3VydmVUbyh0LGUsbixpKSksdGhpcy5feGk9bix0aGlzLl95aT1pLHRoaXN9LHQucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LGUsbixpLHIsbyl7Q2FbMF09aSxDYVsxXT1yLEFhKENhLG8pLGk9Q2FbMF07dmFyIGE9KHI9Q2FbMV0pLWk7cmV0dXJuIHRoaXMuYWRkRGF0YShjYS5BLHQsZSxuLG4saSxhLDAsbz8wOjEpLHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyYyh0LGUsbixpLHIsbyksdGhpcy5feGk9eGEocikqbit0LHRoaXMuX3lpPWJhKHIpKm4rZSx0aGlzfSx0LnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLl9jdHgmJnRoaXMuX2N0eC5hcmNUbyh0LGUsbixpLHIpLHRoaXN9LHQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LnJlY3QodCxlLG4saSksdGhpcy5hZGREYXRhKGNhLlIsdCxlLG4saSksdGhpc30sdC5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dGhpcy5fZHJhd1BlbmRpbmdQdCgpLHRoaXMuYWRkRGF0YShjYS5aKTt2YXIgdD10aGlzLl9jdHgsZT10aGlzLl94MCxuPXRoaXMuX3kwO3JldHVybiB0JiYodGhpcy5fbmVlZHNEYXNoJiZ0aGlzLl9kYXNoZWRMaW5lVG8oZSxuKSx0LmNsb3NlUGF0aCgpKSx0aGlzLl94aT1lLHRoaXMuX3lpPW4sdGhpc30sdC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0KXt0JiZ0LmZpbGwoKSx0aGlzLnRvU3RhdGljKCl9LHQucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbih0KXt0JiZ0LnN0cm9rZSgpLHRoaXMudG9TdGF0aWMoKX0sdC5wcm90b3R5cGUuc2V0TGluZURhc2g9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXt0aGlzLl9saW5lRGFzaD10LHRoaXMuX2Rhc2hJZHg9MDtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspZSs9dFtuXTt0aGlzLl9kYXNoU3VtPWUsdGhpcy5fbmVlZHNEYXNoPSEwfWVsc2UgdGhpcy5fbGluZURhc2g9bnVsbCx0aGlzLl9uZWVkc0Rhc2g9ITE7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnNldExpbmVEYXNoT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXNoT2Zmc2V0PXQsdGhpc30sdC5wcm90b3R5cGUubGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sdC5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLmRhdGEmJnRoaXMuZGF0YS5sZW5ndGg9PT1lfHwhVGF8fCh0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShlKSk7Zm9yKHZhciBuPTA7bjxlO24rKyl0aGlzLmRhdGFbbl09dFtuXTt0aGlzLl9sZW49ZX0sdC5wcm90b3R5cGUuYXBwZW5kUGF0aD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKHZhciBlPXQubGVuZ3RoLG49MCxpPXRoaXMuX2xlbixyPTA7cjxlO3IrKyluKz10W3JdLmxlbigpO1RhJiZ0aGlzLmRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShpK24pKTtmb3Iocj0wO3I8ZTtyKyspZm9yKHZhciBvPXRbcl0uZGF0YSxhPTA7YTxvLmxlbmd0aDthKyspdGhpcy5kYXRhW2krK109b1thXTt0aGlzLl9sZW49aX0sdC5wcm90b3R5cGUuYWRkRGF0YT1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7aWYodGhpcy5fc2F2ZURhdGEpe3ZhciB1PXRoaXMuZGF0YTt0aGlzLl9sZW4rYXJndW1lbnRzLmxlbmd0aD51Lmxlbmd0aCYmKHRoaXMuX2V4cGFuZERhdGEoKSx1PXRoaXMuZGF0YSk7Zm9yKHZhciBoPTA7aDxhcmd1bWVudHMubGVuZ3RoO2grKyl1W3RoaXMuX2xlbisrXT1hcmd1bWVudHNbaF19fSx0LnByb3RvdHlwZS5fZHJhd1BlbmRpbmdQdD1mdW5jdGlvbigpe3RoaXMuX3BlbmRpbmdQdERpc3Q+MCYmKHRoaXMuX2N0eCYmdGhpcy5fY3R4LmxpbmVUbyh0aGlzLl9wZW5kaW5nUHRYLHRoaXMuX3BlbmRpbmdQdFkpLHRoaXMuX3BlbmRpbmdQdERpc3Q9MCl9LHQucHJvdG90eXBlLl9leHBhbmREYXRhPWZ1bmN0aW9uKCl7aWYoISh0aGlzLmRhdGEgaW5zdGFuY2VvZiBBcnJheSkpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLl9sZW47ZSsrKXRbZV09dGhpcy5kYXRhW2VdO3RoaXMuZGF0YT10fX0sdC5wcm90b3R5cGUuX2Rhc2hlZExpbmVUbz1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj10aGlzLl9kYXNoU3VtLG89dGhpcy5fbGluZURhc2gsYT10aGlzLl9jdHgscz10aGlzLl9kYXNoT2Zmc2V0LGw9dGhpcy5feGksdT10aGlzLl95aSxoPXQtbCxjPWUtdSxwPXdhKGgqaCtjKmMpLGQ9bCxmPXUsZz1vLmxlbmd0aDtmb3IoczwwJiYocz1yK3MpLGQtPShzJT1yKSooaC89cCksZi09cyooYy89cCk7aD4wJiZkPD10fHxoPDAmJmQ+PXR8fDA9PT1oJiYoYz4wJiZmPD1lfHxjPDAmJmY+PWUpOylkKz1oKihuPW9baT10aGlzLl9kYXNoSWR4XSksZis9YypuLHRoaXMuX2Rhc2hJZHg9KGkrMSklZyxoPjAmJmQ8bHx8aDwwJiZkPmx8fGM+MCYmZjx1fHxjPDAmJmY+dXx8YVtpJTI/Im1vdmVUbyI6ImxpbmVUbyJdKGg+PTA/bWEoZCx0KTpfYShkLHQpLGM+PTA/bWEoZixlKTpfYShmLGUpKTtoPWQtdCxjPWYtZSx0aGlzLl9kYXNoT2Zmc2V0PS13YShoKmgrYypjKX0sdC5wcm90b3R5cGUuX2Rhc2hlZEJlemllclRvPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzLGwsdSxoLGM9dGhpcy5fY3R4LHA9dGhpcy5fZGFzaFN1bSxkPXRoaXMuX2Rhc2hPZmZzZXQsZj10aGlzLl9saW5lRGFzaCxnPXRoaXMuX3hpLHk9dGhpcy5feWksdj0wLG09dGhpcy5fZGFzaElkeCxfPWYubGVuZ3RoLHg9MDtmb3IoZDwwJiYoZD1wK2QpLGQlPXAsYT0wO2E8MTthKz0uMSlzPUVvKGcsdCxuLHIsYSsuMSktRW8oZyx0LG4scixhKSxsPUVvKHksZSxpLG8sYSsuMSktRW8oeSxlLGksbyxhKSx2Kz13YShzKnMrbCpsKTtmb3IoO208XyYmISgoeCs9ZlttXSk+ZCk7bSsrKTtmb3IoYT0oeC1kKS92O2E8PTE7KXU9RW8oZyx0LG4scixhKSxoPUVvKHksZSxpLG8sYSksbSUyP2MubW92ZVRvKHUsaCk6Yy5saW5lVG8odSxoKSxhKz1mW21dL3YsbT0obSsxKSVfO20lMiE9MCYmYy5saW5lVG8ocixvKSxzPXItdSxsPW8taCx0aGlzLl9kYXNoT2Zmc2V0PS13YShzKnMrbCpsKX0sdC5wcm90b3R5cGUuX2Rhc2hlZFF1YWRyYXRpY1RvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4sbz1pO249KG4rMip0KS8zLGk9KGkrMiplKS8zLHQ9KHRoaXMuX3hpKzIqdCkvMyxlPSh0aGlzLl95aSsyKmUpLzMsdGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLG4saSxyLG8pfSx0LnByb3RvdHlwZS50b1N0YXRpYz1mdW5jdGlvbigpe2lmKHRoaXMuX3NhdmVEYXRhKXt0aGlzLl9kcmF3UGVuZGluZ1B0KCk7dmFyIHQ9dGhpcy5kYXRhO3QgaW5zdGFuY2VvZiBBcnJheSYmKHQubGVuZ3RoPXRoaXMuX2xlbixUYSYmdGhpcy5fbGVuPjExJiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkodCkpKX19LHQucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe2ZhWzBdPWZhWzFdPXlhWzBdPXlhWzFdPU51bWJlci5NQVhfVkFMVUUsZ2FbMF09Z2FbMV09dmFbMF09dmFbMV09LU51bWJlci5NQVhfVkFMVUU7dmFyIHQsZT10aGlzLmRhdGEsbj0wLGk9MCxyPTAsbz0wO2Zvcih0PTA7dDx0aGlzLl9sZW47KXt2YXIgYT1lW3QrK10scz0xPT09dDtzd2l0Y2gocyYmKHI9bj1lW3RdLG89aT1lW3QrMV0pLGEpe2Nhc2UgY2EuTTpuPXI9ZVt0KytdLGk9bz1lW3QrK10seWFbMF09cix5YVsxXT1vLHZhWzBdPXIsdmFbMV09bzticmVhaztjYXNlIGNhLkw6b2EobixpLGVbdF0sZVt0KzFdLHlhLHZhKSxuPWVbdCsrXSxpPWVbdCsrXTticmVhaztjYXNlIGNhLkM6bGEobixpLGVbdCsrXSxlW3QrK10sZVt0KytdLGVbdCsrXSxlW3RdLGVbdCsxXSx5YSx2YSksbj1lW3QrK10saT1lW3QrK107YnJlYWs7Y2FzZSBjYS5ROnVhKG4saSxlW3QrK10sZVt0KytdLGVbdF0sZVt0KzFdLHlhLHZhKSxuPWVbdCsrXSxpPWVbdCsrXTticmVhaztjYXNlIGNhLkE6dmFyIGw9ZVt0KytdLHU9ZVt0KytdLGg9ZVt0KytdLGM9ZVt0KytdLHA9ZVt0KytdLGQ9ZVt0KytdK3A7dCs9MTt2YXIgZj0hZVt0KytdO3MmJihyPXhhKHApKmgrbCxvPWJhKHApKmMrdSksaGEobCx1LGgsYyxwLGQsZix5YSx2YSksbj14YShkKSpoK2wsaT1iYShkKSpjK3U7YnJlYWs7Y2FzZSBjYS5SOm9hKHI9bj1lW3QrK10sbz1pPWVbdCsrXSxyK2VbdCsrXSxvK2VbdCsrXSx5YSx2YSk7YnJlYWs7Y2FzZSBjYS5aOm49cixpPW99TnQoZmEsZmEseWEpLHp0KGdhLGdhLHZhKX1yZXR1cm4gMD09PXQmJihmYVswXT1mYVsxXT1nYVswXT1nYVsxXT0wKSxuZXcgZ2koZmFbMF0sZmFbMV0sZ2FbMF0tZmFbMF0sZ2FbMV0tZmFbMV0pfSx0LnByb3RvdHlwZS5fY2FsY3VsYXRlTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5fbGVuLG49dGhpcy5fdXgsaT10aGlzLl91eSxyPTAsbz0wLGE9MCxzPTA7dGhpcy5fcGF0aFNlZ0xlbnx8KHRoaXMuX3BhdGhTZWdMZW49W10pO2Zvcih2YXIgbD10aGlzLl9wYXRoU2VnTGVuLHU9MCxoPTAsYz0wO2M8ZTspe3ZhciBwPXRbYysrXSxkPTE9PT1jO2QmJihhPXI9dFtjXSxzPW89dFtjKzFdKTt2YXIgZj0tMTtzd2l0Y2gocCl7Y2FzZSBjYS5NOnI9YT10W2MrK10sbz1zPXRbYysrXTticmVhaztjYXNlIGNhLkw6dmFyIGc9dFtjKytdLHk9KF89dFtjKytdKS1vOyhTYShBPWctcik+bnx8U2EoeSk+aXx8Yz09PWUtMSkmJihmPU1hdGguc3FydChBKkEreSp5KSxyPWcsbz1fKTticmVhaztjYXNlIGNhLkM6dmFyIHY9dFtjKytdLG09dFtjKytdLF89KGc9dFtjKytdLHRbYysrXSkseD10W2MrK10sYj10W2MrK107Zj1XbyhyLG8sdixtLGcsXyx4LGIsMTApLHI9eCxvPWI7YnJlYWs7Y2FzZSBjYS5ROmY9cW8ocixvLHY9dFtjKytdLG09dFtjKytdLGc9dFtjKytdLF89dFtjKytdLDEwKSxyPWcsbz1fO2JyZWFrO2Nhc2UgY2EuQTp2YXIgdz10W2MrK10sUz10W2MrK10sTT10W2MrK10sST10W2MrK10sVD10W2MrK10sQz10W2MrK10sRD1DK1Q7Yys9MTt0W2MrK107ZCYmKGE9eGEoVCkqTSt3LHM9YmEoVCkqSStTKSxmPV9hKE0sSSkqbWEoSWEsTWF0aC5hYnMoQykpLHI9eGEoRCkqTSt3LG89YmEoRCkqSStTO2JyZWFrO2Nhc2UgY2EuUjphPXI9dFtjKytdLHM9bz10W2MrK10sZj0yKnRbYysrXSsyKnRbYysrXTticmVhaztjYXNlIGNhLlo6dmFyIEE9YS1yO3k9cy1vO2Y9TWF0aC5zcXJ0KEEqQSt5KnkpLHI9YSxvPXN9Zj49MCYmKGxbaCsrXT1mLHUrPWYpfXJldHVybiB0aGlzLl9wYXRoTGVuPXUsdX0sdC5wcm90b3R5cGUucmVidWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhLHMsbCx1LGgsYyxwPXRoaXMuZGF0YSxkPXRoaXMuX3V4LGY9dGhpcy5fdXksZz10aGlzLl9sZW4seT1lPDEsdj0wLG09MCxfPTA7aWYoIXl8fCh0aGlzLl9wYXRoU2VnTGVufHx0aGlzLl9jYWxjdWxhdGVMZW5ndGgoKSxsPXRoaXMuX3BhdGhTZWdMZW4sdT1lKnRoaXMuX3BhdGhMZW4pKXQ6Zm9yKHZhciB4PTA7eDxnOyl7dmFyIGI9cFt4KytdLHc9MT09PXg7c3dpdGNoKHcmJihuPXI9cFt4XSxpPW89cFt4KzFdKSxiKXtjYXNlIGNhLk06Xz4wJiYodC5saW5lVG8oaCxjKSxfPTApLG49cj1wW3grK10saT1vPXBbeCsrXSx0Lm1vdmVUbyhyLG8pO2JyZWFrO2Nhc2UgY2EuTDphPXBbeCsrXSxzPXBbeCsrXTt2YXIgUz1TYShhLXIpLE09U2Eocy1vKTtpZihTPmR8fE0+Zil7aWYoeSl7aWYodisoaj1sW20rK10pPnUpe3ZhciBJPSh1LXYpL2o7dC5saW5lVG8ociooMS1JKSthKkksbyooMS1JKStzKkkpO2JyZWFrIHR9dis9an10LmxpbmVUbyhhLHMpLHI9YSxvPXMsXz0wfWVsc2V7dmFyIFQ9UypTK00qTTtUPl8mJihoPWEsYz1zLF89VCl9YnJlYWs7Y2FzZSBjYS5DOnZhciBDPXBbeCsrXSxEPXBbeCsrXSxBPXBbeCsrXSxMPXBbeCsrXSxrPXBbeCsrXSxQPXBbeCsrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7R28ocixDLEEsayxJPSh1LXYpL2oscGEpLEdvKG8sRCxMLFAsSSxkYSksdC5iZXppZXJDdXJ2ZVRvKHBhWzFdLGRhWzFdLHBhWzJdLGRhWzJdLHBhWzNdLGRhWzNdKTticmVhayB0fXYrPWp9dC5iZXppZXJDdXJ2ZVRvKEMsRCxBLEwsayxQKSxyPWssbz1QO2JyZWFrO2Nhc2UgY2EuUTpDPXBbeCsrXSxEPXBbeCsrXSxBPXBbeCsrXSxMPXBbeCsrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7Wm8ocixDLEEsST0odS12KS9qLHBhKSxabyhvLEQsTCxJLGRhKSx0LnF1YWRyYXRpY0N1cnZlVG8ocGFbMV0sZGFbMV0scGFbMl0sZGFbMl0pO2JyZWFrIHR9dis9an10LnF1YWRyYXRpY0N1cnZlVG8oQyxELEEsTCkscj1BLG89TDticmVhaztjYXNlIGNhLkE6dmFyIE89cFt4KytdLFI9cFt4KytdLE49cFt4KytdLHo9cFt4KytdLEU9cFt4KytdLFY9cFt4KytdLEI9cFt4KytdLEY9IXBbeCsrXSxHPU4+ej9OOnosSD1TYShOLXopPi4wMDEsVz1FK1YsVT0hMTtpZih5KXYrKGo9bFttKytdKT51JiYoVz1FK1YqKHUtdikvaixVPSEwKSx2Kz1qO2lmKEgmJnQuZWxsaXBzZT90LmVsbGlwc2UoTyxSLE4seixCLEUsVyxGKTp0LmFyYyhPLFIsRyxFLFcsRiksVSlicmVhayB0O3cmJihuPXhhKEUpKk4rTyxpPWJhKEUpKnorUikscj14YShXKSpOK08sbz1iYShXKSp6K1I7YnJlYWs7Y2FzZSBjYS5SOm49cj1wW3hdLGk9bz1wW3grMV0sYT1wW3grK10scz1wW3grK107dmFyIFg9cFt4KytdLFk9cFt4KytdO2lmKHkpe2lmKHYrKGo9bFttKytdKT51KXt2YXIgWj11LXY7dC5tb3ZlVG8oYSxzKSx0LmxpbmVUbyhhK21hKFosWCkscyksKFotPVgpPjAmJnQubGluZVRvKGErWCxzK21hKFosWSkpLChaLT1ZKT4wJiZ0LmxpbmVUbyhhK19hKFgtWiwwKSxzK1kpLChaLT1YKT4wJiZ0LmxpbmVUbyhhLHMrX2EoWS1aLDApKTticmVhayB0fXYrPWp9dC5yZWN0KGEscyxYLFkpO2JyZWFrO2Nhc2UgY2EuWjppZihfPjAmJih0LmxpbmVUbyhoLGMpLF89MCkseSl7dmFyIGo7aWYodisoaj1sW20rK10pPnUpe0k9KHUtdikvajt0LmxpbmVUbyhyKigxLUkpK24qSSxvKigxLUkpK2kqSSk7YnJlYWsgdH12Kz1qfXQuY2xvc2VQYXRoKCkscj1uLG89aX19fSx0LkNNRD1jYSx0LmluaXREZWZhdWx0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZTtlLl9zYXZlRGF0YT0hMCxlLl9uZWVkc0Rhc2g9ITEsZS5fZGFzaE9mZnNldD0wLGUuX2Rhc2hJZHg9MCxlLl9kYXNoU3VtPTAsZS5fdXg9MCxlLl91eT0wLGUuX3BlbmRpbmdQdERpc3Q9MCxlLl92ZXJzaW9uPTB9KCksdH0oKTtmdW5jdGlvbiBrYSh0LGUsbixpLHIsbyxhKXtpZigwPT09cilyZXR1cm4hMTt2YXIgcz1yLGw9MDtpZihhPmUrcyYmYT5pK3N8fGE8ZS1zJiZhPGktc3x8bz50K3MmJm8+bitzfHxvPHQtcyYmbzxuLXMpcmV0dXJuITE7aWYodD09PW4pcmV0dXJuIE1hdGguYWJzKG8tdCk8PXMvMjt2YXIgdT0obD0oZS1pKS8odC1uKSkqby1hKyh0KmktbiplKS8odC1uKTtyZXR1cm4gdSp1LyhsKmwrMSk8PXMvMipzLzJ9ZnVuY3Rpb24gUGEodCxlLG4saSxyLG8sYSxzLGwsdSxoKXtpZigwPT09bClyZXR1cm4hMTt2YXIgYz1sO3JldHVybiEoaD5lK2MmJmg+aStjJiZoPm8rYyYmaD5zK2N8fGg8ZS1jJiZoPGktYyYmaDxvLWMmJmg8cy1jfHx1PnQrYyYmdT5uK2MmJnU+citjJiZ1PmErY3x8dTx0LWMmJnU8bi1jJiZ1PHItYyYmdTxhLWMpJiZIbyh0LGUsbixpLHIsbyxhLHMsdSxoLG51bGwpPD1jLzJ9ZnVuY3Rpb24gT2EodCxlLG4saSxyLG8sYSxzLGwpe2lmKDA9PT1hKXJldHVybiExO3ZhciB1PWE7cmV0dXJuIShsPmUrdSYmbD5pK3UmJmw+byt1fHxsPGUtdSYmbDxpLXUmJmw8by11fHxzPnQrdSYmcz5uK3UmJnM+cit1fHxzPHQtdSYmczxuLXUmJnM8ci11KSYmam8odCxlLG4saSxyLG8scyxsLG51bGwpPD11LzJ9dmFyIFJhPTIqTWF0aC5QSTtmdW5jdGlvbiBOYSh0KXtyZXR1cm4odCU9UmEpPDAmJih0Kz1SYSksdH12YXIgemE9MipNYXRoLlBJO2Z1bmN0aW9uIEVhKHQsZSxuLGkscixvLGEscyxsKXtpZigwPT09YSlyZXR1cm4hMTt2YXIgdT1hO3MtPXQsbC09ZTt2YXIgaD1NYXRoLnNxcnQocypzK2wqbCk7aWYoaC11Pm58fGgrdTxuKXJldHVybiExO2lmKE1hdGguYWJzKGktciklemE8MWUtNClyZXR1cm4hMDtpZihvKXt2YXIgYz1pO2k9TmEocikscj1OYShjKX1lbHNlIGk9TmEoaSkscj1OYShyKTtpPnImJihyKz16YSk7dmFyIHA9TWF0aC5hdGFuMihsLHMpO3JldHVybiBwPDAmJihwKz16YSkscD49aSYmcDw9cnx8cCt6YT49aSYmcCt6YTw9cn1mdW5jdGlvbiBWYSh0LGUsbixpLHIsbyl7aWYobz5lJiZvPml8fG88ZSYmbzxpKXJldHVybiAwO2lmKGk9PT1lKXJldHVybiAwO3ZhciBhPShvLWUpLyhpLWUpLHM9aTxlPzE6LTE7MSE9PWEmJjAhPT1hfHwocz1pPGU/LjU6LS41KTt2YXIgbD1hKihuLXQpK3Q7cmV0dXJuIGw9PT1yPzEvMDpsPnI/czowfXZhciBCYT1MYS5DTUQsRmE9MipNYXRoLlBJO3ZhciBHYT1bLTEsLTEsLTFdLEhhPVstMSwtMV07ZnVuY3Rpb24gV2EodCxlLG4saSxyLG8sYSxzLGwsdSl7aWYodT5lJiZ1PmkmJnU+byYmdT5zfHx1PGUmJnU8aSYmdTxvJiZ1PHMpcmV0dXJuIDA7dmFyIGgsYz1CbyhlLGksbyxzLHUsR2EpO2lmKDA9PT1jKXJldHVybiAwO2Zvcih2YXIgcD0wLGQ9LTEsZj12b2lkIDAsZz12b2lkIDAseT0wO3k8Yzt5Kyspe3ZhciB2PUdhW3ldLG09MD09PXZ8fDE9PT12Py41OjE7RW8odCxuLHIsYSx2KTxsfHwoZDwwJiYoZD1GbyhlLGksbyxzLEhhKSxIYVsxXTxIYVswXSYmZD4xJiYoaD12b2lkIDAsaD1IYVswXSxIYVswXT1IYVsxXSxIYVsxXT1oKSxmPUVvKGUsaSxvLHMsSGFbMF0pLGQ+MSYmKGc9RW8oZSxpLG8scyxIYVsxXSkpKSwyPT09ZD92PEhhWzBdP3ArPWY8ZT9tOi1tOnY8SGFbMV0/cCs9ZzxmP206LW06cCs9czxnP206LW06djxIYVswXT9wKz1mPGU/bTotbTpwKz1zPGY/bTotbSl9cmV0dXJuIHB9ZnVuY3Rpb24gVWEodCxlLG4saSxyLG8sYSxzKXtpZihzPmUmJnM+aSYmcz5vfHxzPGUmJnM8aSYmczxvKXJldHVybiAwO3ZhciBsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC0yKmUrbixhPTIqKGUtdCkscz10LWksbD0wO2lmKE5vKG8pKXpvKGEpJiYoaD0tcy9hKT49MCYmaDw9MSYmKHJbbCsrXT1oKTtlbHNle3ZhciB1PWEqYS00Km8qcztpZihObyh1KSkoaD0tYS8oMipvKSk+PTAmJmg8PTEmJihyW2wrK109aCk7ZWxzZSBpZih1PjApe3ZhciBoLGM9Q28odSkscD0oLWEtYykvKDIqbyk7KGg9KC1hK2MpLygyKm8pKT49MCYmaDw9MSYmKHJbbCsrXT1oKSxwPj0wJiZwPD0xJiYocltsKytdPXApfX1yZXR1cm4gbH0oZSxpLG8scyxHYSk7aWYoMD09PWwpcmV0dXJuIDA7dmFyIHU9WW8oZSxpLG8pO2lmKHU+PTAmJnU8PTEpe2Zvcih2YXIgaD0wLGM9VW8oZSxpLG8sdSkscD0wO3A8bDtwKyspe3ZhciBkPTA9PT1HYVtwXXx8MT09PUdhW3BdPy41OjE7VW8odCxuLHIsR2FbcF0pPGF8fChHYVtwXTx1P2grPWM8ZT9kOi1kOmgrPW88Yz9kOi1kKX1yZXR1cm4gaH1kPTA9PT1HYVswXXx8MT09PUdhWzBdPy41OjE7cmV0dXJuIFVvKHQsbixyLEdhWzBdKTxhPzA6bzxlP2Q6LWR9ZnVuY3Rpb24gWGEodCxlLG4saSxyLG8sYSxzKXtpZigocy09ZSk+bnx8czwtbilyZXR1cm4gMDt2YXIgbD1NYXRoLnNxcnQobipuLXMqcyk7R2FbMF09LWwsR2FbMV09bDt2YXIgdT1NYXRoLmFicyhpLXIpO2lmKHU8MWUtNClyZXR1cm4gMDtpZih1Pj1GYS0xZS00KXtpPTAscj1GYTt2YXIgaD1vPzE6LTE7cmV0dXJuIGE+PUdhWzBdK3QmJmE8PUdhWzFdK3Q/aDowfWlmKGk+cil7dmFyIGM9aTtpPXIscj1jfWk8MCYmKGkrPUZhLHIrPUZhKTtmb3IodmFyIHA9MCxkPTA7ZDwyO2QrKyl7dmFyIGY9R2FbZF07aWYoZit0PmEpe3ZhciBnPU1hdGguYXRhbjIocyxmKTtoPW8/MTotMTtnPDAmJihnPUZhK2cpLChnPj1pJiZnPD1yfHxnK0ZhPj1pJiZnK0ZhPD1yKSYmKGc+TWF0aC5QSS8yJiZnPDEuNSpNYXRoLlBJJiYoaD0taCkscCs9aCl9fXJldHVybiBwfWZ1bmN0aW9uIFlhKHQsZSxuLGkscil7Zm9yKHZhciBvLGEscyxsLHU9dC5kYXRhLGg9dC5sZW4oKSxjPTAscD0wLGQ9MCxmPTAsZz0wLHk9MDt5PGg7KXt2YXIgdj11W3krK10sbT0xPT09eTtzd2l0Y2godj09PUJhLk0mJnk+MSYmKG58fChjKz1WYShwLGQsZixnLGkscikpKSxtJiYoZj1wPXVbeV0sZz1kPXVbeSsxXSksdil7Y2FzZSBCYS5NOnA9Zj11W3krK10sZD1nPXVbeSsrXTticmVhaztjYXNlIEJhLkw6aWYobil7aWYoa2EocCxkLHVbeV0sdVt5KzFdLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPVZhKHAsZCx1W3ldLHVbeSsxXSxpLHIpfHwwO3A9dVt5KytdLGQ9dVt5KytdO2JyZWFrO2Nhc2UgQmEuQzppZihuKXtpZihQYShwLGQsdVt5KytdLHVbeSsrXSx1W3krK10sdVt5KytdLHVbeV0sdVt5KzFdLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPVdhKHAsZCx1W3krK10sdVt5KytdLHVbeSsrXSx1W3krK10sdVt5XSx1W3krMV0saSxyKXx8MDtwPXVbeSsrXSxkPXVbeSsrXTticmVhaztjYXNlIEJhLlE6aWYobil7aWYoT2EocCxkLHVbeSsrXSx1W3krK10sdVt5XSx1W3krMV0sZSxpLHIpKXJldHVybiEwfWVsc2UgYys9VWEocCxkLHVbeSsrXSx1W3krK10sdVt5XSx1W3krMV0saSxyKXx8MDtwPXVbeSsrXSxkPXVbeSsrXTticmVhaztjYXNlIEJhLkE6dmFyIF89dVt5KytdLHg9dVt5KytdLGI9dVt5KytdLHc9dVt5KytdLFM9dVt5KytdLE09dVt5KytdO3krPTE7dmFyIEk9ISEoMS11W3krK10pO289TWF0aC5jb3MoUykqYitfLGE9TWF0aC5zaW4oUykqdyt4LG0/KGY9byxnPWEpOmMrPVZhKHAsZCxvLGEsaSxyKTt2YXIgVD0oaS1fKSp3L2IrXztpZihuKXtpZihFYShfLHgsdyxTLFMrTSxJLGUsVCxyKSlyZXR1cm4hMH1lbHNlIGMrPVhhKF8seCx3LFMsUytNLEksVCxyKTtwPU1hdGguY29zKFMrTSkqYitfLGQ9TWF0aC5zaW4oUytNKSp3K3g7YnJlYWs7Y2FzZSBCYS5SOmlmKGY9cD11W3krK10sZz1kPXVbeSsrXSxvPWYrdVt5KytdLGE9Zyt1W3krK10sbil7aWYoa2EoZixnLG8sZyxlLGkscil8fGthKG8sZyxvLGEsZSxpLHIpfHxrYShvLGEsZixhLGUsaSxyKXx8a2EoZixhLGYsZyxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1WYShvLGcsbyxhLGksciksYys9VmEoZixhLGYsZyxpLHIpO2JyZWFrO2Nhc2UgQmEuWjppZihuKXtpZihrYShwLGQsZixnLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPVZhKHAsZCxmLGcsaSxyKTtwPWYsZD1nfX1yZXR1cm4gbnx8KHM9ZCxsPWcsTWF0aC5hYnMocy1sKTwxZS00KXx8KGMrPVZhKHAsZCxmLGcsaSxyKXx8MCksMCE9PWN9dmFyIFphPVQoe2ZpbGw6IiMwMDAiLHN0cm9rZTpudWxsLHN0cm9rZVBlcmNlbnQ6MSxmaWxsT3BhY2l0eToxLHN0cm9rZU9wYWNpdHk6MSxsaW5lRGFzaE9mZnNldDowLGxpbmVXaWR0aDoxLGxpbmVDYXA6ImJ1dHQiLG1pdGVyTGltaXQ6MTAsc3Ryb2tlTm9TY2FsZTohMSxzdHJva2VGaXJzdDohMX0sX28pLGphPXtzdHlsZTpUKHtmaWxsOiEwLHN0cm9rZTohMCxzdHJva2VQZXJjZW50OiEwLGZpbGxPcGFjaXR5OiEwLHN0cm9rZU9wYWNpdHk6ITAsbGluZURhc2hPZmZzZXQ6ITAsbGluZVdpZHRoOiEwLG1pdGVyTGltaXQ6ITB9LHhvLnN0eWxlKX0scWE9WyJ4IiwieSIsInJvdGF0aW9uIiwic2NhbGVYIiwic2NhbGVZIiwib3JpZ2luWCIsIm9yaWdpblkiLCJpbnZpc2libGUiLCJjdWxsaW5nIiwieiIsInoyIiwiemxldmVsIiwicGFyZW50Il0sS2E9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9dmFyIGk7cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO3ZhciBpPXRoaXMuc3R5bGU7aWYoaS5kZWNhbCl7dmFyIHI9dGhpcy5fZGVjYWxFbD10aGlzLl9kZWNhbEVsfHxuZXcgZTtyLmJ1aWxkUGF0aD09PWUucHJvdG90eXBlLmJ1aWxkUGF0aCYmKHIuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe24uYnVpbGRQYXRoKHQsbi5zaGFwZSl9KSxyLnNpbGVudD0hMDt2YXIgbz1yLnN0eWxlO2Zvcih2YXIgYSBpbiBpKW9bYV0hPT1pW2FdJiYob1thXT1pW2FdKTtvLmZpbGw9aS5maWxsP2kuZGVjYWw6bnVsbCxvLmRlY2FsPW51bGwsby5zaGFkb3dDb2xvcj1udWxsLGkuc3Ryb2tlRmlyc3QmJihvLnN0cm9rZT1udWxsKTtmb3IodmFyIHM9MDtzPHFhLmxlbmd0aDsrK3MpcltxYVtzXV09dGhpc1txYVtzXV07ci5fX2RpcnR5fD0xfWVsc2UgdGhpcy5fZGVjYWxFbCYmKHRoaXMuX2RlY2FsRWw9bnVsbCl9LGUucHJvdG90eXBlLmdldERlY2FsRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNhbEVsfSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXt2YXIgbj1FKGUpO3RoaXMuc2hhcGU9dGhpcy5nZXREZWZhdWx0U2hhcGUoKTt2YXIgaT10aGlzLmdldERlZmF1bHRTdHlsZSgpO2kmJnRoaXMudXNlU3R5bGUoaSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0sYT1lW29dOyJzdHlsZSI9PT1vP3RoaXMuc3R5bGU/SSh0aGlzLnN0eWxlLGEpOnRoaXMudXNlU3R5bGUoYSk6InNoYXBlIj09PW8/SSh0aGlzLnNoYXBlLGEpOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsbyxhKX10aGlzLnN0eWxlfHx0aGlzLnVzZVN0eWxlKHt9KX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybnt9fSxlLnByb3RvdHlwZS5jYW5CZUluc2lkZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNGaWxsKCl9LGUucHJvdG90eXBlLmdldEluc2lkZVRleHRGaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZS5maWxsO2lmKCJub25lIiE9PXQpe2lmKEgodCkpe3ZhciBlPVFlKHQsMCk7cmV0dXJuIGU+LjU/Vm46ZT4uMj8iI2VlZSI6Qm59aWYodClyZXR1cm4gQm59cmV0dXJuIFZufSxlLnByb3RvdHlwZS5nZXRJbnNpZGVUZXh0U3Ryb2tlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGUuZmlsbDtpZihIKGUpKXt2YXIgbj10aGlzLl9fenI7aWYoISghbnx8IW4uaXNEYXJrTW9kZSgpKT09PVFlKHQsMCk8LjQpcmV0dXJuIGV9fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlLG4pe30sZS5wcm90b3R5cGUucGF0aFVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9fZGlydHkmPS01fSxlLnByb3RvdHlwZS5jcmVhdGVQYXRoUHJveHk9ZnVuY3Rpb24oKXt0aGlzLnBhdGg9bmV3IExhKCExKX0sZS5wcm90b3R5cGUuaGFzU3Ryb2tlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPXQuc3Ryb2tlO3JldHVybiEobnVsbD09ZXx8Im5vbmUiPT09ZXx8ISh0LmxpbmVXaWR0aD4wKSl9LGUucHJvdG90eXBlLmhhc0ZpbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLmZpbGw7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXR9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLnN0eWxlLG49IXQ7aWYobil7dmFyIGk9ITE7dGhpcy5wYXRofHwoaT0hMCx0aGlzLmNyZWF0ZVBhdGhQcm94eSgpKTt2YXIgcj10aGlzLnBhdGg7KGl8fDQmdGhpcy5fX2RpcnR5KSYmKHIuYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgocix0aGlzLnNoYXBlLCExKSx0aGlzLnBhdGhVcGRhdGVkKCkpLHQ9ci5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsdGhpcy5oYXNTdHJva2UoKSYmdGhpcy5wYXRoJiZ0aGlzLnBhdGgubGVuKCk+MCl7dmFyIG89dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8bil7by5jb3B5KHQpO3ZhciBhPWUuc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjEscz1lLmxpbmVXaWR0aDtpZighdGhpcy5oYXNGaWxsKCkpe3ZhciBsPXRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZDtzPU1hdGgubWF4KHMsbnVsbD09bD80OmwpfWE+MWUtMTAmJihvLndpZHRoKz1zL2Esby5oZWlnaHQrPXMvYSxvLngtPXMvYS8yLG8ueS09cy9hLzIpfXJldHVybiBvfXJldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxpPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkscj10aGlzLnN0eWxlO2lmKHQ9blswXSxlPW5bMV0saS5jb250YWluKHQsZSkpe3ZhciBvPXRoaXMucGF0aDtpZih0aGlzLmhhc1N0cm9rZSgpKXt2YXIgYT1yLmxpbmVXaWR0aCxzPXIuc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjE7aWYocz4xZS0xMCYmKHRoaXMuaGFzRmlsbCgpfHwoYT1NYXRoLm1heChhLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBZYSh0LGUsITAsbixpKX0obyxhL3MsdCxlKSkpcmV0dXJuITB9aWYodGhpcy5oYXNGaWxsKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWWEodCwwLCExLGUsbil9KG8sdCxlKX1yZXR1cm4hMX0sZS5wcm90b3R5cGUuZGlydHlTaGFwZT1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eXw9NCx0aGlzLl9yZWN0JiYodGhpcy5fcmVjdD1udWxsKSx0aGlzLl9kZWNhbEVsJiZ0aGlzLl9kZWNhbEVsLmRpcnR5U2hhcGUoKSx0aGlzLm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5U3R5bGUoKSx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuYW5pbWF0ZVNoYXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoInNoYXBlIix0KX0sZS5wcm90b3R5cGUudXBkYXRlRHVyaW5nQW5pbWF0aW9uPWZ1bmN0aW9uKHQpeyJzdHlsZSI9PT10P3RoaXMuZGlydHlTdHlsZSgpOiJzaGFwZSI9PT10P3RoaXMuZGlydHlTaGFwZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXsic2hhcGUiPT09ZT90aGlzLnNldFNoYXBlKG4pOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuc2V0U2hhcGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNoYXBlO3JldHVybiBufHwobj10aGlzLnNoYXBlPXt9KSwic3RyaW5nIj09dHlwZW9mIHQ/blt0XT1lOkkobix0KSx0aGlzLmRpcnR5U2hhcGUoKSx0aGlzfSxlLnByb3RvdHlwZS5zaGFwZUNoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hISg0JnRoaXMuX19kaXJ0eSl9LGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBwdChaYSx0KX0sZS5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbC5jYWxsKHRoaXMsZSk7dmFyIG49dGhpcy5fbm9ybWFsU3RhdGU7ZS5zaGFwZSYmIW4uc2hhcGUmJihuLnNoYXBlPUkoe30sdGhpcy5zaGFwZSkpfSxlLnByb3RvdHlwZS5fYXBwbHlTdGF0ZU9iaj1mdW5jdGlvbihlLG4saSxyLG8sYSl7dC5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmouY2FsbCh0aGlzLGUsbixpLHIsbyxhKTt2YXIgcyxsPSEobiYmcik7aWYobiYmbi5zaGFwZT9vP3I/cz1uLnNoYXBlOihzPUkoe30saS5zaGFwZSksSShzLG4uc2hhcGUpKToocz1JKHt9LHI/dGhpcy5zaGFwZTppLnNoYXBlKSxJKHMsbi5zaGFwZSkpOmwmJihzPWkuc2hhcGUpLHMpaWYobyl7dGhpcy5zaGFwZT1JKHt9LHRoaXMuc2hhcGUpO2Zvcih2YXIgdT17fSxoPUUocyksYz0wO2M8aC5sZW5ndGg7YysrKXt2YXIgcD1oW2NdOyJvYmplY3QiPT10eXBlb2Ygc1twXT90aGlzLnNoYXBlW3BdPXNbcF06dVtwXT1zW3BdfXRoaXMuX3RyYW5zaXRpb25TdGF0ZShlLHtzaGFwZTp1fSxhKX1lbHNlIHRoaXMuc2hhcGU9cyx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuX21lcmdlU3RhdGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPXQucHJvdG90eXBlLl9tZXJnZVN0YXRlcy5jYWxsKHRoaXMsZSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uc2hhcGUmJihuPW58fHt9LHRoaXMuX21lcmdlU3R5bGUobixvLnNoYXBlKSl9cmV0dXJuIG4mJihpLnNoYXBlPW4pLGl9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gamF9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShuKXt2YXIgaT1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gdC5pbml0JiZ0LmluaXQuY2FsbChpLG4pLGl9cmV0dXJuIG4oaSxlKSxpLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdyh0LnN0eWxlKX0saS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHcodC5zaGFwZSl9LGl9KGUpO2Zvcih2YXIgciBpbiB0KSJmdW5jdGlvbiI9PXR5cGVvZiB0W3JdJiYoaS5wcm90b3R5cGVbcl09dFtyXSk7cmV0dXJuIGl9LGUuaW5pdERlZmF1bHRQcm9wcz0oKGk9ZS5wcm90b3R5cGUpLnR5cGU9InBhdGgiLGkuc3Ryb2tlQ29udGFpblRocmVzaG9sZD01LGkuc2VnbWVudElnbm9yZVRocmVzaG9sZD0wLGkuc3ViUGl4ZWxPcHRpbWl6ZT0hMSxpLmF1dG9CYXRjaD0hMSx2b2lkKGkuX19kaXJ0eT03KSksZX0oU28pLCRhPVQoe3N0cm9rZUZpcnN0OiEwLGZvbnQ6dmkseDowLHk6MCx0ZXh0QWxpZ246ImxlZnQiLHRleHRCYXNlbGluZToidG9wIixtaXRlckxpbWl0OjJ9LFphKSxKYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmhhc1N0cm9rZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LnN0cm9rZTtyZXR1cm4gbnVsbCE9ZSYmIm5vbmUiIT09ZSYmdC5saW5lV2lkdGg+MH0sZS5wcm90b3R5cGUuaGFzRmlsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUuZmlsbDtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH0sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHB0KCRhLHQpfSxlLnByb3RvdHlwZS5zZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCl7dGhpcy5fcmVjdD10fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlO2lmKCF0aGlzLl9yZWN0KXt2YXIgZT10LnRleHQ7bnVsbCE9ZT9lKz0iIjplPSIiO3ZhciBuPWJpKGUsdC5mb250LHQudGV4dEFsaWduLHQudGV4dEJhc2VsaW5lKTtpZihuLngrPXQueHx8MCxuLnkrPXQueXx8MCx0aGlzLmhhc1N0cm9rZSgpKXt2YXIgaT10LmxpbmVXaWR0aDtuLngtPWkvMixuLnktPWkvMixuLndpZHRoKz1pLG4uaGVpZ2h0Kz1pfXRoaXMuX3JlY3Q9bn1yZXR1cm4gdGhpcy5fcmVjdH0sZS5pbml0RGVmYXVsdFByb3BzPXZvaWQoZS5wcm90b3R5cGUuZGlydHlSZWN0VG9sZXJhbmNlPTEwKSxlfShTbyk7SmEucHJvdG90eXBlLnR5cGU9InRzcGFuIjt2YXIgUWE9VCh7eDowLHk6MH0sX28pLHRzPXtzdHlsZTpUKHt4OiEwLHk6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLHN4OiEwLHN5OiEwLHNXaWR0aDohMCxzSGVpZ2h0OiEwfSx4by5zdHlsZSl9O3ZhciBlcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBwdChRYSx0KX0sZS5wcm90b3R5cGUuX2dldFNpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxuPWVbdF07aWYobnVsbCE9bilyZXR1cm4gbjt2YXIgaSxyPShpPWUuaW1hZ2UpJiYic3RyaW5nIiE9dHlwZW9mIGkmJmkud2lkdGgmJmkuaGVpZ2h0P2UuaW1hZ2U6dGhpcy5fX2ltYWdlO2lmKCFyKXJldHVybiAwO3ZhciBvPSJ3aWR0aCI9PT10PyJoZWlnaHQiOiJ3aWR0aCIsYT1lW29dO3JldHVybiBudWxsPT1hP3JbdF06clt0XS9yW29dKmF9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFNpemUoIndpZHRoIil9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRTaXplKCJoZWlnaHQiKX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiB0c30sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtyZXR1cm4gdGhpcy5fcmVjdHx8KHRoaXMuX3JlY3Q9bmV3IGdpKHQueHx8MCx0Lnl8fDAsdGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCkpKSx0aGlzLl9yZWN0fSxlfShTbyk7ZXMucHJvdG90eXBlLnR5cGU9ImltYWdlIjt2YXIgbnM9TWF0aC5yb3VuZDtmdW5jdGlvbiBpcyh0LGUsbil7aWYoZSl7dmFyIGk9ZS54MSxyPWUueDIsbz1lLnkxLGE9ZS55Mjt0LngxPWksdC54Mj1yLHQueTE9byx0LnkyPWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KG5zKDIqaSk9PT1ucygyKnIpJiYodC54MT10LngyPW9zKGkscywhMCkpLG5zKDIqbyk9PT1ucygyKmEpJiYodC55MT10LnkyPW9zKG8scywhMCkpLHQpOnR9fWZ1bmN0aW9uIHJzKHQsZSxuKXtpZihlKXt2YXIgaT1lLngscj1lLnksbz1lLndpZHRoLGE9ZS5oZWlnaHQ7dC54PWksdC55PXIsdC53aWR0aD1vLHQuaGVpZ2h0PWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KHQueD1vcyhpLHMsITApLHQueT1vcyhyLHMsITApLHQud2lkdGg9TWF0aC5tYXgob3MoaStvLHMsITEpLXQueCwwPT09bz8wOjEpLHQuaGVpZ2h0PU1hdGgubWF4KG9zKHIrYSxzLCExKS10LnksMD09PWE/MDoxKSx0KTp0fX1mdW5jdGlvbiBvcyh0LGUsbil7aWYoIWUpcmV0dXJuIHQ7dmFyIGk9bnMoMip0KTtyZXR1cm4oaStucyhlKSklMj09MD9pLzI6KGkrKG4/MTotMSkpLzJ9dmFyIGFzPWZ1bmN0aW9uKCl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTB9LHNzPXt9LGxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhc30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG87aWYodGhpcy5zdWJQaXhlbE9wdGltaXplKXt2YXIgYT1ycyhzcyxlLHRoaXMuc3R5bGUpO249YS54LGk9YS55LHI9YS53aWR0aCxvPWEuaGVpZ2h0LGEucj1lLnIsZT1hfWVsc2Ugbj1lLngsaT1lLnkscj1lLndpZHRoLG89ZS5oZWlnaHQ7ZS5yP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYSxzPWUueCxsPWUueSx1PWUud2lkdGgsaD1lLmhlaWdodCxjPWUucjt1PDAmJihzKz11LHU9LXUpLGg8MCYmKGwrPWgsaD0taCksIm51bWJlciI9PXR5cGVvZiBjP249aT1yPW89YzpjIGluc3RhbmNlb2YgQXJyYXk/MT09PWMubGVuZ3RoP249aT1yPW89Y1swXToyPT09Yy5sZW5ndGg/KG49cj1jWzBdLGk9bz1jWzFdKTozPT09Yy5sZW5ndGg/KG49Y1swXSxpPW89Y1sxXSxyPWNbMl0pOihuPWNbMF0saT1jWzFdLHI9Y1syXSxvPWNbM10pOm49aT1yPW89MCxuK2k+dSYmKG4qPXUvKGE9bitpKSxpKj11L2EpLHIrbz51JiYocio9dS8oYT1yK28pLG8qPXUvYSksaStyPmgmJihpKj1oLyhhPWkrcikscio9aC9hKSxuK28+aCYmKG4qPWgvKGE9bitvKSxvKj1oL2EpLHQubW92ZVRvKHMrbixsKSx0LmxpbmVUbyhzK3UtaSxsKSwwIT09aSYmdC5hcmMocyt1LWksbCtpLGksLU1hdGguUEkvMiwwKSx0LmxpbmVUbyhzK3UsbCtoLXIpLDAhPT1yJiZ0LmFyYyhzK3UtcixsK2gtcixyLDAsTWF0aC5QSS8yKSx0LmxpbmVUbyhzK28sbCtoKSwwIT09byYmdC5hcmMocytvLGwraC1vLG8sTWF0aC5QSS8yLE1hdGguUEkpLHQubGluZVRvKHMsbCtuKSwwIT09biYmdC5hcmMocytuLGwrbixuLE1hdGguUEksMS41Kk1hdGguUEkpfSh0LGUpOnQucmVjdChuLGkscixvKX0sZS5wcm90b3R5cGUuaXNaZXJvQXJlYT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnNoYXBlLndpZHRofHwhdGhpcy5zaGFwZS5oZWlnaHR9LGV9KEthKTtscy5wcm90b3R5cGUudHlwZT0icmVjdCI7dmFyIHVzPXtmaWxsOiIjMDAwIn0saHM9e3N0eWxlOlQoe2ZpbGw6ITAsc3Ryb2tlOiEwLGZpbGxPcGFjaXR5OiEwLHN0cm9rZU9wYWNpdHk6ITAsbGluZVdpZHRoOiEwLGZvbnRTaXplOiEwLGxpbmVIZWlnaHQ6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLHRleHRTaGFkb3dDb2xvcjohMCx0ZXh0U2hhZG93Qmx1cjohMCx0ZXh0U2hhZG93T2Zmc2V0WDohMCx0ZXh0U2hhZG93T2Zmc2V0WTohMCxiYWNrZ3JvdW5kQ29sb3I6ITAscGFkZGluZzohMCxib3JkZXJDb2xvcjohMCxib3JkZXJXaWR0aDohMCxib3JkZXJSYWRpdXM6ITB9LHhvLnN0eWxlKX0sY3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT0idGV4dCIsbi5fY2hpbGRyZW49W10sbi5fZGVmYXVsdFN0eWxlPXVzLG4uYXR0cihlKSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY2hpbGRyZW5SZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc3R5bGVDaGFuZ2VkKCkmJnRoaXMuX3VwZGF0ZVN1YlRleHRzKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9jaGlsZHJlbltlXTtuLnpsZXZlbD10aGlzLnpsZXZlbCxuLno9dGhpcy56LG4uejI9dGhpcy56MixuLmN1bGxpbmc9dGhpcy5jdWxsaW5nLG4uY3Vyc29yPXRoaXMuY3Vyc29yLG4uaW52aXNpYmxlPXRoaXMuaW52aXNpYmxlfXZhciBpPXRoaXMuYXR0YWNoZWRUcmFuc2Zvcm07aWYoaSl7aS51cGRhdGVUcmFuc2Zvcm0oKTt2YXIgcj1pLnRyYW5zZm9ybTtyPyh0aGlzLnRyYW5zZm9ybT10aGlzLnRyYW5zZm9ybXx8W10sSG4odGhpcy50cmFuc2Zvcm0scikpOnRoaXMudHJhbnNmb3JtPW51bGx9ZWxzZSB0LnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2hvc3RUYXJnZXQmJih0aGlzLl9faG9zdFRhcmdldC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLHRoaXMuX19ob3N0VGFyZ2V0LnVwZGF0ZUlubmVyVGV4dCghMCkpLHRoaXMuYXR0YWNoZWRUcmFuc2Zvcm0/dGhpcy5hdHRhY2hlZFRyYW5zZm9ybS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpOnQucHJvdG90eXBlLmdldENvbXB1dGVkVHJhbnNmb3JtLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl91cGRhdGVTdWJUZXh0cz1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX2NoaWxkQ3Vyc29yPTAsZnModD10aGlzLnN0eWxlKSxQKHQucmljaCxmcyksdGhpcy5zdHlsZS5yaWNoP3RoaXMuX3VwZGF0ZVJpY2hUZXh0cygpOnRoaXMuX3VwZGF0ZVBsYWluVGV4dHMoKSx0aGlzLl9jaGlsZHJlbi5sZW5ndGg9dGhpcy5fY2hpbGRDdXJzb3IsdGhpcy5zdHlsZVVwZGF0ZWQoKX0sZS5wcm90b3R5cGUuYWRkU2VsZlRvWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuYWRkU2VsZlRvWnIuY2FsbCh0aGlzLGUpO2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl0aGlzLl9jaGlsZHJlbltuXS5fX3pyPWV9LGUucHJvdG90eXBlLnJlbW92ZVNlbGZGcm9tWnI9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuX2NoaWxkcmVuW25dLl9fenI9bnVsbH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7aWYodGhpcy5zdHlsZUNoYW5nZWQoKSYmdGhpcy5fdXBkYXRlU3ViVGV4dHMoKSwhdGhpcy5fcmVjdCl7Zm9yKHZhciB0PW5ldyBnaSgwLDAsMCwwKSxlPXRoaXMuX2NoaWxkcmVuLG49W10saT1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxhPW8uZ2V0Qm91bmRpbmdSZWN0KCkscz1vLmdldExvY2FsVHJhbnNmb3JtKG4pO3M/KHQuY29weShhKSx0LmFwcGx5VHJhbnNmb3JtKHMpLChpPWl8fHQuY2xvbmUoKSkudW5pb24odCkpOihpPWl8fGEuY2xvbmUoKSkudW5pb24oYSl9dGhpcy5fcmVjdD1pfHx0fXJldHVybiB0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5zZXREZWZhdWx0VGV4dFN0eWxlPWZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRTdHlsZT10fHx1c30sZS5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJDYW4ndCBhdHRhY2ggdGV4dCBvbiBhbm90aGVyIHRleHQiKX0sZS5wcm90b3R5cGUuX21lcmdlU3R5bGU9ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gdDt2YXIgbj1lLnJpY2gsaT10LnJpY2h8fG4mJnt9O3JldHVybiBJKHQsZSksbiYmaT8odGhpcy5fbWVyZ2VSaWNoKGksbiksdC5yaWNoPWkpOmkmJih0LnJpY2g9aSksdH0sZS5wcm90b3R5cGUuX21lcmdlUmljaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1FKGUpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0W3JdPXRbcl18fHt9LEkodFtyXSxlW3JdKX19LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gaHN9LGUucHJvdG90eXBlLl9nZXRPckNyZWF0ZUNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NoaWxkcmVuW3RoaXMuX2NoaWxkQ3Vyc29yXTtyZXR1cm4gZSYmZSBpbnN0YW5jZW9mIHR8fChlPW5ldyB0KSx0aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZEN1cnNvcisrXT1lLGUuX196cj10aGlzLl9fenIsZS5wYXJlbnQ9dGhpcyxlfSxlLnByb3RvdHlwZS5fdXBkYXRlUGxhaW5UZXh0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LmZvbnR8fHZpLG49dC5wYWRkaW5nLGk9ZnVuY3Rpb24odCxlKXtudWxsIT10JiYodCs9IiIpO3ZhciBuLGk9ZS5vdmVyZmxvdyxyPWUucGFkZGluZyxvPWUuZm9udCxhPSJ0cnVuY2F0ZSI9PT1pLHM9TWkobyksbD10dChlLmxpbmVIZWlnaHQscyksdT0idHJ1bmNhdGUiPT09ZS5saW5lT3ZlcmZsb3csaD1lLndpZHRoLGM9KG49bnVsbCE9aCYmImJyZWFrIj09PWl8fCJicmVha0FsbCI9PT1pP3Q/dm8odCxlLmZvbnQsaCwiYnJlYWtBbGwiPT09aSwwKS5saW5lczpbXTp0P3Quc3BsaXQoIlxuIik6W10pLmxlbmd0aCpsLHA9dHQoZS5oZWlnaHQsYyk7aWYoYz5wJiZ1KXt2YXIgZD1NYXRoLmZsb29yKHAvbCk7bj1uLnNsaWNlKDAsZCl9dmFyIGY9cCxnPWg7aWYociYmKGYrPXJbMF0rclsyXSxudWxsIT1nJiYoZys9clsxXStyWzNdKSksdCYmYSYmbnVsbCE9Zylmb3IodmFyIHk9c28oaCxvLGUuZWxsaXBzaXMse21pbkNoYXI6ZS50cnVuY2F0ZU1pbkNoYXIscGxhY2Vob2xkZXI6ZS5wbGFjZWhvbGRlcn0pLHY9MDt2PG4ubGVuZ3RoO3YrKyluW3ZdPWxvKG5bdl0seSk7aWYobnVsbD09aCl7dmFyIG09MDtmb3Iodj0wO3Y8bi5sZW5ndGg7disrKW09TWF0aC5tYXgoX2koblt2XSxvKSxtKTtoPW19cmV0dXJue2xpbmVzOm4saGVpZ2h0OnAsb3V0ZXJIZWlnaHQ6ZixsaW5lSGVpZ2h0OmwsY2FsY3VsYXRlZExpbmVIZWlnaHQ6cyxjb250ZW50SGVpZ2h0OmMsd2lkdGg6aH19KHZzKHQpLHQpLHI9bXModCksbz0hIXQuYmFja2dyb3VuZENvbG9yLGE9aS5vdXRlckhlaWdodCxzPWkubGluZXMsbD1pLmxpbmVIZWlnaHQsdT10aGlzLl9kZWZhdWx0U3R5bGUsaD10Lnh8fDAsYz10Lnl8fDAscD10LmFsaWdufHx1LmFsaWdufHwibGVmdCIsZD10LnZlcnRpY2FsQWxpZ258fHUudmVydGljYWxBbGlnbnx8InRvcCIsZj1oLGc9U2koYyxpLmNvbnRlbnRIZWlnaHQsZCk7aWYocnx8bil7dmFyIHk9aS53aWR0aDtuJiYoeSs9blsxXStuWzNdKTt2YXIgdj13aShoLHkscCksbT1TaShjLGEsZCk7ciYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZCh0LHQsdixtLHksYSl9Zys9bC8yLG4mJihmPXlzKGgscCxuKSwidG9wIj09PWQ/Zys9blswXToiYm90dG9tIj09PWQmJihnLT1uWzJdKSk7Zm9yKHZhciBfLHg9MCxiPSExLHc9KG51bGw9PShfPSJmaWxsImluIHQ/dC5maWxsOihiPSEwLHUuZmlsbCkpfHwibm9uZSI9PT1fP251bGw6Xy5pbWFnZXx8Xy5jb2xvclN0b3BzPyIjMDAwIjpfKSxTPShncygic3Ryb2tlImluIHQ/dC5zdHJva2U6b3x8dS5hdXRvU3Ryb2tlJiYhYj9udWxsOih4PTIsdS5zdHJva2UpKSksTT10LnRleHRTaGFkb3dCbHVyPjAsST1udWxsIT10LndpZHRoJiYoInRydW5jYXRlIj09PXQub3ZlcmZsb3d8fCJicmVhayI9PT10Lm92ZXJmbG93fHwiYnJlYWtBbGwiPT09dC5vdmVyZmxvdyksVD1pLmNhbGN1bGF0ZWRMaW5lSGVpZ2h0LEM9MDtDPHMubGVuZ3RoO0MrKyl7dmFyIEQ9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChKYSksQT1ELmNyZWF0ZVN0eWxlKCk7RC51c2VTdHlsZShBKSxBLnRleHQ9c1tDXSxBLng9ZixBLnk9ZyxwJiYoQS50ZXh0QWxpZ249cCksQS50ZXh0QmFzZWxpbmU9Im1pZGRsZSIsQS5vcGFjaXR5PXQub3BhY2l0eSxBLnN0cm9rZUZpcnN0PSEwLE0mJihBLnNoYWRvd0JsdXI9dC50ZXh0U2hhZG93Qmx1cnx8MCxBLnNoYWRvd0NvbG9yPXQudGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiLEEuc2hhZG93T2Zmc2V0WD10LnRleHRTaGFkb3dPZmZzZXRYfHwwLEEuc2hhZG93T2Zmc2V0WT10LnRleHRTaGFkb3dPZmZzZXRZfHwwKSxTJiYoQS5zdHJva2U9UyxBLmxpbmVXaWR0aD10LmxpbmVXaWR0aHx8eCxBLmxpbmVEYXNoPXQubGluZURhc2gsQS5saW5lRGFzaE9mZnNldD10LmxpbmVEYXNoT2Zmc2V0fHwwKSx3JiYoQS5maWxsPXcpLEEuZm9udD1lLGcrPWwsSSYmRC5zZXRCb3VuZGluZ1JlY3QobmV3IGdpKHdpKEEueCx0LndpZHRoLEEudGV4dEFsaWduKSxTaShBLnksVCxBLnRleHRCYXNlbGluZSksdC53aWR0aCxUKSl9fSxlLnByb3RvdHlwZS5fdXBkYXRlUmljaFRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHBvO2lmKG51bGwhPXQmJih0Kz0iIiksIXQpcmV0dXJuIG47Zm9yKHZhciBpLHI9ZS53aWR0aCxvPWUuaGVpZ2h0LGE9ZS5vdmVyZmxvdyxzPSJicmVhayIhPT1hJiYiYnJlYWtBbGwiIT09YXx8bnVsbD09cj9udWxsOnt3aWR0aDpyLGFjY3VtV2lkdGg6MCxicmVha0FsbDoiYnJlYWtBbGwiPT09YX0sbD1vby5sYXN0SW5kZXg9MDtudWxsIT0oaT1vby5leGVjKHQpKTspe3ZhciB1PWkuaW5kZXg7dT5sJiZmbyhuLHQuc3Vic3RyaW5nKGwsdSksZSxzKSxmbyhuLGlbMl0sZSxzLGlbMV0pLGw9b28ubGFzdEluZGV4fWw8dC5sZW5ndGgmJmZvKG4sdC5zdWJzdHJpbmcobCx0Lmxlbmd0aCksZSxzKTt2YXIgaD1bXSxjPTAscD0wLGQ9ZS5wYWRkaW5nLGY9InRydW5jYXRlIj09PWEsZz0idHJ1bmNhdGUiPT09ZS5saW5lT3ZlcmZsb3c7ZnVuY3Rpb24geSh0LGUsbil7dC53aWR0aD1lLHQubGluZUhlaWdodD1uLGMrPW4scD1NYXRoLm1heChwLGUpfXQ6Zm9yKHZhciB2PTA7djxuLmxpbmVzLmxlbmd0aDt2Kyspe2Zvcih2YXIgbT1uLmxpbmVzW3ZdLF89MCx4PTAsYj0wO2I8bS50b2tlbnMubGVuZ3RoO2IrKyl7dmFyIHc9KFA9bS50b2tlbnNbYl0pLnN0eWxlTmFtZSYmZS5yaWNoW1Auc3R5bGVOYW1lXXx8e30sUz1QLnRleHRQYWRkaW5nPXcucGFkZGluZyxNPVM/U1sxXStTWzNdOjAsST1QLmZvbnQ9dy5mb250fHxlLmZvbnQ7UC5jb250ZW50SGVpZ2h0PU1pKEkpO3ZhciBUPXR0KHcuaGVpZ2h0LFAuY29udGVudEhlaWdodCk7aWYoUC5pbm5lckhlaWdodD1ULFMmJihUKz1TWzBdK1NbMl0pLFAuaGVpZ2h0PVQsUC5saW5lSGVpZ2h0PWV0KHcubGluZUhlaWdodCxlLmxpbmVIZWlnaHQsVCksUC5hbGlnbj13JiZ3LmFsaWdufHxlLmFsaWduLFAudmVydGljYWxBbGlnbj13JiZ3LnZlcnRpY2FsQWxpZ258fCJtaWRkbGUiLGcmJm51bGwhPW8mJmMrUC5saW5lSGVpZ2h0Pm8pe2I+MD8obS50b2tlbnM9bS50b2tlbnMuc2xpY2UoMCxiKSx5KG0seCxfKSxuLmxpbmVzPW4ubGluZXMuc2xpY2UoMCx2KzEpKTpuLmxpbmVzPW4ubGluZXMuc2xpY2UoMCx2KTticmVhayB0fXZhciBDPXcud2lkdGgsRD1udWxsPT1DfHwiYXV0byI9PT1DO2lmKCJzdHJpbmciPT10eXBlb2YgQyYmIiUiPT09Qy5jaGFyQXQoQy5sZW5ndGgtMSkpUC5wZXJjZW50V2lkdGg9QyxoLnB1c2goUCksUC5jb250ZW50V2lkdGg9X2koUC50ZXh0LEkpO2Vsc2V7aWYoRCl7dmFyIEE9dy5iYWNrZ3JvdW5kQ29sb3IsTD1BJiZBLmltYWdlO0wmJnJvKEw9ZW8oTCkpJiYoUC53aWR0aD1NYXRoLm1heChQLndpZHRoLEwud2lkdGgqVC9MLmhlaWdodCkpfXZhciBrPWYmJm51bGwhPXI/ci14Om51bGw7bnVsbCE9ayYmazxQLndpZHRoPyFEfHxrPE0/KFAudGV4dD0iIixQLndpZHRoPVAuY29udGVudFdpZHRoPTApOihQLnRleHQ9YW8oUC50ZXh0LGstTSxJLGUuZWxsaXBzaXMse21pbkNoYXI6ZS50cnVuY2F0ZU1pbkNoYXJ9KSxQLndpZHRoPVAuY29udGVudFdpZHRoPV9pKFAudGV4dCxJKSk6UC5jb250ZW50V2lkdGg9X2koUC50ZXh0LEkpfVAud2lkdGgrPU0seCs9UC53aWR0aCx3JiYoXz1NYXRoLm1heChfLFAubGluZUhlaWdodCkpfXkobSx4LF8pfWZvcihuLm91dGVyV2lkdGg9bi53aWR0aD10dChyLHApLG4ub3V0ZXJIZWlnaHQ9bi5oZWlnaHQ9dHQobyxjKSxuLmNvbnRlbnRIZWlnaHQ9YyxuLmNvbnRlbnRXaWR0aD1wLGQmJihuLm91dGVyV2lkdGgrPWRbMV0rZFszXSxuLm91dGVySGVpZ2h0Kz1kWzBdK2RbMl0pLHY9MDt2PGgubGVuZ3RoO3YrKyl7dmFyIFAsTz0oUD1oW3ZdKS5wZXJjZW50V2lkdGg7UC53aWR0aD1wYXJzZUludChPLDEwKS8xMDAqbi53aWR0aH1yZXR1cm4gbn0odnModCksdCksbj1lLndpZHRoLGk9ZS5vdXRlcldpZHRoLHI9ZS5vdXRlckhlaWdodCxvPXQucGFkZGluZyxhPXQueHx8MCxzPXQueXx8MCxsPXRoaXMuX2RlZmF1bHRTdHlsZSx1PXQuYWxpZ258fGwuYWxpZ24saD10LnZlcnRpY2FsQWxpZ258fGwudmVydGljYWxBbGlnbixjPXdpKGEsaSx1KSxwPVNpKHMscixoKSxkPWMsZj1wO28mJihkKz1vWzNdLGYrPW9bMF0pO3ZhciBnPWQrbjttcyh0KSYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZCh0LHQsYyxwLGkscik7Zm9yKHZhciB5PSEhdC5iYWNrZ3JvdW5kQ29sb3Isdj0wO3Y8ZS5saW5lcy5sZW5ndGg7disrKXtmb3IodmFyIG09ZS5saW5lc1t2XSxfPW0udG9rZW5zLHg9Xy5sZW5ndGgsYj1tLmxpbmVIZWlnaHQsdz1tLndpZHRoLFM9MCxNPWQsST1nLFQ9eC0xLEM9dm9pZCAwO1M8eCYmKCEoQz1fW1NdKS5hbGlnbnx8ImxlZnQiPT09Qy5hbGlnbik7KXRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNLCJsZWZ0Iix5KSx3LT1DLndpZHRoLE0rPUMud2lkdGgsUysrO2Zvcig7VD49MCYmInJpZ2h0Ij09PShDPV9bVF0pLmFsaWduOyl0aGlzLl9wbGFjZVRva2VuKEMsdCxiLGYsSSwicmlnaHQiLHkpLHctPUMud2lkdGgsSS09Qy53aWR0aCxULS07Zm9yKE0rPShuLShNLWQpLShnLUkpLXcpLzI7Uzw9VDspQz1fW1NdLHRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNK0Mud2lkdGgvMiwiY2VudGVyIix5KSxNKz1DLndpZHRoLFMrKztmKz1ifX0sZS5wcm90b3R5cGUuX3BsYWNlVG9rZW49ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5yaWNoW3Quc3R5bGVOYW1lXXx8e307cy50ZXh0PXQudGV4dDt2YXIgbD10LnZlcnRpY2FsQWxpZ24sdT1pK24vMjsidG9wIj09PWw/dT1pK3QuaGVpZ2h0LzI6ImJvdHRvbSI9PT1sJiYodT1pK24tdC5oZWlnaHQvMiksIXQuaXNMaW5lSG9sZGVyJiZtcyhzKSYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZChzLGUsInJpZ2h0Ij09PW8/ci10LndpZHRoOiJjZW50ZXIiPT09bz9yLXQud2lkdGgvMjpyLHUtdC5oZWlnaHQvMix0LndpZHRoLHQuaGVpZ2h0KTt2YXIgaD0hIXMuYmFja2dyb3VuZENvbG9yLGM9dC50ZXh0UGFkZGluZztjJiYocj15cyhyLG8sYyksdS09dC5oZWlnaHQvMi1jWzBdLXQuaW5uZXJIZWlnaHQvMik7dmFyIHA9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChKYSksZD1wLmNyZWF0ZVN0eWxlKCk7cC51c2VTdHlsZShkKTt2YXIgZj10aGlzLl9kZWZhdWx0U3R5bGUsZz0hMSx5PTAsdj1ncygiZmlsbCJpbiBzP3MuZmlsbDoiZmlsbCJpbiBlP2UuZmlsbDooZz0hMCxmLmZpbGwpKSxtPWdzKCJzdHJva2UiaW4gcz9zLnN0cm9rZToic3Ryb2tlImluIGU/ZS5zdHJva2U6aHx8YXx8Zi5hdXRvU3Ryb2tlJiYhZz9udWxsOih5PTIsZi5zdHJva2UpKSxfPXMudGV4dFNoYWRvd0JsdXI+MHx8ZS50ZXh0U2hhZG93Qmx1cj4wO2QudGV4dD10LnRleHQsZC54PXIsZC55PXUsXyYmKGQuc2hhZG93Qmx1cj1zLnRleHRTaGFkb3dCbHVyfHxlLnRleHRTaGFkb3dCbHVyfHwwLGQuc2hhZG93Q29sb3I9cy50ZXh0U2hhZG93Q29sb3J8fGUudGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiLGQuc2hhZG93T2Zmc2V0WD1zLnRleHRTaGFkb3dPZmZzZXRYfHxlLnRleHRTaGFkb3dPZmZzZXRYfHwwLGQuc2hhZG93T2Zmc2V0WT1zLnRleHRTaGFkb3dPZmZzZXRZfHxlLnRleHRTaGFkb3dPZmZzZXRZfHwwKSxkLnRleHRBbGlnbj1vLGQudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGQuZm9udD10LmZvbnR8fHZpLGQub3BhY2l0eT1ldChzLm9wYWNpdHksZS5vcGFjaXR5LDEpLG0mJihkLmxpbmVXaWR0aD1ldChzLmxpbmVXaWR0aCxlLmxpbmVXaWR0aCx5KSxkLmxpbmVEYXNoPXR0KHMubGluZURhc2gsZS5saW5lRGFzaCksZC5saW5lRGFzaE9mZnNldD1lLmxpbmVEYXNoT2Zmc2V0fHwwLGQuc3Ryb2tlPW0pLHYmJihkLmZpbGw9dik7dmFyIHg9dC5jb250ZW50V2lkdGgsYj10LmNvbnRlbnRIZWlnaHQ7cC5zZXRCb3VuZGluZ1JlY3QobmV3IGdpKHdpKGQueCx4LGQudGV4dEFsaWduKSxTaShkLnksYixkLnRleHRCYXNlbGluZSkseCxiKSl9LGUucHJvdG90eXBlLl9yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzLGwsdT10LmJhY2tncm91bmRDb2xvcixoPXQuYm9yZGVyV2lkdGgsYz10LmJvcmRlckNvbG9yLHA9dSYmdS5pbWFnZSxkPXUmJiFwLGY9dC5ib3JkZXJSYWRpdXMsZz10aGlzO2lmKGR8fGgmJmMpeyhhPXRoaXMuX2dldE9yQ3JlYXRlQ2hpbGQobHMpKS51c2VTdHlsZShhLmNyZWF0ZVN0eWxlKCkpLGEuc3R5bGUuZmlsbD1udWxsO3ZhciB5PWEuc2hhcGU7eS54PW4seS55PWkseS53aWR0aD1yLHkuaGVpZ2h0PW8seS5yPWYsYS5kaXJ0eVNoYXBlKCl9aWYoZCkobD1hLnN0eWxlKS5maWxsPXV8fG51bGwsbC5maWxsT3BhY2l0eT10dCh0LmZpbGxPcGFjaXR5LDEpO2Vsc2UgaWYocCl7KHM9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChlcykpLm9ubG9hZD1mdW5jdGlvbigpe2cuZGlydHlTdHlsZSgpfTt2YXIgdj1zLnN0eWxlO3YuaW1hZ2U9dS5pbWFnZSx2Lng9bix2Lnk9aSx2LndpZHRoPXIsdi5oZWlnaHQ9b31oJiZjJiYoKGw9YS5zdHlsZSkubGluZVdpZHRoPWgsbC5zdHJva2U9YyxsLnN0cm9rZU9wYWNpdHk9dHQodC5zdHJva2VPcGFjaXR5LDEpLGwubGluZURhc2g9dC5ib3JkZXJEYXNoLGwubGluZURhc2hPZmZzZXQ9dC5ib3JkZXJEYXNoT2Zmc2V0fHwwLGEuc3Ryb2tlQ29udGFpblRocmVzaG9sZD0wLGEuaGFzRmlsbCgpJiZhLmhhc1N0cm9rZSgpJiYobC5zdHJva2VGaXJzdD0hMCxsLmxpbmVXaWR0aCo9MikpO3ZhciBtPShhfHxzKS5zdHlsZTttLnNoYWRvd0JsdXI9dC5zaGFkb3dCbHVyfHwwLG0uc2hhZG93Q29sb3I9dC5zaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IixtLnNoYWRvd09mZnNldFg9dC5zaGFkb3dPZmZzZXRYfHwwLG0uc2hhZG93T2Zmc2V0WT10LnNoYWRvd09mZnNldFl8fDAsbS5vcGFjaXR5PWV0KHQub3BhY2l0eSxlLm9wYWNpdHksMSl9LGUubWFrZUZvbnQ9ZnVuY3Rpb24odCl7dmFyIGU9IiI7aWYodC5mb250U2l6ZXx8dC5mb250RmFtaWx5fHx0LmZvbnRXZWlnaHQpe3ZhciBuPSIiO249InN0cmluZyIhPXR5cGVvZiB0LmZvbnRTaXplfHwtMT09PXQuZm9udFNpemUuaW5kZXhPZigicHgiKSYmLTE9PT10LmZvbnRTaXplLmluZGV4T2YoInJlbSIpJiYtMT09PXQuZm9udFNpemUuaW5kZXhPZigiZW0iKT9pc05hTigrdC5mb250U2l6ZSk/IjEycHgiOnQuZm9udFNpemUrInB4Ijp0LmZvbnRTaXplLGU9W3QuZm9udFN0eWxlLHQuZm9udFdlaWdodCxuLHQuZm9udEZhbWlseXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIil9cmV0dXJuIGUmJm90KGUpfHx0LnRleHRGb250fHx0LmZvbnR9LGV9KFNvKSxwcz17bGVmdDohMCxyaWdodDoxLGNlbnRlcjoxfSxkcz17dG9wOjEsYm90dG9tOjEsbWlkZGxlOjF9O2Z1bmN0aW9uIGZzKHQpe2lmKHQpe3QuZm9udD1jcy5tYWtlRm9udCh0KTt2YXIgZT10LmFsaWduOyJtaWRkbGUiPT09ZSYmKGU9ImNlbnRlciIpLHQuYWxpZ249bnVsbD09ZXx8cHNbZV0/ZToibGVmdCI7dmFyIG49dC52ZXJ0aWNhbEFsaWduOyJjZW50ZXIiPT09biYmKG49Im1pZGRsZSIpLHQudmVydGljYWxBbGlnbj1udWxsPT1ufHxkc1tuXT9uOiJ0b3AiLHQucGFkZGluZyYmKHQucGFkZGluZz1pdCh0LnBhZGRpbmcpKX19ZnVuY3Rpb24gZ3ModCxlKXtyZXR1cm4gbnVsbD09dHx8ZTw9MHx8InRyYW5zcGFyZW50Ij09PXR8fCJub25lIj09PXQ/bnVsbDp0LmltYWdlfHx0LmNvbG9yU3RvcHM/IiMwMDAiOnR9ZnVuY3Rpb24geXModCxlLG4pe3JldHVybiJyaWdodCI9PT1lP3QtblsxXToiY2VudGVyIj09PWU/dCtuWzNdLzItblsxXS8yOnQrblszXX1mdW5jdGlvbiB2cyh0KXt2YXIgZT10LnRleHQ7cmV0dXJuIG51bGwhPWUmJihlKz0iIiksZX1mdW5jdGlvbiBtcyh0KXtyZXR1cm4hISh0LmJhY2tncm91bmRDb2xvcnx8dC5ib3JkZXJXaWR0aCYmdC5ib3JkZXJDb2xvcil9dmFyIF9zPWtyKCkseHM9MSxicz17fSx3cz1rcigpLFNzPVsiZW1waGFzaXMiLCJibHVyIiwic2VsZWN0Il0sTXM9WyJub3JtYWwiLCJlbXBoYXNpcyIsImJsdXIiLCJzZWxlY3QiXSxJcz0xMCxUcz0iaGlnaGxpZ2h0IixDcz0iZG93bnBsYXkiLERzPSJzZWxlY3QiLEFzPSJ1bnNlbGVjdCIsTHM9InRvZ2dsZVNlbGVjdCI7ZnVuY3Rpb24ga3ModCl7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXR9dmFyIFBzPW5ldyBBZSgxMDApO2Z1bmN0aW9uIE9zKHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgZT1Qcy5nZXQodCk7cmV0dXJuIGV8fChlPVVlKHQsLS4xKSxQcy5wdXQodCxlKSksZX1mdW5jdGlvbiBScyh0LGUsbil7dC5vbkhvdmVyU3RhdGVDaGFuZ2UmJih0LmhvdmVyU3RhdGV8fDApIT09biYmdC5vbkhvdmVyU3RhdGVDaGFuZ2UoZSksdC5ob3ZlclN0YXRlPW59ZnVuY3Rpb24gTnModCl7UnModCwiZW1waGFzaXMiLDIpfWZ1bmN0aW9uIHpzKHQpezI9PT10LmhvdmVyU3RhdGUmJlJzKHQsIm5vcm1hbCIsMCl9ZnVuY3Rpb24gRXModCl7UnModCwiYmx1ciIsMSl9ZnVuY3Rpb24gVnModCl7MT09PXQuaG92ZXJTdGF0ZSYmUnModCwibm9ybWFsIiwwKX1mdW5jdGlvbiBCcyh0KXt0LnNlbGVjdGVkPSEwfWZ1bmN0aW9uIEZzKHQpe3Quc2VsZWN0ZWQ9ITF9ZnVuY3Rpb24gR3ModCxlLG4pe2UodCxuKX1mdW5jdGlvbiBIcyh0LGUsbil7R3ModCxlLG4pLHQuaXNHcm91cCYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7R3ModCxlLG4pfSkpfWZ1bmN0aW9uIFdzKHQsZSl7c3dpdGNoKGUpe2Nhc2UiZW1waGFzaXMiOnQuaG92ZXJTdGF0ZT0yO2JyZWFrO2Nhc2Uibm9ybWFsIjp0LmhvdmVyU3RhdGU9MDticmVhaztjYXNlImJsdXIiOnQuaG92ZXJTdGF0ZT0xO2JyZWFrO2Nhc2Uic2VsZWN0Ijp0LnNlbGVjdGVkPSEwfX1mdW5jdGlvbiBVcyh0LGUpe3ZhciBuPXRoaXMuc3RhdGVzW3RdO2lmKHRoaXMuc3R5bGUpe2lmKCJlbXBoYXNpcyI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uJiZEKG4sInNlbGVjdCIpPj0wLG89ITE7aWYodCBpbnN0YW5jZW9mIEthKXt2YXIgYT13cyh0KSxzPXImJmEuc2VsZWN0RmlsbHx8YS5ub3JtYWxGaWxsLGw9ciYmYS5zZWxlY3RTdHJva2V8fGEubm9ybWFsU3Ryb2tlO2lmKGtzKHMpfHxrcyhsKSl7dmFyIHU9KGk9aXx8e30pLnN0eWxlfHx7fTsha3ModS5maWxsKSYma3Mocyk/KG89ITAsaT1JKHt9LGkpLCh1PUkoe30sdSkpLmZpbGw9T3MocykpOiFrcyh1LnN0cm9rZSkmJmtzKGwpJiYob3x8KGk9SSh7fSxpKSx1PUkoe30sdSkpLHUuc3Ryb2tlPU9zKGwpKSxpLnN0eWxlPXV9fWlmKGkmJm51bGw9PWkuejIpe298fChpPUkoe30saSkpO3ZhciBoPXQuejJFbXBoYXNpc0xpZnQ7aS56Mj10LnoyKyhudWxsIT1oP2g6SXMpfXJldHVybiBpfSh0aGlzLDAsZSxuKTtpZigiYmx1ciI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9RCh0LmN1cnJlbnRTdGF0ZXMsZSk+PTAscj10LnN0eWxlLm9wYWNpdHksbz1pP251bGw6ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXQuc3R5bGUsbz17fSxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPWVbYV0sbD1yW3NdO29bc109bnVsbD09bD9pJiZpW3NdOmx9Zm9yKGE9MDthPHQuYW5pbWF0b3JzLmxlbmd0aDthKyspe3ZhciB1PXQuYW5pbWF0b3JzW2FdO3UuX19mcm9tU3RhdGVUcmFuc2l0aW9uJiZ1Ll9fZnJvbVN0YXRlVHJhbnNpdGlvbi5pbmRleE9mKG4pPDAmJiJzdHlsZSI9PT11LnRhcmdldE5hbWUmJnUuc2F2ZUZpbmFsVG9UYXJnZXQobyxlKX1yZXR1cm4gb30odCxbIm9wYWNpdHkiXSxlLHtvcGFjaXR5OjF9KSxhPShuPW58fHt9KS5zdHlsZXx8e307cmV0dXJuIG51bGw9PWEub3BhY2l0eSYmKG49SSh7fSxuKSxhPUkoe29wYWNpdHk6aT9yOi4xKm8ub3BhY2l0eX0sYSksbi5zdHlsZT1hKSxufSh0aGlzLHQsbik7aWYoInNlbGVjdCI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbil7aWYobiYmbnVsbD09bi56Mil7bj1JKHt9LG4pO3ZhciBpPXQuejJTZWxlY3RMaWZ0O24uejI9dC56MisobnVsbCE9aT9pOjkpfXJldHVybiBufSh0aGlzLDAsbil9cmV0dXJuIG59ZnVuY3Rpb24gWHModCl7dC5zdGF0ZVByb3h5PVVzO3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKSxuPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2UmJihlLnN0YXRlUHJveHk9VXMpLG4mJihuLnN0YXRlUHJveHk9VXMpfWZ1bmN0aW9uIFlzKHQsZSl7IXRsKHQsZSkmJiF0Ll9faGlnaEJ5T3V0ZXImJkhzKHQsTnMpfWZ1bmN0aW9uIFpzKHQsZSl7IXRsKHQsZSkmJiF0Ll9faGlnaEJ5T3V0ZXImJkhzKHQsenMpfWZ1bmN0aW9uIGpzKHQsZSl7dC5fX2hpZ2hCeU91dGVyfD0xPDwoZXx8MCksSHModCxOcyl9ZnVuY3Rpb24gcXModCxlKXshKHQuX19oaWdoQnlPdXRlciY9figxPDwoZXx8MCkpKSYmSHModCx6cyl9ZnVuY3Rpb24gS3ModCl7SHModCxFcyl9ZnVuY3Rpb24gJHModCl7SHModCxWcyl9ZnVuY3Rpb24gSnModCl7SHModCxCcyl9ZnVuY3Rpb24gUXModCl7SHModCxGcyl9ZnVuY3Rpb24gdGwodCxlKXtyZXR1cm4gdC5fX2hpZ2hEb3duU2lsZW50T25Ub3VjaCYmZS56ckJ5VG91Y2h9ZnVuY3Rpb24gZWwodCl7dC5nZXRNb2RlbCgpLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKGUsbil7KCJzZXJpZXMiPT09ZT90LmdldFZpZXdPZlNlcmllc01vZGVsKG4pOnQuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwobikpLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtWcyh0KX0pKX0pKX1mdW5jdGlvbiBubCh0LGUsbixpKXt2YXIgcj1pLmdldE1vZGVsKCk7ZnVuY3Rpb24gbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT10LmdldEl0ZW1HcmFwaGljRWwoZVtuXSk7aSYmJHMoaSl9fWlmKG49bnx8ImNvb3JkaW5hdGVTeXN0ZW0iLG51bGwhPXQmJmUmJiJub25lIiE9PWUpe3ZhciBhPXIuZ2V0U2VyaWVzQnlJbmRleCh0KSxzPWEuY29vcmRpbmF0ZVN5c3RlbTtzJiZzLm1hc3RlciYmKHM9cy5tYXN0ZXIpO3ZhciBsPVtdO3IuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9YT09PXQsdT10LmNvb3JkaW5hdGVTeXN0ZW07aWYodSYmdS5tYXN0ZXImJih1PXUubWFzdGVyKSwhKCJzZXJpZXMiPT09biYmIXJ8fCJjb29yZGluYXRlU3lzdGVtIj09PW4mJiEodSYmcz91PT09czpyKXx8InNlcmllcyI9PT1lJiZyKSl7aWYoaS5nZXRWaWV3T2ZTZXJpZXNNb2RlbCh0KS5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7RXModCl9KSksayhlKSlvKHQuZ2V0RGF0YSgpLGUpO2Vsc2UgaWYoWChlKSlmb3IodmFyIGg9RShlKSxjPTA7YzxoLmxlbmd0aDtjKyspbyh0LmdldERhdGEoaFtjXSksZVtoW2NdXSk7bC5wdXNoKHQpfX0pKSxyLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKHQsZSl7aWYoInNlcmllcyIhPT10KXt2YXIgbj1pLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGUpO24mJm4uYmx1clNlcmllcyYmbi5ibHVyU2VyaWVzKGwscil9fSkpfX1mdW5jdGlvbiBpbCh0LGUsbil7aWYobnVsbCE9dCYmbnVsbCE9ZSl7dmFyIGk9bi5nZXRNb2RlbCgpLmdldENvbXBvbmVudCh0LGUpO2lmKGkpe3ZhciByPW4uZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoaSk7ciYmci5mb2N1c0JsdXJFbmFibGVkJiZyLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtFcyh0KX0pKX19fWZ1bmN0aW9uIHJsKHQsZSxuLGkpe3ZhciByPXtmb2N1c1NlbGY6ITEsZGlzcGF0Y2hlcnM6bnVsbH07aWYobnVsbD09dHx8InNlcmllcyI9PT10fHxudWxsPT1lfHxudWxsPT1uKXJldHVybiByO3ZhciBvPWkuZ2V0TW9kZWwoKS5nZXRDb21wb25lbnQodCxlKTtpZighbylyZXR1cm4gcjt2YXIgYT1pLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKG8pO2lmKCFhfHwhYS5maW5kSGlnaERvd25EaXNwYXRjaGVycylyZXR1cm4gcjtmb3IodmFyIHMsbD1hLmZpbmRIaWdoRG93bkRpc3BhdGNoZXJzKG4pLHU9MDt1PGwubGVuZ3RoO3UrKylpZigic2VsZiI9PT1fcyhsW3VdKS5mb2N1cyl7cz0hMDticmVha31yZXR1cm57Zm9jdXNTZWxmOnMsZGlzcGF0Y2hlcnM6bH19ZnVuY3Rpb24gb2wodCl7UCh0LmdldEFsbERhdGEoKSwoZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhLGk9ZS50eXBlO24uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7dC5pc1NlbGVjdGVkKG4saSk/SnMoZSk6UXMoZSl9KSl9KSl9ZnVuY3Rpb24gYWwodCl7dmFyIGU9W107cmV0dXJuIHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7UCh0LmdldEFsbERhdGEoKSwoZnVuY3Rpb24obil7bi5kYXRhO3ZhciBpPW4udHlwZSxyPXQuZ2V0U2VsZWN0ZWREYXRhSW5kaWNlcygpO2lmKHIubGVuZ3RoPjApe3ZhciBvPXtkYXRhSW5kZXg6cixzZXJpZXNJbmRleDp0LnNlcmllc0luZGV4fTtudWxsIT1pJiYoby5kYXRhVHlwZT1pKSxlLnB1c2gobyl9fSkpfSkpLGV9ZnVuY3Rpb24gc2wodCxlLG4pe3BsKHQsITApLEhzKHQsWHMpLGxsKHQsZSxuKX1mdW5jdGlvbiBsbCh0LGUsbil7dmFyIGk9X3ModCk7bnVsbCE9ZT8oaS5mb2N1cz1lLGkuYmx1clNjb3BlPW4pOmkuZm9jdXMmJihpLmZvY3VzPW51bGwpfXZhciB1bD1bImVtcGhhc2lzIiwiYmx1ciIsInNlbGVjdCJdLGhsPXtpdGVtU3R5bGU6ImdldEl0ZW1TdHlsZSIsbGluZVN0eWxlOiJnZXRMaW5lU3R5bGUiLGFyZWFTdHlsZToiZ2V0QXJlYVN0eWxlIn07ZnVuY3Rpb24gY2wodCxlLG4saSl7bj1ufHwiaXRlbVN0eWxlIjtmb3IodmFyIHI9MDtyPHVsLmxlbmd0aDtyKyspe3ZhciBvPXVsW3JdLGE9ZS5nZXRNb2RlbChbbyxuXSk7dC5lbnN1cmVTdGF0ZShvKS5zdHlsZT1pP2koYSk6YVtobFtuXV0oKX19ZnVuY3Rpb24gcGwodCxlKXt2YXIgbj0hMT09PWUsaT10O3QuaGlnaERvd25TaWxlbnRPblRvdWNoJiYoaS5fX2hpZ2hEb3duU2lsZW50T25Ub3VjaD10LmhpZ2hEb3duU2lsZW50T25Ub3VjaCksbiYmIWkuX19oaWdoRG93bkRpc3BhdGNoZXJ8fChpLl9faGlnaEJ5T3V0ZXI9aS5fX2hpZ2hCeU91dGVyfHwwLGkuX19oaWdoRG93bkRpc3BhdGNoZXI9IW4pfWZ1bmN0aW9uIGRsKHQpe3JldHVybiEoIXR8fCF0Ll9faGlnaERvd25EaXNwYXRjaGVyKX1mdW5jdGlvbiBmbCh0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGU9PT1Ec3x8ZT09PUFzfHxlPT09THN9ZnVuY3Rpb24gZ2wodCl7dmFyIGU9dC50eXBlO3JldHVybiBlPT09VHN8fGU9PT1Dc312YXIgeWw9TGEuQ01ELHZsPVtbXSxbXSxbXV0sbWw9TWF0aC5zcXJ0LF9sPU1hdGguYXRhbjI7dmFyIHhsPU1hdGguc3FydCxibD1NYXRoLnNpbix3bD1NYXRoLmNvcyxTbD1NYXRoLlBJO2Z1bmN0aW9uIE1sKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9ZnVuY3Rpb24gSWwodCxlKXtyZXR1cm4odFswXSplWzBdK3RbMV0qZVsxXSkvKE1sKHQpKk1sKGUpKX1mdW5jdGlvbiBUbCh0LGUpe3JldHVybih0WzBdKmVbMV08dFsxXSplWzBdPy0xOjEpKk1hdGguYWNvcyhJbCh0LGUpKX1mdW5jdGlvbiBDbCh0LGUsbixpLHIsbyxhLHMsbCx1LGgpe3ZhciBjPWwqKFNsLzE4MCkscD13bChjKSoodC1uKS8yK2JsKGMpKihlLWkpLzIsZD0tMSpibChjKSoodC1uKS8yK3dsKGMpKihlLWkpLzIsZj1wKnAvKGEqYSkrZCpkLyhzKnMpO2Y+MSYmKGEqPXhsKGYpLHMqPXhsKGYpKTt2YXIgZz0ocj09PW8/LTE6MSkqeGwoKGEqYSoocypzKS1hKmEqKGQqZCktcypzKihwKnApKS8oYSphKihkKmQpK3MqcyoocCpwKSkpfHwwLHk9ZyphKmQvcyx2PWcqLXMqcC9hLG09KHQrbikvMit3bChjKSp5LWJsKGMpKnYsXz0oZStpKS8yK2JsKGMpKnkrd2woYykqdix4PVRsKFsxLDBdLFsocC15KS9hLChkLXYpL3NdKSxiPVsocC15KS9hLChkLXYpL3NdLHc9WygtMSpwLXkpL2EsKC0xKmQtdikvc10sUz1UbChiLHcpO2lmKElsKGIsdyk8PS0xJiYoUz1TbCksSWwoYix3KT49MSYmKFM9MCksUzwwKXt2YXIgTT1NYXRoLnJvdW5kKFMvU2wqMWU2KS8xZTY7Uz0yKlNsK00lMipTbH1oLmFkZERhdGEodSxtLF8sYSxzLHgsUyxjLG8pfXZhciBEbD0vKFttbHZoemNxdHNhXSkoW15tbHZoemNxdHNhXSopL2dpLEFsPS8tPyhbMC05XSpcLik/WzAtOV0rKFtlRV0tP1swLTldKyk/L2c7dmFyIExsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24odCl7fSxlfShLYSk7ZnVuY3Rpb24ga2wodCl7cmV0dXJuIG51bGwhPXQuc2V0RGF0YX1mdW5jdGlvbiBQbCh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBMYTtpZighdClyZXR1cm4gZTt2YXIgbixpPTAscj0wLG89aSxhPXIscz1MYS5DTUQsbD10Lm1hdGNoKERsKTtpZighbClyZXR1cm4gZTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7Zm9yKHZhciBoPWxbdV0sYz1oLmNoYXJBdCgwKSxwPXZvaWQgMCxkPWgubWF0Y2goQWwpfHxbXSxmPWQubGVuZ3RoLGc9MDtnPGY7ZysrKWRbZ109cGFyc2VGbG9hdChkW2ddKTtmb3IodmFyIHk9MDt5PGY7KXt2YXIgdj12b2lkIDAsbT12b2lkIDAsXz12b2lkIDAseD12b2lkIDAsYj12b2lkIDAsdz12b2lkIDAsUz12b2lkIDAsTT1pLEk9cixUPXZvaWQgMCxDPXZvaWQgMDtzd2l0Y2goYyl7Y2FzZSJsIjppKz1kW3krK10scis9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJMIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2UibSI6aSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuTSxlLmFkZERhdGEocCxpLHIpLG89aSxhPXIsYz0ibCI7YnJlYWs7Y2FzZSJNIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTSxlLmFkZERhdGEocCxpLHIpLG89aSxhPXIsYz0iTCI7YnJlYWs7Y2FzZSJoIjppKz1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIkgiOmk9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJ2IjpyKz1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIlYiOnI9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJDIjpwPXMuQyxlLmFkZERhdGEocCxkW3krK10sZFt5KytdLGRbeSsrXSxkW3krK10sZFt5KytdLGRbeSsrXSksaT1kW3ktMl0scj1kW3ktMV07YnJlYWs7Y2FzZSJjIjpwPXMuQyxlLmFkZERhdGEocCxkW3krK10raSxkW3krK10rcixkW3krK10raSxkW3krK10rcixkW3krK10raSxkW3krK10rciksaSs9ZFt5LTJdLHIrPWRbeS0xXTticmVhaztjYXNlIlMiOnY9aSxtPXIsVD1lLmxlbigpLEM9ZS5kYXRhLG49PT1zLkMmJih2Kz1pLUNbVC00XSxtKz1yLUNbVC0zXSkscD1zLkMsTT1kW3krK10sST1kW3krK10saT1kW3krK10scj1kW3krK10sZS5hZGREYXRhKHAsdixtLE0sSSxpLHIpO2JyZWFrO2Nhc2UicyI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuQyYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxwPXMuQyxNPWkrZFt5KytdLEk9citkW3krK10saSs9ZFt5KytdLHIrPWRbeSsrXSxlLmFkZERhdGEocCx2LG0sTSxJLGkscik7YnJlYWs7Y2FzZSJRIjpNPWRbeSsrXSxJPWRbeSsrXSxpPWRbeSsrXSxyPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCxNLEksaSxyKTticmVhaztjYXNlInEiOk09ZFt5KytdK2ksST1kW3krK10rcixpKz1kW3krK10scis9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLE0sSSxpLHIpO2JyZWFrO2Nhc2UiVCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuUSYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxpPWRbeSsrXSxyPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCx2LG0saSxyKTticmVhaztjYXNlInQiOnY9aSxtPXIsVD1lLmxlbigpLEM9ZS5kYXRhLG49PT1zLlEmJih2Kz1pLUNbVC00XSxtKz1yLUNbVC0zXSksaSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCx2LG0saSxyKTticmVhaztjYXNlIkEiOl89ZFt5KytdLHg9ZFt5KytdLGI9ZFt5KytdLHc9ZFt5KytdLFM9ZFt5KytdLENsKE09aSxJPXIsaT1kW3krK10scj1kW3krK10sdyxTLF8seCxiLHA9cy5BLGUpO2JyZWFrO2Nhc2UiYSI6Xz1kW3krK10seD1kW3krK10sYj1kW3krK10sdz1kW3krK10sUz1kW3krK10sQ2woTT1pLEk9cixpKz1kW3krK10scis9ZFt5KytdLHcsUyxfLHgsYixwPXMuQSxlKX19InoiIT09YyYmIloiIT09Y3x8KHA9cy5aLGUuYWRkRGF0YShwKSxpPW8scj1hKSxuPXB9cmV0dXJuIGUudG9TdGF0aWMoKSxlfSh0KSxpPUkoe30sZSk7cmV0dXJuIGkuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe2lmKGtsKHQpKXt0LnNldERhdGEobi5kYXRhKSwoZT10LmdldENvbnRleHQoKSkmJnQucmVidWlsZFBhdGgoZSwxKX1lbHNle3ZhciBlPXQ7bi5yZWJ1aWxkUGF0aChlLDEpfX0saS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhLHMsbD10LmRhdGEsdT10LmxlbigpLGg9eWwuTSxjPXlsLkMscD15bC5MLGQ9eWwuUixmPXlsLkEsZz15bC5RO2ZvcihyPTAsbz0wO3I8dTspe3N3aXRjaChuPWxbcisrXSxvPXIsaT0wLG4pe2Nhc2UgaDpjYXNlIHA6aT0xO2JyZWFrO2Nhc2UgYzppPTM7YnJlYWs7Y2FzZSBnOmk9MjticmVhaztjYXNlIGY6dmFyIHk9ZVs0XSx2PWVbNV0sbT1tbChlWzBdKmVbMF0rZVsxXSplWzFdKSxfPW1sKGVbMl0qZVsyXStlWzNdKmVbM10pLHg9X2woLWVbMV0vXyxlWzBdL20pO2xbcl0qPW0sbFtyKytdKz15LGxbcl0qPV8sbFtyKytdKz12LGxbcisrXSo9bSxsW3IrK10qPV8sbFtyKytdKz14LGxbcisrXSs9eCxvPXIrPTI7YnJlYWs7Y2FzZSBkOnNbMF09bFtyKytdLHNbMV09bFtyKytdLFJ0KHMscyxlKSxsW28rK109c1swXSxsW28rK109c1sxXSxzWzBdKz1sW3IrK10sc1sxXSs9bFtyKytdLFJ0KHMscyxlKSxsW28rK109c1swXSxsW28rK109c1sxXX1mb3IoYT0wO2E8aTthKyspe3ZhciBiPXZsW2FdO2JbMF09bFtyKytdLGJbMV09bFtyKytdLFJ0KGIsYixlKSxsW28rK109YlswXSxsW28rK109YlsxXX19dC5pbmNyZWFzZVZlcnNpb24oKX0obix0KSx0aGlzLmRpcnR5U2hhcGUoKX0saX1mdW5jdGlvbiBPbCh0LGUpe3JldHVybiBuZXcgTGwoUGwodCxlKSl9dmFyIFJsPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnI9MH0sTmw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJsfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlLG4pe24mJnQubW92ZVRvKGUuY3grZS5yLGUuY3kpLHQuYXJjKGUuY3gsZS5jeSxlLnIsMCwyKk1hdGguUEkpfSxlfShLYSk7TmwucHJvdG90eXBlLnR5cGU9ImNpcmNsZSI7dmFyIHpsPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnJ4PTAsdGhpcy5yeT0wfSxFbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgemx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPS41NTIyODQ4LGk9ZS5jeCxyPWUuY3ksbz1lLnJ4LGE9ZS5yeSxzPW8qbixsPWEqbjt0Lm1vdmVUbyhpLW8sciksdC5iZXppZXJDdXJ2ZVRvKGktbyxyLWwsaS1zLHItYSxpLHItYSksdC5iZXppZXJDdXJ2ZVRvKGkrcyxyLWEsaStvLHItbCxpK28sciksdC5iZXppZXJDdXJ2ZVRvKGkrbyxyK2wsaStzLHIrYSxpLHIrYSksdC5iZXppZXJDdXJ2ZVRvKGktcyxyK2EsaS1vLHIrbCxpLW8sciksdC5jbG9zZVBhdGgoKX0sZX0oS2EpO0VsLnByb3RvdHlwZS50eXBlPSJlbGxpcHNlIjt2YXIgVmw9TWF0aC5QSSxCbD0yKlZsLEZsPU1hdGguc2luLEdsPU1hdGguY29zLEhsPU1hdGguYWNvcyxXbD1NYXRoLmF0YW4yLFVsPU1hdGguYWJzLFhsPU1hdGguc3FydCxZbD1NYXRoLm1heCxabD1NYXRoLm1pbixqbD0xZS00O2Z1bmN0aW9uIHFsKHQsZSxuLGkscixvLGEpe3ZhciBzPXQtbixsPWUtaSx1PShhP286LW8pL1hsKHMqcytsKmwpLGg9dSpsLGM9LXUqcyxwPXQraCxkPWUrYyxmPW4raCxnPWkrYyx5PShwK2YpLzIsdj0oZCtnKS8yLG09Zi1wLF89Zy1kLHg9bSptK18qXyxiPXItbyx3PXAqZy1mKmQsUz0oXzwwPy0xOjEpKlhsKFlsKDAsYipiKngtdyp3KSksTT0odypfLW0qUykveCxJPSgtdyptLV8qUykveCxUPSh3Kl8rbSpTKS94LEM9KC13Km0rXypTKS94LEQ9TS15LEE9SS12LEw9VC15LGs9Qy12O3JldHVybiBEKkQrQSpBPkwqTCtrKmsmJihNPVQsST1DKSx7Y3g6TSxjeTpJLHgwMTotaCx5MDE6LWMseDExOk0qKHIvYi0xKSx5MTE6SSooci9iLTEpfX1mdW5jdGlvbiBLbCh0LGUpe3ZhciBuPVlsKGUuciwwKSxpPVlsKGUucjB8fDAsMCkscj1uPjA7aWYocnx8aT4wKXtpZihyfHwobj1pLGk9MCksaT5uKXt2YXIgbz1uO249aSxpPW99dmFyIGEscz0hIWUuY2xvY2t3aXNlLGw9ZS5zdGFydEFuZ2xlLHU9ZS5lbmRBbmdsZTtpZihsPT09dSlhPTA7ZWxzZXt2YXIgaD1bbCx1XTtBYShoLCFzKSxhPVVsKGhbMF0taFsxXSl9dmFyIGM9ZS5jeCxwPWUuY3ksZD1lLmNvcm5lclJhZGl1c3x8MCxmPWUuaW5uZXJDb3JuZXJSYWRpdXN8fDA7aWYobj5qbClpZihhPkJsLWpsKXQubW92ZVRvKGMrbipHbChsKSxwK24qRmwobCkpLHQuYXJjKGMscCxuLGwsdSwhcyksaT5qbCYmKHQubW92ZVRvKGMraSpHbCh1KSxwK2kqRmwodSkpLHQuYXJjKGMscCxpLHUsbCxzKSk7ZWxzZXt2YXIgZz1VbChuLWkpLzIseT1abChnLGQpLHY9WmwoZyxmKSxtPXYsXz15LHg9bipHbChsKSxiPW4qRmwobCksdz1pKkdsKHUpLFM9aSpGbCh1KSxNPXZvaWQgMCxJPXZvaWQgMCxUPXZvaWQgMCxDPXZvaWQgMDtpZigoeT5qbHx8dj5qbCkmJihNPW4qR2wodSksST1uKkZsKHUpLFQ9aSpHbChsKSxDPWkqRmwobCksYTxWbCkpe3ZhciBEPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7dmFyIGw9bi10LHU9aS1lLGg9YS1yLGM9cy1vLHA9YypsLWgqdTtpZighKHAqcDxqbCkpcmV0dXJuW3QrKHA9KGgqKGUtbyktYyoodC1yKSkvcCkqbCxlK3AqdV19KHgsYixULEMsTSxJLHcsUyk7aWYoRCl7dmFyIEE9eC1EWzBdLEw9Yi1EWzFdLGs9TS1EWzBdLFA9SS1EWzFdLE89MS9GbChIbCgoQSprK0wqUCkvKFhsKEEqQStMKkwpKlhsKGsqaytQKlApKSkvMiksUj1YbChEWzBdKkRbMF0rRFsxXSpEWzFdKTttPVpsKHYsKGktUikvKE8tMSkpLF89WmwoeSwobi1SKS8oTysxKSl9fWlmKGE+amwpaWYoXz5qbCl7dmFyIE49cWwoVCxDLHgsYixuLF8scyksej1xbChNLEksdyxTLG4sXyxzKTt0Lm1vdmVUbyhjK04uY3grTi54MDEscCtOLmN5K04ueTAxKSxfPHk/dC5hcmMoYytOLmN4LHArTi5jeSxfLFdsKE4ueTAxLE4ueDAxKSxXbCh6LnkwMSx6LngwMSksIXMpOih0LmFyYyhjK04uY3gscCtOLmN5LF8sV2woTi55MDEsTi54MDEpLFdsKE4ueTExLE4ueDExKSwhcyksdC5hcmMoYyxwLG4sV2woTi5jeStOLnkxMSxOLmN4K04ueDExKSxXbCh6LmN5K3oueTExLHouY3grei54MTEpLCFzKSx0LmFyYyhjK3ouY3gscCt6LmN5LF8sV2woei55MTEsei54MTEpLFdsKHoueTAxLHoueDAxKSwhcykpfWVsc2UgdC5tb3ZlVG8oYyt4LHArYiksdC5hcmMoYyxwLG4sbCx1LCFzKTtlbHNlIHQubW92ZVRvKGMreCxwK2IpO2lmKGk+amwmJmE+amwpaWYobT5qbCl7Tj1xbCh3LFMsTSxJLGksLW0scyksej1xbCh4LGIsVCxDLGksLW0scyk7dC5saW5lVG8oYytOLmN4K04ueDAxLHArTi5jeStOLnkwMSksbTx2P3QuYXJjKGMrTi5jeCxwK04uY3ksbSxXbChOLnkwMSxOLngwMSksV2woei55MDEsei54MDEpLCFzKToodC5hcmMoYytOLmN4LHArTi5jeSxtLFdsKE4ueTAxLE4ueDAxKSxXbChOLnkxMSxOLngxMSksIXMpLHQuYXJjKGMscCxpLFdsKE4uY3krTi55MTEsTi5jeCtOLngxMSksV2woei5jeSt6LnkxMSx6LmN4K3oueDExKSxzKSx0LmFyYyhjK3ouY3gscCt6LmN5LG0sV2woei55MTEsei54MTEpLFdsKHoueTAxLHoueDAxKSwhcykpfWVsc2UgdC5saW5lVG8oYyt3LHArUyksdC5hcmMoYyxwLGksdSxsLHMpO2Vsc2UgdC5saW5lVG8oYyt3LHArUyl9ZWxzZSB0Lm1vdmVUbyhjLHApO3QuY2xvc2VQYXRoKCl9fXZhciAkbD1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yMD0wLHRoaXMucj0wLHRoaXMuc3RhcnRBbmdsZT0wLHRoaXMuZW5kQW5nbGU9MipNYXRoLlBJLHRoaXMuY2xvY2t3aXNlPSEwLHRoaXMuY29ybmVyUmFkaXVzPTAsdGhpcy5pbm5lckNvcm5lclJhZGl1cz0wfSxKbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgJGx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe0tsKHQsZSl9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFwZS5zdGFydEFuZ2xlPT09dGhpcy5zaGFwZS5lbmRBbmdsZXx8dGhpcy5zaGFwZS5yPT09dGhpcy5zaGFwZS5yMH0sZX0oS2EpO0psLnByb3RvdHlwZS50eXBlPSJzZWN0b3IiO3ZhciBRbD1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yPTAsdGhpcy5yMD0wfSx0dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUWx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9MipNYXRoLlBJO3QubW92ZVRvKG4rZS5yLGkpLHQuYXJjKG4saSxlLnIsMCxyLCExKSx0Lm1vdmVUbyhuK2UucjAsaSksdC5hcmMobixpLGUucjAsMCxyLCEwKX0sZX0oS2EpO2Z1bmN0aW9uIGV1KHQsZSxuLGkscixvLGEpe3ZhciBzPS41KihuLXQpLGw9LjUqKGktZSk7cmV0dXJuKDIqKGUtbikrcytsKSphKygtMyooZS1uKS0yKnMtbCkqbytzKnIrZX1mdW5jdGlvbiBudSh0LGUsbil7dmFyIGk9ZS5zbW9vdGgscj1lLnBvaW50cztpZihyJiZyLmxlbmd0aD49Mil7aWYoaSYmInNwbGluZSIhPT1pKXt2YXIgbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvLGEscyxsPVtdLHU9W10saD1bXSxjPVtdO2lmKGkpe2E9WzEvMCwxLzBdLHM9Wy0xLzAsLTEvMF07Zm9yKHZhciBwPTAsZD10Lmxlbmd0aDtwPGQ7cCsrKU50KGEsYSx0W3BdKSx6dChzLHMsdFtwXSk7TnQoYSxhLGlbMF0pLHp0KHMscyxpWzFdKX1mb3IocD0wLGQ9dC5sZW5ndGg7cDxkO3ArKyl7dmFyIGY9dFtwXTtpZihuKXI9dFtwP3AtMTpkLTFdLG89dFsocCsxKSVkXTtlbHNle2lmKDA9PT1wfHxwPT09ZC0xKXtsLnB1c2gobXQodFtwXSkpO2NvbnRpbnVlfXI9dFtwLTFdLG89dFtwKzFdfXd0KHUsbyxyKSxDdCh1LHUsZSk7dmFyIGc9QXQoZixyKSx5PUF0KGYsbyksdj1nK3k7MCE9PXYmJihnLz12LHkvPXYpLEN0KGgsdSwtZyksQ3QoYyx1LHkpO3ZhciBtPXh0KFtdLGYsaCksXz14dChbXSxmLGMpO2kmJih6dChtLG0sYSksTnQobSxtLHMpLHp0KF8sXyxhKSxOdChfLF8scykpLGwucHVzaChtKSxsLnB1c2goXyl9cmV0dXJuIG4mJmwucHVzaChsLnNoaWZ0KCkpLGx9KHIsaSxuLGUuc21vb3RoQ29uc3RyYWludCk7dC5tb3ZlVG8oclswXVswXSxyWzBdWzFdKTtmb3IodmFyIGE9ci5sZW5ndGgscz0wO3M8KG4/YTphLTEpO3MrKyl7dmFyIGw9b1syKnNdLHU9b1syKnMrMV0saD1yWyhzKzEpJWFdO3QuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sdVswXSx1WzFdLGhbMF0saFsxXSl9fWVsc2V7InNwbGluZSI9PT1pJiYocj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPVtdLHI9MCxvPTE7bzxuO28rKylyKz1BdCh0W28tMV0sdFtvXSk7dmFyIGE9ci8yO2ZvcihhPWE8bj9uOmEsbz0wO288YTtvKyspe3ZhciBzPW8vKGEtMSkqKGU/bjpuLTEpLGw9TWF0aC5mbG9vcihzKSx1PXMtbCxoPXZvaWQgMCxjPXRbbCVuXSxwPXZvaWQgMCxkPXZvaWQgMDtlPyhoPXRbKGwtMStuKSVuXSxwPXRbKGwrMSklbl0sZD10WyhsKzIpJW5dKTooaD10WzA9PT1sP2w6bC0xXSxwPXRbbD5uLTI/bi0xOmwrMV0sZD10W2w+bi0zP24tMTpsKzJdKTt2YXIgZj11KnUsZz11KmY7aS5wdXNoKFtldShoWzBdLGNbMF0scFswXSxkWzBdLHUsZixnKSxldShoWzFdLGNbMV0scFsxXSxkWzFdLHUsZixnKV0pfXJldHVybiBpfShyLG4pKSx0Lm1vdmVUbyhyWzBdWzBdLHJbMF1bMV0pO3M9MTtmb3IodmFyIGM9ci5sZW5ndGg7czxjO3MrKyl0LmxpbmVUbyhyW3NdWzBdLHJbc11bMV0pfW4mJnQuY2xvc2VQYXRoKCl9fXR1LnByb3RvdHlwZS50eXBlPSJyaW5nIjt2YXIgaXU9ZnVuY3Rpb24oKXt0aGlzLnBvaW50cz1udWxsLHRoaXMuc21vb3RoPTAsdGhpcy5zbW9vdGhDb25zdHJhaW50PW51bGx9LHJ1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpdX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7bnUodCxlLCEwKX0sZX0oS2EpO3J1LnByb3RvdHlwZS50eXBlPSJwb2x5Z29uIjt2YXIgb3U9ZnVuY3Rpb24oKXt0aGlzLnBvaW50cz1udWxsLHRoaXMucGVyY2VudD0xLHRoaXMuc21vb3RoPTAsdGhpcy5zbW9vdGhDb25zdHJhaW50PW51bGx9LGF1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvdX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7bnUodCxlLCExKX0sZX0oS2EpO2F1LnByb3RvdHlwZS50eXBlPSJwb2x5bGluZSI7dmFyIHN1PXt9LGx1PWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMucGVyY2VudD0xfSx1dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvO2lmKHRoaXMuc3ViUGl4ZWxPcHRpbWl6ZSl7dmFyIGE9aXMoc3UsZSx0aGlzLnN0eWxlKTtuPWEueDEsaT1hLnkxLHI9YS54MixvPWEueTJ9ZWxzZSBuPWUueDEsaT1lLnkxLHI9ZS54MixvPWUueTI7dmFyIHM9ZS5wZXJjZW50OzAhPT1zJiYodC5tb3ZlVG8obixpKSxzPDEmJihyPW4qKDEtcykrcipzLG89aSooMS1zKStvKnMpLHQubGluZVRvKHIsbykpfSxlLnByb3RvdHlwZS5wb2ludEF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2hhcGU7cmV0dXJuW2UueDEqKDEtdCkrZS54Mip0LGUueTEqKDEtdCkrZS55Mip0XX0sZX0oS2EpO3V1LnByb3RvdHlwZS50eXBlPSJsaW5lIjt2YXIgaHU9W10sY3U9ZnVuY3Rpb24oKXt0aGlzLngxPTAsdGhpcy55MT0wLHRoaXMueDI9MCx0aGlzLnkyPTAsdGhpcy5jcHgxPTAsdGhpcy5jcHkxPTAsdGhpcy5wZXJjZW50PTF9O2Z1bmN0aW9uIHB1KHQsZSxuKXt2YXIgaT10LmNweDIscj10LmNweTI7cmV0dXJuIG51bGw9PT1pfHxudWxsPT09cj9bKG4/Vm86RW8pKHQueDEsdC5jcHgxLHQuY3B4Mix0LngyLGUpLChuP1ZvOkVvKSh0LnkxLHQuY3B5MSx0LmNweTIsdC55MixlKV06WyhuP1hvOlVvKSh0LngxLHQuY3B4MSx0LngyLGUpLChuP1hvOlVvKSh0LnkxLHQuY3B5MSx0LnkyLGUpXX12YXIgZHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGN1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLngxLGk9ZS55MSxyPWUueDIsbz1lLnkyLGE9ZS5jcHgxLHM9ZS5jcHkxLGw9ZS5jcHgyLHU9ZS5jcHkyLGg9ZS5wZXJjZW50OzAhPT1oJiYodC5tb3ZlVG8obixpKSxudWxsPT1sfHxudWxsPT11PyhoPDEmJihabyhuLGEscixoLGh1KSxhPWh1WzFdLHI9aHVbMl0sWm8oaSxzLG8saCxodSkscz1odVsxXSxvPWh1WzJdKSx0LnF1YWRyYXRpY0N1cnZlVG8oYSxzLHIsbykpOihoPDEmJihHbyhuLGEsbCxyLGgsaHUpLGE9aHVbMV0sbD1odVsyXSxyPWh1WzNdLEdvKGkscyx1LG8saCxodSkscz1odVsxXSx1PWh1WzJdLG89aHVbM10pLHQuYmV6aWVyQ3VydmVUbyhhLHMsbCx1LHIsbykpKX0sZS5wcm90b3R5cGUucG9pbnRBdD1mdW5jdGlvbih0KXtyZXR1cm4gcHUodGhpcy5zaGFwZSx0LCExKX0sZS5wcm90b3R5cGUudGFuZ2VudEF0PWZ1bmN0aW9uKHQpe3ZhciBlPXB1KHRoaXMuc2hhcGUsdCwhMCk7cmV0dXJuIER0KGUsZSl9LGV9KEthKTtkdS5wcm90b3R5cGUudHlwZT0iYmV6aWVyLWN1cnZlIjt2YXIgZnU9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucj0wLHRoaXMuc3RhcnRBbmdsZT0wLHRoaXMuZW5kQW5nbGU9MipNYXRoLlBJLHRoaXMuY2xvY2t3aXNlPSEwfSxndT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZnV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9TWF0aC5tYXgoZS5yLDApLG89ZS5zdGFydEFuZ2xlLGE9ZS5lbmRBbmdsZSxzPWUuY2xvY2t3aXNlLGw9TWF0aC5jb3MobyksdT1NYXRoLnNpbihvKTt0Lm1vdmVUbyhsKnIrbix1KnIraSksdC5hcmMobixpLHIsbyxhLCFzKX0sZX0oS2EpO2d1LnByb3RvdHlwZS50eXBlPSJhcmMiO3ZhciB5dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImNvbXBvdW5kIixlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX3VwZGF0ZVBhdGhEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzLGU9dGhpcy5zaGFwZUNoYW5nZWQoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZT1lfHx0W25dLnNoYXBlQ2hhbmdlZCgpO2UmJnRoaXMuZGlydHlTaGFwZSgpfSxlLnByb3RvdHlwZS5iZWZvcmVCcnVzaD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVBhdGhEaXJ0eSgpO2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPXRoaXMuZ2V0R2xvYmFsU2NhbGUoKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5wYXRofHx0W25dLmNyZWF0ZVBhdGhQcm94eSgpLHRbbl0ucGF0aC5zZXRTY2FsZShlWzBdLGVbMV0sdFtuXS5zZWdtZW50SWdub3JlVGhyZXNob2xkKX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUucGF0aHN8fFtdLGk9MDtpPG4ubGVuZ3RoO2krKyluW2ldLmJ1aWxkUGF0aCh0LG5baV0uc2hhcGUsITApfSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLnBhdGhVcGRhdGVkKCl9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVQYXRoRGlydHkuY2FsbCh0aGlzKSxLYS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0LmNhbGwodGhpcyl9LGV9KEthKSx2dT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jb2xvclN0b3BzPXR8fFtdfXJldHVybiB0LnByb3RvdHlwZS5hZGRDb2xvclN0b3A9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnQsY29sb3I6ZX0pfSx0fSgpLG11PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLGEpe3ZhciBzPXQuY2FsbCh0aGlzLG8pfHx0aGlzO3JldHVybiBzLng9bnVsbD09ZT8wOmUscy55PW51bGw9PW4/MDpuLHMueDI9bnVsbD09aT8xOmkscy55Mj1udWxsPT1yPzA6cixzLnR5cGU9ImxpbmVhciIscy5nbG9iYWw9YXx8ITEsc31yZXR1cm4gbihlLHQpLGV9KHZ1KSxfdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIGE9dC5jYWxsKHRoaXMscil8fHRoaXM7cmV0dXJuIGEueD1udWxsPT1lPy41OmUsYS55PW51bGw9PW4/LjU6bixhLnI9bnVsbD09aT8uNTppLGEudHlwZT0icmFkaWFsIixhLmdsb2JhbD1vfHwhMSxhfXJldHVybiBuKGUsdCksZX0odnUpLHh1PVswLDBdLGJ1PVswLDBdLHd1PW5ldyBhaSxTdT1uZXcgYWksTXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fY29ybmVycz1bXSx0aGlzLl9heGVzPVtdLHRoaXMuX29yaWdpbj1bMCwwXTtmb3IodmFyIG49MDtuPDQ7bisrKXRoaXMuX2Nvcm5lcnNbbl09bmV3IGFpO2ZvcihuPTA7bjwyO24rKyl0aGlzLl9heGVzW25dPW5ldyBhaTt0JiZ0aGlzLmZyb21Cb3VuZGluZ1JlY3QodCxlKX1yZXR1cm4gdC5wcm90b3R5cGUuZnJvbUJvdW5kaW5nUmVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2Nvcm5lcnMsaT10aGlzLl9heGVzLHI9dC54LG89dC55LGE9cit0LndpZHRoLHM9byt0LmhlaWdodDtpZihuWzBdLnNldChyLG8pLG5bMV0uc2V0KGEsbyksblsyXS5zZXQoYSxzKSxuWzNdLnNldChyLHMpLGUpZm9yKHZhciBsPTA7bDw0O2wrKyluW2xdLnRyYW5zZm9ybShlKTthaS5zdWIoaVswXSxuWzFdLG5bMF0pLGFpLnN1YihpWzFdLG5bM10sblswXSksaVswXS5ub3JtYWxpemUoKSxpWzFdLm5vcm1hbGl6ZSgpO2ZvcihsPTA7bDwyO2wrKyl0aGlzLl9vcmlnaW5bbF09aVtsXS5kb3QoblswXSl9LHQucHJvdG90eXBlLmludGVyc2VjdD1mdW5jdGlvbih0LGUpe3ZhciBuPSEwLGk9IWU7cmV0dXJuIHd1LnNldCgxLzAsMS8wKSxTdS5zZXQoMCwwKSwhdGhpcy5faW50ZXJzZWN0Q2hlY2tPbmVTaWRlKHRoaXMsdCx3dSxTdSxpLDEpJiYobj0hMSxpKXx8IXRoaXMuX2ludGVyc2VjdENoZWNrT25lU2lkZSh0LHRoaXMsd3UsU3UsaSwtMSkmJihuPSExLGkpfHxpfHxhaS5jb3B5KGUsbj93dTpTdSksbn0sdC5wcm90b3R5cGUuX2ludGVyc2VjdENoZWNrT25lU2lkZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7Zm9yKHZhciBhPSEwLHM9MDtzPDI7cysrKXt2YXIgbD10aGlzLl9heGVzW3NdO2lmKHRoaXMuX2dldFByb2pNaW5NYXhPbkF4aXMocyx0Ll9jb3JuZXJzLHh1KSx0aGlzLl9nZXRQcm9qTWluTWF4T25BeGlzKHMsZS5fY29ybmVycyxidSkseHVbMV08YnVbMF18fHh1WzBdPmJ1WzFdKXtpZihhPSExLHIpcmV0dXJuIGE7dmFyIHU9TWF0aC5hYnMoYnVbMF0teHVbMV0pLGg9TWF0aC5hYnMoeHVbMF0tYnVbMV0pO01hdGgubWluKHUsaCk+aS5sZW4oKSYmKHU8aD9haS5zY2FsZShpLGwsLXUqbyk6YWkuc2NhbGUoaSxsLGgqbykpfWVsc2UgaWYobil7dT1NYXRoLmFicyhidVswXS14dVsxXSksaD1NYXRoLmFicyh4dVswXS1idVsxXSk7TWF0aC5taW4odSxoKTxuLmxlbigpJiYodTxoP2FpLnNjYWxlKG4sbCx1Km8pOmFpLnNjYWxlKG4sbCwtaCpvKSl9fXJldHVybiBhfSx0LnByb3RvdHlwZS5fZ2V0UHJvak1pbk1heE9uQXhpcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXRoaXMuX2F4ZXNbdF0scj10aGlzLl9vcmlnaW4sbz1lWzBdLmRvdChpKStyW3RdLGE9byxzPW8sbD0xO2w8ZS5sZW5ndGg7bCsrKXt2YXIgdT1lW2xdLmRvdChpKStyW3RdO2E9TWF0aC5taW4odSxhKSxzPU1hdGgubWF4KHUscyl9blswXT1hLG5bMV09c30sdH0oKSxJdT1bXSxUdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLm5vdENsZWFyPSEwLGUuaW5jcmVtZW50YWw9ITAsZS5fZGlzcGxheWFibGVzPVtdLGUuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSxlLl9jdXJzb3I9MCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24odCxlKXt0LmNhbGwoZSx0aGlzKX0sZS5wcm90b3R5cGUudXNlU3R5bGU9ZnVuY3Rpb24oKXt0aGlzLnN0eWxlPXt9fSxlLnByb3RvdHlwZS5nZXRDdXJzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3Vyc29yfSxlLnByb3RvdHlwZS5pbm5lckFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt0aGlzLl9jdXJzb3I9dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aH0sZS5wcm90b3R5cGUuY2xlYXJEaXNwbGF5Ymxlcz1mdW5jdGlvbigpe3RoaXMuX2Rpc3BsYXlhYmxlcz1bXSx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sdGhpcy5fY3Vyc29yPTAsdGhpcy5tYXJrUmVkcmF3KCksdGhpcy5ub3RDbGVhcj0hMX0sZS5wcm90b3R5cGUuY2xlYXJUZW1wb3JhbERpc3BsYXlhYmxlcz1mdW5jdGlvbigpe3RoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXX0sZS5wcm90b3R5cGUuYWRkRGlzcGxheWFibGU9ZnVuY3Rpb24odCxlKXtlP3RoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5wdXNoKHQpOnRoaXMuX2Rpc3BsYXlhYmxlcy5wdXNoKHQpLHRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hZGREaXNwbGF5YWJsZXM9ZnVuY3Rpb24odCxlKXtlPWV8fCExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWRkRGlzcGxheWFibGUodFtuXSxlKX0sZS5wcm90b3R5cGUuZ2V0RGlzcGxheWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXlhYmxlc30sZS5wcm90b3R5cGUuZ2V0VGVtcG9yYWxEaXNwbGF5YWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzfSxlLnByb3RvdHlwZS5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jdXJzb3I7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX2Rpc3BsYXlhYmxlc1tlXSk7Zm9yKGU9MDtlPHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXQmJnQodGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2VdKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtmb3IodmFyIHQ9dGhpcy5fY3Vyc29yO3Q8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDt0KyspeyhlPXRoaXMuX2Rpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsfWZvcih0PTA7dDx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO3QrKyl7dmFyIGU7KGU9dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW3RdKS5wYXJlbnQ9dGhpcyxlLnVwZGF0ZSgpLGUucGFyZW50PW51bGx9fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5fcmVjdCl7Zm9yKHZhciB0PW5ldyBnaSgxLzAsMS8wLC0xLzAsLTEvMCksZT0wO2U8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX2Rpc3BsYXlhYmxlc1tlXSxpPW4uZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtuLm5lZWRMb2NhbFRyYW5zZm9ybSgpJiZpLmFwcGx5VHJhbnNmb3JtKG4uZ2V0TG9jYWxUcmFuc2Zvcm0oSXUpKSx0LnVuaW9uKGkpfXRoaXMuX3JlY3Q9dH1yZXR1cm4gdGhpcy5fcmVjdH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7aWYodGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKG5bMF0sblsxXSkpZm9yKHZhciBpPTA7aTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2krKyl7aWYodGhpcy5fZGlzcGxheWFibGVzW2ldLmNvbnRhaW4odCxlKSlyZXR1cm4hMH1yZXR1cm4hMX0sZX0oU28pLEN1PU1hdGgubWF4LER1PU1hdGgubWluLEF1PXt9O2Z1bmN0aW9uIEx1KHQpe3JldHVybiBLYS5leHRlbmQodCl9dmFyIGt1PWZ1bmN0aW9uKHQsZSl7dmFyIGk9UGwodCxlKTtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5hcHBseVRyYW5zZm9ybT1pLmFwcGx5VHJhbnNmb3JtLG4uYnVpbGRQYXRoPWkuYnVpbGRQYXRoLG59cmV0dXJuIG4oZSx0KSxlfShMbCl9O2Z1bmN0aW9uIFB1KHQsZSl7cmV0dXJuIGt1KHQsZSl9ZnVuY3Rpb24gT3UodCxlKXtBdVt0XT1lfWZ1bmN0aW9uIFJ1KHQpe2lmKEF1Lmhhc093blByb3BlcnR5KHQpKXJldHVybiBBdVt0XX1mdW5jdGlvbiBOdSh0LGUsbixpKXt2YXIgcj1PbCh0LGUpO3JldHVybiBuJiYoImNlbnRlciI9PT1pJiYobj1FdShuLHIuZ2V0Qm91bmRpbmdSZWN0KCkpKSxCdShyLG4pKSxyfWZ1bmN0aW9uIHp1KHQsZSxuKXt2YXIgaT1uZXcgZXMoe3N0eWxlOntpbWFnZTp0LHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxvbmxvYWQ6ZnVuY3Rpb24odCl7aWYoImNlbnRlciI9PT1uKXt2YXIgcj17d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9O2kuc2V0U3R5bGUoRXUoZSxyKSl9fX0pO3JldHVybiBpfWZ1bmN0aW9uIEV1KHQsZSl7dmFyIG4saT1lLndpZHRoL2UuaGVpZ2h0LHI9dC5oZWlnaHQqaTtyZXR1cm4gbj1yPD10LndpZHRoP3QuaGVpZ2h0OihyPXQud2lkdGgpL2kse3g6dC54K3Qud2lkdGgvMi1yLzIseTp0LnkrdC5oZWlnaHQvMi1uLzIsd2lkdGg6cixoZWlnaHQ6bn19dmFyIFZ1PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9dC5sZW5ndGgscj0wO3I8aTtyKyspe3ZhciBvPXRbcl07by5wYXRofHxvLmNyZWF0ZVBhdGhQcm94eSgpLG8uc2hhcGVDaGFuZ2VkKCkmJm8uYnVpbGRQYXRoKG8ucGF0aCxvLnNoYXBlLCEwKSxuLnB1c2goby5wYXRoKX12YXIgYT1uZXcgS2EoZSk7cmV0dXJuIGEuY3JlYXRlUGF0aFByb3h5KCksYS5idWlsZFBhdGg9ZnVuY3Rpb24odCl7aWYoa2wodCkpe3QuYXBwZW5kUGF0aChuKTt2YXIgZT10LmdldENvbnRleHQoKTtlJiZ0LnJlYnVpbGRQYXRoKGUsMSl9fSxhfTtmdW5jdGlvbiBCdSh0LGUpe2lmKHQuYXBwbHlUcmFuc2Zvcm0pe3ZhciBuPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2FsY3VsYXRlVHJhbnNmb3JtKGUpO3QuYXBwbHlUcmFuc2Zvcm0obil9fXZhciBGdT1vcztmdW5jdGlvbiBHdSh0LGUsbixpLHIsbyxhKXt2YXIgcyxsPSExOyJmdW5jdGlvbiI9PXR5cGVvZiByPyhhPW8sbz1yLHI9bnVsbCk6WChyKSYmKG89ci5jYixhPXIuZHVyaW5nLGw9ci5pc0Zyb20scz1yLnJlbW92ZU9wdCxyPXIuZGF0YUluZGV4KTt2YXIgdSxoPSJ1cGRhdGUiPT09dCxjPSJyZW1vdmUiPT09dDtpZihpJiZpLmVjTW9kZWwpe3ZhciBwPWkuZWNNb2RlbC5nZXRVcGRhdGVQYXlsb2FkKCk7dT1wJiZwLmFuaW1hdGlvbn12YXIgZD1pJiZpLmlzQW5pbWF0aW9uRW5hYmxlZCgpO2lmKGN8fGUuc3RvcEFuaW1hdGlvbigicmVtb3ZlIiksZCl7dmFyIGY9dm9pZCAwLGc9dm9pZCAwLHk9dm9pZCAwO3U/KGY9dS5kdXJhdGlvbnx8MCxnPXUuZWFzaW5nfHwiY3ViaWNPdXQiLHk9dS5kZWxheXx8MCk6Yz8oZj10dCgocz1zfHx7fSkuZHVyYXRpb24sMjAwKSxnPXR0KHMuZWFzaW5nLCJjdWJpY091dCIpLHk9MCk6KGY9aS5nZXRTaGFsbG93KGg/ImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIjoiYW5pbWF0aW9uRHVyYXRpb24iKSxnPWkuZ2V0U2hhbGxvdyhoPyJhbmltYXRpb25FYXNpbmdVcGRhdGUiOiJhbmltYXRpb25FYXNpbmciKSx5PWkuZ2V0U2hhbGxvdyhoPyJhbmltYXRpb25EZWxheVVwZGF0ZSI6ImFuaW1hdGlvbkRlbGF5IikpLCJmdW5jdGlvbiI9PXR5cGVvZiB5JiYoeT15KHIsaS5nZXRBbmltYXRpb25EZWxheVBhcmFtcz9pLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zKGUscik6bnVsbCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBmJiYoZj1mKHIpKSxmPjA/bD9lLmFuaW1hdGVGcm9tKG4se2R1cmF0aW9uOmYsZGVsYXk6eXx8MCxlYXNpbmc6Zyxkb25lOm8sZm9yY2U6ISFvfHwhIWEsc2NvcGU6dCxkdXJpbmc6YX0pOmUuYW5pbWF0ZVRvKG4se2R1cmF0aW9uOmYsZGVsYXk6eXx8MCxlYXNpbmc6Zyxkb25lOm8sZm9yY2U6ISFvfHwhIWEsc2V0VG9GaW5hbDohMCxzY29wZTp0LGR1cmluZzphfSk6KGUuc3RvcEFuaW1hdGlvbigpLCFsJiZlLmF0dHIobiksbyYmbygpKX1lbHNlIGUuc3RvcEFuaW1hdGlvbigpLCFsJiZlLmF0dHIobiksYSYmYSgxKSxvJiZvKCl9ZnVuY3Rpb24gSHUodCxlLG4saSxyLG8pe0d1KCJ1cGRhdGUiLHQsZSxuLGkscixvKX1mdW5jdGlvbiBXdSh0LGUsbixpLHIsbyl7R3UoImluaXQiLHQsZSxuLGkscixvKX1mdW5jdGlvbiBVdSh0LGUsbixpLHIsbyl7WnUodCl8fEd1KCJyZW1vdmUiLHQsZSxuLGkscixvKX1mdW5jdGlvbiBYdSh0LGUsbixpKXt0LnJlbW92ZVRleHRDb250ZW50KCksdC5yZW1vdmVUZXh0R3VpZGVMaW5lKCksVXUodCx7c3R5bGU6e29wYWNpdHk6MH19LGUsbixpKX1mdW5jdGlvbiBZdSh0LGUsbil7ZnVuY3Rpb24gaSgpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCl9dC5pc0dyb3VwP3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8WHUodCxlLG4saSl9KSk6WHUodCxlLG4saSl9ZnVuY3Rpb24gWnUodCl7aWYoIXQuX196cilyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQuYW5pbWF0b3JzLmxlbmd0aDtlKyspe2lmKCJyZW1vdmUiPT09dC5hbmltYXRvcnNbZV0uc2NvcGUpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24ganUodCxlKXtmb3IodmFyIG49R24oW10pO3QmJnQhPT1lOylXbihuLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSxuKSx0PXQucGFyZW50O3JldHVybiBufWZ1bmN0aW9uIHF1KHQsZSxuKXtyZXR1cm4gZSYmIWsoZSkmJihlPW9pLmdldExvY2FsVHJhbnNmb3JtKGUpKSxuJiYoZT1abihbXSxlKSksUnQoW10sdCxlKX1mdW5jdGlvbiBLdSh0LGUsbil7dmFyIGk9MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVswXT8xOk1hdGguYWJzKDIqZVs0XS9lWzBdKSxyPTA9PT1lWzRdfHwwPT09ZVs1XXx8MD09PWVbMl0/MTpNYXRoLmFicygyKmVbNF0vZVsyXSksbz1bImxlZnQiPT09dD8taToicmlnaHQiPT09dD9pOjAsInRvcCI9PT10Py1yOiJib3R0b20iPT09dD9yOjBdO3JldHVybiBvPXF1KG8sZSxuKSxNYXRoLmFicyhvWzBdKT5NYXRoLmFicyhvWzFdKT9vWzBdPjA/InJpZ2h0IjoibGVmdCI6b1sxXT4wPyJib3R0b20iOiJ0b3AifWZ1bmN0aW9uICR1KHQpe3JldHVybiF0LmlzR3JvdXB9ZnVuY3Rpb24gSnUodCxlLG4pe2lmKHQmJmUpe3ZhciBpLHI9KGk9e30sdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7JHUodCkmJnQuYW5pZCYmKGlbdC5hbmlkXT10KX0pKSxpKTtlLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZigkdSh0KSYmdC5hbmlkKXt2YXIgZT1yW3QuYW5pZF07aWYoZSl7dmFyIGk9byh0KTt0LmF0dHIobyhlKSksSHUodCxpLG4sX3ModCkuZGF0YUluZGV4KX19fSkpfWZ1bmN0aW9uIG8odCl7dmFyIGU9e3g6dC54LHk6dC55LHJvdGF0aW9uOnQucm90YXRpb259O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dC5zaGFwZX0odCkmJihlLnNoYXBlPUkoe30sdC5zaGFwZSkpLGV9fWZ1bmN0aW9uIFF1KHQsZSl7cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7dmFyIG49dFswXTtuPUN1KG4sZS54KSxuPUR1KG4sZS54K2Uud2lkdGgpO3ZhciBpPXRbMV07cmV0dXJuIGk9Q3UoaSxlLnkpLFtuLGk9RHUoaSxlLnkrZS5oZWlnaHQpXX0pKX1mdW5jdGlvbiB0aCh0LGUpe3ZhciBuPUN1KHQueCxlLngpLGk9RHUodC54K3Qud2lkdGgsZS54K2Uud2lkdGgpLHI9Q3UodC55LGUueSksbz1EdSh0LnkrdC5oZWlnaHQsZS55K2UuaGVpZ2h0KTtpZihpPj1uJiZvPj1yKXJldHVybnt4Om4seTpyLHdpZHRoOmktbixoZWlnaHQ6by1yfX1mdW5jdGlvbiBlaCh0LGUsbil7dmFyIGk9SSh7cmVjdEhvdmVyOiEwfSxlKSxyPWkuc3R5bGU9e3N0cm9rZU5vU2NhbGU6ITB9O2lmKG49bnx8e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfSx0KXJldHVybiAwPT09dC5pbmRleE9mKCJpbWFnZTovLyIpPyhyLmltYWdlPXQuc2xpY2UoOCksVChyLG4pLG5ldyBlcyhpKSk6TnUodC5yZXBsYWNlKCJwYXRoOi8vIiwiIiksaSxuLCJjZW50ZXIiKX1mdW5jdGlvbiBuaCh0LGUsbixpLHIpe2Zvcih2YXIgbz0wLGE9cltyLmxlbmd0aC0xXTtvPHIubGVuZ3RoO28rKyl7dmFyIHM9cltvXTtpZihpaCh0LGUsbixpLHNbMF0sc1sxXSxhWzBdLGFbMV0pKXJldHVybiEwO2E9c319ZnVuY3Rpb24gaWgodCxlLG4saSxyLG8sYSxzKXt2YXIgbCx1PW4tdCxoPWktZSxjPWEtcixwPXMtbyxkPXJoKGMscCx1LGgpO2lmKChsPWQpPD0xZS02JiZsPj0tMWUtNilyZXR1cm4hMTt2YXIgZj10LXIsZz1lLW8seT1yaChmLGcsdSxoKS9kO2lmKHk8MHx8eT4xKXJldHVybiExO3ZhciB2PXJoKGYsZyxjLHApL2Q7cmV0dXJuISh2PDB8fHY+MSl9ZnVuY3Rpb24gcmgodCxlLG4saSl7cmV0dXJuIHQqaS1uKmV9ZnVuY3Rpb24gb2godCl7dmFyIGU9dC5pdGVtVG9vbHRpcE9wdGlvbixuPXQuY29tcG9uZW50TW9kZWwsaT10Lml0ZW1OYW1lLHI9SChlKT97Zm9ybWF0dGVyOmV9OmUsbz1uLm1haW5UeXBlLGE9bi5jb21wb25lbnRJbmRleCxzPXtjb21wb25lbnRUeXBlOm8sbmFtZTppLCR2YXJzOlsibmFtZSJdfTtzW28rIkluZGV4Il09YTt2YXIgbD10LmZvcm1hdHRlclBhcmFtc0V4dHJhO2wmJlAoRShsKSwoZnVuY3Rpb24odCl7ZHQocyx0KXx8KHNbdF09bFt0XSxzLiR2YXJzLnB1c2godCkpfSkpO3ZhciB1PV9zKHQuZWwpO3UuY29tcG9uZW50TWFpblR5cGU9byx1LmNvbXBvbmVudEluZGV4PWEsdS50b29sdGlwQ29uZmlnPXtuYW1lOmksb3B0aW9uOlQoe2NvbnRlbnQ6aSxmb3JtYXR0ZXJQYXJhbXM6c30scil9fU91KCJjaXJjbGUiLE5sKSxPdSgiZWxsaXBzZSIsRWwpLE91KCJzZWN0b3IiLEpsKSxPdSgicmluZyIsdHUpLE91KCJwb2x5Z29uIixydSksT3UoInBvbHlsaW5lIixhdSksT3UoInJlY3QiLGxzKSxPdSgibGluZSIsdXUpLE91KCJiZXppZXJDdXJ2ZSIsZHUpLE91KCJhcmMiLGd1KTt2YXIgYWg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZXh0ZW5kU2hhcGU6THUsZXh0ZW5kUGF0aDpQdSxyZWdpc3RlclNoYXBlOk91LGdldFNoYXBlQ2xhc3M6UnUsbWFrZVBhdGg6TnUsbWFrZUltYWdlOnp1LG1lcmdlUGF0aDpWdSxyZXNpemVQYXRoOkJ1LHN1YlBpeGVsT3B0aW1pemVMaW5lOmZ1bmN0aW9uKHQpe3JldHVybiBpcyh0LnNoYXBlLHQuc2hhcGUsdC5zdHlsZSksdH0sc3ViUGl4ZWxPcHRpbWl6ZVJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHJzKHQuc2hhcGUsdC5zaGFwZSx0LnN0eWxlKSx0fSxzdWJQaXhlbE9wdGltaXplOkZ1LHVwZGF0ZVByb3BzOkh1LGluaXRQcm9wczpXdSxyZW1vdmVFbGVtZW50OlV1LHJlbW92ZUVsZW1lbnRXaXRoRmFkZU91dDpZdSxpc0VsZW1lbnRSZW1vdmVkOlp1LGdldFRyYW5zZm9ybTpqdSxhcHBseVRyYW5zZm9ybTpxdSx0cmFuc2Zvcm1EaXJlY3Rpb246S3UsZ3JvdXBUcmFuc2l0aW9uOkp1LGNsaXBQb2ludHNCeVJlY3Q6UXUsY2xpcFJlY3RCeVJlY3Q6dGgsY3JlYXRlSWNvbjplaCxsaW5lUG9seWdvbkludGVyc2VjdDpuaCxsaW5lTGluZUludGVyc2VjdDppaCxzZXRUb29sdGlwQ29uZmlnOm9oLEdyb3VwOkVpLEltYWdlOmVzLFRleHQ6Y3MsQ2lyY2xlOk5sLEVsbGlwc2U6RWwsU2VjdG9yOkpsLFJpbmc6dHUsUG9seWdvbjpydSxQb2x5bGluZTphdSxSZWN0OmxzLExpbmU6dXUsQmV6aWVyQ3VydmU6ZHUsQXJjOmd1LEluY3JlbWVudGFsRGlzcGxheWFibGU6VHUsQ29tcG91bmRQYXRoOnl1LExpbmVhckdyYWRpZW50Om11LFJhZGlhbEdyYWRpZW50Ol91LEJvdW5kaW5nUmVjdDpnaSxPcmllbnRlZEJvdW5kaW5nUmVjdDpNdSxQb2ludDphaSxQYXRoOkthfSksc2g9e307ZnVuY3Rpb24gbGgodCxlKXtmb3IodmFyIG49MDtuPFNzLmxlbmd0aDtuKyspe3ZhciBpPVNzW25dLHI9ZVtpXSxvPXQuZW5zdXJlU3RhdGUoaSk7by5zdHlsZT1vLnN0eWxlfHx7fSxvLnN0eWxlLnRleHQ9cn12YXIgYT10LmN1cnJlbnRTdGF0ZXMuc2xpY2UoKTt0LmNsZWFyU3RhdGVzKCEwKSx0LnNldFN0eWxlKHt0ZXh0OmUubm9ybWFsfSksdC51c2VTdGF0ZXMoYSwhMCl9ZnVuY3Rpb24gdWgodCxlLG4pe3ZhciBpLHI9dC5sYWJlbEZldGNoZXIsbz10LmxhYmVsRGF0YUluZGV4LGE9dC5sYWJlbERpbUluZGV4LHM9ZS5ub3JtYWw7ciYmKGk9ci5nZXRGb3JtYXR0ZWRMYWJlbChvLCJub3JtYWwiLG51bGwsYSxzJiZzLmdldCgiZm9ybWF0dGVyIiksbnVsbCE9bj97aW50ZXJwb2xhdGVkVmFsdWU6bn06bnVsbCkpLG51bGw9PWkmJihpPUcodC5kZWZhdWx0VGV4dCk/dC5kZWZhdWx0VGV4dChvLHQsbik6dC5kZWZhdWx0VGV4dCk7Zm9yKHZhciBsPXtub3JtYWw6aX0sdT0wO3U8U3MubGVuZ3RoO3UrKyl7dmFyIGg9U3NbdV0sYz1lW2hdO2xbaF09dHQocj9yLmdldEZvcm1hdHRlZExhYmVsKG8saCxudWxsLGEsYyYmYy5nZXQoImZvcm1hdHRlciIpKTpudWxsLGkpfXJldHVybiBsfWZ1bmN0aW9uIGhoKHQsZSxuLGkpe249bnx8c2g7Zm9yKHZhciByPXQgaW5zdGFuY2VvZiBjcyxvPSExLGE9MDthPE1zLmxlbmd0aDthKyspe2lmKChwPWVbTXNbYV1dKSYmcC5nZXRTaGFsbG93KCJzaG93Iikpe289ITA7YnJlYWt9fXZhciBzPXI/dDp0LmdldFRleHRDb250ZW50KCk7aWYobyl7cnx8KHN8fChzPW5ldyBjcyx0LnNldFRleHRDb250ZW50KHMpKSx0LnN0YXRlUHJveHkmJihzLnN0YXRlUHJveHk9dC5zdGF0ZVByb3h5KSk7dmFyIGw9dWgobixlKSx1PWUubm9ybWFsLGg9ISF1LmdldFNoYWxsb3coInNob3ciKSxjPXBoKHUsaSYmaS5ub3JtYWwsbiwhMSwhcik7Yy50ZXh0PWwubm9ybWFsLHJ8fHQuc2V0VGV4dENvbmZpZyhkaCh1LG4sITEpKTtmb3IoYT0wO2E8U3MubGVuZ3RoO2ErKyl7dmFyIHAsZD1Tc1thXTtpZihwPWVbZF0pe3ZhciBmPXMuZW5zdXJlU3RhdGUoZCksZz0hIXR0KHAuZ2V0U2hhbGxvdygic2hvdyIpLGgpO2lmKGchPT1oJiYoZi5pZ25vcmU9IWcpLGYuc3R5bGU9cGgocCxpJiZpW2RdLG4sITAsIXIpLGYuc3R5bGUudGV4dD1sW2RdLCFyKXQuZW5zdXJlU3RhdGUoZCkudGV4dENvbmZpZz1kaChwLG4sITApfX1zLnNpbGVudD0hIXUuZ2V0U2hhbGxvdygic2lsZW50IiksbnVsbCE9cy5zdHlsZS54JiYoYy54PXMuc3R5bGUueCksbnVsbCE9cy5zdHlsZS55JiYoYy55PXMuc3R5bGUueSkscy5pZ25vcmU9IWgscy51c2VTdHlsZShjKSxzLmRpcnR5KCksbi5lbmFibGVUZXh0U2V0dGVyJiYoX2gocykuc2V0TGFiZWxUZXh0PWZ1bmN0aW9uKHQpe3ZhciBpPXVoKG4sZSx0KTtsaChzLGkpfSl9ZWxzZSBzJiYocy5pZ25vcmU9ITApO3QuZGlydHkoKX1mdW5jdGlvbiBjaCh0LGUpe2U9ZXx8ImxhYmVsIjtmb3IodmFyIG49e25vcm1hbDp0LmdldE1vZGVsKGUpfSxpPTA7aTxTcy5sZW5ndGg7aSsrKXt2YXIgcj1Tc1tpXTtuW3JdPXQuZ2V0TW9kZWwoW3IsZV0pfXJldHVybiBufWZ1bmN0aW9uIHBoKHQsZSxuLGkscil7dmFyIG89e307cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscil7bj1ufHxzaDt2YXIgbyxhPWUuZWNNb2RlbCxzPWEmJmEub3B0aW9uLnRleHRTdHlsZSxsPWZ1bmN0aW9uKHQpe3ZhciBlO2Zvcig7dCYmdCE9PXQuZWNNb2RlbDspe3ZhciBuPSh0Lm9wdGlvbnx8c2gpLnJpY2g7aWYobil7ZT1lfHx7fTtmb3IodmFyIGk9RShuKSxyPTA7cjxpLmxlbmd0aDtyKyspe2VbaVtyXV09MX19dD10LnBhcmVudE1vZGVsfXJldHVybiBlfShlKTtpZihsKWZvcih2YXIgdSBpbiBvPXt9LGwpaWYobC5oYXNPd25Qcm9wZXJ0eSh1KSl7dmFyIGg9ZS5nZXRNb2RlbChbInJpY2giLHVdKTt2aChvW3VdPXt9LGgscyxuLGksciwhMSwhMCl9byYmKHQucmljaD1vKTt2YXIgYz1lLmdldCgib3ZlcmZsb3ciKTtjJiYodC5vdmVyZmxvdz1jKTt2YXIgcD1lLmdldCgibWluTWFyZ2luIik7bnVsbCE9cCYmKHQubWFyZ2luPXApO3ZoKHQsZSxzLG4saSxyLCEwLCExKX0obyx0LG4saSxyKSxlJiZJKG8sZSksb31mdW5jdGlvbiBkaCh0LGUsbil7ZT1lfHx7fTt2YXIgaSxyPXt9LG89dC5nZXRTaGFsbG93KCJyb3RhdGUiKSxhPXR0KHQuZ2V0U2hhbGxvdygiZGlzdGFuY2UiKSxuP251bGw6NSkscz10LmdldFNoYWxsb3coIm9mZnNldCIpO3JldHVybiJvdXRzaWRlIj09PShpPXQuZ2V0U2hhbGxvdygicG9zaXRpb24iKXx8KG4/bnVsbDoiaW5zaWRlIikpJiYoaT1lLmRlZmF1bHRPdXRzaWRlUG9zaXRpb258fCJ0b3AiKSxudWxsIT1pJiYoci5wb3NpdGlvbj1pKSxudWxsIT1zJiYoci5vZmZzZXQ9cyksbnVsbCE9byYmKG8qPU1hdGguUEkvMTgwLHIucm90YXRpb249byksbnVsbCE9YSYmKHIuZGlzdGFuY2U9YSksci5vdXRzaWRlRmlsbD0iaW5oZXJpdCI9PT10LmdldCgiY29sb3IiKT9lLmluaGVyaXRDb2xvcnx8bnVsbDoiYXV0byIscn12YXIgZmg9WyJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwidGV4dFNoYWRvd0NvbG9yIiwidGV4dFNoYWRvd0JsdXIiLCJ0ZXh0U2hhZG93T2Zmc2V0WCIsInRleHRTaGFkb3dPZmZzZXRZIl0sZ2g9WyJhbGlnbiIsImxpbmVIZWlnaHQiLCJ3aWR0aCIsImhlaWdodCIsInRhZyIsInZlcnRpY2FsQWxpZ24iXSx5aD1bInBhZGRpbmciLCJib3JkZXJXaWR0aCIsImJvcmRlclJhZGl1cyIsImJvcmRlckRhc2hPZmZzZXQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIl07ZnVuY3Rpb24gdmgodCxlLG4saSxyLG8sYSxzKXtuPSFyJiZufHxzaDt2YXIgbD1pJiZpLmluaGVyaXRDb2xvcix1PWUuZ2V0U2hhbGxvdygiY29sb3IiKSxoPWUuZ2V0U2hhbGxvdygidGV4dEJvcmRlckNvbG9yIiksYz10dChlLmdldFNoYWxsb3coIm9wYWNpdHkiKSxuLm9wYWNpdHkpOyJpbmhlcml0IiE9PXUmJiJhdXRvIiE9PXV8fCh1PWx8fG51bGwpLCJpbmhlcml0IiE9PWgmJiJhdXRvIiE9PWh8fChoPWx8fG51bGwpLG98fCh1PXV8fG4uY29sb3IsaD1ofHxuLnRleHRCb3JkZXJDb2xvciksbnVsbCE9dSYmKHQuZmlsbD11KSxudWxsIT1oJiYodC5zdHJva2U9aCk7dmFyIHA9dHQoZS5nZXRTaGFsbG93KCJ0ZXh0Qm9yZGVyV2lkdGgiKSxuLnRleHRCb3JkZXJXaWR0aCk7bnVsbCE9cCYmKHQubGluZVdpZHRoPXApO3ZhciBkPXR0KGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlclR5cGUiKSxuLnRleHRCb3JkZXJUeXBlKTtudWxsIT1kJiYodC5saW5lRGFzaD1kKTt2YXIgZj10dChlLmdldFNoYWxsb3coInRleHRCb3JkZXJEYXNoT2Zmc2V0Iiksbi50ZXh0Qm9yZGVyRGFzaE9mZnNldCk7bnVsbCE9ZiYmKHQubGluZURhc2hPZmZzZXQ9Zikscnx8bnVsbCE9Y3x8c3x8KGM9aSYmaS5kZWZhdWx0T3BhY2l0eSksbnVsbCE9YyYmKHQub3BhY2l0eT1jKSxyfHxvfHxudWxsPT10LmZpbGwmJmkuaW5oZXJpdENvbG9yJiYodC5maWxsPWkuaW5oZXJpdENvbG9yKTtmb3IodmFyIGc9MDtnPGZoLmxlbmd0aDtnKyspe3ZhciB5PWZoW2ddO251bGwhPShtPXR0KGUuZ2V0U2hhbGxvdyh5KSxuW3ldKSkmJih0W3ldPW0pfWZvcihnPTA7ZzxnaC5sZW5ndGg7ZysrKXt5PWdoW2ddO251bGwhPShtPWUuZ2V0U2hhbGxvdyh5KSkmJih0W3ldPW0pfWlmKG51bGw9PXQudmVydGljYWxBbGlnbil7dmFyIHY9ZS5nZXRTaGFsbG93KCJiYXNlbGluZSIpO251bGwhPXYmJih0LnZlcnRpY2FsQWxpZ249dil9aWYoIWF8fCFpLmRpc2FibGVCb3gpe2ZvcihnPTA7Zzx5aC5sZW5ndGg7ZysrKXt2YXIgbTt5PXloW2ddO251bGwhPShtPWUuZ2V0U2hhbGxvdyh5KSkmJih0W3ldPW0pfXZhciBfPWUuZ2V0U2hhbGxvdygiYm9yZGVyVHlwZSIpO251bGwhPV8mJih0LmJvcmRlckRhc2g9XyksImF1dG8iIT09dC5iYWNrZ3JvdW5kQ29sb3ImJiJpbmhlcml0IiE9PXQuYmFja2dyb3VuZENvbG9yfHwhbHx8KHQuYmFja2dyb3VuZENvbG9yPWwpLCJhdXRvIiE9PXQuYm9yZGVyQ29sb3ImJiJpbmhlcml0IiE9PXQuYm9yZGVyQ29sb3J8fCFsfHwodC5ib3JkZXJDb2xvcj1sKX19ZnVuY3Rpb24gbWgodCxlKXt2YXIgbj1lJiZlLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKTtyZXR1cm4gb3QoW3QuZm9udFN0eWxlfHxuJiZuLmdldFNoYWxsb3coImZvbnRTdHlsZSIpfHwiIix0LmZvbnRXZWlnaHR8fG4mJm4uZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpfHwiIiwodC5mb250U2l6ZXx8biYmbi5nZXRTaGFsbG93KCJmb250U2l6ZSIpfHwxMikrInB4Iix0LmZvbnRGYW1pbHl8fG4mJm4uZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfHwic2Fucy1zZXJpZiJdLmpvaW4oIiAiKSl9dmFyIF9oPWtyKCk7ZnVuY3Rpb24geGgodCxlLG4saSl7aWYodCl7dmFyIHI9X2godCk7ci5wcmV2VmFsdWU9ci52YWx1ZSxyLnZhbHVlPW47dmFyIG89ZS5ub3JtYWw7ci52YWx1ZUFuaW1hdGlvbj1vLmdldCgidmFsdWVBbmltYXRpb24iKSxyLnZhbHVlQW5pbWF0aW9uJiYoci5wcmVjaXNpb249by5nZXQoInByZWNpc2lvbiIpLHIuZGVmYXVsdEludGVycG9sYXRlZFRleHQ9aSxyLnN0YXRlc01vZGVscz1lKX19ZnVuY3Rpb24gYmgodCxlLG4saSxyKXt2YXIgbz1faCh0KTtpZihvLnZhbHVlQW5pbWF0aW9uKXt2YXIgYT1vLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0LHM9dHQoby5pbnRlcnBvbGF0ZWRWYWx1ZSxvLnByZXZWYWx1ZSksbD1vLnZhbHVlOyhudWxsPT1zP1d1Okh1KSh0LHt9LGksZSxudWxsLChmdW5jdGlvbihpKXt2YXIgdT1GcihuLG8ucHJlY2lzaW9uLHMsbCxpKTtvLmludGVycG9sYXRlZFZhbHVlPTE9PT1pP251bGw6dTt2YXIgaD11aCh7bGFiZWxEYXRhSW5kZXg6ZSxsYWJlbEZldGNoZXI6cixkZWZhdWx0VGV4dDphP2EodSk6dSsiIn0sby5zdGF0ZXNNb2RlbHMsdSk7bGgodCxoKX0pKX19dmFyIHdoLFNoLE1oPVsidGV4dFN0eWxlIiwiY29sb3IiXSxJaD1uZXcgY3MsVGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRUZXh0Q29sb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lY01vZGVsO3JldHVybiB0aGlzLmdldFNoYWxsb3coImNvbG9yIil8fCghdCYmZT9lLmdldChNaCk6bnVsbCl9LHQucHJvdG90eXBlLmdldEZvbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbWgoe2ZvbnRTdHlsZTp0aGlzLmdldFNoYWxsb3coImZvbnRTdHlsZSIpLGZvbnRXZWlnaHQ6dGhpcy5nZXRTaGFsbG93KCJmb250V2VpZ2h0IiksZm9udFNpemU6dGhpcy5nZXRTaGFsbG93KCJmb250U2l6ZSIpLGZvbnRGYW1pbHk6dGhpcy5nZXRTaGFsbG93KCJmb250RmFtaWx5Iil9LHRoaXMuZWNNb2RlbCl9LHQucHJvdG90eXBlLmdldFRleHRSZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBJaC51c2VTdHlsZSh7dGV4dDp0LGZvbnRTdHlsZTp0aGlzLmdldFNoYWxsb3coImZvbnRTdHlsZSIpLGZvbnRXZWlnaHQ6dGhpcy5nZXRTaGFsbG93KCJmb250V2VpZ2h0IiksZm9udFNpemU6dGhpcy5nZXRTaGFsbG93KCJmb250U2l6ZSIpLGZvbnRGYW1pbHk6dGhpcy5nZXRTaGFsbG93KCJmb250RmFtaWx5IiksdmVydGljYWxBbGlnbjp0aGlzLmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iKXx8dGhpcy5nZXRTaGFsbG93KCJiYXNlbGluZSIpLHBhZGRpbmc6dGhpcy5nZXRTaGFsbG93KCJwYWRkaW5nIiksbGluZUhlaWdodDp0aGlzLmdldFNoYWxsb3coImxpbmVIZWlnaHQiKSxyaWNoOnRoaXMuZ2V0U2hhbGxvdygicmljaCIpfSksSWgudXBkYXRlKCksSWguZ2V0Qm91bmRpbmdSZWN0KCl9LHR9KCksQ2g9W1sibGluZVdpZHRoIiwid2lkdGgiXSxbInN0cm9rZSIsImNvbG9yIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdLFsibGluZURhc2giLCJ0eXBlIl0sWyJsaW5lRGFzaE9mZnNldCIsImRhc2hPZmZzZXQiXSxbImxpbmVDYXAiLCJjYXAiXSxbImxpbmVKb2luIiwiam9pbiJdLFsibWl0ZXJMaW1pdCJdXSxEaD0kcihDaCksQWg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRMaW5lU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIERoKHRoaXMsdCl9LHR9KCksTGg9W1siZmlsbCIsImNvbG9yIl0sWyJzdHJva2UiLCJib3JkZXJDb2xvciJdLFsibGluZVdpZHRoIiwiYm9yZGVyV2lkdGgiXSxbIm9wYWNpdHkiXSxbInNoYWRvd0JsdXIiXSxbInNoYWRvd09mZnNldFgiXSxbInNoYWRvd09mZnNldFkiXSxbInNoYWRvd0NvbG9yIl0sWyJsaW5lRGFzaCIsImJvcmRlclR5cGUiXSxbImxpbmVEYXNoT2Zmc2V0IiwiYm9yZGVyRGFzaE9mZnNldCJdLFsibGluZUNhcCIsImJvcmRlckNhcCJdLFsibGluZUpvaW4iLCJib3JkZXJKb2luIl0sWyJtaXRlckxpbWl0IiwiYm9yZGVyTWl0ZXJMaW1pdCJdXSxraD0kcihMaCksUGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRJdGVtU3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4ga2godGhpcyx0LGUpfSx0fSgpLE9oPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5wYXJlbnRNb2RlbD1lLHRoaXMuZWNNb2RlbD1uLHRoaXMub3B0aW9uPXR9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1bXSxyPTM7cjxhcmd1bWVudHMubGVuZ3RoO3IrKylpW3ItM109YXJndW1lbnRzW3JdfSx0LnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe1ModGhpcy5vcHRpb24sdCwhMCl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uOnRoaXMuX2RvR2V0KHRoaXMucGFyc2VQYXRoKHQpLCFlJiZ0aGlzLnBhcmVudE1vZGVsKX0sdC5wcm90b3R5cGUuZ2V0U2hhbGxvdz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9bnVsbD09bj9uOm5bdF07aWYobnVsbD09aSYmIWUpe3ZhciByPXRoaXMucGFyZW50TW9kZWw7ciYmKGk9ci5nZXRTaGFsbG93KHQpKX1yZXR1cm4gaX0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oZSxuKXt2YXIgaT1udWxsIT1lLHI9aT90aGlzLnBhcnNlUGF0aChlKTpudWxsO3JldHVybiBuZXcgdChpP3RoaXMuX2RvR2V0KHIpOnRoaXMub3B0aW9uLG49bnx8dGhpcy5wYXJlbnRNb2RlbCYmdGhpcy5wYXJlbnRNb2RlbC5nZXRNb2RlbCh0aGlzLnJlc29sdmVQYXJlbnRQYXRoKHIpKSx0aGlzLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMub3B0aW9ufSx0LnByb3RvdHlwZS5yZXN0b3JlRGF0YT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3KDAsdGhpcy5jb25zdHJ1Y3Rvcikodyh0aGlzLm9wdGlvbikpfSx0LnByb3RvdHlwZS5wYXJzZVBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoIi4iKTp0fSx0LnByb3RvdHlwZS5yZXNvbHZlUGFyZW50UGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYoIWEubm9kZSYmdGhpcy5vcHRpb24pe2lmKG51bGwhPXRoaXMub3B0aW9uLmFuaW1hdGlvbilyZXR1cm4hIXRoaXMub3B0aW9uLmFuaW1hdGlvbjtpZih0aGlzLnBhcmVudE1vZGVsKXJldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpfX0sdC5wcm90b3R5cGUuX2RvR2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb247aWYoIXQpcmV0dXJuIG47Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aCYmKCF0W2ldfHxudWxsIT0obj1uJiYib2JqZWN0Ij09dHlwZW9mIG4/blt0W2ldXTpudWxsKSk7aSsrKTtyZXR1cm4gbnVsbD09biYmZSYmKG49ZS5fZG9HZXQodGhpcy5yZXNvbHZlUGFyZW50UGF0aCh0KSxlLnBhcmVudE1vZGVsKSksbn0sdH0oKTtVcihPaCksd2g9T2gsU2g9WyJfX1wwaXNfY2x6IixacisrXS5qb2luKCJfIiksd2gucHJvdG90eXBlW1NoXT0hMCx3aC5pc0luc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0W1NoXSl9LEwoT2gsQWgpLEwoT2gsUGgpLEwoT2gsUXIpLEwoT2gsVGgpO3ZhciBSaD1NYXRoLnJvdW5kKDEwKk1hdGgucmFuZG9tKCkpO2Z1bmN0aW9uIE5oKHQpe3JldHVyblt0fHwiIixSaCsrXS5qb2luKCJfIil9ZnVuY3Rpb24gemgodCxlKXtyZXR1cm4gUyhTKHt9LHQsITApLGUsITApfXZhciBFaD0iWkgiLFZoPSJFTiIsQmg9VmgsRmg9e30sR2g9e30sSGg9YS5kb21TdXBwb3J0ZWQmJihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZ3x8bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlKS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoRWgpPi0xP0VoOkJoO2Z1bmN0aW9uIFdoKHQsZSl7dD10LnRvVXBwZXJDYXNlKCksR2hbdF09bmV3IE9oKGUpLEZoW3RdPWV9V2goVmgse3RpbWU6e21vbnRoOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aEFiYnI6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlPZldlZWs6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU9mV2Vla0FiYnI6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXX0sbGVnZW5kOntzZWxlY3Rvcjp7YWxsOiJBbGwiLGludmVyc2U6IkludiJ9fSx0b29sYm94OnticnVzaDp7dGl0bGU6e3JlY3Q6IkJveCBTZWxlY3QiLHBvbHlnb246Ikxhc3NvIFNlbGVjdCIsbGluZVg6Ikhvcml6b250YWxseSBTZWxlY3QiLGxpbmVZOiJWZXJ0aWNhbGx5IFNlbGVjdCIsa2VlcDoiS2VlcCBTZWxlY3Rpb25zIixjbGVhcjoiQ2xlYXIgU2VsZWN0aW9ucyJ9fSxkYXRhVmlldzp7dGl0bGU6IkRhdGEgVmlldyIsbGFuZzpbIkRhdGEgVmlldyIsIkNsb3NlIiwiUmVmcmVzaCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206Ilpvb20iLGJhY2s6Ilpvb20gUmVzZXQifX0sbWFnaWNUeXBlOnt0aXRsZTp7bGluZToiU3dpdGNoIHRvIExpbmUgQ2hhcnQiLGJhcjoiU3dpdGNoIHRvIEJhciBDaGFydCIsc3RhY2s6IlN0YWNrIix0aWxlZDoiVGlsZSJ9fSxyZXN0b3JlOnt0aXRsZToiUmVzdG9yZSJ9LHNhdmVBc0ltYWdlOnt0aXRsZToiU2F2ZSBhcyBJbWFnZSIsbGFuZzpbIlJpZ2h0IENsaWNrIHRvIFNhdmUgSW1hZ2UiXX19LHNlcmllczp7dHlwZU5hbWVzOntwaWU6IlBpZSBjaGFydCIsYmFyOiJCYXIgY2hhcnQiLGxpbmU6IkxpbmUgY2hhcnQiLHNjYXR0ZXI6IlNjYXR0ZXIgcGxvdCIsZWZmZWN0U2NhdHRlcjoiUmlwcGxlIHNjYXR0ZXIgcGxvdCIscmFkYXI6IlJhZGFyIGNoYXJ0Iix0cmVlOiJUcmVlIix0cmVlbWFwOiJUcmVlbWFwIixib3hwbG90OiJCb3hwbG90IixjYW5kbGVzdGljazoiQ2FuZGxlc3RpY2siLGs6IksgbGluZSBjaGFydCIsaGVhdG1hcDoiSGVhdCBtYXAiLG1hcDoiTWFwIixwYXJhbGxlbDoiUGFyYWxsZWwgY29vcmRpbmF0ZSBtYXAiLGxpbmVzOiJMaW5lIGdyYXBoIixncmFwaDoiUmVsYXRpb25zaGlwIGdyYXBoIixzYW5rZXk6IlNhbmtleSBkaWFncmFtIixmdW5uZWw6IkZ1bm5lbCBjaGFydCIsZ2F1Z2U6IkdhdWdlIixwaWN0b3JpYWxCYXI6IlBpY3RvcmlhbCBiYXIiLHRoZW1lUml2ZXI6IlRoZW1lIFJpdmVyIE1hcCIsc3VuYnVyc3Q6IlN1bmJ1cnN0In19LGFyaWE6e2dlbmVyYWw6e3dpdGhUaXRsZTonVGhpcyBpcyBhIGNoYXJ0IGFib3V0ICJ7dGl0bGV9Iicsd2l0aG91dFRpdGxlOiJUaGlzIGlzIGEgY2hhcnQifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OiIiLHdpdGhOYW1lOiIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfSBuYW1lZCB7c2VyaWVzTmFtZX0uIix3aXRob3V0TmFtZToiIHdpdGggdHlwZSB7c2VyaWVzVHlwZX0uIn0sbXVsdGlwbGU6e3ByZWZpeDoiLiBJdCBjb25zaXN0cyBvZiB7c2VyaWVzQ291bnR9IHNlcmllcyBjb3VudC4iLHdpdGhOYW1lOiIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9IHJlcHJlc2VudGluZyB7c2VyaWVzTmFtZX0uIix3aXRob3V0TmFtZToiIFRoZSB7c2VyaWVzSWR9IHNlcmllcyBpcyBhIHtzZXJpZXNUeXBlfS4iLHNlcGFyYXRvcjp7bWlkZGxlOiIiLGVuZDoiIn19fSxkYXRhOnthbGxEYXRhOiJUaGUgZGF0YSBpcyBhcyBmb2xsb3dzOiAiLHBhcnRpYWxEYXRhOiJUaGUgZmlyc3Qge2Rpc3BsYXlDbnR9IGl0ZW1zIGFyZTogIix3aXRoTmFtZToidGhlIGRhdGEgZm9yIHtuYW1lfSBpcyB7dmFsdWV9Iix3aXRob3V0TmFtZToie3ZhbHVlfSIsc2VwYXJhdG9yOnttaWRkbGU6IiwgIixlbmQ6Ii4gIn19fX0pLFdoKEVoLHt0aW1lOnttb250aDpbIuS4gOaciCIsIuS6jOaciCIsIuS4ieaciCIsIuWbm+aciCIsIuS6lOaciCIsIuWFreaciCIsIuS4g+aciCIsIuWFq+aciCIsIuS5neaciCIsIuWNgeaciCIsIuWNgeS4gOaciCIsIuWNgeS6jOaciCJdLG1vbnRoQWJicjpbIjHmnIgiLCIy5pyIIiwiM+aciCIsIjTmnIgiLCI15pyIIiwiNuaciCIsIjfmnIgiLCI45pyIIiwiOeaciCIsIjEw5pyIIiwiMTHmnIgiLCIxMuaciCJdLGRheU9mV2VlazpbIuaYn+acn+aXpSIsIuaYn+acn+S4gCIsIuaYn+acn+S6jCIsIuaYn+acn+S4iSIsIuaYn+acn+WbmyIsIuaYn+acn+S6lCIsIuaYn+acn+WFrSJdLGRheU9mV2Vla0FiYnI6WyLml6UiLCLkuIAiLCLkuowiLCLkuIkiLCLlm5siLCLkupQiLCLlha0iXX0sbGVnZW5kOntzZWxlY3Rvcjp7YWxsOiLlhajpgIkiLGludmVyc2U6IuWPjemAiSJ9fSx0b29sYm94OnticnVzaDp7dGl0bGU6e3JlY3Q6IuefqeW9oumAieaLqSIscG9seWdvbjoi5ZyI6YCJIixsaW5lWDoi5qiq5ZCR6YCJ5oupIixsaW5lWToi57q15ZCR6YCJ5oupIixrZWVwOiLkv53mjIHpgInmi6kiLGNsZWFyOiLmuIXpmaTpgInmi6kifX0sZGF0YVZpZXc6e3RpdGxlOiLmlbDmja7op4blm74iLGxhbmc6WyLmlbDmja7op4blm74iLCLlhbPpl60iLCLliLfmlrAiXX0sZGF0YVpvb206e3RpdGxlOnt6b29tOiLljLrln5/nvKnmlL4iLGJhY2s6IuWMuuWfn+e8qeaUvui/mOWOnyJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOiLliIfmjaLkuLrmipjnur/lm74iLGJhcjoi5YiH5o2i5Li65p+x54q25Zu+IixzdGFjazoi5YiH5o2i5Li65aCG5Y+gIix0aWxlZDoi5YiH5o2i5Li65bmz6ZO6In19LHJlc3RvcmU6e3RpdGxlOiLov5jljp8ifSxzYXZlQXNJbWFnZTp7dGl0bGU6IuS/neWtmOS4uuWbvueJhyIsbGFuZzpbIuWPs+mUruWPpuWtmOS4uuWbvueJhyJdfX0sc2VyaWVzOnt0eXBlTmFtZXM6e3BpZToi6aW85Zu+IixiYXI6IuafseeKtuWbviIsbGluZToi5oqY57q/5Zu+IixzY2F0dGVyOiLmlaPngrnlm74iLGVmZmVjdFNjYXR0ZXI6Iua2n+a8quaVo+eCueWbviIscmFkYXI6Iumbt+i+vuWbviIsdHJlZToi5qCR5Zu+Iix0cmVlbWFwOiLnn6nlvaLmoJHlm74iLGJveHBsb3Q6IueuseWei+WbviIsY2FuZGxlc3RpY2s6Ikvnur/lm74iLGs6Ikvnur/lm74iLGhlYXRtYXA6IueDreWKm+WbviIsbWFwOiLlnLDlm74iLHBhcmFsbGVsOiLlubPooYzlnZDmoIflm74iLGxpbmVzOiLnur/lm74iLGdyYXBoOiLlhbPns7vlm74iLHNhbmtleToi5qGR5Z+65Zu+IixmdW5uZWw6Iua8j+aWl+WbviIsZ2F1Z2U6IuS7quihqOebmOWbviIscGljdG9yaWFsQmFyOiLosaHlvaLmn7Hlm74iLHRoZW1lUml2ZXI6IuS4u+mimOays+a1geWbviIsc3VuYnVyc3Q6IuaXreaXpeWbviJ9fSxhcmlhOntnZW5lcmFsOnt3aXRoVGl0bGU6Iui/meaYr+S4gOS4quWFs+S6juKAnHt0aXRsZX3igJ3nmoTlm77ooajjgIIiLHdpdGhvdXRUaXRsZToi6L+Z5piv5LiA5Liq5Zu+6KGo77yMIn0sc2VyaWVzOntzaW5nbGU6e3ByZWZpeDoiIix3aXRoTmFtZToi5Zu+6KGo57G75Z6L5pive3Nlcmllc1R5cGV977yM6KGo56S6e3Nlcmllc05hbWV944CCIix3aXRob3V0TmFtZToi5Zu+6KGo57G75Z6L5pive3Nlcmllc1R5cGV944CCIn0sbXVsdGlwbGU6e3ByZWZpeDoi5a6D55Sxe3Nlcmllc0NvdW50feS4quWbvuihqOezu+WIl+e7hOaIkOOAgiIsd2l0aE5hbWU6IuesrHtzZXJpZXNJZH3kuKrns7vliJfmmK/kuIDkuKrooajnpLp7c2VyaWVzTmFtZX3nmoR7c2VyaWVzVHlwZX3vvIwiLHdpdGhvdXROYW1lOiLnrKx7c2VyaWVzSWR95Liq57O75YiX5piv5LiA5Liqe3Nlcmllc1R5cGV977yMIixzZXBhcmF0b3I6e21pZGRsZToi77ybIixlbmQ6IuOAgiJ9fX0sZGF0YTp7YWxsRGF0YToi5YW25pWw5o2u5piv4oCU4oCUIixwYXJ0aWFsRGF0YToi5YW25Lit77yM5YmNe2Rpc3BsYXlDbnR96aG55piv4oCU4oCUIix3aXRoTmFtZToie25hbWV955qE5pWw5o2u5pive3ZhbHVlfSIsd2l0aG91dE5hbWU6Int2YWx1ZX0iLHNlcGFyYXRvcjp7bWlkZGxlOiLvvIwiLGVuZDoiIn19fX0pO3ZhciBVaD0xZTMsWGg9NmU0LFloPTM2ZTUsWmg9ODY0ZTUsamg9MzE1MzZlNixxaD17eWVhcjoie3l5eXl9Iixtb250aDoie01NTX0iLGRheToie2R9Iixob3VyOiJ7SEh9OnttbX0iLG1pbnV0ZToie0hIfTp7bW19IixzZWNvbmQ6IntISH06e21tfTp7c3N9IixtaWxsaXNlY29uZDoie2hofTp7bW19Ontzc30ge1NTU30iLG5vbmU6Int5eXl5fS17TU19LXtkZH0ge2hofTp7bW19Ontzc30ge1NTU30ifSxLaD0ie3l5eXl9LXtNTX0te2RkfSIsJGg9e3llYXI6Int5eXl5fSIsbW9udGg6Int5eXl5fS17TU19IixkYXk6S2gsaG91cjoie3l5eXl9LXtNTX0te2RkfSAiK3FoLmhvdXIsbWludXRlOiJ7eXl5eX0te01NfS17ZGR9ICIrcWgubWludXRlLHNlY29uZDoie3l5eXl9LXtNTX0te2RkfSAiK3FoLnNlY29uZCxtaWxsaXNlY29uZDpxaC5ub25lfSxKaD1bInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCJdLFFoPVsieWVhciIsImhhbGYteWVhciIsInF1YXJ0ZXIiLCJtb250aCIsIndlZWsiLCJoYWxmLXdlZWsiLCJkYXkiLCJoYWxmLWRheSIsInF1YXJ0ZXItZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl07ZnVuY3Rpb24gdGModCxlKXtyZXR1cm4iMDAwMCIuc3Vic3RyKDAsZS0odCs9IiIpLmxlbmd0aCkrdH1mdW5jdGlvbiBlYyh0KXtzd2l0Y2godCl7Y2FzZSJoYWxmLXllYXIiOmNhc2UicXVhcnRlciI6cmV0dXJuIm1vbnRoIjtjYXNlIndlZWsiOmNhc2UiaGFsZi13ZWVrIjpyZXR1cm4iZGF5IjtjYXNlImhhbGYtZGF5IjpjYXNlInF1YXJ0ZXItZGF5IjpyZXR1cm4iaG91ciI7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gbmModCl7cmV0dXJuIHQ9PT1lYyh0KX1mdW5jdGlvbiBpYyh0LGUsbixpKXt2YXIgcj1vcih0KSxvPXJbYWMobildKCksYT1yW3NjKG4pXSgpKzEscz1NYXRoLmZsb29yKChhLTEpLzQpKzEsbD1yW2xjKG4pXSgpLHU9clsiZ2V0Iisobj8iVVRDIjoiIikrIkRheSJdKCksaD1yW3VjKG4pXSgpLGM9KGgtMSklMTIrMSxwPXJbaGMobildKCksZD1yW2NjKG4pXSgpLGY9cltwYyhuKV0oKSxnPShpIGluc3RhbmNlb2YgT2g/aTpmdW5jdGlvbih0KXtyZXR1cm4gR2hbdF19KGl8fEhoKXx8R2guRU4pLmdldE1vZGVsKCJ0aW1lIikseT1nLmdldCgibW9udGgiKSx2PWcuZ2V0KCJtb250aEFiYnIiKSxtPWcuZ2V0KCJkYXlPZldlZWsiKSxfPWcuZ2V0KCJkYXlPZldlZWtBYmJyIik7cmV0dXJuKGV8fCIiKS5yZXBsYWNlKC97eXl5eX0vZyxvKyIiKS5yZXBsYWNlKC97eXl9L2csbyUxMDArIiIpLnJlcGxhY2UoL3tRfS9nLHMrIiIpLnJlcGxhY2UoL3tNTU1NfS9nLHlbYS0xXSkucmVwbGFjZSgve01NTX0vZyx2W2EtMV0pLnJlcGxhY2UoL3tNTX0vZyx0YyhhLDIpKS5yZXBsYWNlKC97TX0vZyxhKyIiKS5yZXBsYWNlKC97ZGR9L2csdGMobCwyKSkucmVwbGFjZSgve2R9L2csbCsiIikucmVwbGFjZSgve2VlZWV9L2csbVt1XSkucmVwbGFjZSgve2VlfS9nLF9bdV0pLnJlcGxhY2UoL3tlfS9nLHUrIiIpLnJlcGxhY2UoL3tISH0vZyx0YyhoLDIpKS5yZXBsYWNlKC97SH0vZyxoKyIiKS5yZXBsYWNlKC97aGh9L2csdGMoYysiIiwyKSkucmVwbGFjZSgve2h9L2csYysiIikucmVwbGFjZSgve21tfS9nLHRjKHAsMikpLnJlcGxhY2UoL3ttfS9nLHArIiIpLnJlcGxhY2UoL3tzc30vZyx0YyhkLDIpKS5yZXBsYWNlKC97c30vZyxkKyIiKS5yZXBsYWNlKC97U1NTfS9nLHRjKGYsMykpLnJlcGxhY2UoL3tTfS9nLGYrIiIpfWZ1bmN0aW9uIHJjKHQsZSl7dmFyIG49b3IodCksaT1uW3NjKGUpXSgpKzEscj1uW2xjKGUpXSgpLG89blt1YyhlKV0oKSxhPW5baGMoZSldKCkscz1uW2NjKGUpXSgpLGw9MD09PW5bcGMoZSldKCksdT1sJiYwPT09cyxoPXUmJjA9PT1hLGM9aCYmMD09PW8scD1jJiYxPT09cjtyZXR1cm4gcCYmMT09PWk/InllYXIiOnA/Im1vbnRoIjpjPyJkYXkiOmg/ImhvdXIiOnU/Im1pbnV0ZSI6bD8ic2Vjb25kIjoibWlsbGlzZWNvbmQifWZ1bmN0aW9uIG9jKHQsZSxuKXt2YXIgaT0ibnVtYmVyIj09dHlwZW9mIHQ/b3IodCk6dDtzd2l0Y2goZT1lfHxyYyh0LG4pKXtjYXNlInllYXIiOnJldHVybiBpW2FjKG4pXSgpO2Nhc2UiaGFsZi15ZWFyIjpyZXR1cm4gaVtzYyhuKV0oKT49Nj8xOjA7Y2FzZSJxdWFydGVyIjpyZXR1cm4gTWF0aC5mbG9vcigoaVtzYyhuKV0oKSsxKS80KTtjYXNlIm1vbnRoIjpyZXR1cm4gaVtzYyhuKV0oKTtjYXNlImRheSI6cmV0dXJuIGlbbGMobildKCk7Y2FzZSJoYWxmLWRheSI6cmV0dXJuIGlbdWMobildKCkvMjQ7Y2FzZSJob3VyIjpyZXR1cm4gaVt1YyhuKV0oKTtjYXNlIm1pbnV0ZSI6cmV0dXJuIGlbaGMobildKCk7Y2FzZSJzZWNvbmQiOnJldHVybiBpW2NjKG4pXSgpO2Nhc2UibWlsbGlzZWNvbmQiOnJldHVybiBpW3BjKG4pXSgpfX1mdW5jdGlvbiBhYyh0KXtyZXR1cm4gdD8iZ2V0VVRDRnVsbFllYXIiOiJnZXRGdWxsWWVhciJ9ZnVuY3Rpb24gc2ModCl7cmV0dXJuIHQ/ImdldFVUQ01vbnRoIjoiZ2V0TW9udGgifWZ1bmN0aW9uIGxjKHQpe3JldHVybiB0PyJnZXRVVENEYXRlIjoiZ2V0RGF0ZSJ9ZnVuY3Rpb24gdWModCl7cmV0dXJuIHQ/ImdldFVUQ0hvdXJzIjoiZ2V0SG91cnMifWZ1bmN0aW9uIGhjKHQpe3JldHVybiB0PyJnZXRVVENNaW51dGVzIjoiZ2V0TWludXRlcyJ9ZnVuY3Rpb24gY2ModCl7cmV0dXJuIHQ/ImdldFVUQ1NlY29uZHMiOiJnZXRTZWNvbmRzIn1mdW5jdGlvbiBwYyh0KXtyZXR1cm4gdD8iZ2V0VVRDU2Vjb25kcyI6ImdldFNlY29uZHMifWZ1bmN0aW9uIGRjKHQpe3JldHVybiB0PyJzZXRVVENGdWxsWWVhciI6InNldEZ1bGxZZWFyIn1mdW5jdGlvbiBmYyh0KXtyZXR1cm4gdD8ic2V0VVRDTW9udGgiOiJzZXRNb250aCJ9ZnVuY3Rpb24gZ2ModCl7cmV0dXJuIHQ/InNldFVUQ0RhdGUiOiJzZXREYXRlIn1mdW5jdGlvbiB5Yyh0KXtyZXR1cm4gdD8ic2V0VVRDSG91cnMiOiJzZXRIb3VycyJ9ZnVuY3Rpb24gdmModCl7cmV0dXJuIHQ/InNldFVUQ01pbnV0ZXMiOiJzZXRNaW51dGVzIn1mdW5jdGlvbiBtYyh0KXtyZXR1cm4gdD8ic2V0VVRDU2Vjb25kcyI6InNldFNlY29uZHMifWZ1bmN0aW9uIF9jKHQpe3JldHVybiB0PyJzZXRVVENTZWNvbmRzIjoic2V0U2Vjb25kcyJ9ZnVuY3Rpb24geGModCl7aWYoIXByKHQpKXJldHVybiBIKHQpP3Q6Ii0iO3ZhciBlPSh0KyIiKS5zcGxpdCgiLiIpO3JldHVybiBlWzBdLnJlcGxhY2UoLyhcZHsxLDN9KSg/PSg/OlxkezN9KSsoPyFcZCkpL2csIiQxLCIpKyhlLmxlbmd0aD4xPyIuIitlWzFdOiIiKX1mdW5jdGlvbiBiYyh0LGUpe3JldHVybiB0PSh0fHwiIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tKC4pL2csKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pKSxlJiZ0JiYodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkpLHR9dmFyIHdjPWl0LFNjPS8oWyY8PiInXSkvZyxNYz17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7In07ZnVuY3Rpb24gSWModCl7cmV0dXJuIG51bGw9PXQ/IiI6KHQrIiIpLnJlcGxhY2UoU2MsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1jW2VdfSkpfWZ1bmN0aW9uIFRjKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZvdCh0KT90OiItIn1mdW5jdGlvbiByKHQpe3JldHVybiEobnVsbD09dHx8aXNOYU4odCl8fCFpc0Zpbml0ZSh0KSl9dmFyIG89InRpbWUiPT09ZSxhPXQgaW5zdGFuY2VvZiBEYXRlO2lmKG98fGEpe3ZhciBzPW8/b3IodCk6dDtpZighaXNOYU4oK3MpKXJldHVybiBpYyhzLCJ7eXl5eX0te01NfS17ZGR9IHtoaH06e21tfTp7c3N9IixuKTtpZihhKXJldHVybiItIn1pZigib3JkaW5hbCI9PT1lKXJldHVybiBXKHQpP2kodCk6VSh0KSYmcih0KT90KyIiOiItIjt2YXIgbD1jcih0KTtyZXR1cm4gcihsKT94YyhsKTpXKHQpP2kodCk6Ii0ifXZhciBDYz1bImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsImciXSxEYz1mdW5jdGlvbih0LGUpe3JldHVybiJ7Iit0KyhudWxsPT1lPyIiOmUpKyJ9In07ZnVuY3Rpb24gQWModCxlLG4pe0YoZSl8fChlPVtlXSk7dmFyIGk9ZS5sZW5ndGg7aWYoIWkpcmV0dXJuIiI7Zm9yKHZhciByPWVbMF0uJHZhcnN8fFtdLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9Q2Nbb107dD10LnJlcGxhY2UoRGMoYSksRGMoYSwwKSl9Zm9yKHZhciBzPTA7czxpO3MrKylmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrKyl7dmFyIHU9ZVtzXVtyW2xdXTt0PXQucmVwbGFjZShEYyhDY1tsXSxzKSxuP0ljKHUpOnUpfXJldHVybiB0fWZ1bmN0aW9uIExjKHQsZSl7dmFyIG49SCh0KT97Y29sb3I6dCxleHRyYUNzc1RleHQ6ZX06dHx8e30saT1uLmNvbG9yLHI9bi50eXBlO2U9bi5leHRyYUNzc1RleHQ7dmFyIG89bi5yZW5kZXJNb2RlfHwiaHRtbCI7cmV0dXJuIGk/Imh0bWwiPT09bz8ic3ViSXRlbSI9PT1yPyc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6JytJYyhpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+JzonPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo0cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK0ljKGkpKyI7IisoZXx8IiIpKyciPjwvc3Bhbj4nOntyZW5kZXJNb2RlOm8sY29udGVudDoieyIrKG4ubWFya2VySWR8fCJtYXJrZXJYIikrInx9ICAiLHN0eWxlOiJzdWJJdGVtIj09PXI/e3dpZHRoOjQsaGVpZ2h0OjQsYm9yZGVyUmFkaXVzOjIsYmFja2dyb3VuZENvbG9yOml9Ont3aWR0aDoxMCxoZWlnaHQ6MTAsYm9yZGVyUmFkaXVzOjUsYmFja2dyb3VuZENvbG9yOml9fToiIn1mdW5jdGlvbiBrYyh0LGUpe3JldHVybiBlPWV8fCJ0cmFuc3BhcmVudCIsSCh0KT90OlgodCkmJnQuY29sb3JTdG9wcyYmKHQuY29sb3JTdG9wc1swXXx8e30pLmNvbG9yfHxlfWZ1bmN0aW9uIFBjKHQsZSl7aWYoIl9ibGFuayI9PT1lfHwiYmxhbmsiPT09ZSl7dmFyIG49d2luZG93Lm9wZW4oKTtuLm9wZW5lcj1udWxsLG4ubG9jYXRpb24uaHJlZj10fWVsc2Ugd2luZG93Lm9wZW4odCxlKX12YXIgT2M9UCxSYz1bImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0Il0sTmM9W1sid2lkdGgiLCJsZWZ0IiwicmlnaHQiXSxbImhlaWdodCIsInRvcCIsImJvdHRvbSJdXTtmdW5jdGlvbiB6Yyh0LGUsbixpLHIpe3ZhciBvPTAsYT0wO251bGw9PWkmJihpPTEvMCksbnVsbD09ciYmKHI9MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKChmdW5jdGlvbihsLHUpe3ZhciBoLGMscD1sLmdldEJvdW5kaW5nUmVjdCgpLGQ9ZS5jaGlsZEF0KHUrMSksZj1kJiZkLmdldEJvdW5kaW5nUmVjdCgpO2lmKCJob3Jpem9udGFsIj09PXQpe3ZhciBnPXAud2lkdGgrKGY/LWYueCtwLng6MCk7KGg9bytnKT5pfHxsLm5ld2xpbmU/KG89MCxoPWcsYSs9cytuLHM9cC5oZWlnaHQpOnM9TWF0aC5tYXgocyxwLmhlaWdodCl9ZWxzZXt2YXIgeT1wLmhlaWdodCsoZj8tZi55K3AueTowKTsoYz1hK3kpPnJ8fGwubmV3bGluZT8obys9cytuLGE9MCxjPXkscz1wLndpZHRoKTpzPU1hdGgubWF4KHMscC53aWR0aCl9bC5uZXdsaW5lfHwobC54PW8sbC55PWEsbC5tYXJrUmVkcmF3KCksImhvcml6b250YWwiPT09dD9vPWgrbjphPWMrbil9KSl9dmFyIEVjPXpjO0IoemMsInZlcnRpY2FsIiksQih6YywiaG9yaXpvbnRhbCIpO2Z1bmN0aW9uIFZjKHQsZSxuKXtuPXdjKG58fDApO3ZhciBpPWUud2lkdGgscj1lLmhlaWdodCxvPVppKHQubGVmdCxpKSxhPVppKHQudG9wLHIpLHM9WmkodC5yaWdodCxpKSxsPVppKHQuYm90dG9tLHIpLHU9WmkodC53aWR0aCxpKSxoPVppKHQuaGVpZ2h0LHIpLGM9blsyXStuWzBdLHA9blsxXStuWzNdLGQ9dC5hc3BlY3Q7c3dpdGNoKGlzTmFOKHUpJiYodT1pLXMtcC1vKSxpc05hTihoKSYmKGg9ci1sLWMtYSksbnVsbCE9ZCYmKGlzTmFOKHUpJiZpc05hTihoKSYmKGQ+aS9yP3U9LjgqaTpoPS44KnIpLGlzTmFOKHUpJiYodT1kKmgpLGlzTmFOKGgpJiYoaD11L2QpKSxpc05hTihvKSYmKG89aS1zLXUtcCksaXNOYU4oYSkmJihhPXItbC1oLWMpLHQubGVmdHx8dC5yaWdodCl7Y2FzZSJjZW50ZXIiOm89aS8yLXUvMi1uWzNdO2JyZWFrO2Nhc2UicmlnaHQiOm89aS11LXB9c3dpdGNoKHQudG9wfHx0LmJvdHRvbSl7Y2FzZSJtaWRkbGUiOmNhc2UiY2VudGVyIjphPXIvMi1oLzItblswXTticmVhaztjYXNlImJvdHRvbSI6YT1yLWgtY31vPW98fDAsYT1hfHwwLGlzTmFOKHUpJiYodT1pLXAtby0oc3x8MCkpLGlzTmFOKGgpJiYoaD1yLWMtYS0obHx8MCkpO3ZhciBmPW5ldyBnaShvK25bM10sYStuWzBdLHUsaCk7cmV0dXJuIGYubWFyZ2luPW4sZn1mdW5jdGlvbiBCYyh0LGUsbixpLHIpe3ZhciBvPSFyfHwhci5odnx8ci5odlswXSxhPSFyfHwhci5odnx8ci5odlsxXSxzPXImJnIuYm91bmRpbmdNb2RlfHwiYWxsIjtpZihvfHxhKXt2YXIgbDtpZigicmF3Ij09PXMpbD0iZ3JvdXAiPT09dC50eXBlP25ldyBnaSgwLDAsK2Uud2lkdGh8fDAsK2UuaGVpZ2h0fHwwKTp0LmdldEJvdW5kaW5nUmVjdCgpO2Vsc2UgaWYobD10LmdldEJvdW5kaW5nUmVjdCgpLHQubmVlZExvY2FsVHJhbnNmb3JtKCkpe3ZhciB1PXQuZ2V0TG9jYWxUcmFuc2Zvcm0oKTsobD1sLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKHUpfXZhciBoPVZjKFQoe3dpZHRoOmwud2lkdGgsaGVpZ2h0OmwuaGVpZ2h0fSxlKSxuLGkpLGM9bz9oLngtbC54OjAscD1hP2gueS1sLnk6MDsicmF3Ij09PXM/KHQueD1jLHQueT1wKToodC54Kz1jLHQueSs9cCksdC5tYXJrUmVkcmF3KCl9fWZ1bmN0aW9uIEZjKHQpe3ZhciBlPXQubGF5b3V0TW9kZXx8dC5jb25zdHJ1Y3Rvci5sYXlvdXRNb2RlO3JldHVybiBYKGUpP2U6ZT97dHlwZTplfTpudWxsfWZ1bmN0aW9uIEdjKHQsZSxuKXt2YXIgaT1uJiZuLmlnbm9yZVNpemU7IUYoaSkmJihpPVtpLGldKTt2YXIgcj1hKE5jWzBdLDApLG89YShOY1sxXSwxKTtmdW5jdGlvbiBhKG4scil7dmFyIG89e30sYT0wLHU9e30saD0wO2lmKE9jKG4sKGZ1bmN0aW9uKGUpe3VbZV09dFtlXX0pKSxPYyhuLChmdW5jdGlvbih0KXtzKGUsdCkmJihvW3RdPXVbdF09ZVt0XSksbChvLHQpJiZhKyssbCh1LHQpJiZoKyt9KSksaVtyXSlyZXR1cm4gbChlLG5bMV0pP3VbblsyXV09bnVsbDpsKGUsblsyXSkmJih1W25bMV1dPW51bGwpLHU7aWYoMiE9PWgmJmEpe2lmKGE+PTIpcmV0dXJuIG87Zm9yKHZhciBjPTA7YzxuLmxlbmd0aDtjKyspe3ZhciBwPW5bY107aWYoIXMobyxwKSYmcyh0LHApKXtvW3BdPXRbcF07YnJlYWt9fXJldHVybiBvfXJldHVybiB1fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBsKHQsZSl7cmV0dXJuIG51bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV19ZnVuY3Rpb24gdSh0LGUsbil7T2ModCwoZnVuY3Rpb24odCl7ZVt0XT1uW3RdfSkpfXUoTmNbMF0sdCxyKSx1KE5jWzFdLHQsbyl9ZnVuY3Rpb24gSGModCl7cmV0dXJuIFdjKHt9LHQpfWZ1bmN0aW9uIFdjKHQsZSl7cmV0dXJuIGUmJnQmJk9jKFJjLChmdW5jdGlvbihuKXtlLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKSx0fXZhciBVYz1rcigpLFhjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gci51aWQ9TmgoImVjX2NwdF9tb2RlbCIpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbil9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49RmModGhpcyksaT1uP0hjKHQpOnt9O1ModCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMubWFpblR5cGUpKSxTKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLG4mJkdjKHQsaSxuKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtTKHRoaXMub3B0aW9uLHQsITApO3ZhciBuPUZjKHRoaXMpO24mJkdjKHRoaXMub3B0aW9uLHQsbil9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtIcl0pfSh0KSlyZXR1cm4gdC5kZWZhdWx0T3B0aW9uO3ZhciBlPVVjKHRoaXMpO2lmKCFlLmRlZmF1bHRPcHRpb24pe2Zvcih2YXIgbj1bXSxpPXQ7aTspe3ZhciByPWkucHJvdG90eXBlLmRlZmF1bHRPcHRpb247ciYmbi5wdXNoKHIpLGk9aS5zdXBlckNsYXNzfWZvcih2YXIgbz17fSxhPW4ubGVuZ3RoLTE7YT49MDthLS0pbz1TKG8sblthXSwhMCk7ZS5kZWZhdWx0T3B0aW9uPW99cmV0dXJuIGUuZGVmYXVsdE9wdGlvbn0sZS5wcm90b3R5cGUuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQrIkluZGV4IixpPXQrIklkIjtyZXR1cm4gRXIodGhpcy5lY01vZGVsLHQse2luZGV4OnRoaXMuZ2V0KG4sITApLGlkOnRoaXMuZ2V0KGksITApfSxlKX0sZS5wcm90b3R5cGUuZ2V0Qm94TGF5b3V0UGFyYW1zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm57bGVmdDp0LmdldCgibGVmdCIpLHRvcDp0LmdldCgidG9wIikscmlnaHQ6dC5nZXQoInJpZ2h0IiksYm90dG9tOnQuZ2V0KCJib3R0b20iKSx3aWR0aDp0LmdldCgid2lkdGgiKSxoZWlnaHQ6dC5nZXQoImhlaWdodCIpfX0sZS5wcm90b0luaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZTt0LnR5cGU9ImNvbXBvbmVudCIsdC5pZD0iIix0Lm5hbWU9IiIsdC5tYWluVHlwZT0iIix0LnN1YlR5cGU9IiIsdC5jb21wb25lbnRJbmRleD0wfSgpLGV9KE9oKTtZcihYYyxPaCksS3IoWGMpLGZ1bmN0aW9uKHQpe3ZhciBlPXt9O3QucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyPWZ1bmN0aW9uKHQsbil7dmFyIGk9V3IodCk7ZVtpLm1haW5dPW59LHQuZGV0ZXJtaW5lU3ViVHlwZT1mdW5jdGlvbihuLGkpe3ZhciByPWkudHlwZTtpZighcil7dmFyIG89V3IobikubWFpbjt0Lmhhc1N1YlR5cGVzKG4pJiZlW29dJiYocj1lW29dKGkpKX1yZXR1cm4gcn19KFhjKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdFtlXXx8KHRbZV09e3ByZWRlY2Vzc29yOltdLHN1Y2Nlc3NvcjpbXX0pLHRbZV19dC50b3BvbG9naWNhbFRyYXZlbD1mdW5jdGlvbih0LGkscixvKXtpZih0Lmxlbmd0aCl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGk9e30scj1bXTtyZXR1cm4gUCh0LChmdW5jdGlvbihvKXt2YXIgYT1uKGksbykscz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBQKHQsKGZ1bmN0aW9uKHQpe0QoZSx0KT49MCYmbi5wdXNoKHQpfSkpLG59KGEub3JpZ2luYWxEZXBzPWUobyksdCk7YS5lbnRyeUNvdW50PXMubGVuZ3RoLDA9PT1hLmVudHJ5Q291bnQmJnIucHVzaChvKSxQKHMsKGZ1bmN0aW9uKHQpe0QoYS5wcmVkZWNlc3Nvcix0KTwwJiZhLnByZWRlY2Vzc29yLnB1c2godCk7dmFyIGU9bihpLHQpO0QoZS5zdWNjZXNzb3IsdCk8MCYmZS5zdWNjZXNzb3IucHVzaChvKX0pKX0pKSx7Z3JhcGg6aSxub0VudHJ5TGlzdDpyfX0oaSkscz1hLmdyYXBoLGw9YS5ub0VudHJ5TGlzdCx1PXt9O2ZvcihQKHQsKGZ1bmN0aW9uKHQpe3VbdF09ITB9KSk7bC5sZW5ndGg7KXt2YXIgaD1sLnBvcCgpLGM9c1toXSxwPSEhdVtoXTtwJiYoci5jYWxsKG8saCxjLm9yaWdpbmFsRGVwcy5zbGljZSgpKSxkZWxldGUgdVtoXSksUChjLnN1Y2Nlc3NvcixwP2Y6ZCl9UCh1LChmdW5jdGlvbigpe3ZhciB0PSIiO3Rocm93IG5ldyBFcnJvcih0KX0pKX1mdW5jdGlvbiBkKHQpe3NbdF0uZW50cnlDb3VudC0tLDA9PT1zW3RdLmVudHJ5Q291bnQmJmwucHVzaCh0KX1mdW5jdGlvbiBmKHQpe3VbdF09ITAsZCh0KX19fShYYywoZnVuY3Rpb24odCl7dmFyIGU9W107UChYYy5nZXRDbGFzc2VzQnlNYWluVHlwZSh0KSwoZnVuY3Rpb24odCl7ZT1lLmNvbmNhdCh0LmRlcGVuZGVuY2llc3x8dC5wcm90b3R5cGUuZGVwZW5kZW5jaWVzfHxbXSl9KSksZT1PKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBXcih0KS5tYWlufSkpLCJkYXRhc2V0IiE9PXQmJkQoZSwiZGF0YXNldCIpPD0wJiZlLnVuc2hpZnQoImRhdGFzZXQiKTtyZXR1cm4gZX0pKTt2YXIgWWM9IiI7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihZYz1uYXZpZ2F0b3IucGxhdGZvcm18fCIiKTt2YXIgWmM9InJnYmEoMCwgMCwgMCwgMC4yKSIsamM9e2RhcmtNb2RlOiJhdXRvIixjb2xvcjpbIiM1NDcwYzYiLCIjOTFjYzc1IiwiI2ZhYzg1OCIsIiNlZTY2NjYiLCIjNzNjMGRlIiwiIzNiYTI3MiIsIiNmYzg0NTIiLCIjOWE2MGI0IiwiI2VhN2NjYyJdLGdyYWRpZW50Q29sb3I6WyIjZjZlZmE2IiwiI2Q4ODI3MyIsIiNiZjQ0NGMiXSxhcmlhOntkZWNhbDp7ZGVjYWxzOlt7Y29sb3I6WmMsZGFzaEFycmF5WDpbMSwwXSxkYXNoQXJyYXlZOlsyLDVdLHN5bWJvbFNpemU6MSxyb3RhdGlvbjpNYXRoLlBJLzZ9LHtjb2xvcjpaYyxzeW1ib2w6ImNpcmNsZSIsZGFzaEFycmF5WDpbWzgsOF0sWzAsOCw4LDBdXSxkYXNoQXJyYXlZOls2LDBdLHN5bWJvbFNpemU6Ljh9LHtjb2xvcjpaYyxkYXNoQXJyYXlYOlsxLDBdLGRhc2hBcnJheVk6WzQsM10scm90YXRpb246LU1hdGguUEkvNH0se2NvbG9yOlpjLGRhc2hBcnJheVg6W1s2LDZdLFswLDYsNiwwXV0sZGFzaEFycmF5WTpbNiwwXX0se2NvbG9yOlpjLGRhc2hBcnJheVg6W1sxLDBdLFsxLDZdXSxkYXNoQXJyYXlZOlsxLDAsNiwwXSxyb3RhdGlvbjpNYXRoLlBJLzR9LHtjb2xvcjpaYyxzeW1ib2w6InRyaWFuZ2xlIixkYXNoQXJyYXlYOltbOSw5XSxbMCw5LDksMF1dLGRhc2hBcnJheVk6WzcsMl0sc3ltYm9sU2l6ZTouNzV9XX19LHRleHRTdHlsZTp7Zm9udEZhbWlseTpZYy5tYXRjaCgvXldpbi8pPyJNaWNyb3NvZnQgWWFIZWkiOiJzYW5zLXNlcmlmIixmb250U2l6ZToxMixmb250U3R5bGU6Im5vcm1hbCIsZm9udFdlaWdodDoibm9ybWFsIn0sYmxlbmRNb2RlOm51bGwsc3RhdGVBbmltYXRpb246e2R1cmF0aW9uOjMwMCxlYXNpbmc6ImN1YmljT3V0In0sYW5pbWF0aW9uOiJhdXRvIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNJbk91dCIsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJjdWJpY0luT3V0IixhbmltYXRpb25UaHJlc2hvbGQ6MmUzLHByb2dyZXNzaXZlVGhyZXNob2xkOjNlMyxwcm9ncmVzc2l2ZTo0MDAsaG92ZXJMYXllclRocmVzaG9sZDozZTMsdXNlVVRDOiExfSxxYz1odChbInRvb2x0aXAiLCJsYWJlbCIsIml0ZW1OYW1lIiwiaXRlbUlkIiwic2VyaWVzTmFtZSJdKSxLYz0ib3JpZ2luYWwiLCRjPSJhcnJheVJvd3MiLEpjPSJvYmplY3RSb3dzIixRYz0ia2V5ZWRDb2x1bW5zIix0cD0idHlwZWRBcnJheSIsZXA9InVua25vd24iLG5wPSJjb2x1bW4iLGlwPSJyb3ciLHJwPTEsb3A9MixhcD0zLHNwPWtyKCk7ZnVuY3Rpb24gbHAodCxlLG4pe3ZhciBpPXt9LHI9aHAoZSk7aWYoIXJ8fCF0KXJldHVybiBpO3ZhciBvLGEscz1bXSxsPVtdLHU9ZS5lY01vZGVsLGg9c3AodSkuZGF0YXNldE1hcCxjPXIudWlkKyJfIituLnNlcmllc0xheW91dEJ5O1AodD10LnNsaWNlKCksKGZ1bmN0aW9uKGUsbil7dmFyIHI9WChlKT9lOnRbbl09e25hbWU6ZX07Im9yZGluYWwiPT09ci50eXBlJiZudWxsPT1vJiYobz1uLGE9ZihyKSksaVtyLm5hbWVdPVtdfSkpO3ZhciBwPWguZ2V0KGMpfHxoLnNldChjLHtjYXRlZ29yeVdheURpbTphLHZhbHVlV2F5RGltOjB9KTtmdW5jdGlvbiBkKHQsZSxuKXtmb3IodmFyIGk9MDtpPG47aSsrKXQucHVzaChlK2kpfWZ1bmN0aW9uIGYodCl7dmFyIGU9dC5kaW1zRGVmO3JldHVybiBlP2UubGVuZ3RoOjF9cmV0dXJuIFAodCwoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5hbWUscj1mKHQpO2lmKG51bGw9PW8pe3ZhciBhPXAudmFsdWVXYXlEaW07ZChpW25dLGEsciksZChsLGEscikscC52YWx1ZVdheURpbSs9cn1lbHNlIGlmKG89PT1lKWQoaVtuXSwwLHIpLGQocywwLHIpO2Vsc2V7YT1wLmNhdGVnb3J5V2F5RGltO2QoaVtuXSxhLHIpLGQobCxhLHIpLHAuY2F0ZWdvcnlXYXlEaW0rPXJ9fSkpLHMubGVuZ3RoJiYoaS5pdGVtTmFtZT1zKSxsLmxlbmd0aCYmKGkuc2VyaWVzTmFtZT1sKSxpfWZ1bmN0aW9uIHVwKHQsZSxuKXt2YXIgaT17fTtpZighaHAodCkpcmV0dXJuIGk7dmFyIHIsbz1lLnNvdXJjZUZvcm1hdCxhPWUuZGltZW5zaW9uc0RlZmluZTtvIT09SmMmJm8hPT1RY3x8UChhLChmdW5jdGlvbih0LGUpeyJuYW1lIj09PShYKHQpP3QubmFtZTp0KSYmKHI9ZSl9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30saT17fSxzPVtdLGw9MCx1PU1hdGgubWluKDUsbik7bDx1O2wrKyl7dmFyIGg9cHAoZS5kYXRhLG8sZS5zZXJpZXNMYXlvdXRCeSxhLGUuc3RhcnRJbmRleCxsKTtzLnB1c2goaCk7dmFyIGM9aD09PWFwO2lmKGMmJm51bGw9PXQudiYmbCE9PXImJih0LnY9bCksKG51bGw9PXQubnx8dC5uPT09dC52fHwhYyYmc1t0Lm5dPT09YXApJiYodC5uPWwpLHAodCkmJnNbdC5uXSE9PWFwKXJldHVybiB0O2N8fChoPT09b3AmJm51bGw9PWkudiYmbCE9PXImJihpLnY9bCksbnVsbCE9aS5uJiZpLm4hPT1pLnZ8fChpLm49bCkpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIG51bGwhPXQudiYmbnVsbCE9dC5ufXJldHVybiBwKHQpP3Q6cChpKT9pOm51bGx9KCk7aWYocyl7aS52YWx1ZT1bcy52XTt2YXIgbD1udWxsIT1yP3I6cy5uO2kuaXRlbU5hbWU9W2xdLGkuc2VyaWVzTmFtZT1bbF19cmV0dXJuIGl9ZnVuY3Rpb24gaHAodCl7aWYoIXQuZ2V0KCJkYXRhIiwhMCkpcmV0dXJuIEVyKHQuZWNNb2RlbCwiZGF0YXNldCIse2luZGV4OnQuZ2V0KCJkYXRhc2V0SW5kZXgiLCEwKSxpZDp0LmdldCgiZGF0YXNldElkIiwhMCl9LE5yKS5tb2RlbHNbMF19ZnVuY3Rpb24gY3AodCxlKXtyZXR1cm4gcHAodC5kYXRhLHQuc291cmNlRm9ybWF0LHQuc2VyaWVzTGF5b3V0QnksdC5kaW1lbnNpb25zRGVmaW5lLHQuc3RhcnRJbmRleCxlKX1mdW5jdGlvbiBwcCh0LGUsbixpLHIsbyl7dmFyIGEscyxsO2lmKFoodCkpcmV0dXJuIGFwO2lmKGkpe3ZhciB1PWlbb107WCh1KT8ocz11Lm5hbWUsbD11LnR5cGUpOkgodSkmJihzPXUpfWlmKG51bGwhPWwpcmV0dXJuIm9yZGluYWwiPT09bD9ycDphcDtpZihlPT09JGMpe3ZhciBoPXQ7aWYobj09PWlwKXtmb3IodmFyIGM9aFtvXSxwPTA7cDwoY3x8W10pLmxlbmd0aCYmcDw1O3ArKylpZihudWxsIT0oYT1tKGNbcitwXSkpKXJldHVybiBhfWVsc2UgZm9yKHA9MDtwPGgubGVuZ3RoJiZwPDU7cCsrKXt2YXIgZD1oW3IrcF07aWYoZCYmbnVsbCE9KGE9bShkW29dKSkpcmV0dXJuIGF9fWVsc2UgaWYoZT09PUpjKXt2YXIgZj10O2lmKCFzKXJldHVybiBhcDtmb3IocD0wO3A8Zi5sZW5ndGgmJnA8NTtwKyspe2lmKCh5PWZbcF0pJiZudWxsIT0oYT1tKHlbc10pKSlyZXR1cm4gYX19ZWxzZSBpZihlPT09UWMpe2lmKCFzKXJldHVybiBhcDtpZighKGM9dFtzXSl8fFooYykpcmV0dXJuIGFwO2ZvcihwPTA7cDxjLmxlbmd0aCYmcDw1O3ArKylpZihudWxsIT0oYT1tKGNbcF0pKSlyZXR1cm4gYX1lbHNlIGlmKGU9PT1LYyl7dmFyIGc9dDtmb3IocD0wO3A8Zy5sZW5ndGgmJnA8NTtwKyspe3ZhciB5LHY9U3IoeT1nW3BdKTtpZighRih2KSlyZXR1cm4gYXA7aWYobnVsbCE9KGE9bSh2W29dKSkpcmV0dXJuIGF9fWZ1bmN0aW9uIG0odCl7dmFyIGU9SCh0KTtyZXR1cm4gbnVsbCE9dCYmaXNGaW5pdGUodCkmJiIiIT09dD9lP29wOmFwOmUmJiItIiE9PXQ/cnA6dm9pZCAwfXJldHVybiBhcH12YXIgZHA9aHQoKTt2YXIgZnAsZ3AseXAsdnA9a3IoKSxtcD1rcigpLF9wPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q29sb3JGcm9tUGFsZXR0ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9eHIodGhpcy5nZXQoImNvbG9yIiwhMCkpLHI9dGhpcy5nZXQoImNvbG9yTGF5ZXIiLCEwKTtyZXR1cm4gYnAodGhpcyx2cCxpLHIsdCxlLG4pfSx0LnByb3RvdHlwZS5jbGVhckNvbG9yUGFsZXR0ZT1mdW5jdGlvbigpeyFmdW5jdGlvbih0LGUpe2UodCkucGFsZXR0ZUlkeD0wLGUodCkucGFsZXR0ZU5hbWVNYXA9e319KHRoaXMsdnApfSx0fSgpO2Z1bmN0aW9uIHhwKHQsZSxuLGkpe3ZhciByPXhyKHQuZ2V0KFsiYXJpYSIsImRlY2FsIiwiZGVjYWxzIl0pKTtyZXR1cm4gYnAodCxtcCxyLG51bGwsZSxuLGkpfWZ1bmN0aW9uIGJwKHQsZSxuLGkscixvLGEpe3ZhciBzPWUobz1vfHx0KSxsPXMucGFsZXR0ZUlkeHx8MCx1PXMucGFsZXR0ZU5hbWVNYXA9cy5wYWxldHRlTmFtZU1hcHx8e307aWYodS5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4gdVtyXTt2YXIgaD1udWxsIT1hJiZpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9MDtpPG47aSsrKWlmKHRbaV0ubGVuZ3RoPmUpcmV0dXJuIHRbaV07cmV0dXJuIHRbbi0xXX0oaSxhKTpuO2lmKChoPWh8fG4pJiZoLmxlbmd0aCl7dmFyIGM9aFtsXTtyZXR1cm4gciYmKHVbcl09Yykscy5wYWxldHRlSWR4PShsKzEpJWgubGVuZ3RoLGN9fXZhciB3cD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2k9aXx8e30sdGhpcy5vcHRpb249bnVsbCx0aGlzLl90aGVtZT1uZXcgT2goaSksdGhpcy5fbG9jYWxlPW5ldyBPaChyKSx0aGlzLl9vcHRpb25NYW5hZ2VyPW99LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9SXAoZSk7dGhpcy5fb3B0aW9uTWFuYWdlci5zZXRPcHRpb24odCxuLGkpLHRoaXMuX3Jlc2V0T3B0aW9uKG51bGwsaSl9LGUucHJvdG90eXBlLnJlc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc2V0T3B0aW9uKHQsSXAoZSkpfSxlLnByb3RvdHlwZS5fcmVzZXRPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fCJyZWNyZWF0ZSI9PT10KXt2YXIgcj1pLm1vdW50T3B0aW9uKCJyZWNyZWF0ZSI9PT10KTswLHRoaXMub3B0aW9uJiYicmVjcmVhdGUiIT09dD8odGhpcy5yZXN0b3JlRGF0YSgpLHRoaXMuX21lcmdlT3B0aW9uKHIsZSkpOnlwKHRoaXMsciksbj0hMH1pZigidGltZWxpbmUiIT09dCYmIm1lZGlhIiE9PXR8fHRoaXMucmVzdG9yZURhdGEoKSwhdHx8InJlY3JlYXRlIj09PXR8fCJ0aW1lbGluZSI9PT10KXt2YXIgbz1pLmdldFRpbWVsaW5lT3B0aW9uKHRoaXMpO28mJihuPSEwLHRoaXMuX21lcmdlT3B0aW9uKG8sZSkpfWlmKCF0fHwicmVjcmVhdGUiPT09dHx8Im1lZGlhIj09PXQpe3ZhciBhPWkuZ2V0TWVkaWFPcHRpb24odGhpcyk7YS5sZW5ndGgmJlAoYSwoZnVuY3Rpb24odCl7bj0hMCx0aGlzLl9tZXJnZU9wdGlvbih0LGUpfSksdGhpcyl9cmV0dXJuIG59LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX21lcmdlT3B0aW9uKHQsbnVsbCl9LGUucHJvdG90eXBlLl9tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9dGhpcy5fY29tcG9uZW50c01hcCxyPXRoaXMuX2NvbXBvbmVudHNDb3VudCxvPVtdLGE9aHQoKSxzPWUmJmUucmVwbGFjZU1lcmdlTWFpblR5cGVNYXA7c3AodGhpcykuZGF0YXNldE1hcD1odCgpLFAodCwoZnVuY3Rpb24odCxlKXtudWxsIT10JiYoWGMuaGFzQ2xhc3MoZSk/ZSYmKG8ucHVzaChlKSxhLnNldChlLCEwKSk6bltlXT1udWxsPT1uW2VdP3codCk6UyhuW2VdLHQsITApKX0pKSxzJiZzLmVhY2goKGZ1bmN0aW9uKHQsZSl7WGMuaGFzQ2xhc3MoZSkmJiFhLmdldChlKSYmKG8ucHVzaChlKSxhLnNldChlLCEwKSl9KSksWGMudG9wb2xvZ2ljYWxUcmF2ZWwobyxYYy5nZXRBbGxDbGFzc01haW5UeXBlcygpLChmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZHAuZ2V0KGUpO2lmKCFpKXJldHVybiBuO3ZhciByPWkodCk7cmV0dXJuIHI/bi5jb25jYXQocik6bn0odGhpcyxlLHhyKHRbZV0pKSxhPWkuZ2V0KGUpLGw9YT9zJiZzLmdldChlKT8icmVwbGFjZU1lcmdlIjoibm9ybWFsTWVyZ2UiOiJyZXBsYWNlQWxsIix1PU1yKGEsbyxsKTsoZnVuY3Rpb24odCxlLG4pe1AodCwoZnVuY3Rpb24odCl7dmFyIGk9dC5uZXdPcHRpb247WChpKSYmKHQua2V5SW5mby5tYWluVHlwZT1lLHQua2V5SW5mby5zdWJUeXBlPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBlLnR5cGU/ZS50eXBlOm4/bi5zdWJUeXBlOmkuZGV0ZXJtaW5lU3ViVHlwZSh0LGUpfShlLGksdC5leGlzdGluZyxuKSl9KSl9KSh1LGUsWGMpLG5bZV09bnVsbCxpLnNldChlLG51bGwpLHIuc2V0KGUsMCk7dmFyIGg9W10sYz1bXSxwPTA7UCh1LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuZXhpc3Rpbmcscj10Lm5ld09wdGlvbjtpZihyKXt2YXIgbz0ic2VyaWVzIj09PWUsYT1YYy5nZXRDbGFzcyhlLHQua2V5SW5mby5zdWJUeXBlLCFvKTtpZighYSlyZXR1cm47aWYoaSYmaS5jb25zdHJ1Y3Rvcj09PWEpaS5uYW1lPXQua2V5SW5mby5uYW1lLGkubWVyZ2VPcHRpb24ocix0aGlzKSxpLm9wdGlvblVwZGF0ZWQociwhMSk7ZWxzZXt2YXIgcz1JKHtjb21wb25lbnRJbmRleDpufSx0LmtleUluZm8pO0koaT1uZXcgYShyLHRoaXMsdGhpcyxzKSxzKSx0LmJyYW5kTmV3JiYoaS5fX3JlcXVpcmVOZXdWaWV3PSEwKSxpLmluaXQocix0aGlzLHRoaXMpLGkub3B0aW9uVXBkYXRlZChudWxsLCEwKX19ZWxzZSBpJiYoaS5tZXJnZU9wdGlvbih7fSx0aGlzKSxpLm9wdGlvblVwZGF0ZWQoe30sITEpKTtpPyhoLnB1c2goaS5vcHRpb24pLGMucHVzaChpKSxwKyspOihoLnB1c2godm9pZCAwKSxjLnB1c2godm9pZCAwKSl9KSx0aGlzKSxuW2VdPWgsaS5zZXQoZSxjKSxyLnNldChlLHApLCJzZXJpZXMiPT09ZSYmZnAodGhpcyl9KSx0aGlzKSx0aGlzLl9zZXJpZXNJbmRpY2VzfHxmcCh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dyh0aGlzLm9wdGlvbik7cmV0dXJuIFAodCwoZnVuY3Rpb24oZSxuKXtpZihYYy5oYXNDbGFzcyhuKSl7Zm9yKHZhciBpPXhyKGUpLHI9aS5sZW5ndGgsbz0hMSxhPXItMTthPj0wO2EtLSlpW2FdJiYhQXIoaVthXSk/bz0hMDooaVthXT1udWxsLCFvJiZyLS0pO2kubGVuZ3RoPXIsdFtuXT1pfX0pKSxkZWxldGUgdFsiXDBfZWNfaW5uZXIiXSx0fSxlLnByb3RvdHlwZS5nZXRUaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aGVtZX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxlTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxlfSxlLnByb3RvdHlwZS5nZXRMb2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0TG9jYWxlTW9kZWwoKS5nZXQodCl9LGUucHJvdG90eXBlLnNldFVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5fcGF5bG9hZD10fSxlLnByb3RvdHlwZS5nZXRVcGRhdGVQYXlsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheWxvYWR9LGUucHJvdG90eXBlLmdldENvbXBvbmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KHQpO2lmKG4pe3ZhciBpPW5bZXx8MF07aWYoaSlyZXR1cm4gaTtpZihudWxsPT1lKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWlmKG5bcl0pcmV0dXJuIG5bcl19fSxlLnByb3RvdHlwZS5xdWVyeUNvbXBvbmVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYWluVHlwZTtpZighZSlyZXR1cm5bXTt2YXIgbixpPXQuaW5kZXgscj10LmlkLG89dC5uYW1lLGE9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoZSk7cmV0dXJuIGEmJmEubGVuZ3RoPyhudWxsIT1pPyhuPVtdLFAoeHIoaSksKGZ1bmN0aW9uKHQpe2FbdF0mJm4ucHVzaChhW3RdKX0pKSk6bj1udWxsIT1yP1NwKCJpZCIscixhKTpudWxsIT1vP1NwKCJuYW1lIixvLGEpOk4oYSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpLE1wKG4sdCkpOltdfSxlLnByb3RvdHlwZS5maW5kQ29tcG9uZW50cz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLGE9dC5xdWVyeSxzPXQubWFpblR5cGUsbD0obj1zKyJJbmRleCIsaT1zKyJJZCIscj1zKyJOYW1lIiwhKGU9YSl8fG51bGw9PWVbbl0mJm51bGw9PWVbaV0mJm51bGw9PWVbcl0/bnVsbDp7bWFpblR5cGU6cyxpbmRleDplW25dLGlkOmVbaV0sbmFtZTplW3JdfSksdT1sP3RoaXMucXVlcnlDb21wb25lbnRzKGwpOk4odGhpcy5fY29tcG9uZW50c01hcC5nZXQocyksKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pKTtyZXR1cm4gbz1NcCh1LHQpLHQuZmlsdGVyP04obyx0LmZpbHRlcik6b30sZS5wcm90b3R5cGUuZWFjaENvbXBvbmVudD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcDtpZihHKHQpKXt2YXIgcj1lLG89dDtpLmVhY2goKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7dCYmbjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aSYmby5jYWxsKHIsZSxpLGkuY29tcG9uZW50SW5kZXgpfX0pKX1lbHNlIGZvcih2YXIgYT1IKHQpP2kuZ2V0KHQpOlgodCk/dGhpcy5maW5kQ29tcG9uZW50cyh0KTpudWxsLHM9MDthJiZzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtsJiZlLmNhbGwobixsLGwuY29tcG9uZW50SW5kZXgpfX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPUNyKHQsbnVsbCk7cmV0dXJuIE4odGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbih0KXtyZXR1cm4hIXQmJm51bGwhPWUmJnQubmFtZT09PWV9KSl9LGUucHJvdG90eXBlLmdldFNlcmllc0J5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVt0XX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBOKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSwoZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLnN1YlR5cGU9PT10fSkpfSxlLnByb3RvdHlwZS5nZXRTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIikuc2xpY2UoKSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpfSxlLnByb3RvdHlwZS5nZXRTZXJpZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzQ291bnQuZ2V0KCJzZXJpZXMiKX0sZS5wcm90b3R5cGUuZWFjaFNlcmllcz1mdW5jdGlvbih0LGUpe2dwKHRoaXMpLFAodGhpcy5fc2VyaWVzSW5kaWNlcywoZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW25dO3QuY2FsbChlLGksbil9KSx0aGlzKX0sZS5wcm90b3R5cGUuZWFjaFJhd1Nlcmllcz1mdW5jdGlvbih0LGUpe1AodGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbihuKXtuJiZ0LmNhbGwoZSxuLG4uY29tcG9uZW50SW5kZXgpfSkpfSxlLnByb3RvdHlwZS5lYWNoU2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQsZSxuKXtncCh0aGlzKSxQKHRoaXMuX3Nlcmllc0luZGljZXMsKGZ1bmN0aW9uKGkpe3ZhciByPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVtpXTtyLnN1YlR5cGU9PT10JiZlLmNhbGwobixyLGkpfSksdGhpcyl9LGUucHJvdG90eXBlLmVhY2hSYXdTZXJpZXNCeVR5cGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBQKHRoaXMuZ2V0U2VyaWVzQnlUeXBlKHQpLGUsbil9LGUucHJvdG90eXBlLmlzU2VyaWVzRmlsdGVyZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGdwKHRoaXMpLG51bGw9PXRoaXMuX3Nlcmllc0luZGljZXNNYXAuZ2V0KHQuY29tcG9uZW50SW5kZXgpfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9zZXJpZXNJbmRpY2VzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUuZmlsdGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSl7Z3AodGhpcyk7dmFyIG49W107UCh0aGlzLl9zZXJpZXNJbmRpY2VzLChmdW5jdGlvbihpKXt2YXIgcj10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbaV07dC5jYWxsKGUscixpKSYmbi5wdXNoKGkpfSksdGhpcyksdGhpcy5fc2VyaWVzSW5kaWNlcz1uLHRoaXMuX3Nlcmllc0luZGljZXNNYXA9aHQobil9LGUucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQpe2ZwKHRoaXMpO3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXAsbj1bXTtlLmVhY2goKGZ1bmN0aW9uKHQsZSl7WGMuaGFzQ2xhc3MoZSkmJm4ucHVzaChlKX0pKSxYYy50b3BvbG9naWNhbFRyYXZlbChuLFhjLmdldEFsbENsYXNzTWFpblR5cGVzKCksKGZ1bmN0aW9uKG4pe1AoZS5nZXQobiksKGZ1bmN0aW9uKGUpeyFlfHwic2VyaWVzIj09PW4mJmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49ZS5zZXJpZXNJbmRleCxpPWUuc2VyaWVzSWQscj1lLnNlcmllc05hbWU7cmV0dXJuIG51bGwhPW4mJnQuY29tcG9uZW50SW5kZXghPT1ufHxudWxsIT1pJiZ0LmlkIT09aXx8bnVsbCE9ciYmdC5uYW1lIT09cn19KGUsdCl8fGUucmVzdG9yZURhdGEoKX0pKX0pKX0sZS5pbnRlcm5hbEZpZWxkPShmcD1mdW5jdGlvbih0KXt2YXIgZT10Ll9zZXJpZXNJbmRpY2VzPVtdO1AodC5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbih0KXt0JiZlLnB1c2godC5jb21wb25lbnRJbmRleCl9KSksdC5fc2VyaWVzSW5kaWNlc01hcD1odChlKX0sZ3A9ZnVuY3Rpb24odCl7fSx2b2lkKHlwPWZ1bmN0aW9uKHQsZSl7dC5vcHRpb249e30sdC5vcHRpb25bIlwwX2VjX2lubmVyIl09MSx0Ll9jb21wb25lbnRzTWFwPWh0KHtzZXJpZXM6W119KSx0Ll9jb21wb25lbnRzQ291bnQ9aHQoKTt2YXIgbj1lLmFyaWE7WChuKSYmbnVsbD09bi5lbmFibGVkJiYobi5lbmFibGVkPSEwKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29sb3ImJiF0LmNvbG9yTGF5ZXI7UChlLChmdW5jdGlvbihlLGkpeyJjb2xvckxheWVyIj09PWkmJm58fFhjLmhhc0NsYXNzKGkpfHwoIm9iamVjdCI9PXR5cGVvZiBlP3RbaV09dFtpXT9TKHRbaV0sZSwhMSk6dyhlKTpudWxsPT10W2ldJiYodFtpXT1lKSl9KSl9KGUsdC5fdGhlbWUub3B0aW9uKSxTKGUsamMsITEpLHQuX21lcmdlT3B0aW9uKGUsbnVsbCl9KSksZX0oT2gpO2Z1bmN0aW9uIFNwKHQsZSxuKXtpZihGKGUpKXt2YXIgaT1odCgpO3JldHVybiBQKGUsKGZ1bmN0aW9uKHQpe251bGwhPXQmJihudWxsIT1Dcih0LG51bGwpJiZpLnNldCh0LCEwKSl9KSksTihuLChmdW5jdGlvbihlKXtyZXR1cm4gZSYmaS5nZXQoZVt0XSl9KSl9dmFyIHI9Q3IoZSxudWxsKTtyZXR1cm4gTihuLChmdW5jdGlvbihlKXtyZXR1cm4gZSYmbnVsbCE9ciYmZVt0XT09PXJ9KSl9ZnVuY3Rpb24gTXAodCxlKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSgic3ViVHlwZSIpP04odCwoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuc3ViVHlwZT09PWUuc3ViVHlwZX0pKTp0fWZ1bmN0aW9uIElwKHQpe3ZhciBlPWh0KCk7cmV0dXJuIHQmJlAoeHIodC5yZXBsYWNlTWVyZ2UpLChmdW5jdGlvbih0KXtlLnNldCh0LCEwKX0pKSx7cmVwbGFjZU1lcmdlTWFpblR5cGVNYXA6ZX19TCh3cCxfcCk7dmFyIFRwPVsiZ2V0RG9tIiwiZ2V0WnIiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERldmljZVBpeGVsUmF0aW8iLCJkaXNwYXRjaEFjdGlvbiIsImlzRGlzcG9zZWQiLCJvbiIsIm9mZiIsImdldERhdGFVUkwiLCJnZXRDb25uZWN0ZWREYXRhVVJMIiwiZ2V0T3B0aW9uIiwiZ2V0SWQiLCJ1cGRhdGVMYWJlbExheW91dCJdLENwPWZ1bmN0aW9uKHQpe1AoVHAsKGZ1bmN0aW9uKGUpe3RoaXNbZV09Vih0W2VdLHQpfSksdGhpcyl9LERwPXt9LEFwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPVtdfXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtQKERwLChmdW5jdGlvbihpLHIpe3ZhciBvPWkuY3JlYXRlKHQsZSk7bj1uLmNvbmNhdChvfHxbXSl9KSksdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9bn0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7UCh0aGlzLl9jb29yZGluYXRlU3lzdGVtcywoZnVuY3Rpb24obil7bi51cGRhdGUmJm4udXBkYXRlKHQsZSl9KSl9LHQucHJvdG90eXBlLmdldENvb3JkaW5hdGVTeXN0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLnNsaWNlKCl9LHQucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXtEcFt0XT1lfSx0LmdldD1mdW5jdGlvbih0KXtyZXR1cm4gRHBbdF19LHR9KCksTHA9L14obWlufG1heCk/KC4rKSQvLGtwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl90aW1lbGluZU9wdGlvbnM9W10sdGhpcy5fbWVkaWFMaXN0PVtdLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdGhpcy5fYXBpPXR9cmV0dXJuIHQucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dCYmKFAoeHIodC5zZXJpZXMpLChmdW5jdGlvbih0KXt0JiZ0LmRhdGEmJloodC5kYXRhKSYmc3QodC5kYXRhKX0pKSxQKHhyKHQuZGF0YXNldCksKGZ1bmN0aW9uKHQpe3QmJnQuc291cmNlJiZaKHQuc291cmNlKSYmc3QodC5zb3VyY2UpfSkpKSx0PXcodCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLHI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bXSxhPXQuYmFzZU9wdGlvbixzPXQudGltZWxpbmUsbD10Lm9wdGlvbnMsdT10Lm1lZGlhLGg9ISF0Lm1lZGlhLGM9ISEobHx8c3x8YSYmYS50aW1lbGluZSk7YT8ocj1hKS50aW1lbGluZXx8KHIudGltZWxpbmU9cyk6KChjfHxoKSYmKHQub3B0aW9ucz10Lm1lZGlhPW51bGwpLHI9dCk7aCYmRih1KSYmUCh1LChmdW5jdGlvbih0KXt0JiZ0Lm9wdGlvbiYmKHQucXVlcnk/by5wdXNoKHQpOml8fChpPXQpKX0pKTtmdW5jdGlvbiBwKHQpe1AoZSwoZnVuY3Rpb24oZSl7ZSh0LG4pfSkpfXJldHVybiBwKHIpLFAobCwoZnVuY3Rpb24odCl7cmV0dXJuIHAodCl9KSksUChvLChmdW5jdGlvbih0KXtyZXR1cm4gcCh0Lm9wdGlvbil9KSkse2Jhc2VPcHRpb246cix0aW1lbGluZU9wdGlvbnM6bHx8W10sbWVkaWFEZWZhdWx0OmksbWVkaWFMaXN0Om99fSh0LGUsIWkpO3RoaXMuX25ld0Jhc2VPcHRpb249ci5iYXNlT3B0aW9uLGk/KHIudGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPXIudGltZWxpbmVPcHRpb25zKSxyLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1yLm1lZGlhTGlzdCksci5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1yLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1yfSx0LnByb3RvdHlwZS5tb3VudE9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1lLnRpbWVsaW5lT3B0aW9ucyx0aGlzLl9tZWRpYUxpc3Q9ZS5tZWRpYUxpc3QsdGhpcy5fbWVkaWFEZWZhdWx0PWUubWVkaWFEZWZhdWx0LHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdyh0P2UuYmFzZU9wdGlvbjp0aGlzLl9uZXdCYXNlT3B0aW9uKX0sdC5wcm90b3R5cGUuZ2V0VGltZWxpbmVPcHRpb249ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl90aW1lbGluZU9wdGlvbnM7aWYobi5sZW5ndGgpe3ZhciBpPXQuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO2kmJihlPXcobltpLmdldEN1cnJlbnRJbmRleCgpXSkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNZWRpYU9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dGhpcy5fYXBpLmdldFdpZHRoKCkscj10aGlzLl9hcGkuZ2V0SGVpZ2h0KCksbz10aGlzLl9tZWRpYUxpc3QsYT10aGlzLl9tZWRpYURlZmF1bHQscz1bXSxsPVtdO2lmKCFvLmxlbmd0aCYmIWEpcmV0dXJuIGw7Zm9yKHZhciB1PTAsaD1vLmxlbmd0aDt1PGg7dSsrKVBwKG9bdV0ucXVlcnksaSxyKSYmcy5wdXNoKHUpO3JldHVybiFzLmxlbmd0aCYmYSYmKHM9Wy0xXSkscy5sZW5ndGgmJihlPXMsbj10aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzLGUuam9pbigiLCIpIT09bi5qb2luKCIsIikpJiYobD1PKHMsKGZ1bmN0aW9uKHQpe3JldHVybiB3KC0xPT09dD9hLm9wdGlvbjpvW3RdLm9wdGlvbil9KSkpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9cyxsfSx0fSgpO2Z1bmN0aW9uIFBwKHQsZSxuKXt2YXIgaT17d2lkdGg6ZSxoZWlnaHQ6bixhc3BlY3RyYXRpbzplL259LHI9ITA7cmV0dXJuIFAodCwoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hdGNoKExwKTtpZihuJiZuWzFdJiZuWzJdKXt2YXIgbz1uWzFdLGE9blsyXS50b0xvd2VyQ2FzZSgpOyhmdW5jdGlvbih0LGUsbil7cmV0dXJuIm1pbiI9PT1uP3Q+PWU6Im1heCI9PT1uP3Q8PWU6dD09PWV9KShpW2FdLHQsbyl8fChyPSExKX19KSkscn12YXIgT3A9UCxScD1YLE5wPVsiYXJlYVN0eWxlIiwibGluZVN0eWxlIiwibm9kZVN0eWxlIiwibGlua1N0eWxlIiwiY2hvcmRTdHlsZSIsImxhYmVsIiwibGFiZWxMaW5lIl07ZnVuY3Rpb24genAodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MCxpPU5wLmxlbmd0aDtuPGk7bisrKXt2YXIgcj1OcFtuXSxvPWUubm9ybWFsLGE9ZS5lbXBoYXNpcztvJiZvW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLm5vcm1hbD9TKHRbcl0ubm9ybWFsLG9bcl0pOnRbcl0ubm9ybWFsPW9bcl0sb1tyXT1udWxsKSxhJiZhW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLmVtcGhhc2lzP1ModFtyXS5lbXBoYXNpcyxhW3JdKTp0W3JdLmVtcGhhc2lzPWFbcl0sYVtyXT1udWxsKX19ZnVuY3Rpb24gRXAodCxlLG4pe2lmKHQmJnRbZV0mJih0W2VdLm5vcm1hbHx8dFtlXS5lbXBoYXNpcykpe3ZhciBpPXRbZV0ubm9ybWFsLHI9dFtlXS5lbXBoYXNpcztpJiYobj8odFtlXS5ub3JtYWw9dFtlXS5lbXBoYXNpcz1udWxsLFQodFtlXSxpKSk6dFtlXT1pKSxyJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXIsci5mb2N1cyYmKHQuZW1waGFzaXMuZm9jdXM9ci5mb2N1cyksci5ibHVyU2NvcGUmJih0LmVtcGhhc2lzLmJsdXJTY29wZT1yLmJsdXJTY29wZSkpfX1mdW5jdGlvbiBWcCh0KXtFcCh0LCJpdGVtU3R5bGUiKSxFcCh0LCJsaW5lU3R5bGUiKSxFcCh0LCJhcmVhU3R5bGUiKSxFcCh0LCJsYWJlbCIpLEVwKHQsImxhYmVsTGluZSIpLEVwKHQsInVwcGVyTGFiZWwiKSxFcCh0LCJlZGdlTGFiZWwiKX1mdW5jdGlvbiBCcCh0LGUpe3ZhciBuPVJwKHQpJiZ0W2VdLGk9UnAobikmJm4udGV4dFN0eWxlO2lmKGkpezA7Zm9yKHZhciByPTAsbz13ci5sZW5ndGg7cjxvO3IrKyl7dmFyIGE9d3Jbcl07aS5oYXNPd25Qcm9wZXJ0eShhKSYmKG5bYV09aVthXSl9fX1mdW5jdGlvbiBGcCh0KXt0JiYoVnAodCksQnAodCwibGFiZWwiKSx0LmVtcGhhc2lzJiZCcCh0LmVtcGhhc2lzLCJsYWJlbCIpKX1mdW5jdGlvbiBHcCh0KXtyZXR1cm4gRih0KT90OnQ/W3RdOltdfWZ1bmN0aW9uIEhwKHQpe3JldHVybihGKHQpP3RbMF06dCl8fHt9fWZ1bmN0aW9uIFdwKHQsZSl7T3AoR3AodC5zZXJpZXMpLChmdW5jdGlvbih0KXtScCh0KSYmZnVuY3Rpb24odCl7aWYoUnAodCkpe3pwKHQpLFZwKHQpLEJwKHQsImxhYmVsIiksQnAodCwidXBwZXJMYWJlbCIpLEJwKHQsImVkZ2VMYWJlbCIpLHQuZW1waGFzaXMmJihCcCh0LmVtcGhhc2lzLCJsYWJlbCIpLEJwKHQuZW1waGFzaXMsInVwcGVyTGFiZWwiKSxCcCh0LmVtcGhhc2lzLCJlZGdlTGFiZWwiKSk7dmFyIGU9dC5tYXJrUG9pbnQ7ZSYmKHpwKGUpLEZwKGUpKTt2YXIgbj10Lm1hcmtMaW5lO24mJih6cChuKSxGcChuKSk7dmFyIGk9dC5tYXJrQXJlYTtpJiZGcChpKTt2YXIgcj10LmRhdGE7aWYoImdyYXBoIj09PXQudHlwZSl7cj1yfHx0Lm5vZGVzO3ZhciBvPXQubGlua3N8fHQuZWRnZXM7aWYobyYmIVoobykpZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspRnAob1thXSk7UCh0LmNhdGVnb3JpZXMsKGZ1bmN0aW9uKHQpe1ZwKHQpfSkpfWlmKHImJiFaKHIpKWZvcihhPTA7YTxyLmxlbmd0aDthKyspRnAoclthXSk7aWYoKGU9dC5tYXJrUG9pbnQpJiZlLmRhdGEpe3ZhciBzPWUuZGF0YTtmb3IoYT0wO2E8cy5sZW5ndGg7YSsrKUZwKHNbYV0pfWlmKChuPXQubWFya0xpbmUpJiZuLmRhdGEpe3ZhciBsPW4uZGF0YTtmb3IoYT0wO2E8bC5sZW5ndGg7YSsrKUYobFthXSk/KEZwKGxbYV1bMF0pLEZwKGxbYV1bMV0pKTpGcChsW2FdKX0iZ2F1Z2UiPT09dC50eXBlPyhCcCh0LCJheGlzTGFiZWwiKSxCcCh0LCJ0aXRsZSIpLEJwKHQsImRldGFpbCIpKToidHJlZW1hcCI9PT10LnR5cGU/KEVwKHQuYnJlYWRjcnVtYiwiaXRlbVN0eWxlIiksUCh0LmxldmVscywoZnVuY3Rpb24odCl7VnAodCl9KSkpOiJ0cmVlIj09PXQudHlwZSYmVnAodC5sZWF2ZXMpfX0odCl9KSk7dmFyIG49WyJ4QXhpcyIsInlBeGlzIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsInNpbmdsZUF4aXMiLCJwYXJhbGxlbEF4aXMiLCJyYWRhciJdO2UmJm4ucHVzaCgidmFsdWVBeGlzIiwiY2F0ZWdvcnlBeGlzIiwibG9nQXhpcyIsInRpbWVBeGlzIiksT3AobiwoZnVuY3Rpb24oZSl7T3AoR3AodFtlXSksKGZ1bmN0aW9uKHQpe3QmJihCcCh0LCJheGlzTGFiZWwiKSxCcCh0LmF4aXNQb2ludGVyLCJsYWJlbCIpKX0pKX0pKSxPcChHcCh0LnBhcmFsbGVsKSwoZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXJhbGxlbEF4aXNEZWZhdWx0O0JwKGUsImF4aXNMYWJlbCIpLEJwKGUmJmUuYXhpc1BvaW50ZXIsImxhYmVsIil9KSksT3AoR3AodC5jYWxlbmRhciksKGZ1bmN0aW9uKHQpe0VwKHQsIml0ZW1TdHlsZSIpLEJwKHQsImRheUxhYmVsIiksQnAodCwibW9udGhMYWJlbCIpLEJwKHQsInllYXJMYWJlbCIpfSkpLE9wKEdwKHQucmFkYXIpLChmdW5jdGlvbih0KXtCcCh0LCJuYW1lIiksdC5uYW1lJiZudWxsPT10LmF4aXNOYW1lJiYodC5heGlzTmFtZT10Lm5hbWUsZGVsZXRlIHQubmFtZSksbnVsbCE9dC5uYW1lR2FwJiZudWxsPT10LmF4aXNOYW1lR2FwJiYodC5heGlzTmFtZUdhcD10Lm5hbWVHYXAsZGVsZXRlIHQubmFtZUdhcCl9KSksT3AoR3AodC5nZW8pLChmdW5jdGlvbih0KXtScCh0KSYmKEZwKHQpLE9wKEdwKHQucmVnaW9ucyksKGZ1bmN0aW9uKHQpe0ZwKHQpfSkpKX0pKSxPcChHcCh0LnRpbWVsaW5lKSwoZnVuY3Rpb24odCl7RnAodCksRXAodCwibGFiZWwiKSxFcCh0LCJpdGVtU3R5bGUiKSxFcCh0LCJjb250cm9sU3R5bGUiLCEwKTt2YXIgZT10LmRhdGE7RihlKSYmUChlLChmdW5jdGlvbih0KXtYKHQpJiYoRXAodCwibGFiZWwiKSxFcCh0LCJpdGVtU3R5bGUiKSl9KSl9KSksT3AoR3AodC50b29sYm94KSwoZnVuY3Rpb24odCl7RXAodCwiaWNvblN0eWxlIiksT3AodC5mZWF0dXJlLChmdW5jdGlvbih0KXtFcCh0LCJpY29uU3R5bGUiKX0pKX0pKSxCcChIcCh0LmF4aXNQb2ludGVyKSwibGFiZWwiKSxCcChIcCh0LnRvb2x0aXApLmF4aXNQb2ludGVyLCJsYWJlbCIpfWZ1bmN0aW9uIFVwKHQpe3QmJlAoWHAsKGZ1bmN0aW9uKGUpe2VbMF1pbiB0JiYhKGVbMV1pbiB0KSYmKHRbZVsxXV09dFtlWzBdXSl9KSl9dmFyIFhwPVtbIngiLCJsZWZ0Il0sWyJ5IiwidG9wIl0sWyJ4MiIsInJpZ2h0Il0sWyJ5MiIsImJvdHRvbSJdXSxZcD1bImdyaWQiLCJnZW8iLCJwYXJhbGxlbCIsImxlZ2VuZCIsInRvb2xib3giLCJ0aXRsZSIsInZpc3VhbE1hcCIsImRhdGFab29tIiwidGltZWxpbmUiXSxacD1bWyJib3JkZXJSYWRpdXMiLCJiYXJCb3JkZXJSYWRpdXMiXSxbImJvcmRlckNvbG9yIiwiYmFyQm9yZGVyQ29sb3IiXSxbImJvcmRlcldpZHRoIiwiYmFyQm9yZGVyV2lkdGgiXV07ZnVuY3Rpb24ganAodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MDtuPFpwLmxlbmd0aDtuKyspe3ZhciBpPVpwW25dWzFdLHI9WnBbbl1bMF07bnVsbCE9ZVtpXSYmKGVbcl09ZVtpXSl9fWZ1bmN0aW9uIHFwKHQpe3QmJiJlZGdlIj09PXQuYWxpZ25UbyYmbnVsbCE9dC5tYXJnaW4mJm51bGw9PXQuZWRnZURpc3RhbmNlJiYodC5lZGdlRGlzdGFuY2U9dC5tYXJnaW4pfWZ1bmN0aW9uIEtwKHQpe3QmJnQuZG93bnBsYXkmJiF0LmJsdXImJih0LmJsdXI9dC5kb3ducGxheSl9ZnVuY3Rpb24gJHAodCxlKXtpZih0KWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUodFtuXSksdFtuXSYmJHAodFtuXS5jaGlsZHJlbixlKX1mdW5jdGlvbiBKcCh0LGUpe1dwKHQsZSksdC5zZXJpZXM9eHIodC5zZXJpZXMpLFAodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe2lmKFgodCkpe3ZhciBlPXQudHlwZTtpZigibGluZSI9PT1lKW51bGwhPXQuY2xpcE92ZXJmbG93JiYodC5jbGlwPXQuY2xpcE92ZXJmbG93KTtlbHNlIGlmKCJwaWUiPT09ZXx8ImdhdWdlIj09PWUpe2lmKG51bGwhPXQuY2xvY2tXaXNlJiYodC5jbG9ja3dpc2U9dC5jbG9ja1dpc2UpLHFwKHQubGFiZWwpLChyPXQuZGF0YSkmJiFaKHIpKWZvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXFwKHJbbl0pO251bGwhPXQuaG92ZXJPZmZzZXQmJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LCh0LmVtcGhhc2lzLnNjYWxlU2l6ZT1udWxsKSYmKHQuZW1waGFzaXMuc2NhbGVTaXplPXQuaG92ZXJPZmZzZXQpKX1lbHNlIGlmKCJnYXVnZSI9PT1lKXt2YXIgaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNwbGl0KCIsIiksaT10LHI9MDtyPG4ubGVuZ3RoJiZudWxsIT0oaT1pJiZpW25bcl1dKTtyKyspO3JldHVybiBpfSh0LCJwb2ludGVyLmNvbG9yIik7bnVsbCE9aSYmZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByLG89ZS5zcGxpdCgiLCIpLGE9dCxzPTA7czxvLmxlbmd0aC0xO3MrKyludWxsPT1hW3I9b1tzXV0mJihhW3JdPXt9KSxhPWFbcl07KGl8fG51bGw9PWFbb1tzXV0pJiYoYVtvW3NdXT1uKX0odCwiaXRlbVN0eWxlLmNvbG9yIixpKX1lbHNlIGlmKCJiYXIiPT09ZSl7dmFyIHI7aWYoanAodCksanAodC5iYWNrZ3JvdW5kU3R5bGUpLGpwKHQuZW1waGFzaXMpLChyPXQuZGF0YSkmJiFaKHIpKWZvcihuPTA7bjxyLmxlbmd0aDtuKyspIm9iamVjdCI9PXR5cGVvZiByW25dJiYoanAocltuXSksanAocltuXSYmcltuXS5lbXBoYXNpcykpfWVsc2UgaWYoInN1bmJ1cnN0Ij09PWUpe3ZhciBvPXQuaGlnaGxpZ2h0UG9saWN5O28mJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXMuZm9jdXN8fCh0LmVtcGhhc2lzLmZvY3VzPW8pKSxLcCh0KSwkcCh0LmRhdGEsS3ApfWVsc2UiZ3JhcGgiPT09ZXx8InNhbmtleSI9PT1lP2Z1bmN0aW9uKHQpe3QmJm51bGwhPXQuZm9jdXNOb2RlQWRqYWNlbmN5JiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSxudWxsPT10LmVtcGhhc2lzLmZvY3VzJiYodC5lbXBoYXNpcy5mb2N1cz0iYWRqYWNlbmN5IikpfSh0KToibWFwIj09PWUmJih0Lm1hcFR5cGUmJiF0Lm1hcCYmKHQubWFwPXQubWFwVHlwZSksdC5tYXBMb2NhdGlvbiYmVCh0LHQubWFwTG9jYXRpb24pKTtudWxsIT10LmhvdmVyQW5pbWF0aW9uJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzJiZudWxsPT10LmVtcGhhc2lzLnNjYWxlJiYodC5lbXBoYXNpcy5zY2FsZT10LmhvdmVyQW5pbWF0aW9uKSksVXAodCl9fSkpLHQuZGF0YVJhbmdlJiYodC52aXN1YWxNYXA9dC5kYXRhUmFuZ2UpLFAoWXAsKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07biYmKEYobil8fChuPVtuXSksUChuLChmdW5jdGlvbih0KXtVcCh0KX0pKSl9KSl9ZnVuY3Rpb24gUXAodCl7UCh0LChmdW5jdGlvbihlLG4pe3ZhciBpPVtdLHI9W05hTixOYU5dLG89W2Uuc3RhY2tSZXN1bHREaW1lbnNpb24sZS5zdGFja2VkT3ZlckRpbWVuc2lvbl0sYT1lLmRhdGEscz1lLmlzU3RhY2tlZEJ5SW5kZXgsbD1hLm1hcChvLChmdW5jdGlvbihvLGwsdSl7dmFyIGgsYyxwPWEuZ2V0KGUuc3RhY2tlZERpbWVuc2lvbix1KTtpZihpc05hTihwKSlyZXR1cm4gcjtzP2M9YS5nZXRSYXdJbmRleCh1KTpoPWEuZ2V0KGUuc3RhY2tlZEJ5RGltZW5zaW9uLHUpO2Zvcih2YXIgZD1OYU4sZj1uLTE7Zj49MDtmLS0pe3ZhciBnPXRbZl07aWYoc3x8KGM9Zy5kYXRhLnJhd0luZGV4T2YoZy5zdGFja2VkQnlEaW1lbnNpb24saCkpLGM+PTApe3ZhciB5PWcuZGF0YS5nZXRCeVJhd0luZGV4KGcuc3RhY2tSZXN1bHREaW1lbnNpb24sYyk7aWYocD49MCYmeT4wfHxwPD0wJiZ5PDApe3A9dHIocCx5KSxkPXk7YnJlYWt9fX1yZXR1cm4gaVswXT1wLGlbMV09ZCxpfSkpO2EuaG9zdE1vZGVsLnNldERhdGEobCksZS5kYXRhPWx9KSl9dmFyIHRkLGVkLG5kLGlkLHJkLG9kPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YT10LmRhdGF8fCh0LnNvdXJjZUZvcm1hdD09PVFjP3t9OltdKSx0aGlzLnNvdXJjZUZvcm1hdD10LnNvdXJjZUZvcm1hdHx8ZXAsdGhpcy5zZXJpZXNMYXlvdXRCeT10LnNlcmllc0xheW91dEJ5fHxucCx0aGlzLnN0YXJ0SW5kZXg9dC5zdGFydEluZGV4fHwwLHRoaXMuZGltZW5zaW9uc0RlZmluZT10LmRpbWVuc2lvbnNEZWZpbmUsdGhpcy5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudD10LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LHRoaXMuZW5jb2RlRGVmaW5lPXQuZW5jb2RlRGVmaW5lLHRoaXMubWV0YVJhd09wdGlvbj10Lm1ldGFSYXdPcHRpb259O2Z1bmN0aW9uIGFkKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb2R9ZnVuY3Rpb24gc2QodCxlLG4saSl7bj1ufHxoZCh0KTt2YXIgcj1lLnNlcmllc0xheW91dEJ5LG89ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbyxhO2lmKCF0KXJldHVybntkaW1lbnNpb25zRGVmaW5lOmNkKHIpLHN0YXJ0SW5kZXg6YSxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDpvfTtpZihlPT09JGMpe3ZhciBzPXQ7ImF1dG8iPT09aXx8bnVsbD09aT9wZCgoZnVuY3Rpb24odCl7bnVsbCE9dCYmIi0iIT09dCYmKEgodCk/bnVsbD09YSYmKGE9MSk6YT0wKX0pLG4scywxMCk6YT1VKGkpP2k6aT8xOjAscnx8MSE9PWF8fChyPVtdLHBkKChmdW5jdGlvbih0LGUpe3JbZV09bnVsbCE9dD90KyIiOiIifSksbixzLDEvMCkpLG89cj9yLmxlbmd0aDpuPT09aXA/cy5sZW5ndGg6c1swXT9zWzBdLmxlbmd0aDpudWxsfWVsc2UgaWYoZT09PUpjKXJ8fChyPWZ1bmN0aW9uKHQpe3ZhciBlLG49MDtmb3IoO248dC5sZW5ndGgmJiEoZT10W24rK10pOyk7aWYoZSl7dmFyIGk9W107cmV0dXJuIFAoZSwoZnVuY3Rpb24odCxlKXtpLnB1c2goZSl9KSksaX19KHQpKTtlbHNlIGlmKGU9PT1RYylyfHwocj1bXSxQKHQsKGZ1bmN0aW9uKHQsZSl7ci5wdXNoKGUpfSkpKTtlbHNlIGlmKGU9PT1LYyl7dmFyIGw9U3IodFswXSk7bz1GKGwpJiZsLmxlbmd0aHx8MX1yZXR1cm57c3RhcnRJbmRleDphLGRpbWVuc2lvbnNEZWZpbmU6Y2QociksZGltZW5zaW9uc0RldGVjdGVkQ291bnQ6b319KHQsbixyLGUuc291cmNlSGVhZGVyLGUuZGltZW5zaW9ucyk7cmV0dXJuIG5ldyBvZCh7ZGF0YTp0LHNvdXJjZUZvcm1hdDpuLHNlcmllc0xheW91dEJ5OnIsZGltZW5zaW9uc0RlZmluZTpvLmRpbWVuc2lvbnNEZWZpbmUsc3RhcnRJbmRleDpvLnN0YXJ0SW5kZXgsZGltZW5zaW9uc0RldGVjdGVkQ291bnQ6by5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudCxlbmNvZGVEZWZpbmU6dWQoaSksbWV0YVJhd09wdGlvbjp3KGUpfSl9ZnVuY3Rpb24gbGQodCl7cmV0dXJuIG5ldyBvZCh7ZGF0YTp0LHNvdXJjZUZvcm1hdDpaKHQpP3RwOktjfSl9ZnVuY3Rpb24gdWQodCl7cmV0dXJuIHQ/aHQodCk6bnVsbH1mdW5jdGlvbiBoZCh0KXt2YXIgZT1lcDtpZihaKHQpKWU9dHA7ZWxzZSBpZihGKHQpKXswPT09dC5sZW5ndGgmJihlPSRjKTtmb3IodmFyIG49MCxpPXQubGVuZ3RoO248aTtuKyspe3ZhciByPXRbbl07aWYobnVsbCE9cil7aWYoRihyKSl7ZT0kYzticmVha31pZihYKHIpKXtlPUpjO2JyZWFrfX19fWVsc2UgaWYoWCh0KSlmb3IodmFyIG8gaW4gdClpZihkdCh0LG8pJiZrKHRbb10pKXtlPVFjO2JyZWFrfXJldHVybiBlfWZ1bmN0aW9uIGNkKHQpe2lmKHQpe3ZhciBlPWh0KCk7cmV0dXJuIE8odCwoZnVuY3Rpb24odCxuKXt2YXIgaT17bmFtZToodD1YKHQpP3Q6e25hbWU6dH0pLm5hbWUsZGlzcGxheU5hbWU6dC5kaXNwbGF5TmFtZSx0eXBlOnQudHlwZX07aWYobnVsbD09aS5uYW1lKXJldHVybiBpO2kubmFtZSs9IiIsbnVsbD09aS5kaXNwbGF5TmFtZSYmKGkuZGlzcGxheU5hbWU9aS5uYW1lKTt2YXIgcj1lLmdldChpLm5hbWUpO3JldHVybiByP2kubmFtZSs9Ii0iK3IuY291bnQrKzplLnNldChpLm5hbWUse2NvdW50OjF9KSxpfSkpfX1mdW5jdGlvbiBwZCh0LGUsbixpKXtpZihlPT09aXApZm9yKHZhciByPTA7cjxuLmxlbmd0aCYmcjxpO3IrKyl0KG5bcl0/bltyXVswXTpudWxsLHIpO2Vsc2V7dmFyIG89blswXXx8W107Zm9yKHI9MDtyPG8ubGVuZ3RoJiZyPGk7cisrKXQob1tyXSxyKX19dmFyIGRkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPWFkKHQpP3Q6bGQodCk7dGhpcy5fc291cmNlPW47dmFyIGk9dGhpcy5fZGF0YT1uLmRhdGE7bi5zb3VyY2VGb3JtYXQ9PT10cCYmKHRoaXMuX29mZnNldD0wLHRoaXMuX2RpbVNpemU9ZSx0aGlzLl9kYXRhPWkpLHJkKHRoaXMsaSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKCl7fSx0LnByb3RvSW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UucHVyZT0hMSxlLnBlcnNpc3RlbnQ9ITB9KCksdC5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7dmFyIHQ7cmQ9ZnVuY3Rpb24odCxyLG8pe3ZhciBhPW8uc291cmNlRm9ybWF0LHM9by5zZXJpZXNMYXlvdXRCeSxsPW8uc3RhcnRJbmRleCx1PW8uZGltZW5zaW9uc0RlZmluZSxoPWlkW1NkKGEscyldO2lmKEkodCxoKSxhPT09dHApdC5nZXRJdGVtPWUsdC5jb3VudD1pLHQuZmlsbFN0b3JhZ2U9bjtlbHNle3ZhciBjPXlkKGEscyk7dC5nZXRJdGVtPVYoYyxudWxsLHIsbCx1KTt2YXIgcD1fZChhLHMpO3QuY291bnQ9VihwLG51bGwscixsLHUpfX07dmFyIGU9ZnVuY3Rpb24odCxlKXt0LT10aGlzLl9vZmZzZXQsZT1lfHxbXTtmb3IodmFyIG49dGhpcy5fZGF0YSxpPXRoaXMuX2RpbVNpemUscj1pKnQsbz0wO288aTtvKyspZVtvXT1uW3Irb107cmV0dXJuIGV9LG49ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX2RhdGEsbz10aGlzLl9kaW1TaXplLGE9MDthPG87YSsrKXtmb3IodmFyIHM9aVthXSxsPW51bGw9PXNbMF0/MS8wOnNbMF0sdT1udWxsPT1zWzFdPy0xLzA6c1sxXSxoPWUtdCxjPW5bYV0scD0wO3A8aDtwKyspe3ZhciBkPXJbcCpvK2FdO2NbdCtwXT1kLGQ8bCYmKGw9ZCksZD51JiYodT1kKX1zWzBdPWwsc1sxXT11fX0saT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhP3RoaXMuX2RhdGEubGVuZ3RoL3RoaXMuX2RpbVNpemU6MH07ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9kYXRhLnB1c2godFtlXSl9KHQ9e30pLmFycmF5Um93c19jb2x1bW49e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmFycmF5Um93c19yb3c9e3B1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignRG8gbm90IHN1cHBvcnQgYXBwZW5kRGF0YSB3aGVuIHNldCBzZXJpZXNMYXlvdXRCeTogInJvdyIuJyl9fSx0Lm9iamVjdFJvd3M9e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmtleWVkQ29sdW1ucz17cHVyZTohMCxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RhdGE7UCh0LChmdW5jdGlvbih0LG4pe2Zvcih2YXIgaT1lW25dfHwoZVtuXT1bXSkscj0wO3I8KHR8fFtdKS5sZW5ndGg7cisrKWkucHVzaCh0W3JdKX0pKX19LHQub3JpZ2luYWw9e2FwcGVuZERhdGE6cn0sdC50eXBlZEFycmF5PXtwZXJzaXN0ZW50OiExLHB1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LGNsZWFuOmZ1bmN0aW9uKCl7dGhpcy5fb2Zmc2V0Kz10aGlzLmNvdW50KCksdGhpcy5fZGF0YT1udWxsfX0saWQ9dH0oKSx0fSgpLGZkPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2ldfSxnZD0oKHRkPXt9KS5hcnJheVJvd3NfY29sdW1uPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2krZV19LHRkLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4saSl7aSs9ZTtmb3IodmFyIHI9W10sbz10LGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9b1thXTtyLnB1c2gocz9zW2ldOm51bGwpfXJldHVybiByfSx0ZC5vYmplY3RSb3dzPWZkLHRkLmtleWVkQ29sdW1ucz1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9W10sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dLm5hbWU7MDt2YXIgcz10W2FdO3IucHVzaChzP3NbaV06bnVsbCl9cmV0dXJuIHJ9LHRkLm9yaWdpbmFsPWZkLHRkKTtmdW5jdGlvbiB5ZCh0LGUpe3ZhciBuPWdkW1NkKHQsZSldO3JldHVybiBufXZhciB2ZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQubGVuZ3RofSxtZD0oKGVkPXt9KS5hcnJheVJvd3NfY29sdW1uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTWF0aC5tYXgoMCx0Lmxlbmd0aC1lKX0sZWQuYXJyYXlSb3dzX3Jvdz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dFswXTtyZXR1cm4gaT9NYXRoLm1heCgwLGkubGVuZ3RoLWUpOjB9LGVkLm9iamVjdFJvd3M9dmQsZWQua2V5ZWRDb2x1bW5zPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uWzBdLm5hbWU7dmFyIHI9dFtpXTtyZXR1cm4gcj9yLmxlbmd0aDowfSxlZC5vcmlnaW5hbD12ZCxlZCk7ZnVuY3Rpb24gX2QodCxlKXt2YXIgbj1tZFtTZCh0LGUpXTtyZXR1cm4gbn12YXIgeGQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT1lP3RbZV06dH0sYmQ9KChuZD17fSkuYXJyYXlSb3dzPXhkLG5kLm9iamVjdFJvd3M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT1lP3Rbbl06dH0sbmQua2V5ZWRDb2x1bW5zPXhkLG5kLm9yaWdpbmFsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Tcih0KTtyZXR1cm4gbnVsbCE9ZSYmaSBpbnN0YW5jZW9mIEFycmF5P2lbZV06aX0sbmQudHlwZWRBcnJheT14ZCxuZCk7ZnVuY3Rpb24gd2QodCl7dmFyIGU9YmRbdF07cmV0dXJuIGV9ZnVuY3Rpb24gU2QodCxlKXtyZXR1cm4gdD09PSRjP3QrIl8iK2U6dH1mdW5jdGlvbiBNZCh0LGUsbil7aWYodCl7dmFyIGk9dC5nZXRSYXdEYXRhSXRlbShlKTtpZihudWxsIT1pKXt2YXIgcixvLGE9dC5nZXRQcm92aWRlcigpLmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdCxzPXQuZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gcyYmKHI9cy5uYW1lLG89cy5pbmRleCksd2QoYSkoaSxvLHIpfX19dmFyIElkPS9ce0AoLis/KVx9L2csVGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXREYXRhKGUpLGk9dGhpcy5nZXRSYXdWYWx1ZSh0LGUpLHI9bi5nZXRSYXdJbmRleCh0KSxvPW4uZ2V0TmFtZSh0KSxhPW4uZ2V0UmF3RGF0YUl0ZW0odCkscz1uLmdldEl0ZW1WaXN1YWwodCwic3R5bGUiKSxsPXMmJnNbbi5nZXRJdGVtVmlzdWFsKHQsImRyYXdUeXBlIil8fCJmaWxsIl0sdT1zJiZzLnN0cm9rZSxoPXRoaXMubWFpblR5cGUsYz0ic2VyaWVzIj09PWgscD1uLnVzZXJPdXRwdXQ7cmV0dXJue2NvbXBvbmVudFR5cGU6aCxjb21wb25lbnRTdWJUeXBlOnRoaXMuc3ViVHlwZSxjb21wb25lbnRJbmRleDp0aGlzLmNvbXBvbmVudEluZGV4LHNlcmllc1R5cGU6Yz90aGlzLnN1YlR5cGU6bnVsbCxzZXJpZXNJbmRleDp0aGlzLnNlcmllc0luZGV4LHNlcmllc0lkOmM/dGhpcy5pZDpudWxsLHNlcmllc05hbWU6Yz90aGlzLm5hbWU6bnVsbCxuYW1lOm8sZGF0YUluZGV4OnIsZGF0YTphLGRhdGFUeXBlOmUsdmFsdWU6aSxjb2xvcjpsLGJvcmRlckNvbG9yOnUsZGltZW5zaW9uTmFtZXM6cD9wLmRpbWVuc2lvbk5hbWVzOm51bGwsZW5jb2RlOnA/cC5lbmNvZGU6bnVsbCwkdmFyczpbInNlcmllc05hbWUiLCJuYW1lIiwidmFsdWUiXX19LHQucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtlPWV8fCJub3JtYWwiO3ZhciBhPXRoaXMuZ2V0RGF0YShuKSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pOyhvJiYocy52YWx1ZT1vLmludGVycG9sYXRlZFZhbHVlKSxudWxsIT1pJiZGKHMudmFsdWUpJiYocy52YWx1ZT1zLnZhbHVlW2ldKSxyKXx8KHI9YS5nZXRJdGVtTW9kZWwodCkuZ2V0KCJub3JtYWwiPT09ZT9bImxhYmVsIiwiZm9ybWF0dGVyIl06W2UsImxhYmVsIiwiZm9ybWF0dGVyIl0pKTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj8ocy5zdGF0dXM9ZSxzLmRpbWVuc2lvbkluZGV4PWkscihzKSk6InN0cmluZyI9PXR5cGVvZiByP0FjKHIscykucmVwbGFjZShJZCwoZnVuY3Rpb24oZSxuKXt2YXIgaT1uLmxlbmd0aCxyPSJbIj09PW4uY2hhckF0KDApJiYiXSI9PT1uLmNoYXJBdChpLTEpPytuLnNsaWNlKDEsaS0xKTpuLHM9TWQoYSx0LHIpO2lmKG8mJkYoby5pbnRlcnBvbGF0ZWRWYWx1ZSkpe3ZhciBsPWEuZ2V0RGltZW5zaW9uSW5mbyhyKTtsJiYocz1vLmludGVycG9sYXRlZFZhbHVlW2wuaW5kZXhdKX1yZXR1cm4gbnVsbCE9cz9zKyIiOiIifSkpOnZvaWQgMH0sdC5wcm90b3R5cGUuZ2V0UmF3VmFsdWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWQodGhpcy5nZXREYXRhKGUpLHQpfSx0LnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt9LHR9KCk7ZnVuY3Rpb24gQ2QodCl7dmFyIGUsbjtyZXR1cm4gWCh0KT90LnR5cGUmJihuPXQpOmU9dCx7bWFya3VwVGV4dDplLG1hcmt1cEZyYWdtZW50Om59fWZ1bmN0aW9uIERkKHQpe3JldHVybiBuZXcgQWQodCl9dmFyIEFkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0PXR8fHt9LHRoaXMuX3Jlc2V0PXQucmVzZXQsdGhpcy5fcGxhbj10LnBsYW4sdGhpcy5fY291bnQ9dC5jb3VudCx0aGlzLl9vbkRpcnR5PXQub25EaXJ0eSx0aGlzLl9kaXJ0eT0hMH1yZXR1cm4gdC5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX3Vwc3RyZWFtLGk9dCYmdC5za2lwO2lmKHRoaXMuX2RpcnR5JiZuKXt2YXIgcj10aGlzLmNvbnRleHQ7ci5kYXRhPXIub3V0cHV0RGF0YT1uLmNvbnRleHQub3V0cHV0RGF0YX10aGlzLl9fcGlwZWxpbmUmJih0aGlzLl9fcGlwZWxpbmUuY3VycmVudFRhc2s9dGhpcyksdGhpcy5fcGxhbiYmIWkmJihlPXRoaXMuX3BsYW4odGhpcy5jb250ZXh0KSk7dmFyIG8sYT1oKHRoaXMuX21vZEJ5KSxzPXRoaXMuX21vZERhdGFDb3VudHx8MCxsPWgodCYmdC5tb2RCeSksdT10JiZ0Lm1vZERhdGFDb3VudHx8MDtmdW5jdGlvbiBoKHQpe3JldHVybiEodD49MSkmJih0PTEpLHR9YT09PWwmJnM9PT11fHwoZT0icmVzZXQiKSwodGhpcy5fZGlydHl8fCJyZXNldCI9PT1lKSYmKHRoaXMuX2RpcnR5PSExLG89dGhpcy5fZG9SZXNldChpKSksdGhpcy5fbW9kQnk9bCx0aGlzLl9tb2REYXRhQ291bnQ9dTt2YXIgYz10JiZ0LnN0ZXA7aWYodGhpcy5fZHVlRW5kPW4/bi5fb3V0cHV0RHVlRW5kOnRoaXMuX2NvdW50P3RoaXMuX2NvdW50KHRoaXMuY29udGV4dCk6MS8wLHRoaXMuX3Byb2dyZXNzKXt2YXIgcD10aGlzLl9kdWVJbmRleCxkPU1hdGgubWluKG51bGwhPWM/dGhpcy5fZHVlSW5kZXgrYzoxLzAsdGhpcy5fZHVlRW5kKTtpZighaSYmKG98fHA8ZCkpe3ZhciBmPXRoaXMuX3Byb2dyZXNzO2lmKEYoZikpZm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspdGhpcy5fZG9Qcm9ncmVzcyhmW2ddLHAsZCxsLHUpO2Vsc2UgdGhpcy5fZG9Qcm9ncmVzcyhmLHAsZCxsLHUpfXRoaXMuX2R1ZUluZGV4PWQ7dmFyIHk9bnVsbCE9dGhpcy5fc2V0dGVkT3V0cHV0RW5kP3RoaXMuX3NldHRlZE91dHB1dEVuZDpkOzAsdGhpcy5fb3V0cHV0RHVlRW5kPXl9ZWxzZSB0aGlzLl9kdWVJbmRleD10aGlzLl9vdXRwdXREdWVFbmQ9bnVsbCE9dGhpcy5fc2V0dGVkT3V0cHV0RW5kP3RoaXMuX3NldHRlZE91dHB1dEVuZDp0aGlzLl9kdWVFbmQ7cmV0dXJuIHRoaXMudW5maW5pc2hlZCgpfSx0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX29uRGlydHkmJnRoaXMuX29uRGlydHkodGhpcy5jb250ZXh0KX0sdC5wcm90b3R5cGUuX2RvUHJvZ3Jlc3M9ZnVuY3Rpb24odCxlLG4saSxyKXtMZC5yZXNldChlLG4saSxyKSx0aGlzLl9jYWxsaW5nUHJvZ3Jlc3M9dCx0aGlzLl9jYWxsaW5nUHJvZ3Jlc3Moe3N0YXJ0OmUsZW5kOm4sY291bnQ6bi1lLG5leHQ6TGQubmV4dH0sdGhpcy5jb250ZXh0KX0sdC5wcm90b3R5cGUuX2RvUmVzZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbjt0aGlzLl9kdWVJbmRleD10aGlzLl9vdXRwdXREdWVFbmQ9dGhpcy5fZHVlRW5kPTAsdGhpcy5fc2V0dGVkT3V0cHV0RW5kPW51bGwsIXQmJnRoaXMuX3Jlc2V0JiYoKGU9dGhpcy5fcmVzZXQodGhpcy5jb250ZXh0KSkmJmUucHJvZ3Jlc3MmJihuPWUuZm9yY2VGaXJzdFByb2dyZXNzLGU9ZS5wcm9ncmVzcyksRihlKSYmIWUubGVuZ3RoJiYoZT1udWxsKSksdGhpcy5fcHJvZ3Jlc3M9ZSx0aGlzLl9tb2RCeT10aGlzLl9tb2REYXRhQ291bnQ9bnVsbDt2YXIgaT10aGlzLl9kb3duc3RyZWFtO3JldHVybiBpJiZpLmRpcnR5KCksbn0sdC5wcm90b3R5cGUudW5maW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9ncmVzcyYmdGhpcy5fZHVlSW5kZXg8dGhpcy5fZHVlRW5kfSx0LnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpeyh0aGlzLl9kb3duc3RyZWFtIT09dHx8dGhpcy5fZGlydHkpJiYodGhpcy5fZG93bnN0cmVhbT10LHQuX3Vwc3RyZWFtPXRoaXMsdC5kaXJ0eSgpKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VkfHwodGhpcy5fdXBzdHJlYW0mJih0aGlzLl91cHN0cmVhbS5fZG93bnN0cmVhbT1udWxsKSx0aGlzLl9kb3duc3RyZWFtJiYodGhpcy5fZG93bnN0cmVhbS5fdXBzdHJlYW09bnVsbCksdGhpcy5fZGlydHk9ITEsdGhpcy5fZGlzcG9zZWQ9ITApfSx0LnByb3RvdHlwZS5nZXRVcHN0cmVhbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cHN0cmVhbX0sdC5wcm90b3R5cGUuZ2V0RG93bnN0cmVhbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb3duc3RyZWFtfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRFbmQ9ZnVuY3Rpb24odCl7dGhpcy5fb3V0cHV0RHVlRW5kPXRoaXMuX3NldHRlZE91dHB1dEVuZD10fSx0fSgpLExkPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscixvPXtyZXNldDpmdW5jdGlvbihsLHUsaCxjKXtlPWwsdD11LG49aCxpPWMscj1NYXRoLmNlaWwoaS9uKSxvLm5leHQ9bj4xJiZpPjA/czphfX07cmV0dXJuIG87ZnVuY3Rpb24gYSgpe3JldHVybiBlPHQ/ZSsrOm51bGx9ZnVuY3Rpb24gcygpe3ZhciBvPWUlcipuK01hdGguY2VpbChlL3IpLGE9ZT49dD9udWxsOm88aT9vOmU7cmV0dXJuIGUrKyxhfX0oKTtmdW5jdGlvbiBrZCh0LGUpe3ZhciBuPWUmJmUudHlwZTtpZigib3JkaW5hbCI9PT1uKXt2YXIgaT1lJiZlLm9yZGluYWxNZXRhO3JldHVybiBpP2kucGFyc2VBbmRDb2xsZWN0KHQpOnR9cmV0dXJuInRpbWUiPT09biYmIm51bWJlciIhPXR5cGVvZiB0JiZudWxsIT10JiYiLSIhPT10JiYodD0rb3IodCkpLG51bGw9PXR8fCIiPT09dD9OYU46K3R9dmFyIFBkPWh0KHtudW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlRmxvYXQodCl9LHRpbWU6ZnVuY3Rpb24odCl7cmV0dXJuK29yKHQpfSx0cmltOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9vdCh0KTp0fX0pO2Z1bmN0aW9uIE9kKHQpe3JldHVybiBQZC5nZXQodCl9dmFyIFJkPXtsdDpmdW5jdGlvbih0LGUpe3JldHVybiB0PGV9LGx0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiB0PmV9LGd0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lfX0sTmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXt2YXIgbj0iIjswLHZyKG4pfXRoaXMuX29wRm49UmRbdF0sdGhpcy5fcnZhbEZsb2F0PWNyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5fb3BGbih0LHRoaXMuX3J2YWxGbG9hdCk6dGhpcy5fb3BGbihjcih0KSx0aGlzLl9ydmFsRmxvYXQpfSx0fSgpLHpkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPSJkZXNjIj09PXQ7dGhpcy5fcmVzdWx0TFQ9bj8xOi0xLG51bGw9PWUmJihlPW4/Im1pbiI6Im1heCIpLHRoaXMuX2luY29tcGFyYWJsZT0ibWluIj09PWU/LTEvMDoxLzB9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dHlwZW9mIHQsaT10eXBlb2YgZSxyPSJudW1iZXIiPT09bj90OmNyKHQpLG89Im51bWJlciI9PT1pP2U6Y3IoZSksYT1pc05hTihyKSxzPWlzTmFOKG8pO2lmKGEmJihyPXRoaXMuX2luY29tcGFyYWJsZSkscyYmKG89dGhpcy5faW5jb21wYXJhYmxlKSxhJiZzKXt2YXIgbD0ic3RyaW5nIj09PW4sdT0ic3RyaW5nIj09PWk7bCYmKHI9dT90OjApLHUmJihvPWw/ZTowKX1yZXR1cm4gcjxvP3RoaXMuX3Jlc3VsdExUOnI+bz8tdGhpcy5fcmVzdWx0TFQ6MH0sdH0oKSxFZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9ydmFsPWUsdGhpcy5faXNFUT10LHRoaXMuX3J2YWxUeXBlb2Y9dHlwZW9mIGUsdGhpcy5fcnZhbEZsb2F0PWNyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10PT09dGhpcy5fcnZhbDtpZighZSl7dmFyIG49dHlwZW9mIHQ7bj09PXRoaXMuX3J2YWxUeXBlb2Z8fCJudW1iZXIiIT09biYmIm51bWJlciIhPT10aGlzLl9ydmFsVHlwZW9mfHwoZT1jcih0KT09PXRoaXMuX3J2YWxGbG9hdCl9cmV0dXJuIHRoaXMuX2lzRVE/ZTohZX0sdH0oKTtmdW5jdGlvbiBWZCh0LGUpe3JldHVybiJlcSI9PT10fHwibmUiPT09dD9uZXcgRWQoImVxIj09PXQsZSk6ZHQoUmQsdCk/bmV3IE5kKHQsZSk6bnVsbH12YXIgQmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRSYXdEYXRhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJub3Qgc3VwcG9ydGVkIil9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigibm90IHN1cHBvcnRlZCIpfSx0LnByb3RvdHlwZS5jbG9uZVJhd0RhdGE9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jbG9uZUFsbERpbWVuc2lvbkluZm89ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZXRyaWV2ZVZhbHVlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW09ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiBrZCh0LGUpfSx0fSgpO2Z1bmN0aW9uIEZkKHQpe3ZhciBlPXQuc291cmNlRm9ybWF0O2lmKCFZZChlKSl7dmFyIG49IiI7MCx2cihuKX1yZXR1cm4gdC5kYXRhfWZ1bmN0aW9uIEdkKHQpe3ZhciBlPXQuc291cmNlRm9ybWF0LG49dC5kYXRhO2lmKCFZZChlKSl7dmFyIGk9IiI7MCx2cihpKX1pZihlPT09JGMpe2Zvcih2YXIgcj1bXSxvPTAsYT1uLmxlbmd0aDtvPGE7bysrKXIucHVzaChuW29dLnNsaWNlKCkpO3JldHVybiByfWlmKGU9PT1KYyl7Zm9yKHI9W10sbz0wLGE9bi5sZW5ndGg7bzxhO28rKylyLnB1c2goSSh7fSxuW29dKSk7cmV0dXJuIHJ9fWZ1bmN0aW9uIEhkKHQsZSxuKXtpZihudWxsIT1uKXJldHVybiJudW1iZXIiPT10eXBlb2Ygbnx8IWlzTmFOKG4pJiYhZHQoZSxuKT90W25dOmR0KGUsbik/ZVtuXTp2b2lkIDB9ZnVuY3Rpb24gV2QodCl7cmV0dXJuIHcodCl9dmFyIFVkPWh0KCk7ZnVuY3Rpb24gWGQodCxlLG4saSl7dmFyIHI9IiI7ZS5sZW5ndGh8fHZyKHIpLFgodCl8fHZyKHIpO3ZhciBvPXQudHlwZSxhPVVkLmdldChvKTthfHx2cihyKTt2YXIgcz1PKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBCZCxpPXQuZGF0YSxyPW4uc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0LG89dC5zdGFydEluZGV4LGE9IiI7dC5zZXJpZXNMYXlvdXRCeSE9PW5wJiZ2cihhKTt2YXIgcz1bXSxsPXt9LHU9dC5kaW1lbnNpb25zRGVmaW5lO2lmKHUpUCh1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxpPXtpbmRleDplLG5hbWU6bixkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lfTtpZihzLnB1c2goaSksbnVsbCE9bil7dmFyIHI9IiI7ZHQobCxuKSYmdnIociksbFtuXT1pfX0pKTtlbHNlIGZvcih2YXIgaD0wO2g8dC5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDtoKyspcy5wdXNoKHtpbmRleDpofSk7dmFyIGM9eWQocixucCk7ZS5fX2lzQnVpbHRJbiYmKG4uZ2V0UmF3RGF0YUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIGMoaSxvLHMsdCl9LG4uZ2V0UmF3RGF0YT1WKEZkLG51bGwsdCkpLG4uY2xvbmVSYXdEYXRhPVYoR2QsbnVsbCx0KTt2YXIgcD1fZChyLG5wKTtuLmNvdW50PVYocCxudWxsLGksbyxzKTt2YXIgZD13ZChyKTtuLnJldHJpZXZlVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1jKGksbyxzLHQpO3JldHVybiBmKG4sZSl9O3ZhciBmPW4ucmV0cmlldmVWYWx1ZUZyb21JdGVtPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCl7dmFyIG49c1tlXTtyZXR1cm4gbj9kKHQsZSxuLm5hbWUpOnZvaWQgMH19O3JldHVybiBuLmdldERpbWVuc2lvbkluZm89VihIZCxudWxsLHMsbCksbi5jbG9uZUFsbERpbWVuc2lvbkluZm89VihXZCxudWxsLHMpLG59KHQsYSl9KSksbD14cihhLnRyYW5zZm9ybSh7dXBzdHJlYW06c1swXSx1cHN0cmVhbUxpc3Q6cyxjb25maWc6dyh0LmNvbmZpZyl9KSk7cmV0dXJuIE8obCwoZnVuY3Rpb24odCxuKXt2YXIgaSxyPSIiO1godCl8fHZyKHIpLHQuZGF0YXx8dnIociksWWQoaGQodC5kYXRhKSl8fHZyKHIpO3ZhciBvPWVbMF07aWYobyYmMD09PW4mJiF0LmRpbWVuc2lvbnMpe3ZhciBhPW8uc3RhcnRJbmRleDthJiYodC5kYXRhPW8uZGF0YS5zbGljZSgwLGEpLmNvbmNhdCh0LmRhdGEpKSxpPXtzZXJpZXNMYXlvdXRCeTpucCxzb3VyY2VIZWFkZXI6YSxkaW1lbnNpb25zOm8ubWV0YVJhd09wdGlvbi5kaW1lbnNpb25zfX1lbHNlIGk9e3Nlcmllc0xheW91dEJ5Om5wLHNvdXJjZUhlYWRlcjowLGRpbWVuc2lvbnM6dC5kaW1lbnNpb25zfTtyZXR1cm4gc2QodC5kYXRhLGksbnVsbCxudWxsKX0pKX1mdW5jdGlvbiBZZCh0KXtyZXR1cm4gdD09PSRjfHx0PT09SmN9dmFyIFpkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zb3VyY2VMaXN0PVtdLHRoaXMuX3Vwc3RyZWFtU2lnbkxpc3Q9W10sdGhpcy5fdmVyc2lvblNpZ25CYXNlPTAsdGhpcy5fc291cmNlSG9zdD10fXJldHVybiB0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMuX3NldExvY2FsU291cmNlKFtdLFtdKX0sdC5wcm90b3R5cGUuX3NldExvY2FsU291cmNlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc291cmNlTGlzdD10LHRoaXMuX3Vwc3RyZWFtU2lnbkxpc3Q9ZSx0aGlzLl92ZXJzaW9uU2lnbkJhc2UrKyx0aGlzLl92ZXJzaW9uU2lnbkJhc2U+OWUxMCYmKHRoaXMuX3ZlcnNpb25TaWduQmFzZT0wKX0sdC5wcm90b3R5cGUuX2dldFZlcnNpb25TaWduPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZUhvc3QudWlkKyJfIit0aGlzLl92ZXJzaW9uU2lnbkJhc2V9LHQucHJvdG90eXBlLnByZXBhcmVTb3VyY2U9ZnVuY3Rpb24oKXt0aGlzLl9pc0RpcnR5KCkmJnRoaXMuX2NyZWF0ZVNvdXJjZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5fc2V0TG9jYWxTb3VyY2UoW10sW10pO3ZhciB0LGUsbj10aGlzLl9zb3VyY2VIb3N0LGk9dGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLHI9ISFpLmxlbmd0aDtpZihxZChuKSl7dmFyIG89bixhPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDtpZihyKXt2YXIgdT1pWzBdO3UucHJlcGFyZVNvdXJjZSgpLGE9KGw9dS5nZXRTb3VyY2UoKSkuZGF0YSxzPWwuc291cmNlRm9ybWF0LGU9W3UuX2dldFZlcnNpb25TaWduKCldfWVsc2Ugcz1aKGE9by5nZXQoImRhdGEiLCEwKSk/dHA6S2MsZT1bXTt2YXIgaD10aGlzLl9nZXRTb3VyY2VNZXRhUmF3T3B0aW9uKCksYz1sP2wubWV0YVJhd09wdGlvbjpudWxsO3Q9W3NkKGEse3Nlcmllc0xheW91dEJ5OnR0KGguc2VyaWVzTGF5b3V0QnksYz9jLnNlcmllc0xheW91dEJ5Om51bGwpLHNvdXJjZUhlYWRlcjp0dChoLnNvdXJjZUhlYWRlcixjP2Muc291cmNlSGVhZGVyOm51bGwpLGRpbWVuc2lvbnM6dHQoaC5kaW1lbnNpb25zLGM/Yy5kaW1lbnNpb25zOm51bGwpfSxzLG8uZ2V0KCJlbmNvZGUiLCEwKSldfWVsc2V7dmFyIHA9bjtpZihyKXt2YXIgZD10aGlzLl9hcHBseVRyYW5zZm9ybShpKTt0PWQuc291cmNlTGlzdCxlPWQudXBzdHJlYW1TaWduTGlzdH1lbHNle3Q9W3NkKHAuZ2V0KCJzb3VyY2UiLCEwKSx0aGlzLl9nZXRTb3VyY2VNZXRhUmF3T3B0aW9uKCksbnVsbCxudWxsKV0sZT1bXX19dGhpcy5fc2V0TG9jYWxTb3VyY2UodCxlKX0sdC5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fc291cmNlSG9zdCxpPW4uZ2V0KCJ0cmFuc2Zvcm0iLCEwKSxyPW4uZ2V0KCJmcm9tVHJhbnNmb3JtUmVzdWx0IiwhMCk7aWYobnVsbCE9cil7dmFyIG89IiI7MSE9PXQubGVuZ3RoJiZLZChvKX12YXIgYSxzPVtdLGw9W107cmV0dXJuIFAodCwoZnVuY3Rpb24odCl7dC5wcmVwYXJlU291cmNlKCk7dmFyIGU9dC5nZXRTb3VyY2Uocnx8MCksbj0iIjtudWxsPT1yfHxlfHxLZChuKSxzLnB1c2goZSksbC5wdXNoKHQuX2dldFZlcnNpb25TaWduKCkpfSkpLGk/ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9eHIodCkscj1pLmxlbmd0aCxvPSIiO3J8fHZyKG8pO2Zvcih2YXIgYT0wLHM9cjthPHM7YSsrKWU9WGQoaVthXSxlKSxhIT09cy0xJiYoZS5sZW5ndGg9TWF0aC5tYXgoZS5sZW5ndGgsMSkpO3JldHVybiBlfShpLHMsbi5jb21wb25lbnRJbmRleCk6bnVsbCE9ciYmKGU9WyhhPXNbMF0sbmV3IG9kKHtkYXRhOmEuZGF0YSxzb3VyY2VGb3JtYXQ6YS5zb3VyY2VGb3JtYXQsc2VyaWVzTGF5b3V0Qnk6YS5zZXJpZXNMYXlvdXRCeSxkaW1lbnNpb25zRGVmaW5lOncoYS5kaW1lbnNpb25zRGVmaW5lKSxzdGFydEluZGV4OmEuc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDphLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LGVuY29kZURlZmluZTp1ZChhLmVuY29kZURlZmluZSl9KSldKSx7c291cmNlTGlzdDplLHVwc3RyZWFtU2lnbkxpc3Q6bH19LHQucHJvdG90eXBlLl9pc0RpcnR5PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3NvdXJjZUxpc3QubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgdD10aGlzLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG4uX2lzRGlydHkoKXx8dGhpcy5fdXBzdHJlYW1TaWduTGlzdFtlXSE9PW4uX2dldFZlcnNpb25TaWduKCkpcmV0dXJuITB9fSx0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NvdXJjZUxpc3RbdHx8MF19LHQucHJvdG90eXBlLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc291cmNlSG9zdDtpZihxZCh0KSl7dmFyIGU9aHAodCk7cmV0dXJuIGU/W2UuZ2V0U291cmNlTWFuYWdlcigpXTpbXX1yZXR1cm4gTyhmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInRyYW5zZm9ybSIsITApfHx0LmdldCgiZnJvbVRyYW5zZm9ybVJlc3VsdCIsITApP0VyKHQuZWNNb2RlbCwiZGF0YXNldCIse2luZGV4OnQuZ2V0KCJmcm9tRGF0YXNldEluZGV4IiwhMCksaWQ6dC5nZXQoImZyb21EYXRhc2V0SWQiLCEwKX0sTnIpLm1vZGVsczpbXX0odCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFNvdXJjZU1hbmFnZXIoKX0pKX0sdC5wcm90b3R5cGUuX2dldFNvdXJjZU1ldGFSYXdPcHRpb249ZnVuY3Rpb24oKXt2YXIgdCxlLG4saT10aGlzLl9zb3VyY2VIb3N0O2lmKHFkKGkpKXQ9aS5nZXQoInNlcmllc0xheW91dEJ5IiwhMCksZT1pLmdldCgic291cmNlSGVhZGVyIiwhMCksbj1pLmdldCgiZGltZW5zaW9ucyIsITApO2Vsc2UgaWYoIXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKS5sZW5ndGgpe3ZhciByPWk7dD1yLmdldCgic2VyaWVzTGF5b3V0QnkiLCEwKSxlPXIuZ2V0KCJzb3VyY2VIZWFkZXIiLCEwKSxuPXIuZ2V0KCJkaW1lbnNpb25zIiwhMCl9cmV0dXJue3Nlcmllc0xheW91dEJ5OnQsc291cmNlSGVhZGVyOmUsZGltZW5zaW9uczpufX0sdH0oKTtmdW5jdGlvbiBqZCh0KXt0Lm9wdGlvbi50cmFuc2Zvcm0mJnN0KHQub3B0aW9uLnRyYW5zZm9ybSl9ZnVuY3Rpb24gcWQodCl7cmV0dXJuInNlcmllcyI9PT10Lm1haW5UeXBlfWZ1bmN0aW9uIEtkKHQpe3Rocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiAkZCh0LGUpe3ZhciBuPXQuY29sb3J8fCIjNmU3MDc5IixpPXQuZm9udFNpemV8fDEyLHI9dC5mb250V2VpZ2h0fHwiNDAwIixvPXQuY29sb3J8fCIjNDY0NjQ2IixhPXQuZm9udFNpemV8fDE0LHM9dC5mb250V2VpZ2h0fHwiOTAwIjtyZXR1cm4iaHRtbCI9PT1lP3tuYW1lU3R5bGU6ImZvbnQtc2l6ZToiK0ljKGkrIiIpKyJweDtjb2xvcjoiK0ljKG4pKyI7Zm9udC13ZWlnaHQ6IitJYyhyKyIiKSx2YWx1ZVN0eWxlOiJmb250LXNpemU6IitJYyhhKyIiKSsicHg7Y29sb3I6IitJYyhvKSsiO2ZvbnQtd2VpZ2h0OiIrSWMocysiIil9OntuYW1lU3R5bGU6e2ZvbnRTaXplOmksZmlsbDpuLGZvbnRXZWlnaHQ6cn0sdmFsdWVTdHlsZTp7Zm9udFNpemU6YSxmaWxsOm8sZm9udFdlaWdodDpzfX19dmFyIEpkPVswLDEwLDIwLDMwXSxRZD1bIiIsIlxuIiwiXG5cbiIsIlxuXG5cbiJdO2Z1bmN0aW9uIHRmKHQsZSl7cmV0dXJuIGUudHlwZT10LGV9ZnVuY3Rpb24gZWYodCl7cmV0dXJuIGR0KG5mLHQudHlwZSkmJm5mW3QudHlwZV19dmFyIG5mPXtzZWN0aW9uOntwbGFuTGF5b3V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuYmxvY2tzLmxlbmd0aCxuPWU+MXx8ZT4wJiYhdC5ub0hlYWRlcixpPTA7UCh0LmJsb2NrcywoZnVuY3Rpb24odCl7ZWYodCkucGxhbkxheW91dCh0KTt2YXIgZT10Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzO2U+PWkmJihpPWUrKCFufHxlJiYoInNlY3Rpb24iIT09dC50eXBlfHx0Lm5vSGVhZGVyKT8wOjEpKX0pKSx0Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzPWl9LGJ1aWxkOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUubm9IZWFkZXIsbz1vZihlKSxhPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVtdLG89ZS5ibG9ja3N8fFtdO3J0KCFvfHxGKG8pKSxvPW98fFtdO3ZhciBhPXQub3JkZXJNb2RlO2lmKGUuc29ydEJsb2NrcyYmYSl7bz1vLnNsaWNlKCk7dmFyIHM9e3ZhbHVlQXNjOiJhc2MiLHZhbHVlRGVzYzoiZGVzYyJ9O2lmKGR0KHMsYSkpe3ZhciBsPW5ldyB6ZChzW2FdLG51bGwpO28uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbC5ldmFsdWF0ZSh0LnNvcnRQYXJhbSxlLnNvcnRQYXJhbSl9KSl9ZWxzZSJzZXJpZXNEZXNjIj09PWEmJm8ucmV2ZXJzZSgpfXZhciB1PW9mKGUpO2lmKFAobywoZnVuY3Rpb24oZSxuKXt2YXIgbz1lZihlKS5idWlsZCh0LGUsbj4wP3UuaHRtbDowLGkpO251bGwhPW8mJnIucHVzaChvKX0pKSwhci5sZW5ndGgpcmV0dXJuO3JldHVybiJyaWNoVGV4dCI9PT10LnJlbmRlck1vZGU/ci5qb2luKHUucmljaFRleHQpOmFmKHIuam9pbigiIiksbil9KHQsZSxyP246by5odG1sLGkpO2lmKHIpcmV0dXJuIGE7dmFyIHM9VGMoZS5oZWFkZXIsIm9yZGluYWwiLHQudXNlVVRDKSxsPSRkKGksdC5yZW5kZXJNb2RlKS5uYW1lU3R5bGU7cmV0dXJuInJpY2hUZXh0Ij09PXQucmVuZGVyTW9kZT9zZih0LHMsbCkrby5yaWNoVGV4dCthOmFmKCc8ZGl2IHN0eWxlPSInK2wrIjsiKydsaW5lLWhlaWdodDoxOyI+JytJYyhzKSsiPC9kaXY+IithLG4pfX0sbmFtZVZhbHVlOntwbGFuTGF5b3V0OmZ1bmN0aW9uKHQpe3QuX19nYXBMZXZlbEJldHdlZW5TdWJCbG9ja3M9MH0sYnVpbGQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5yZW5kZXJNb2RlLG89ZS5ub05hbWUsYT1lLm5vVmFsdWUscz0hZS5tYXJrZXJUeXBlLGw9ZS5uYW1lLHU9ZS52YWx1ZSxoPXQudXNlVVRDO2lmKCFvfHwhYSl7dmFyIGM9cz8iIjp0Lm1hcmt1cFN0eWxlQ3JlYXRvci5tYWtlVG9vbHRpcE1hcmtlcihlLm1hcmtlclR5cGUsZS5tYXJrZXJDb2xvcnx8IiMzMzMiLHIpLHA9bz8iIjpUYyhsLCJvcmRpbmFsIixoKSxkPWUudmFsdWVUeXBlLGY9YT9bXTpGKHUpP08odSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gVGModCxGKGQpP2RbZV06ZCxoKX0pKTpbVGModSxGKGQpP2RbMF06ZCxoKV0sZz0hc3x8IW8seT0hcyYmbyx2PSRkKGksciksbT12Lm5hbWVTdHlsZSxfPXYudmFsdWVTdHlsZTtyZXR1cm4icmljaFRleHQiPT09cj8ocz8iIjpjKSsobz8iIjpzZih0LHAsbSkpKyhhPyIiOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89W3JdLGE9aT8xMDoyMDtyZXR1cm4gbiYmby5wdXNoKHtwYWRkaW5nOlswLDAsMCxhXSxhbGlnbjoicmlnaHQifSksdC5tYXJrdXBTdHlsZUNyZWF0b3Iud3JhcFJpY2hUZXh0U3R5bGUoZS5qb2luKCIgICIpLG8pfSh0LGYsZyx5LF8pKTphZigocz8iIjpjKSsobz8iIjpmdW5jdGlvbih0LGUsbil7cmV0dXJuJzxzcGFuIHN0eWxlPSInK24rIjsiKyhlPyJtYXJnaW4tbGVmdDoycHgiOiIiKSsnIj4nK0ljKHQpKyI8L3NwYW4+In0ocCwhcyxtKSkrKGE/IiI6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bj8iMTBweCI6IjIwcHgiO3JldHVybic8c3BhbiBzdHlsZT0iJysoZT8iZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6IityOiIiKSsiOyIraSsnIj4nK08odCwoZnVuY3Rpb24odCl7cmV0dXJuIEljKHQpfSkpLmpvaW4oIiZuYnNwOyZuYnNwOyIpKyI8L3NwYW4+In0oZixnLHksXykpLG4pfX19fTtmdW5jdGlvbiByZih0LGUsbixpLHIsbyl7aWYodCl7dmFyIGE9ZWYodCk7YS5wbGFuTGF5b3V0KHQpO3ZhciBzPXt1c2VVVEM6cixyZW5kZXJNb2RlOm4sb3JkZXJNb2RlOmksbWFya3VwU3R5bGVDcmVhdG9yOmV9O3JldHVybiBhLmJ1aWxkKHMsdCwwLG8pfX1mdW5jdGlvbiBvZih0KXt2YXIgZT10Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzO3JldHVybntodG1sOkpkW2VdLHJpY2hUZXh0OlFkW2VdfX1mdW5jdGlvbiBhZih0LGUpe3JldHVybic8ZGl2IHN0eWxlPSInKygibWFyZ2luOiAiK2UrInB4IDAgMCIpKyI7IisnbGluZS1oZWlnaHQ6MTsiPicrdCsnPGRpdiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+PC9kaXY+J31mdW5jdGlvbiBzZih0LGUsbil7cmV0dXJuIHQubWFya3VwU3R5bGVDcmVhdG9yLndyYXBSaWNoVGV4dFN0eWxlKGUsbil9ZnVuY3Rpb24gbGYodCxlKXtyZXR1cm4ga2ModC5nZXREYXRhKCkuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpW3QudmlzdWFsRHJhd1R5cGVdKX1mdW5jdGlvbiB1Zih0LGUpe3ZhciBuPXQuZ2V0KCJwYWRkaW5nIik7cmV0dXJuIG51bGwhPW4/bjoicmljaFRleHQiPT09ZT9bOCwxMF06MTB9dmFyIGhmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucmljaFRleHRTdHlsZXM9e30sdGhpcy5fbmV4dFN0eWxlTmFtZUlkPWRyKCl9cmV0dXJuIHQucHJvdG90eXBlLl9nZW5lcmF0ZVN0eWxlTmFtZT1mdW5jdGlvbigpe3JldHVybiJfX0VDX2FVVG9fIit0aGlzLl9uZXh0U3R5bGVOYW1lSWQrK30sdC5wcm90b3R5cGUubWFrZVRvb2x0aXBNYXJrZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSJyaWNoVGV4dCI9PT1uP3RoaXMuX2dlbmVyYXRlU3R5bGVOYW1lKCk6bnVsbCxyPUxjKHtjb2xvcjplLHR5cGU6dCxyZW5kZXJNb2RlOm4sbWFya2VySWQ6aX0pO3JldHVybiBIKHIpP3I6KHRoaXMucmljaFRleHRTdHlsZXNbaV09ci5zdHlsZSxyLmNvbnRlbnQpfSx0LnByb3RvdHlwZS53cmFwUmljaFRleHRTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O0YoZSk/UChlLChmdW5jdGlvbih0KXtyZXR1cm4gSShuLHQpfSkpOkkobixlKTt2YXIgaT10aGlzLl9nZW5lcmF0ZVN0eWxlTmFtZSgpO3JldHVybiB0aGlzLnJpY2hUZXh0U3R5bGVzW2ldPW4sInsiK2krInwiK3QrIn0ifSx0fSgpO2Z1bmN0aW9uIGNmKHQpe3ZhciBlLG4saSxyLG89dC5zZXJpZXMsYT10LmRhdGFJbmRleCxzPXQubXVsdGlwbGVTZXJpZXMsbD1vLmdldERhdGEoKSx1PWwubWFwRGltZW5zaW9uc0FsbCgiZGVmYXVsdGVkVG9vbHRpcCIpLGg9dS5sZW5ndGgsYz1vLmdldFJhd1ZhbHVlKGEpLHA9RihjKSxkPWxmKG8sYSk7aWYoaD4xfHxwJiYhaCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPVIodCwoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW8uZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gdHx8aSYmITEhPT1pLnRvb2x0aXAmJm51bGwhPWkuZGlzcGxheU5hbWV9KSwhMSkscz1bXSxsPVtdLHU9W107ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPW8uZ2V0RGltZW5zaW9uSW5mbyhlKTtuJiYhMSE9PW4ub3RoZXJEaW1zLnRvb2x0aXAmJihhP3UucHVzaCh0ZigibmFtZVZhbHVlIix7bWFya2VyVHlwZToic3ViSXRlbSIsbWFya2VyQ29sb3I6cixuYW1lOm4uZGlzcGxheU5hbWUsdmFsdWU6dCx2YWx1ZVR5cGU6bi50eXBlfSkpOihzLnB1c2godCksbC5wdXNoKG4udHlwZSkpKX1yZXR1cm4gaS5sZW5ndGg/UChpLChmdW5jdGlvbih0KXtoKE1kKG8sbix0KSx0KX0pKTpQKHQsaCkse2lubGluZVZhbHVlczpzLGlubGluZVZhbHVlVHlwZXM6bCxibG9ja3M6dX19KGMsbyxhLHUsZCk7ZT1mLmlubGluZVZhbHVlcyxuPWYuaW5saW5lVmFsdWVUeXBlcyxpPWYuYmxvY2tzLHI9Zi5pbmxpbmVWYWx1ZXNbMF19ZWxzZSBpZihoKXt2YXIgZz1sLmdldERpbWVuc2lvbkluZm8odVswXSk7cj1lPU1kKGwsYSx1WzBdKSxuPWcudHlwZX1lbHNlIHI9ZT1wP2NbMF06Yzt2YXIgeT1EcihvKSx2PXkmJm8ubmFtZXx8IiIsbT1sLmdldE5hbWUoYSksXz1zP3Y6bTtyZXR1cm4gdGYoInNlY3Rpb24iLHtoZWFkZXI6dixub0hlYWRlcjpzfHwheSxzb3J0UGFyYW06cixibG9ja3M6W3RmKCJuYW1lVmFsdWUiLHttYXJrZXJUeXBlOiJpdGVtIixtYXJrZXJDb2xvcjpkLG5hbWU6Xyxub05hbWU6IW90KF8pLHZhbHVlOmUsdmFsdWVUeXBlOm59KV0uY29uY2F0KGl8fFtdKX0pfXZhciBwZj1rcigpO2Z1bmN0aW9uIGRmKHQsZSl7cmV0dXJuIHQuZ2V0TmFtZShlKXx8dC5nZXRJZChlKX12YXIgZmY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD17fSxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMuZGF0YVRhc2s9RGQoe2NvdW50OnlmLHJlc2V0OnZmfSksdGhpcy5kYXRhVGFzay5jb250ZXh0PXttb2RlbDp0aGlzfSx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksKHBmKHRoaXMpLnNvdXJjZU1hbmFnZXI9bmV3IFpkKHRoaXMpKS5wcmVwYXJlU291cmNlKCk7dmFyIGk9dGhpcy5nZXRJbml0aWFsRGF0YSh0LG4pO19mKGksdGhpcyksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9aSxwZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPWksZ2YodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEoaSl9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49RmModGhpcyksaT1uP0hjKHQpOnt9LHI9dGhpcy5zdWJUeXBlO1hjLmhhc0NsYXNzKHIpJiYocis9IlNlcmllcyIpLFModCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMuc3ViVHlwZSkpLFModCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksYnIodCwibGFiZWwiLFsic2hvdyJdKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSksbiYmR2ModCxpLG4pfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3Q9Uyh0aGlzLm9wdGlvbix0LCEwKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSk7dmFyIG49RmModGhpcyk7biYmR2ModGhpcy5vcHRpb24sdCxuKTt2YXIgaT1wZih0aGlzKS5zb3VyY2VNYW5hZ2VyO2kuZGlydHkoKSxpLnByZXBhcmVTb3VyY2UoKTt2YXIgcj10aGlzLmdldEluaXRpYWxEYXRhKHQsZSk7X2Yocix0aGlzKSx0aGlzLmRhdGFUYXNrLmRpcnR5KCksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9cixwZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPXIsZ2YodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEocil9LGUucHJvdG90eXBlLmZpbGxEYXRhVGV4dFN0eWxlPWZ1bmN0aW9uKHQpe2lmKHQmJiFaKHQpKWZvcih2YXIgZT1bInNob3ciXSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmdFtuXS5sYWJlbCYmYnIodFtuXSwibGFiZWwiLGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9YmYodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0LmRhdGE7cmV0dXJuIG51bGw9PXQ/bjpuLmdldExpbmtlZERhdGEodCl9cmV0dXJuIHBmKHRoaXMpLmRhdGF9LGUucHJvdG90eXBlLmdldEFsbERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERhdGEoKTtyZXR1cm4gdCYmdC5nZXRMaW5rZWREYXRhQWxsP3QuZ2V0TGlua2VkRGF0YUFsbCgpOlt7ZGF0YTp0fV19LGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9YmYodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0O24ub3V0cHV0RGF0YT10LGUhPT10aGlzLmRhdGFUYXNrJiYobi5kYXRhPXQpfXBmKHRoaXMpLmRhdGE9dH0sZS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHBmKHRoaXMpLnNvdXJjZU1hbmFnZXIuZ2V0U291cmNlKCl9LGUucHJvdG90eXBlLmdldFJhd0RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gcGYodGhpcykuZGF0YUJlZm9yZVByb2Nlc3NlZH0sZS5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIHQmJnQuZ2V0QmFzZUF4aXMmJnQuZ2V0QmFzZUF4aXMoKX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNmKHtzZXJpZXM6dGhpcyxkYXRhSW5kZXg6dCxtdWx0aXBsZVNlcmllczplfSl9LGUucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe2lmKGEubm9kZSlyZXR1cm4hMTt2YXIgdD10aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpO3JldHVybiB0JiZ0aGlzLmdldERhdGEoKS5jb3VudCgpPnRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uVGhyZXNob2xkIikmJih0PSExKSwhIXR9LGUucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKCl7dGhpcy5kYXRhVGFzay5kaXJ0eSgpfSxlLnByb3RvdHlwZS5nZXRDb2xvckZyb21QYWxldHRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmVjTW9kZWwscj1fcC5wcm90b3R5cGUuZ2V0Q29sb3JGcm9tUGFsZXR0ZS5jYWxsKHRoaXMsdCxlLG4pO3JldHVybiByfHwocj1pLmdldENvbG9yRnJvbVBhbGV0dGUodCxlLG4pKSxyfSxlLnByb3RvdHlwZS5jb29yZERpbVRvRGF0YURpbT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRSYXdEYXRhKCkubWFwRGltZW5zaW9uc0FsbCh0KX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInByb2dyZXNzaXZlIil9LGUucHJvdG90eXBlLmdldFByb2dyZXNzaXZlVGhyZXNob2xkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlKXt0aGlzLl9pbm5lclNlbGVjdCh0aGlzLmdldERhdGEoZSksdCl9LGUucHJvdG90eXBlLnVuc2VsZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA7aWYobilmb3IodmFyIGk9dGhpcy5nZXREYXRhKGUpLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89ZGYoaSx0W3JdKTtuW29dPSExLHRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXBbb109LTF9fSxlLnByb3RvdHlwZS50b2dnbGVTZWxlY3Q9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT0wO2k8dC5sZW5ndGg7aSsrKW5bMF09dFtpXSx0aGlzLmlzU2VsZWN0ZWQodFtpXSxlKT90aGlzLnVuc2VsZWN0KG4sZSk6dGhpcy5zZWxlY3QobixlKX0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWREYXRhSW5kaWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwLGU9RSh0KSxuPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHI9dFtlW2ldXTtyPj0wJiZuLnB1c2gocil9cmV0dXJuIG59LGUucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtyZXR1cm4gbiYmbltkZih0aGlzLmdldERhdGEoZSksdCldfHwhMX0sZS5wcm90b3R5cGUuX2lubmVyU2VsZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXRoaXMub3B0aW9uLnNlbGVjdGVkTW9kZSxvPWUubGVuZ3RoO2lmKHImJm8paWYoIm11bHRpcGxlIj09PXIpZm9yKHZhciBhPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwfHwodGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA9e30pLHM9MDtzPG87cysrKXt2YXIgbD1lW3NdO2FbaD1kZih0LGwpXT0hMCx0aGlzLl9zZWxlY3RlZERhdGFJbmRpY2VzTWFwW2hdPXQuZ2V0UmF3SW5kZXgobCl9ZWxzZSBpZigic2luZ2xlIj09PXJ8fCEwPT09cil7dmFyIHU9ZVtvLTFdLGg9ZGYodCx1KTt0aGlzLm9wdGlvbi5zZWxlY3RlZE1hcD0oKG49e30pW2hdPSEwLG4pLHRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXA9KChpPXt9KVtoXT10LmdldFJhd0luZGV4KHUpLGkpfX0sZS5wcm90b3R5cGUuX2luaXRTZWxlY3RlZE1hcEZyb21EYXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLm9wdGlvbi5zZWxlY3RlZE1hcCl7dmFyIGU9W107dC5oYXNJdGVtT3B0aW9uJiZ0LmVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPXQuZ2V0UmF3RGF0YUl0ZW0obik7aSYmaS5zZWxlY3RlZCYmZS5wdXNoKG4pfSkpLGUubGVuZ3RoPjAmJnRoaXMuX2lubmVyU2VsZWN0KHQsZSl9fSxlLnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIFhjLnJlZ2lzdGVyQ2xhc3ModCl9LGUucHJvdG9Jbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGU7dC50eXBlPSJzZXJpZXMuX19iYXNlX18iLHQuc2VyaWVzSW5kZXg9MCx0LnVzZUNvbG9yUGFsZXR0ZU9uRGF0YT0hMSx0Lmlnbm9yZVN0eWxlT25EYXRhPSExLHQuaGFzU3ltYm9sVmlzdWFsPSExLHQuZGVmYXVsdFN5bWJvbD0iY2lyY2xlIix0LnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0iaXRlbVN0eWxlIix0LnZpc3VhbERyYXdUeXBlPSJmaWxsIn0oKSxlfShYYyk7ZnVuY3Rpb24gZ2YodCl7dmFyIGU9dC5uYW1lO0RyKHQpfHwodC5uYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpLG49ZS5tYXBEaW1lbnNpb25zQWxsKCJzZXJpZXNOYW1lIiksaT1bXTtyZXR1cm4gUChuLChmdW5jdGlvbih0KXt2YXIgbj1lLmdldERpbWVuc2lvbkluZm8odCk7bi5kaXNwbGF5TmFtZSYmaS5wdXNoKG4uZGlzcGxheU5hbWUpfSkpLGkuam9pbigiICIpfSh0KXx8ZSl9ZnVuY3Rpb24geWYodCl7cmV0dXJuIHQubW9kZWwuZ2V0UmF3RGF0YSgpLmNvdW50KCl9ZnVuY3Rpb24gdmYodCl7dmFyIGU9dC5tb2RlbDtyZXR1cm4gZS5zZXREYXRhKGUuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdygpKSxtZn1mdW5jdGlvbiBtZih0LGUpe2Uub3V0cHV0RGF0YSYmdC5lbmQ+ZS5vdXRwdXREYXRhLmNvdW50KCkmJmUubW9kZWwuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdyhlLm91dHB1dERhdGEpfWZ1bmN0aW9uIF9mKHQsZSl7UChyKHQuQ0hBTkdBQkxFX01FVEhPRFMsdC5ET1dOU0FNUExFX01FVEhPRFMpLChmdW5jdGlvbihuKXt0LndyYXBNZXRob2QobixCKHhmLGUpKX0pKX1mdW5jdGlvbiB4Zih0LGUpe3ZhciBuPWJmKHQpO3JldHVybiBuJiZuLnNldE91dHB1dEVuZCgoZXx8dGhpcykuY291bnQoKSksZX1mdW5jdGlvbiBiZih0KXt2YXIgZT0odC5lY01vZGVsfHx7fSkuc2NoZWR1bGVyLG49ZSYmZS5nZXRQaXBlbGluZSh0LnVpZCk7aWYobil7dmFyIGk9bi5jdXJyZW50VGFzaztpZihpKXt2YXIgcj1pLmFnZW50U3R1Yk1hcDtyJiYoaT1yLmdldCh0LnVpZCkpfXJldHVybiBpfX1MKGZmLFRkKSxMKGZmLF9wKSxZcihmZixYYyk7dmFyIHdmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZ3JvdXA9bmV3IEVpLHRoaXMudWlkPU5oKCJ2aWV3Q29tcG9uZW50Iil9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS5ibHVyU2VyaWVzPWZ1bmN0aW9uKHQsZSl7fSx0fSgpO2Z1bmN0aW9uIFNmKCl7dmFyIHQ9a3IoKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dChlKSxpPWUucGlwZWxpbmVDb250ZXh0LHI9ISFuLmxhcmdlLG89ISFuLnByb2dyZXNzaXZlUmVuZGVyLGE9bi5sYXJnZT0hKCFpfHwhaS5sYXJnZSkscz1uLnByb2dyZXNzaXZlUmVuZGVyPSEoIWl8fCFpLnByb2dyZXNzaXZlUmVuZGVyKTtyZXR1cm4hKHI9PT1hJiZvPT09cykmJiJyZXNldCJ9fVVyKHdmKSxLcih3Zik7dmFyIE1mPWtyKCksSWY9U2YoKSxUZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBFaSx0aGlzLnVpZD1OaCgidmlld0NoYXJ0IiksdGhpcy5yZW5kZXJUYXNrPURkKHtwbGFuOkFmLHJlc2V0OkxmfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXtEZih0LmdldERhdGEoKSxpLCJlbXBoYXNpcyIpfSx0LnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbih0LGUsbixpKXtEZih0LmdldERhdGEoKSxpLCJub3JtYWwiKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnJlbmRlcih0LGUsbixpKX0sdC5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMucmVuZGVyKHQsZSxuLGkpfSx0LnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yZW5kZXIodCxlLG4saSl9LHQubWFya1VwZGF0ZU1ldGhvZD1mdW5jdGlvbih0LGUpe01mKHQpLnVwZGF0ZU1ldGhvZD1lfSx0LnByb3RvSW5pdGlhbGl6ZT12b2lkKHQucHJvdG90eXBlLnR5cGU9ImNoYXJ0IiksdH0oKTtmdW5jdGlvbiBDZih0LGUsbil7dCYmKCJlbXBoYXNpcyI9PT1lP2pzOnFzKSh0LG4pfWZ1bmN0aW9uIERmKHQsZSxuKXt2YXIgaT1Mcih0LGUpLHI9ZSYmbnVsbCE9ZS5oaWdobGlnaHRLZXk/ZnVuY3Rpb24odCl7dmFyIGU9YnNbdF07cmV0dXJuIG51bGw9PWUmJnhzPD0zMiYmKGU9YnNbdF09eHMrKyksZX0oZS5oaWdobGlnaHRLZXkpOm51bGw7bnVsbCE9aT9QKHhyKGkpLChmdW5jdGlvbihlKXtDZih0LmdldEl0ZW1HcmFwaGljRWwoZSksbixyKX0pKTp0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXtDZih0LG4scil9KSl9ZnVuY3Rpb24gQWYodCl7cmV0dXJuIElmKHQubW9kZWwpfWZ1bmN0aW9uIExmKHQpe3ZhciBlPXQubW9kZWwsbj10LmVjTW9kZWwsaT10LmFwaSxyPXQucGF5bG9hZCxvPWUucGlwZWxpbmVDb250ZXh0LnByb2dyZXNzaXZlUmVuZGVyLGE9dC52aWV3LHM9ciYmTWYocikudXBkYXRlTWV0aG9kLGw9bz8iaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyIjpzJiZhW3NdP3M6InJlbmRlciI7cmV0dXJuInJlbmRlciIhPT1sJiZhW2xdKGUsbixpLHIpLGtmW2xdfVVyKFRmKSxLcihUZik7dmFyIGtmPXtpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6e3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LmluY3JlbWVudGFsUmVuZGVyKHQsZS5tb2RlbCxlLmVjTW9kZWwsZS5hcGksZS5wYXlsb2FkKX19LHJlbmRlcjp7Zm9yY2VGaXJzdFByb2dyZXNzOiEwLHByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LnJlbmRlcihlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX19LFBmPSJcMF9fdGhyb3R0bGVPcmlnaW5NZXRob2QiLE9mPSJcMF9fdGhyb3R0bGVSYXRlIixSZj0iXDBfX3Rocm90dGxlVHlwZSI7ZnVuY3Rpb24gTmYodCxlLG4pe3ZhciBpLHIsbyxhLHMsbD0wLHU9MCxoPW51bGw7ZnVuY3Rpb24gYygpe3U9KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1udWxsLHQuYXBwbHkobyxhfHxbXSl9ZT1lfHwwO3ZhciBwPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHA9MDtwPGFyZ3VtZW50cy5sZW5ndGg7cCsrKXRbcF09YXJndW1lbnRzW3BdO2k9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz10aGlzLGE9dDt2YXIgZD1zfHxlLGY9c3x8bjtzPW51bGwscj1pLShmP2w6dSktZCxjbGVhclRpbWVvdXQoaCksZj9oPXNldFRpbWVvdXQoYyxkKTpyPj0wP2MoKTpoPXNldFRpbWVvdXQoYywtciksbD1pfTtyZXR1cm4gcC5jbGVhcj1mdW5jdGlvbigpe2gmJihjbGVhclRpbWVvdXQoaCksaD1udWxsKX0scC5kZWJvdW5jZU5leHRDYWxsPWZ1bmN0aW9uKHQpe3M9dH0scH1mdW5jdGlvbiB6Zih0LGUsbixpKXt2YXIgcj10W2VdO2lmKHIpe3ZhciBvPXJbUGZdfHxyLGE9cltSZl07aWYocltPZl0hPT1ufHxhIT09aSl7aWYobnVsbD09bnx8IWkpcmV0dXJuIHRbZV09bzsocj10W2VdPU5mKG8sbiwiZGVib3VuY2UiPT09aSkpW1BmXT1vLHJbUmZdPWkscltPZl09bn1yZXR1cm4gcn19dmFyIEVmPWtyKCksVmY9e2l0ZW1TdHlsZTokcihMaCwhMCksbGluZVN0eWxlOiRyKENoLCEwKX0sQmY9e2xpbmVTdHlsZToic3Ryb2tlIixpdGVtU3R5bGU6ImZpbGwifTtmdW5jdGlvbiBGZih0LGUpe3ZhciBuPXQudmlzdWFsU3R5bGVNYXBwZXJ8fFZmW2VdO3JldHVybiBufHwoY29uc29sZS53YXJuKCJVbmtvd24gc3R5bGUgdHlwZSAnIitlKyInLiIpLFZmLml0ZW1TdHlsZSl9ZnVuY3Rpb24gR2YodCxlKXt2YXIgbj10LnZpc3VhbERyYXdUeXBlfHxCZltlXTtyZXR1cm4gbnx8KGNvbnNvbGUud2FybigiVW5rb3duIHN0eWxlIHR5cGUgJyIrZSsiJy4iKSwiZmlsbCIpfXZhciBIZj17Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUiLHI9dC5nZXRNb2RlbChpKSxvPUZmKHQsaSkociksYT1yLmdldFNoYWxsb3coImRlY2FsIik7YSYmKG4uc2V0VmlzdWFsKCJkZWNhbCIsYSksYS5kaXJ0eT0hMCk7dmFyIHM9R2YodCxpKSxsPW9bc10sdT1HKGwpP2w6bnVsbCxoPSJhdXRvIj09PW8uZmlsbHx8ImF1dG8iPT09by5zdHJva2U7aWYoIW9bc118fHV8fGgpe3ZhciBjPXQuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0Lm5hbWUsbnVsbCxlLmdldFNlcmllc0NvdW50KCkpO29bc118fChvW3NdPWMsbi5zZXRWaXN1YWwoImNvbG9yRnJvbVBhbGV0dGUiLCEwKSksby5maWxsPSJhdXRvIj09PW8uZmlsbHx8ImZ1bmN0aW9uIj09dHlwZW9mIG8uZmlsbD9jOm8uZmlsbCxvLnN0cm9rZT0iYXV0byI9PT1vLnN0cm9rZXx8ImZ1bmN0aW9uIj09dHlwZW9mIG8uc3Ryb2tlP2M6by5zdHJva2V9aWYobi5zZXRWaXN1YWwoInN0eWxlIixvKSxuLnNldFZpc3VhbCgiZHJhd1R5cGUiLHMpLCFlLmlzU2VyaWVzRmlsdGVyZWQodCkmJnUpcmV0dXJuIG4uc2V0VmlzdWFsKCJjb2xvckZyb21QYWxldHRlIiwhMSkse2RhdGFFYWNoOmZ1bmN0aW9uKGUsbil7dmFyIGk9dC5nZXREYXRhUGFyYW1zKG4pLHI9SSh7fSxvKTtyW3NdPXUoaSksZS5zZXRJdGVtVmlzdWFsKG4sInN0eWxlIixyKX19fX0sV2Y9bmV3IE9oLFVmPXtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7aWYoIXQuaWdub3JlU3R5bGVPbkRhdGEmJiFlLmlzU2VyaWVzRmlsdGVyZWQodCkpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUiLHI9RmYodCxpKSxvPW4uZ2V0VmlzdWFsKCJkcmF3VHlwZSIpO3JldHVybntkYXRhRWFjaDpuLmhhc0l0ZW1PcHRpb24/ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG4mJm5baV0pe1dmLm9wdGlvbj1uW2ldO3ZhciBhPXIoV2YpO0kodC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsInN0eWxlIiksYSksV2Yub3B0aW9uLmRlY2FsJiYodC5zZXRJdGVtVmlzdWFsKGUsImRlY2FsIixXZi5vcHRpb24uZGVjYWwpLFdmLm9wdGlvbi5kZWNhbC5kaXJ0eT0hMCksbyBpbiBhJiZ0LnNldEl0ZW1WaXN1YWwoZSwiY29sb3JGcm9tUGFsZXR0ZSIsITEpfX06bnVsbH19fX0sWGY9e3BlcmZvcm1SYXdTZXJpZXM6ITAsb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWh0KCk7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih0LnVzZUNvbG9yUGFsZXR0ZU9uRGF0YSl7dmFyIG49ZS5nZXQodC50eXBlKTtufHwobj17fSxlLnNldCh0LnR5cGUsbikpLEVmKHQpLnNjb3BlPW59fSkpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7aWYoZS51c2VDb2xvclBhbGV0dGVPbkRhdGEmJiF0LmlzU2VyaWVzRmlsdGVyZWQoZSkpe3ZhciBuPWUuZ2V0UmF3RGF0YSgpLGk9e30scj1lLmdldERhdGEoKSxvPUVmKGUpLnNjb3BlLGE9ZS52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUiLHM9R2YoZSxhKTtyLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0UmF3SW5kZXgodCk7aVtlXT10fSkpLG4uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9aVt0XTtpZihyLmdldEl0ZW1WaXN1YWwoYSwiY29sb3JGcm9tUGFsZXR0ZSIpKXt2YXIgbD1yLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoYSwic3R5bGUiKSx1PW4uZ2V0TmFtZSh0KXx8dCsiIixoPW4uY291bnQoKTtsW3NdPWUuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh1LG8saCl9fSkpfX0pKX19LFlmPU1hdGguUEk7dmFyIFpmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLl9zdGFnZVRhc2tNYXA9aHQoKSx0aGlzLmVjSW5zdGFuY2U9dCx0aGlzLmFwaT1lLG49dGhpcy5fZGF0YVByb2Nlc3NvckhhbmRsZXJzPW4uc2xpY2UoKSxpPXRoaXMuX3Zpc3VhbEhhbmRsZXJzPWkuc2xpY2UoKSx0aGlzLl9hbGxIYW5kbGVycz1uLmNvbmNhdChpKX1yZXR1cm4gdC5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24odCxlKXt0LnJlc3RvcmVEYXRhKGUpLHRoaXMuX3N0YWdlVGFza01hcC5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT10Lm92ZXJhbGxUYXNrO2UmJmUuZGlydHkoKX0pKX0sdC5wcm90b3R5cGUuZ2V0UGVyZm9ybUFyZ3M9ZnVuY3Rpb24odCxlKXtpZih0Ll9fcGlwZWxpbmUpe3ZhciBuPXRoaXMuX3BpcGVsaW5lTWFwLmdldCh0Ll9fcGlwZWxpbmUuaWQpLGk9bi5jb250ZXh0LHI9IWUmJm4ucHJvZ3Jlc3NpdmVFbmFibGVkJiYoIWl8fGkucHJvZ3Jlc3NpdmVSZW5kZXIpJiZ0Ll9faWR4SW5QaXBlbGluZT5uLmJsb2NrSW5kZXg/bi5zdGVwOm51bGwsbz1pJiZpLm1vZERhdGFDb3VudDtyZXR1cm57c3RlcDpyLG1vZEJ5Om51bGwhPW8/TWF0aC5jZWlsKG8vcik6bnVsbCxtb2REYXRhQ291bnQ6b319fSx0LnByb3RvdHlwZS5nZXRQaXBlbGluZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQpfSx0LnByb3RvdHlwZS51cGRhdGVTdHJlYW1Nb2Rlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3BpcGVsaW5lTWFwLmdldCh0LnVpZCksaT10LmdldERhdGEoKS5jb3VudCgpLHI9bi5wcm9ncmVzc2l2ZUVuYWJsZWQmJmUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyJiZpPj1uLnRocmVzaG9sZCxvPXQuZ2V0KCJsYXJnZSIpJiZpPj10LmdldCgibGFyZ2VUaHJlc2hvbGQiKSxhPSJtb2QiPT09dC5nZXQoInByb2dyZXNzaXZlQ2h1bmtNb2RlIik/aTpudWxsO3QucGlwZWxpbmVDb250ZXh0PW4uY29udGV4dD17cHJvZ3Jlc3NpdmVSZW5kZXI6cixtb2REYXRhQ291bnQ6YSxsYXJnZTpvfX0sdC5wcm90b3R5cGUucmVzdG9yZVBpcGVsaW5lcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5fcGlwZWxpbmVNYXA9aHQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0UHJvZ3Jlc3NpdmUoKSxyPXQudWlkO24uc2V0KHIse2lkOnIsaGVhZDpudWxsLHRhaWw6bnVsbCx0aHJlc2hvbGQ6dC5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZCgpLHByb2dyZXNzaXZlRW5hYmxlZDppJiYhKHQucHJldmVudEluY3JlbWVudGFsJiZ0LnByZXZlbnRJbmNyZW1lbnRhbCgpKSxibG9ja0luZGV4Oi0xLHN0ZXA6TWF0aC5yb3VuZChpfHw3MDApLGNvdW50OjB9KSxlLl9waXBlKHQsdC5kYXRhVGFzayl9KSl9LHQucHJvdG90eXBlLnByZXBhcmVTdGFnZVRhc2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhZ2VUYXNrTWFwLGU9dGhpcy5hcGkuZ2V0TW9kZWwoKSxuPXRoaXMuYXBpO1AodGhpcy5fYWxsSGFuZGxlcnMsKGZ1bmN0aW9uKGkpe3ZhciByPXQuZ2V0KGkudWlkKXx8dC5zZXQoaS51aWQse30pLG89IiI7cnQoIShpLnJlc2V0JiZpLm92ZXJhbGxSZXNldCksbyksaS5yZXNldCYmdGhpcy5fY3JlYXRlU2VyaWVzU3RhZ2VUYXNrKGkscixlLG4pLGkub3ZlcmFsbFJlc2V0JiZ0aGlzLl9jcmVhdGVPdmVyYWxsU3RhZ2VUYXNrKGkscixlLG4pfSksdGhpcyl9LHQucHJvdG90eXBlLnByZXBhcmVWaWV3PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQucmVuZGVyVGFzayxvPXIuY29udGV4dDtvLm1vZGVsPWUsby5lY01vZGVsPW4sby5hcGk9aSxyLl9fYmxvY2s9IXQuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyLHRoaXMuX3BpcGUoZSxyKX0sdC5wcm90b3R5cGUucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcz1mdW5jdGlvbih0LGUpe3RoaXMuX3BlcmZvcm1TdGFnZVRhc2tzKHRoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycyx0LGUse2Jsb2NrOiEwfSl9LHQucHJvdG90eXBlLnBlcmZvcm1WaXN1YWxUYXNrcz1mdW5jdGlvbih0LGUsbil7dGhpcy5fcGVyZm9ybVN0YWdlVGFza3ModGhpcy5fdmlzdWFsSGFuZGxlcnMsdCxlLG4pfSx0LnByb3RvdHlwZS5fcGVyZm9ybVN0YWdlVGFza3M9ZnVuY3Rpb24odCxlLG4saSl7aT1pfHx7fTt2YXIgcj0hMSxvPXRoaXM7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0LnNldERpcnR5JiYoIXQuZGlydHlNYXB8fHQuZGlydHlNYXAuZ2V0KGUuX19waXBlbGluZS5pZCkpfVAodCwoZnVuY3Rpb24odCxzKXtpZighaS52aXN1YWxUeXBlfHxpLnZpc3VhbFR5cGU9PT10LnZpc3VhbFR5cGUpe3ZhciBsPW8uX3N0YWdlVGFza01hcC5nZXQodC51aWQpLHU9bC5zZXJpZXNUYXNrTWFwLGg9bC5vdmVyYWxsVGFzaztpZihoKXt2YXIgYyxwPWguYWdlbnRTdHViTWFwO3AuZWFjaCgoZnVuY3Rpb24odCl7YShpLHQpJiYodC5kaXJ0eSgpLGM9ITApfSkpLGMmJmguZGlydHkoKSxvLnVwZGF0ZVBheWxvYWQoaCxuKTt2YXIgZD1vLmdldFBlcmZvcm1BcmdzKGgsaS5ibG9jayk7cC5lYWNoKChmdW5jdGlvbih0KXt0LnBlcmZvcm0oZCl9KSksaC5wZXJmb3JtKGQpJiYocj0hMCl9ZWxzZSB1JiZ1LmVhY2goKGZ1bmN0aW9uKHMsbCl7YShpLHMpJiZzLmRpcnR5KCk7dmFyIHU9by5nZXRQZXJmb3JtQXJncyhzLGkuYmxvY2spO3Uuc2tpcD0hdC5wZXJmb3JtUmF3U2VyaWVzJiZlLmlzU2VyaWVzRmlsdGVyZWQocy5jb250ZXh0Lm1vZGVsKSxvLnVwZGF0ZVBheWxvYWQocyxuKSxzLnBlcmZvcm0odSkmJihyPSEwKX0pKX19KSksdGhpcy51bmZpbmlzaGVkPXJ8fHRoaXMudW5maW5pc2hlZH0sdC5wcm90b3R5cGUucGVyZm9ybVNlcmllc1Rhc2tzPWZ1bmN0aW9uKHQpe3ZhciBlO3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7ZT10LmRhdGFUYXNrLnBlcmZvcm0oKXx8ZX0pKSx0aGlzLnVuZmluaXNoZWQ9ZXx8dGhpcy51bmZpbmlzaGVkfSx0LnByb3RvdHlwZS5wbGFuPWZ1bmN0aW9uKCl7dGhpcy5fcGlwZWxpbmVNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC50YWlsO2Rve2lmKGUuX19ibG9jayl7dC5ibG9ja0luZGV4PWUuX19pZHhJblBpcGVsaW5lO2JyZWFrfWU9ZS5nZXRVcHN0cmVhbSgpfXdoaWxlKGUpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVQYXlsb2FkPWZ1bmN0aW9uKHQsZSl7InJlbWFpbiIhPT1lJiYodC5jb250ZXh0LnBheWxvYWQ9ZSl9LHQucHJvdG90eXBlLl9jcmVhdGVTZXJpZXNTdGFnZVRhc2s9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxvPWUuc2VyaWVzVGFza01hcCxhPWUuc2VyaWVzVGFza01hcD1odCgpLHM9dC5zZXJpZXNUeXBlLGw9dC5nZXRUYXJnZXRTZXJpZXM7ZnVuY3Rpb24gdShlKXt2YXIgcz1lLnVpZCxsPWEuc2V0KHMsbyYmby5nZXQocyl8fERkKHtwbGFuOkpmLHJlc2V0OlFmLGNvdW50Om5nfSkpO2wuY29udGV4dD17bW9kZWw6ZSxlY01vZGVsOm4sYXBpOmksdXNlQ2xlYXJWaXN1YWw6dC5pc1Zpc3VhbCYmIXQuaXNMYXlvdXQscGxhbjp0LnBsYW4scmVzZXQ6dC5yZXNldCxzY2hlZHVsZXI6cn0sci5fcGlwZShlLGwpfXQuY3JlYXRlT25BbGxTZXJpZXM/bi5lYWNoUmF3U2VyaWVzKHUpOnM/bi5lYWNoUmF3U2VyaWVzQnlUeXBlKHMsdSk6bCYmbChuLGkpLmVhY2godSl9LHQucHJvdG90eXBlLl9jcmVhdGVPdmVyYWxsU3RhZ2VUYXNrPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz1lLm92ZXJhbGxUYXNrPWUub3ZlcmFsbFRhc2t8fERkKHtyZXNldDpqZn0pO28uY29udGV4dD17ZWNNb2RlbDpuLGFwaTppLG92ZXJhbGxSZXNldDp0Lm92ZXJhbGxSZXNldCxzY2hlZHVsZXI6cn07dmFyIGE9by5hZ2VudFN0dWJNYXAscz1vLmFnZW50U3R1Yk1hcD1odCgpLGw9dC5zZXJpZXNUeXBlLHU9dC5nZXRUYXJnZXRTZXJpZXMsaD0hMCxjPSExLHA9IiI7ZnVuY3Rpb24gZCh0KXt2YXIgZT10LnVpZCxuPXMuc2V0KGUsYSYmYS5nZXQoZSl8fChjPSEwLERkKHtyZXNldDpxZixvbkRpcnR5OiRmfSkpKTtuLmNvbnRleHQ9e21vZGVsOnQsb3ZlcmFsbFByb2dyZXNzOmh9LG4uYWdlbnQ9byxuLl9fYmxvY2s9aCxyLl9waXBlKHQsbil9cnQoIXQuY3JlYXRlT25BbGxTZXJpZXMscCksbD9uLmVhY2hSYXdTZXJpZXNCeVR5cGUobCxkKTp1P3UobixpKS5lYWNoKGQpOihoPSExLFAobi5nZXRTZXJpZXMoKSxkKSksYyYmby5kaXJ0eSgpfSx0LnByb3RvdHlwZS5fcGlwZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQudWlkLGk9dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KG4pOyFpLmhlYWQmJihpLmhlYWQ9ZSksaS50YWlsJiZpLnRhaWwucGlwZShlKSxpLnRhaWw9ZSxlLl9faWR4SW5QaXBlbGluZT1pLmNvdW50KyssZS5fX3BpcGVsaW5lPWl9LHQud3JhcFN0YWdlSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQpJiYodD17b3ZlcmFsbFJlc2V0OnQsc2VyaWVzVHlwZTppZyh0KX0pLHQudWlkPU5oKCJzdGFnZUhhbmRsZXIiKSxlJiYodC52aXN1YWxUeXBlPWUpLHR9LHR9KCk7ZnVuY3Rpb24gamYodCl7dC5vdmVyYWxsUmVzZXQodC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCl9ZnVuY3Rpb24gcWYodCl7cmV0dXJuIHQub3ZlcmFsbFByb2dyZXNzJiZLZn1mdW5jdGlvbiBLZigpe3RoaXMuYWdlbnQuZGlydHkoKSx0aGlzLmdldERvd25zdHJlYW0oKS5kaXJ0eSgpfWZ1bmN0aW9uICRmKCl7dGhpcy5hZ2VudCYmdGhpcy5hZ2VudC5kaXJ0eSgpfWZ1bmN0aW9uIEpmKHQpe3JldHVybiB0LnBsYW4/dC5wbGFuKHQubW9kZWwsdC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCk6bnVsbH1mdW5jdGlvbiBRZih0KXt0LnVzZUNsZWFyVmlzdWFsJiZ0LmRhdGEuY2xlYXJBbGxWaXN1YWwoKTt2YXIgZT10LnJlc2V0RGVmaW5lcz14cih0LnJlc2V0KHQubW9kZWwsdC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCkpO3JldHVybiBlLmxlbmd0aD4xP08oZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZWcoZSl9KSk6dGd9dmFyIHRnPWVnKDApO2Z1bmN0aW9uIGVnKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpPW4uZGF0YSxyPW4ucmVzZXREZWZpbmVzW3RdO2lmKHImJnIuZGF0YUVhY2gpZm9yKHZhciBvPWUuc3RhcnQ7bzxlLmVuZDtvKyspci5kYXRhRWFjaChpLG8pO2Vsc2UgciYmci5wcm9ncmVzcyYmci5wcm9ncmVzcyhlLGkpfX1mdW5jdGlvbiBuZyh0KXtyZXR1cm4gdC5kYXRhLmNvdW50KCl9ZnVuY3Rpb24gaWcodCl7cmc9bnVsbDt0cnl7dChvZyxhZyl9Y2F0Y2godCl7fXJldHVybiByZ312YXIgcmcsb2c9e30sYWc9e307ZnVuY3Rpb24gc2codCxlKXtmb3IodmFyIG4gaW4gZS5wcm90b3R5cGUpdFtuXT1mdH1zZyhvZyx3cCksc2coYWcsQ3ApLG9nLmVhY2hTZXJpZXNCeVR5cGU9b2cuZWFjaFJhd1Nlcmllc0J5VHlwZT1mdW5jdGlvbih0KXtyZz10fSxvZy5lYWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQpeyJzZXJpZXMiPT09dC5tYWluVHlwZSYmdC5zdWJUeXBlJiYocmc9dC5zdWJUeXBlKX07dmFyIGxnPVsiIzM3QTJEQSIsIiMzMkM1RTkiLCIjNjdFMEUzIiwiIzlGRTZCOCIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI2ZiNzI5MyIsIiNFMDYyQUUiLCIjRTY5MEQxIiwiI2U3YmNmMyIsIiM5ZDk2ZjUiLCIjODM3OEVBIiwiIzk2QkZGRiJdLHVnPXtjb2xvcjpsZyxjb2xvckxheWVyOltbIiMzN0EyREEiLCIjZmZkODVjIiwiI2ZkN2I1ZiJdLFsiIzM3QTJEQSIsIiM2N0UwRTMiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNFMDYyQUUiLCIjOWQ5NmY1Il0sWyIjMzdBMkRBIiwiIzMyQzVFOSIsIiM5RkU2QjgiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNmYjcyOTMiLCIjZTdiY2YzIiwiIzgzNzhFQSIsIiM5NkJGRkYiXSxsZ119LGhnPSIjQjlCOENFIixjZz0iIzEwMEMyQSIscGc9ZnVuY3Rpb24oKXtyZXR1cm57YXhpc0xpbmU6e2xpbmVTdHlsZTp7Y29sb3I6aGd9fSxzcGxpdExpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiM0ODQ3NTMifX0sc3BsaXRBcmVhOnthcmVhU3R5bGU6e2NvbG9yOlsicmdiYSgyNTUsMjU1LDI1NSwwLjAyKSIsInJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiXX19LG1pbm9yU3BsaXRMaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjMjAyMDNCIn19fX0sZGc9WyIjNDk5MmZmIiwiIzdjZmZiMiIsIiNmZGRkNjAiLCIjZmY2ZTc2IiwiIzU4ZDlmOSIsIiMwNWMwOTEiLCIjZmY4YTQ1IiwiIzhkNDhlMyIsIiNkZDc5ZmYiXSxmZz17ZGFya01vZGU6ITAsY29sb3I6ZGcsYmFja2dyb3VuZENvbG9yOmNnLGF4aXNQb2ludGVyOntsaW5lU3R5bGU6e2NvbG9yOiIjODE3ZjkxIn0sY3Jvc3NTdHlsZTp7Y29sb3I6IiM4MTdmOTEifSxsYWJlbDp7Y29sb3I6IiNmZmYifX0sbGVnZW5kOnt0ZXh0U3R5bGU6e2NvbG9yOmhnfX0sdGV4dFN0eWxlOntjb2xvcjpoZ30sdGl0bGU6e3RleHRTdHlsZTp7Y29sb3I6IiNFRUYxRkEifSxzdWJ0ZXh0U3R5bGU6e2NvbG9yOiIjQjlCOENFIn19LHRvb2xib3g6e2ljb25TdHlsZTp7Ym9yZGVyQ29sb3I6aGd9fSxkYXRhWm9vbTp7Ym9yZGVyQ29sb3I6IiM3MTcwOEEiLHRleHRTdHlsZTp7Y29sb3I6aGd9LGJydXNoU3R5bGU6e2NvbG9yOiJyZ2JhKDEzNSwxNjMsMjA2LDAuMykifSxoYW5kbGVTdHlsZTp7Y29sb3I6IiMzNTM0NTAiLGJvcmRlckNvbG9yOiIjQzVDQkUzIn0sbW92ZUhhbmRsZVN0eWxlOntjb2xvcjoiI0IwQjZDMyIsb3BhY2l0eTouM30sZmlsbGVyQ29sb3I6InJnYmEoMTM1LDE2MywyMDYsMC4yKSIsZW1waGFzaXM6e2hhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiIzkxQjdGMiIsY29sb3I6IiM0RDU4N0QifSxtb3ZlSGFuZGxlU3R5bGU6e2NvbG9yOiIjNjM2RDlBIixvcGFjaXR5Oi43fX0sZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiM3MTcwOEEiLHdpZHRoOjF9LGFyZWFTdHlsZTp7Y29sb3I6IiM3MTcwOEEifX0sc2VsZWN0ZWREYXRhQmFja2dyb3VuZDp7bGluZVN0eWxlOntjb2xvcjoiIzg3QTNDRSJ9LGFyZWFTdHlsZTp7Y29sb3I6IiM4N0EzQ0UifX19LHZpc3VhbE1hcDp7dGV4dFN0eWxlOntjb2xvcjpoZ319LHRpbWVsaW5lOntsaW5lU3R5bGU6e2NvbG9yOmhnfSxsYWJlbDp7Y29sb3I6aGd9LGNvbnRyb2xTdHlsZTp7Y29sb3I6aGcsYm9yZGVyQ29sb3I6aGd9fSxjYWxlbmRhcjp7aXRlbVN0eWxlOntjb2xvcjpjZ30sZGF5TGFiZWw6e2NvbG9yOmhnfSxtb250aExhYmVsOntjb2xvcjpoZ30seWVhckxhYmVsOntjb2xvcjpoZ319LHRpbWVBeGlzOnBnKCksbG9nQXhpczpwZygpLHZhbHVlQXhpczpwZygpLGNhdGVnb3J5QXhpczpwZygpLGxpbmU6e3N5bWJvbDoiY2lyY2xlIn0sZ3JhcGg6e2NvbG9yOmRnfSxnYXVnZTp7dGl0bGU6e2NvbG9yOmhnfSxheGlzTGluZTp7bGluZVN0eWxlOntjb2xvcjpbWzEsInJnYmEoMjA3LDIxMiwyMTksMC4yKSJdXX19LGF4aXNMYWJlbDp7Y29sb3I6aGd9LGRldGFpbDp7Y29sb3I6IiNFRUYxRkEifX0sY2FuZGxlc3RpY2s6e2l0ZW1TdHlsZTp7Y29sb3I6IiNmNjRlNTYiLGNvbG9yMDoiIzU0ZWE5MiIsYm9yZGVyQ29sb3I6IiNmNjRlNTYiLGJvcmRlckNvbG9yMDoiIzU0ZWE5MiJ9fX07ZmcuY2F0ZWdvcnlBeGlzLnNwbGl0TGluZS5zaG93PSExO3ZhciBnZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5vcm1hbGl6ZVF1ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49e30saT17fTtpZihIKHQpKXt2YXIgcj1Xcih0KTtlLm1haW5UeXBlPXIubWFpbnx8bnVsbCxlLnN1YlR5cGU9ci5zdWJ8fG51bGx9ZWxzZXt2YXIgbz1bIkluZGV4IiwiTmFtZSIsIklkIl0sYT17bmFtZToxLGRhdGFJbmRleDoxLGRhdGFUeXBlOjF9O1AodCwoZnVuY3Rpb24odCxyKXtmb3IodmFyIHM9ITEsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdLGg9ci5sYXN0SW5kZXhPZih1KTtpZihoPjAmJmg9PT1yLmxlbmd0aC11Lmxlbmd0aCl7dmFyIGM9ci5zbGljZSgwLGgpOyJkYXRhIiE9PWMmJihlLm1haW5UeXBlPWMsZVt1LnRvTG93ZXJDYXNlKCldPXQscz0hMCl9fWEuaGFzT3duUHJvcGVydHkocikmJihuW3JdPXQscz0hMCksc3x8KGlbcl09dCl9KSl9cmV0dXJue2NwdFF1ZXJ5OmUsZGF0YVF1ZXJ5Om4sb3RoZXJRdWVyeTppfX0sdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5ldmVudEluZm87aWYoIW4pcmV0dXJuITA7dmFyIGk9bi50YXJnZXRFbCxyPW4ucGFja2VkRXZlbnQsbz1uLm1vZGVsLGE9bi52aWV3O2lmKCFvfHwhYSlyZXR1cm4hMDt2YXIgcz1lLmNwdFF1ZXJ5LGw9ZS5kYXRhUXVlcnk7cmV0dXJuIHUocyxvLCJtYWluVHlwZSIpJiZ1KHMsbywic3ViVHlwZSIpJiZ1KHMsbywiaW5kZXgiLCJjb21wb25lbnRJbmRleCIpJiZ1KHMsbywibmFtZSIpJiZ1KHMsbywiaWQiKSYmdShsLHIsIm5hbWUiKSYmdShsLHIsImRhdGFJbmRleCIpJiZ1KGwsciwiZGF0YVR5cGUiKSYmKCFhLmZpbHRlckZvckV4cG9zZWRFdmVudHx8YS5maWx0ZXJGb3JFeHBvc2VkRXZlbnQodCxlLm90aGVyUXVlcnksaSxyKSk7ZnVuY3Rpb24gdSh0LGUsbixpKXtyZXR1cm4gbnVsbD09dFtuXXx8ZVtpfHxuXT09PXRbbl19fSx0LnByb3RvdHlwZS5hZnRlclRyaWdnZXI9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50SW5mbz1udWxsfSx0fSgpLHlnPXtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCk7aWYodC5sZWdlbmRJY29uJiZuLnNldFZpc3VhbCgibGVnZW5kSWNvbiIsdC5sZWdlbmRJY29uKSx0Lmhhc1N5bWJvbFZpc3VhbCl7dmFyIGk9dC5nZXQoInN5bWJvbCIpLHI9dC5nZXQoInN5bWJvbFNpemUiKSxvPXQuZ2V0KCJzeW1ib2xLZWVwQXNwZWN0IiksYT10LmdldCgic3ltYm9sUm90YXRlIikscz10LmdldCgic3ltYm9sT2Zmc2V0IiksbD1HKGkpLHU9RyhyKSxoPUcoYSksYz1HKHMpLHA9bHx8dXx8aHx8YyxkPSFsJiZpP2k6dC5kZWZhdWx0U3ltYm9sLGY9dT9udWxsOnIsZz1oP251bGw6YSx5PWM/bnVsbDpzO2lmKG4uc2V0VmlzdWFsKHtsZWdlbmRJY29uOnQubGVnZW5kSWNvbnx8ZCxzeW1ib2w6ZCxzeW1ib2xTaXplOmYsc3ltYm9sS2VlcEFzcGVjdDpvLHN5bWJvbFJvdGF0ZTpnLHN5bWJvbE9mZnNldDp5fSksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSlyZXR1cm57ZGF0YUVhY2g6cD9mdW5jdGlvbihlLG4pe3ZhciBvPXQuZ2V0UmF3VmFsdWUobikscD10LmdldERhdGFQYXJhbXMobik7bCYmZS5zZXRJdGVtVmlzdWFsKG4sInN5bWJvbCIsaShvLHApKSx1JiZlLnNldEl0ZW1WaXN1YWwobiwic3ltYm9sU2l6ZSIscihvLHApKSxoJiZlLnNldEl0ZW1WaXN1YWwobiwic3ltYm9sUm90YXRlIixhKG8scCkpLGMmJmUuc2V0SXRlbVZpc3VhbChuLCJzeW1ib2xPZmZzZXQiLHMobyxwKSl9Om51bGx9fX19O2Z1bmN0aW9uIHZnKHQsZSxuKXtzd2l0Y2gobil7Y2FzZSJjb2xvciI6cmV0dXJuIHQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpW3QuZ2V0VmlzdWFsKCJkcmF3VHlwZSIpXTtjYXNlIm9wYWNpdHkiOnJldHVybiB0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKS5vcGFjaXR5O2Nhc2Uic3ltYm9sIjpjYXNlInN5bWJvbFNpemUiOmNhc2UibGlmdFoiOnJldHVybiB0LmdldEl0ZW1WaXN1YWwoZSxuKTtkZWZhdWx0OjB9fWZ1bmN0aW9uIG1nKHQsZSl7c3dpdGNoKGUpe2Nhc2UiY29sb3IiOnJldHVybiB0LmdldFZpc3VhbCgic3R5bGUiKVt0LmdldFZpc3VhbCgiZHJhd1R5cGUiKV07Y2FzZSJvcGFjaXR5IjpyZXR1cm4gdC5nZXRWaXN1YWwoInN0eWxlIikub3BhY2l0eTtjYXNlInN5bWJvbCI6Y2FzZSJzeW1ib2xTaXplIjpjYXNlImxpZnRaIjpyZXR1cm4gdC5nZXRWaXN1YWwoZSk7ZGVmYXVsdDowfX1mdW5jdGlvbiBfZyh0LGUsbixpKXtzd2l0Y2gobil7Y2FzZSJjb2xvciI6dC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsInN0eWxlIilbdC5nZXRWaXN1YWwoImRyYXdUeXBlIildPWksdC5zZXRJdGVtVmlzdWFsKGUsImNvbG9yRnJvbVBhbGV0dGUiLCExKTticmVhaztjYXNlIm9wYWNpdHkiOnQuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChlLCJzdHlsZSIpLm9wYWNpdHk9aTticmVhaztjYXNlInN5bWJvbCI6Y2FzZSJzeW1ib2xTaXplIjpjYXNlImxpZnRaIjp0LnNldEl0ZW1WaXN1YWwoZSxuLGkpO2JyZWFrO2RlZmF1bHQ6MH19dmFyIHhnPTIqTWF0aC5QSSxiZz1MYS5DTUQsd2c9WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXTtmdW5jdGlvbiBTZyh0LGUsbixpLHIpe3ZhciBvPW4ud2lkdGgsYT1uLmhlaWdodDtzd2l0Y2godCl7Y2FzZSJ0b3AiOmkuc2V0KG4ueCtvLzIsbi55LWUpLHIuc2V0KDAsLTEpO2JyZWFrO2Nhc2UiYm90dG9tIjppLnNldChuLngrby8yLG4ueSthK2UpLHIuc2V0KDAsMSk7YnJlYWs7Y2FzZSJsZWZ0IjppLnNldChuLngtZSxuLnkrYS8yKSxyLnNldCgtMSwwKTticmVhaztjYXNlInJpZ2h0IjppLnNldChuLngrbytlLG4ueSthLzIpLHIuc2V0KDEsMCl9fWZ1bmN0aW9uIE1nKHQsZSxuLGkscixvLGEscyxsKXthLT10LHMtPWU7dmFyIHU9TWF0aC5zcXJ0KGEqYStzKnMpLGg9KGEvPXUpKm4rdCxjPShzLz11KSpuK2U7aWYoTWF0aC5hYnMoaS1yKSV4ZzwxZS00KXJldHVybiBsWzBdPWgsbFsxXT1jLHUtbjtpZihvKXt2YXIgcD1pO2k9TmEocikscj1OYShwKX1lbHNlIGk9TmEoaSkscj1OYShyKTtpPnImJihyKz14Zyk7dmFyIGQ9TWF0aC5hdGFuMihzLGEpO2lmKGQ8MCYmKGQrPXhnKSxkPj1pJiZkPD1yfHxkK3hnPj1pJiZkK3hnPD1yKXJldHVybiBsWzBdPWgsbFsxXT1jLHUtbjt2YXIgZj1uKk1hdGguY29zKGkpK3QsZz1uKk1hdGguc2luKGkpK2UseT1uKk1hdGguY29zKHIpK3Qsdj1uKk1hdGguc2luKHIpK2UsbT0oZi1hKSooZi1hKSsoZy1zKSooZy1zKSxfPSh5LWEpKih5LWEpKyh2LXMpKih2LXMpO3JldHVybiBtPF8/KGxbMF09ZixsWzFdPWcsTWF0aC5zcXJ0KG0pKToobFswXT15LGxbMV09dixNYXRoLnNxcnQoXykpfWZ1bmN0aW9uIElnKHQsZSxuLGkscixvLGEscyl7dmFyIGw9ci10LHU9by1lLGg9bi10LGM9aS1lLHA9TWF0aC5zcXJ0KGgqaCtjKmMpLGQ9KGwqKGgvPXApK3UqKGMvPXApKS9wO3MmJihkPU1hdGgubWluKE1hdGgubWF4KGQsMCksMSkpLGQqPXA7dmFyIGY9YVswXT10K2QqaCxnPWFbMV09ZStkKmM7cmV0dXJuIE1hdGguc3FydCgoZi1yKSooZi1yKSsoZy1vKSooZy1vKSl9ZnVuY3Rpb24gVGcodCxlLG4saSxyLG8sYSl7bjwwJiYodCs9bixuPS1uKSxpPDAmJihlKz1pLGk9LWkpO3ZhciBzPXQrbixsPWUraSx1PWFbMF09TWF0aC5taW4oTWF0aC5tYXgocix0KSxzKSxoPWFbMV09TWF0aC5taW4oTWF0aC5tYXgobyxlKSxsKTtyZXR1cm4gTWF0aC5zcXJ0KCh1LXIpKih1LXIpKyhoLW8pKihoLW8pKX12YXIgQ2c9W107ZnVuY3Rpb24gRGcodCxlLG4pe3ZhciBpPVRnKGUueCxlLnksZS53aWR0aCxlLmhlaWdodCx0LngsdC55LENnKTtyZXR1cm4gbi5zZXQoQ2dbMF0sQ2dbMV0pLGl9ZnVuY3Rpb24gQWcodCxlLG4pe2Zvcih2YXIgaSxyLG89MCxhPTAscz0wLGw9MCx1PTEvMCxoPWUuZGF0YSxjPXQueCxwPXQueSxkPTA7ZDxoLmxlbmd0aDspe3ZhciBmPWhbZCsrXTsxPT09ZCYmKHM9bz1oW2RdLGw9YT1oW2QrMV0pO3ZhciBnPXU7c3dpdGNoKGYpe2Nhc2UgYmcuTTpvPXM9aFtkKytdLGE9bD1oW2QrK107YnJlYWs7Y2FzZSBiZy5MOmc9SWcobyxhLGhbZF0saFtkKzFdLGMscCxDZywhMCksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSBiZy5DOmc9SG8obyxhLGhbZCsrXSxoW2QrK10saFtkKytdLGhbZCsrXSxoW2RdLGhbZCsxXSxjLHAsQ2cpLG89aFtkKytdLGE9aFtkKytdO2JyZWFrO2Nhc2UgYmcuUTpnPWpvKG8sYSxoW2QrK10saFtkKytdLGhbZF0saFtkKzFdLGMscCxDZyksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSBiZy5BOnZhciB5PWhbZCsrXSx2PWhbZCsrXSxtPWhbZCsrXSxfPWhbZCsrXSx4PWhbZCsrXSxiPWhbZCsrXTtkKz0xO3ZhciB3PSEhKDEtaFtkKytdKTtpPU1hdGguY29zKHgpKm0reSxyPU1hdGguc2luKHgpKl8rdixkPD0xJiYocz1pLGw9ciksZz1NZyh5LHYsXyx4LHgrYix3LChjLXkpKl8vbSt5LHAsQ2cpLG89TWF0aC5jb3MoeCtiKSptK3ksYT1NYXRoLnNpbih4K2IpKl8rdjticmVhaztjYXNlIGJnLlI6Zz1UZyhzPW89aFtkKytdLGw9YT1oW2QrK10saFtkKytdLGhbZCsrXSxjLHAsQ2cpO2JyZWFrO2Nhc2UgYmcuWjpnPUlnKG8sYSxzLGwsYyxwLENnLCEwKSxvPXMsYT1sfWc8dSYmKHU9ZyxuLnNldChDZ1swXSxDZ1sxXSkpfXJldHVybiB1fXZhciBMZz1uZXcgYWksa2c9bmV3IGFpLFBnPW5ldyBhaSxPZz1uZXcgYWksUmc9bmV3IGFpO2Z1bmN0aW9uIE5nKHQsZSl7aWYodCl7dmFyIG49dC5nZXRUZXh0R3VpZGVMaW5lKCksaT10LmdldFRleHRDb250ZW50KCk7aWYoaSYmbil7dmFyIHI9dC50ZXh0R3VpZGVMaW5lQ29uZmlnfHx7fSxvPVtbMCwwXSxbMCwwXSxbMCwwXV0sYT1yLmNhbmRpZGF0ZXN8fHdnLHM9aS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3MuYXBwbHlUcmFuc2Zvcm0oaS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpKTt2YXIgbD0xLzAsdT1yLmFuY2hvcixoPXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSxjPWgmJlpuKFtdLGgpLHA9ZS5nZXQoImxlbmd0aDIiKXx8MDt1JiZQZy5jb3B5KHUpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtTZyhhW2RdLDAscyxMZyxPZyksYWkuc2NhbGVBbmRBZGQoa2csTGcsT2cscCksa2cudHJhbnNmb3JtKGMpO3ZhciBmPXQuZ2V0Qm91bmRpbmdSZWN0KCksZz11P3UuZGlzdGFuY2Uoa2cpOnQgaW5zdGFuY2VvZiBLYT9BZyhrZyx0LnBhdGgsUGcpOkRnKGtnLGYsUGcpO2c8bCYmKGw9ZyxrZy50cmFuc2Zvcm0oaCksUGcudHJhbnNmb3JtKGgpLFBnLnRvQXJyYXkob1swXSksa2cudG9BcnJheShvWzFdKSxMZy50b0FycmF5KG9bMl0pKX1WZyhvLGUuZ2V0KCJtaW5UdXJuQW5nbGUiKSksbi5zZXRTaGFwZSh7cG9pbnRzOm99KX19fXZhciB6Zz1bXSxFZz1uZXcgYWk7ZnVuY3Rpb24gVmcodCxlKXtpZihlPD0xODAmJmU+MCl7ZT1lLzE4MCpNYXRoLlBJLExnLmZyb21BcnJheSh0WzBdKSxrZy5mcm9tQXJyYXkodFsxXSksUGcuZnJvbUFycmF5KHRbMl0pLGFpLnN1YihPZyxMZyxrZyksYWkuc3ViKFJnLFBnLGtnKTt2YXIgbj1PZy5sZW4oKSxpPVJnLmxlbigpO2lmKCEobjwuMDAxfHxpPC4wMDEpKXtPZy5zY2FsZSgxL24pLFJnLnNjYWxlKDEvaSk7dmFyIHI9T2cuZG90KFJnKTtpZihNYXRoLmNvcyhlKTxyKXt2YXIgbz1JZyhrZy54LGtnLnksUGcueCxQZy55LExnLngsTGcueSx6ZywhMSk7RWcuZnJvbUFycmF5KHpnKSxFZy5zY2FsZUFuZEFkZChSZyxvL01hdGgudGFuKE1hdGguUEktZSkpO3ZhciBhPVBnLnghPT1rZy54PyhFZy54LWtnLngpLyhQZy54LWtnLngpOihFZy55LWtnLnkpLyhQZy55LWtnLnkpO2lmKGlzTmFOKGEpKXJldHVybjthPDA/YWkuY29weShFZyxrZyk6YT4xJiZhaS5jb3B5KEVnLFBnKSxFZy50b0FycmF5KHRbMV0pfX19fWZ1bmN0aW9uIEJnKHQsZSxuKXtpZihuPD0xODAmJm4+MCl7bj1uLzE4MCpNYXRoLlBJLExnLmZyb21BcnJheSh0WzBdKSxrZy5mcm9tQXJyYXkodFsxXSksUGcuZnJvbUFycmF5KHRbMl0pLGFpLnN1YihPZyxrZyxMZyksYWkuc3ViKFJnLFBnLGtnKTt2YXIgaT1PZy5sZW4oKSxyPVJnLmxlbigpO2lmKCEoaTwuMDAxfHxyPC4wMDEpKWlmKE9nLnNjYWxlKDEvaSksUmcuc2NhbGUoMS9yKSxPZy5kb3QoZSk8TWF0aC5jb3Mobikpe3ZhciBvPUlnKGtnLngsa2cueSxQZy54LFBnLnksTGcueCxMZy55LHpnLCExKTtFZy5mcm9tQXJyYXkoemcpO3ZhciBhPU1hdGguUEkvMixzPWErTWF0aC5hY29zKFJnLmRvdChlKSktbjtpZihzPj1hKWFpLmNvcHkoRWcsUGcpO2Vsc2V7RWcuc2NhbGVBbmRBZGQoUmcsby9NYXRoLnRhbihNYXRoLlBJLzItcykpO3ZhciBsPVBnLnghPT1rZy54PyhFZy54LWtnLngpLyhQZy54LWtnLngpOihFZy55LWtnLnkpLyhQZy55LWtnLnkpO2lmKGlzTmFOKGwpKXJldHVybjtsPDA/YWkuY29weShFZyxrZyk6bD4xJiZhaS5jb3B5KEVnLFBnKX1FZy50b0FycmF5KHRbMV0pfX19ZnVuY3Rpb24gRmcodCxlLG4saSl7dmFyIHI9Im5vcm1hbCI9PT1uLG89cj90OnQuZW5zdXJlU3RhdGUobik7by5pZ25vcmU9ZTt2YXIgYT1pLmdldCgic21vb3RoIik7YSYmITA9PT1hJiYoYT0uMyksby5zaGFwZT1vLnNoYXBlfHx7fSxhPjAmJihvLnNoYXBlLnNtb290aD1hKTt2YXIgcz1pLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTtyP3QudXNlU3R5bGUocyk6by5zdHlsZT1zfWZ1bmN0aW9uIEdnKHQsZSl7dmFyIG49ZS5zbW9vdGgsaT1lLnBvaW50cztpZihpKWlmKHQubW92ZVRvKGlbMF1bMF0saVswXVsxXSksbj4wJiZpLmxlbmd0aD49Myl7dmFyIHI9THQoaVswXSxpWzFdKSxvPUx0KGlbMV0saVsyXSk7aWYoIXJ8fCFvKXJldHVybiB0LmxpbmVUbyhpWzFdWzBdLGlbMV1bMV0pLHZvaWQgdC5saW5lVG8oaVsyXVswXSxpWzJdWzFdKTt2YXIgYT1NYXRoLm1pbihyLG8pKm4scz1PdChbXSxpWzFdLGlbMF0sYS9yKSxsPU90KFtdLGlbMV0saVsyXSxhL28pLHU9T3QoW10scyxsLC41KTt0LmJlemllckN1cnZlVG8oc1swXSxzWzFdLHNbMF0sc1sxXSx1WzBdLHVbMV0pLHQuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sbFswXSxsWzFdLGlbMl1bMF0saVsyXVsxXSl9ZWxzZSBmb3IodmFyIGg9MTtoPGkubGVuZ3RoO2grKyl0LmxpbmVUbyhpW2hdWzBdLGlbaF1bMV0pfWZ1bmN0aW9uIEhnKHQsZSxuKXt2YXIgaT10LmdldFRleHRHdWlkZUxpbmUoKSxyPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihyKXtmb3IodmFyIG89ZS5ub3JtYWwsYT1vLmdldCgic2hvdyIpLHM9ci5pZ25vcmUsbD0wO2w8TXMubGVuZ3RoO2wrKyl7dmFyIHU9TXNbbF0saD1lW3VdLGM9Im5vcm1hbCI9PT11O2lmKGgpe3ZhciBwPWguZ2V0KCJzaG93Iik7aWYoKGM/czp0dChyLnN0YXRlc1t1XSYmci5zdGF0ZXNbdV0uaWdub3JlLHMpKXx8IXR0KHAsYSkpe3ZhciBkPWM/aTppJiZpLnN0YXRlcy5ub3JtYWw7ZCYmKGQuaWdub3JlPSEwKTtjb250aW51ZX1pfHwoaT1uZXcgYXUsdC5zZXRUZXh0R3VpZGVMaW5lKGkpLGN8fCFzJiZhfHxGZyhpLCEwLCJub3JtYWwiLGUubm9ybWFsKSx0LnN0YXRlUHJveHkmJihpLnN0YXRlUHJveHk9dC5zdGF0ZVByb3h5KSksRmcoaSwhMSx1LGgpfX1pZihpKXtUKGkuc3R5bGUsbiksaS5zdHlsZS5maWxsPW51bGw7dmFyIGY9by5nZXQoInNob3dBYm92ZSIpOyh0LnRleHRHdWlkZUxpbmVDb25maWc9dC50ZXh0R3VpZGVMaW5lQ29uZmlnfHx7fSkuc2hvd0Fib3ZlPWZ8fCExLGkuYnVpbGRQYXRoPUdnfX1lbHNlIGkmJnQucmVtb3ZlVGV4dEd1aWRlTGluZSgpfWZ1bmN0aW9uIFdnKHQsZSl7ZT1lfHwibGFiZWxMaW5lIjtmb3IodmFyIG49e25vcm1hbDp0LmdldE1vZGVsKGUpfSxpPTA7aTxTcy5sZW5ndGg7aSsrKXt2YXIgcj1Tc1tpXTtuW3JdPXQuZ2V0TW9kZWwoW3IsZV0pfXJldHVybiBufWZ1bmN0aW9uIFVnKHQsZSxuLGkscixvKXt2YXIgYT10Lmxlbmd0aDtpZighKGE8Mikpe3Quc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5yZWN0W2VdLW4ucmVjdFtlXX0pKTtmb3IodmFyIHMsbD0wLHU9ITEsaD0wLGM9MDtjPGE7YysrKXt2YXIgcD10W2NdLGQ9cC5yZWN0OyhzPWRbZV0tbCk8MCYmKGRbZV0tPXMscC5sYWJlbFtlXS09cyx1PSEwKSxoKz1NYXRoLm1heCgtcywwKSxsPWRbZV0rZFtuXX1oPjAmJm8mJngoLWgvYSwwLGEpO3ZhciBmLGcseT10WzBdLHY9dFthLTFdO3JldHVybiBtKCksZjwwJiZiKC1mLC44KSxnPDAmJmIoZywuOCksbSgpLF8oZixnLDEpLF8oZyxmLC0xKSxtKCksZjwwJiZ3KC1mKSxnPDAmJncoZyksdX1mdW5jdGlvbiBtKCl7Zj15LnJlY3RbZV0taSxnPXItdi5yZWN0W2VdLXYucmVjdFtuXX1mdW5jdGlvbiBfKHQsZSxuKXtpZih0PDApe3ZhciBpPU1hdGgubWluKGUsLXQpO2lmKGk+MCl7eChpKm4sMCxhKTt2YXIgcj1pK3Q7cjwwJiZiKC1yKm4sMSl9ZWxzZSBiKC10Km4sMSl9fWZ1bmN0aW9uIHgobixpLHIpezAhPT1uJiYodT0hMCk7Zm9yKHZhciBvPWk7bzxyO28rKyl7dmFyIGE9dFtvXTthLnJlY3RbZV0rPW4sYS5sYWJlbFtlXSs9bn19ZnVuY3Rpb24gYihpLHIpe2Zvcih2YXIgbz1bXSxzPTAsbD0xO2w8YTtsKyspe3ZhciB1PXRbbC0xXS5yZWN0LGg9TWF0aC5tYXgodFtsXS5yZWN0W2VdLXVbZV0tdVtuXSwwKTtvLnB1c2goaCkscys9aH1pZihzKXt2YXIgYz1NYXRoLm1pbihNYXRoLmFicyhpKS9zLHIpO2lmKGk+MClmb3IobD0wO2w8YS0xO2wrKyl7eChvW2xdKmMsMCxsKzEpfWVsc2UgZm9yKGw9YS0xO2w+MDtsLS0pe3goLShvW2wtMV0qYyksbCxhKX19fWZ1bmN0aW9uIHcodCl7dmFyIGU9dDwwPy0xOjE7dD1NYXRoLmFicyh0KTtmb3IodmFyIG49TWF0aC5jZWlsKHQvKGEtMSkpLGk9MDtpPGEtMTtpKyspaWYoZT4wP3gobiwwLGkrMSk6eCgtbixhLWktMSxhKSwodC09bik8PTApcmV0dXJufX1mdW5jdGlvbiBYZyh0LGUsbixpKXtyZXR1cm4gVWcodCwieSIsImhlaWdodCIsZSxuLGkpfWZ1bmN0aW9uIFlnKHQpe2lmKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKHRbbl0uc2xpY2UoKSk7cmV0dXJuIGV9fWZ1bmN0aW9uIFpnKHQsZSl7dmFyIG49dC5sYWJlbCxpPWUmJmUuZ2V0VGV4dEd1aWRlTGluZSgpO3JldHVybntkYXRhSW5kZXg6dC5kYXRhSW5kZXgsZGF0YVR5cGU6dC5kYXRhVHlwZSxzZXJpZXNJbmRleDp0LnNlcmllc01vZGVsLnNlcmllc0luZGV4LHRleHQ6dC5sYWJlbC5zdHlsZS50ZXh0LHJlY3Q6dC5ob3N0UmVjdCxsYWJlbFJlY3Q6dC5yZWN0LGFsaWduOm4uc3R5bGUuYWxpZ24sdmVydGljYWxBbGlnbjpuLnN0eWxlLnZlcnRpY2FsQWxpZ24sbGFiZWxMaW5lUG9pbnRzOllnKGkmJmkuc2hhcGUucG9pbnRzKX19dmFyIGpnPVsiYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwid2lkdGgiLCJoZWlnaHQiLCJmb250U2l6ZSJdLHFnPW5ldyBvaSxLZz1rcigpLCRnPWtyKCk7ZnVuY3Rpb24gSmcodCxlLG4pe2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO251bGwhPWVbcl0mJih0W3JdPWVbcl0pfX12YXIgUWc9WyJ4IiwieSIsInJvdGF0aW9uIl0sdHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fbGFiZWxMaXN0PVtdLHRoaXMuX2NoYXJ0Vmlld0xpc3Q9W119cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyTGFiZWxzPWZ1bmN0aW9uKCl7dGhpcy5fbGFiZWxMaXN0PVtdLHRoaXMuX2NoYXJ0Vmlld0xpc3Q9W119LHQucHJvdG90eXBlLl9hZGRMYWJlbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWkuc3R5bGUsYT1pLl9faG9zdFRhcmdldC50ZXh0Q29uZmlnfHx7fSxzPWkuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSxsPWkuZ2V0Qm91bmRpbmdSZWN0KCkucGxhaW4oKTtnaS5hcHBseVRyYW5zZm9ybShsLGwscykscz9xZy5zZXRMb2NhbFRyYW5zZm9ybShzKToocWcueD1xZy55PXFnLnJvdGF0aW9uPXFnLm9yaWdpblg9cWcub3JpZ2luWT0wLHFnLnNjYWxlWD1xZy5zY2FsZVk9MSk7dmFyIHUsaD1pLl9faG9zdFRhcmdldDtpZihoKXt1PWguZ2V0Qm91bmRpbmdSZWN0KCkucGxhaW4oKTt2YXIgYz1oLmdldENvbXB1dGVkVHJhbnNmb3JtKCk7Z2kuYXBwbHlUcmFuc2Zvcm0odSx1LGMpfXZhciBwPXUmJmguZ2V0VGV4dEd1aWRlTGluZSgpO3RoaXMuX2xhYmVsTGlzdC5wdXNoKHtsYWJlbDppLGxhYmVsTGluZTpwLHNlcmllc01vZGVsOm4sZGF0YUluZGV4OnQsZGF0YVR5cGU6ZSxsYXlvdXRPcHRpb246cixjb21wdXRlZExheW91dE9wdGlvbjpudWxsLHJlY3Q6bCxob3N0UmVjdDp1LHByaW9yaXR5OnU/dS53aWR0aCp1LmhlaWdodDowLGRlZmF1bHRBdHRyOntpZ25vcmU6aS5pZ25vcmUsbGFiZWxHdWlkZUlnbm9yZTpwJiZwLmlnbm9yZSx4OnFnLngseTpxZy55LHNjYWxlWDpxZy5zY2FsZVgsc2NhbGVZOnFnLnNjYWxlWSxyb3RhdGlvbjpxZy5yb3RhdGlvbixzdHlsZTp7eDpvLngseTpvLnksYWxpZ246by5hbGlnbix2ZXJ0aWNhbEFsaWduOm8udmVydGljYWxBbGlnbix3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCxmb250U2l6ZTpvLmZvbnRTaXplfSxjdXJzb3I6aS5jdXJzb3IsYXR0YWNoZWRQb3M6YS5wb3NpdGlvbixhdHRhY2hlZFJvdDphLnJvdGF0aW9ufX0pfSx0LnByb3RvdHlwZS5hZGRMYWJlbHNPZlNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NoYXJ0Vmlld0xpc3QucHVzaCh0KTt2YXIgbj10Ll9fbW9kZWwsaT1uLmdldCgibGFiZWxMYXlvdXQiKTsoRyhpKXx8RShpKS5sZW5ndGgpJiZ0Lmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0Lmlnbm9yZSlyZXR1cm4hMDt2YXIgcj10LmdldFRleHRDb250ZW50KCksbz1fcyh0KTtyJiYhci5kaXNhYmxlTGFiZWxMYXlvdXQmJmUuX2FkZExhYmVsKG8uZGF0YUluZGV4LG8uZGF0YVR5cGUsbixyLGkpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXRDb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRXaWR0aCgpLG49dC5nZXRIZWlnaHQoKTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7TmcodCxlKX19Zm9yKHZhciByPTA7cjx0aGlzLl9sYWJlbExpc3QubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5fbGFiZWxMaXN0W3JdLGE9by5sYWJlbCxzPWEuX19ob3N0VGFyZ2V0LGw9by5kZWZhdWx0QXR0cix1PXZvaWQgMDt1PSh1PSJmdW5jdGlvbiI9PXR5cGVvZiBvLmxheW91dE9wdGlvbj9vLmxheW91dE9wdGlvbihaZyhvLHMpKTpvLmxheW91dE9wdGlvbil8fHt9LG8uY29tcHV0ZWRMYXlvdXRPcHRpb249dTt2YXIgaD1NYXRoLlBJLzE4MDtzJiZzLnNldFRleHRDb25maWcoe2xvY2FsOiExLHBvc2l0aW9uOm51bGwhPXUueHx8bnVsbCE9dS55P251bGw6bC5hdHRhY2hlZFBvcyxyb3RhdGlvbjpudWxsIT11LnJvdGF0ZT91LnJvdGF0ZSpoOmwuYXR0YWNoZWRSb3Qsb2Zmc2V0Olt1LmR4fHwwLHUuZHl8fDBdfSk7dmFyIGM9ITE7aWYobnVsbCE9dS54PyhhLng9WmkodS54LGUpLGEuc2V0U3R5bGUoIngiLDApLGM9ITApOihhLng9bC54LGEuc2V0U3R5bGUoIngiLGwuc3R5bGUueCkpLG51bGwhPXUueT8oYS55PVppKHUueSxuKSxhLnNldFN0eWxlKCJ5IiwwKSxjPSEwKTooYS55PWwueSxhLnNldFN0eWxlKCJ5IixsLnN0eWxlLnkpKSx1LmxhYmVsTGluZVBvaW50cyl7dmFyIHA9cy5nZXRUZXh0R3VpZGVMaW5lKCk7cCYmKHAuc2V0U2hhcGUoe3BvaW50czp1LmxhYmVsTGluZVBvaW50c30pLGM9ITEpfUtnKGEpLm5lZWRzVXBkYXRlTGFiZWxMaW5lPWMsYS5yb3RhdGlvbj1udWxsIT11LnJvdGF0ZT91LnJvdGF0ZSpoOmwucm90YXRpb24sYS5zY2FsZVg9bC5zY2FsZVgsYS5zY2FsZVk9bC5zY2FsZVk7Zm9yKHZhciBkPTA7ZDxqZy5sZW5ndGg7ZCsrKXt2YXIgZj1qZ1tkXTthLnNldFN0eWxlKGYsbnVsbCE9dVtmXT91W2ZdOmwuc3R5bGVbZl0pfWlmKHUuZHJhZ2dhYmxlKXtpZihhLmRyYWdnYWJsZT0hMCxhLmN1cnNvcj0ibW92ZSIscyl7dmFyIGc9by5zZXJpZXNNb2RlbDtpZihudWxsIT1vLmRhdGFJbmRleClnPW8uc2VyaWVzTW9kZWwuZ2V0RGF0YShvLmRhdGFUeXBlKS5nZXRJdGVtTW9kZWwoby5kYXRhSW5kZXgpO2Eub24oImRyYWciLGkocyxnLmdldE1vZGVsKCJsYWJlbExpbmUiKSkpfX1lbHNlIGEub2ZmKCJkcmFnIiksYS5jdXJzb3I9bC5jdXJzb3J9fSx0LnByb3RvdHlwZS5sYXlvdXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10LmdldFdpZHRoKCksaT10LmdldEhlaWdodCgpLHI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZighaS5kZWZhdWx0QXR0ci5pZ25vcmUpe3ZhciByPWkubGFiZWwsbz1yLmdldENvbXB1dGVkVHJhbnNmb3JtKCksYT1yLmdldEJvdW5kaW5nUmVjdCgpLHM9IW98fG9bMV08MWUtNSYmb1syXTwxZS01LGw9ci5zdHlsZS5tYXJnaW58fDAsdT1hLmNsb25lKCk7dS5hcHBseVRyYW5zZm9ybShvKSx1LngtPWwvMix1LnktPWwvMix1LndpZHRoKz1sLHUuaGVpZ2h0Kz1sO3ZhciBoPXM/bmV3IE11KGEsbyk6bnVsbDtlLnB1c2goe2xhYmVsOnIsbGFiZWxMaW5lOmkubGFiZWxMaW5lLHJlY3Q6dSxsb2NhbFJlY3Q6YSxvYmI6aCxwcmlvcml0eTppLnByaW9yaXR5LGRlZmF1bHRBdHRyOmkuZGVmYXVsdEF0dHIsbGF5b3V0T3B0aW9uOmkuY29tcHV0ZWRMYXlvdXRPcHRpb24sYXhpc0FsaWduZWQ6cyx0cmFuc2Zvcm06b30pfX1yZXR1cm4gZX0odGhpcy5fbGFiZWxMaXN0KSxvPU4ociwoZnVuY3Rpb24odCl7cmV0dXJuInNoaWZ0WCI9PT10LmxheW91dE9wdGlvbi5tb3ZlT3ZlcmxhcH0pKSxhPU4ociwoZnVuY3Rpb24odCl7cmV0dXJuInNoaWZ0WSI9PT10LmxheW91dE9wdGlvbi5tb3ZlT3ZlcmxhcH0pKTtVZyhvLCJ4Iiwid2lkdGgiLDAsbixlKSxYZyhhLDAsaSksZnVuY3Rpb24odCl7dmFyIGU9W107dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW9yaXR5LXQucHJpb3JpdHl9KSk7dmFyIG49bmV3IGdpKDAsMCwwLDApO2Z1bmN0aW9uIGkodCl7aWYoIXQuaWdub3JlKXt2YXIgZT10LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpO251bGw9PWUuaWdub3JlJiYoZS5pZ25vcmU9ITEpfXQuaWdub3JlPSEwfWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdLGE9by5heGlzQWxpZ25lZCxzPW8ubG9jYWxSZWN0LGw9by50cmFuc2Zvcm0sdT1vLmxhYmVsLGg9by5sYWJlbExpbmU7bi5jb3B5KG8ucmVjdCksbi53aWR0aC09LjEsbi5oZWlnaHQtPS4xLG4ueCs9LjA1LG4ueSs9LjA1O2Zvcih2YXIgYz1vLm9iYixwPSExLGQ9MDtkPGUubGVuZ3RoO2QrKyl7dmFyIGY9ZVtkXTtpZihuLmludGVyc2VjdChmLnJlY3QpKXtpZihhJiZmLmF4aXNBbGlnbmVkKXtwPSEwO2JyZWFrfWlmKGYub2JifHwoZi5vYmI9bmV3IE11KGYubG9jYWxSZWN0LGYudHJhbnNmb3JtKSksY3x8KGM9bmV3IE11KHMsbCkpLGMuaW50ZXJzZWN0KGYub2JiKSl7cD0hMDticmVha319fXA/KGkodSksaCYmaShoKSk6KHUuYXR0cigiaWdub3JlIixvLmRlZmF1bHRBdHRyLmlnbm9yZSksaCYmaC5hdHRyKCJpZ25vcmUiLG8uZGVmYXVsdEF0dHIubGFiZWxHdWlkZUlnbm9yZSksZS5wdXNoKG8pKX19KE4ociwoZnVuY3Rpb24odCl7cmV0dXJuIHQubGF5b3V0T3B0aW9uLmhpZGVPdmVybGFwfSkpKX0sdC5wcm90b3R5cGUucHJvY2Vzc0xhYmVsc092ZXJhbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO1AodGhpcy5fY2hhcnRWaWV3TGlzdCwoZnVuY3Rpb24oZSl7dmFyIG49ZS5fX21vZGVsLGk9ZS5pZ25vcmVMYWJlbExpbmVVcGRhdGUscj1uLmlzQW5pbWF0aW9uRW5hYmxlZCgpO2UuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKGUpe2lmKGUuaWdub3JlKXJldHVybiEwO3ZhciBvPSFpLGE9ZS5nZXRUZXh0Q29udGVudCgpOyFvJiZhJiYobz1LZyhhKS5uZWVkc1VwZGF0ZUxhYmVsTGluZSksbyYmdC5fdXBkYXRlTGFiZWxMaW5lKGUsbiksciYmdC5fYW5pbWF0ZUxhYmVscyhlLG4pfSkpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlTGFiZWxMaW5lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRUZXh0Q29udGVudCgpLGk9X3ModCkscj1pLmRhdGFJbmRleDtpZihuJiZudWxsIT1yKXt2YXIgbz1lLmdldERhdGEoaS5kYXRhVHlwZSksYT1vLmdldEl0ZW1Nb2RlbChyKSxzPXt9LGw9by5nZXRJdGVtVmlzdWFsKHIsInN0eWxlIiksdT1vLmdldFZpc3VhbCgiZHJhd1R5cGUiKTtzLnN0cm9rZT1sW3VdO3ZhciBoPWEuZ2V0TW9kZWwoImxhYmVsTGluZSIpO0hnKHQsV2coYSkscyksTmcodCxoKX19LHQucHJvdG90eXBlLl9hbmltYXRlTGFiZWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRUZXh0Q29udGVudCgpLGk9dC5nZXRUZXh0R3VpZGVMaW5lKCk7aWYobiYmIW4uaWdub3JlJiYhbi5pbnZpc2libGUmJiF0LmRpc2FibGVMYWJlbEFuaW1hdGlvbiYmIVp1KHQpKXt2YXIgcj0oZD1LZyhuKSkub2xkTGF5b3V0LG89X3ModCksYT1vLmRhdGFJbmRleCxzPXt4Om4ueCx5Om4ueSxyb3RhdGlvbjpuLnJvdGF0aW9ufSxsPWUuZ2V0RGF0YShvLmRhdGFUeXBlKTtpZihyKXtuLmF0dHIocik7dmFyIHU9dC5wcmV2U3RhdGVzO3UmJihEKHUsInNlbGVjdCIpPj0wJiZuLmF0dHIoZC5vbGRMYXlvdXRTZWxlY3QpLEQodSwiZW1waGFzaXMiKT49MCYmbi5hdHRyKGQub2xkTGF5b3V0RW1waGFzaXMpKSxIdShuLHMsZSxhKX1lbHNlIGlmKG4uYXR0cihzKSwhX2gobikudmFsdWVBbmltYXRpb24pe3ZhciBoPXR0KG4uc3R5bGUub3BhY2l0eSwxKTtuLnN0eWxlLm9wYWNpdHk9MCxXdShuLHtzdHlsZTp7b3BhY2l0eTpofX0sZSxhKX1pZihkLm9sZExheW91dD1zLG4uc3RhdGVzLnNlbGVjdCl7dmFyIGM9ZC5vbGRMYXlvdXRTZWxlY3Q9e307SmcoYyxzLFFnKSxKZyhjLG4uc3RhdGVzLnNlbGVjdCxRZyl9aWYobi5zdGF0ZXMuZW1waGFzaXMpe3ZhciBwPWQub2xkTGF5b3V0RW1waGFzaXM9e307SmcocCxzLFFnKSxKZyhwLG4uc3RhdGVzLmVtcGhhc2lzLFFnKX1iaChuLGEsbCxlLGUpfWlmKGkmJiFpLmlnbm9yZSYmIWkuaW52aXNpYmxlKXtyPShkPSRnKGkpKS5vbGRMYXlvdXQ7dmFyIGQsZj17cG9pbnRzOmkuc2hhcGUucG9pbnRzfTtyPyhpLmF0dHIoe3NoYXBlOnJ9KSxIdShpLHtzaGFwZTpmfSxlKSk6KGkuc2V0U2hhcGUoZiksaS5zdHlsZS5zdHJva2VQZXJjZW50PTAsV3UoaSx7c3R5bGU6e3N0cm9rZVBlcmNlbnQ6MX19LGUpKSxkLm9sZExheW91dD1mfX0sdH0oKTtmdW5jdGlvbiBleSh0LGUpe2Z1bmN0aW9uIG4oZSxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOnQscXVlcnk6bn0sKGZ1bmN0aW9uKHQpe2kucHVzaCh0LnNlcmllc0luZGV4KX0pKSxpfVAoW1t0KyJUb2dnbGVTZWxlY3QiLCJ0b2dnbGVTZWxlY3QiXSxbdCsiU2VsZWN0Iiwic2VsZWN0Il0sW3QrIlVuU2VsZWN0IiwidW5zZWxlY3QiXV0sKGZ1bmN0aW9uKHQpe2UodFswXSwoZnVuY3Rpb24oZSxpLHIpe2U9SSh7fSxlKSxyLmRpc3BhdGNoQWN0aW9uKEkoZSx7dHlwZTp0WzFdLHNlcmllc0luZGV4Om4oaSxlKX0pKX0pKX0pKX1mdW5jdGlvbiBueSh0LGUsbixpLHIpe3ZhciBvPXQrZTtuLmlzU2lsZW50KG8pfHxpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InBpZSJ9LChmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zZXJpZXNJbmRleCxpPXIuc2VsZWN0ZWQsYT0wO2E8aS5sZW5ndGg7YSsrKWlmKGlbYV0uc2VyaWVzSW5kZXg9PT1lKXt2YXIgcz10LmdldERhdGEoKSxsPUxyKHMsci5mcm9tQWN0aW9uUGF5bG9hZCk7bi50cmlnZ2VyKG8se3R5cGU6byxzZXJpZXNJZDp0LmlkLG5hbWU6RihsKT9zLmdldE5hbWUobFswXSk6cy5nZXROYW1lKGwpLHNlbGVjdGVkOkkoe30sdC5vcHRpb24uc2VsZWN0ZWRNYXApfSl9fSkpfWZ1bmN0aW9uIGl5KHQsZSxuKXtmb3IodmFyIGk7dCYmKCFlKHQpfHwoaT10LCFuKSk7KXQ9dC5fX2hvc3RUYXJnZXR8fHQucGFyZW50O3JldHVybiBpfXZhciByeT1NYXRoLnJvdW5kKDkqTWF0aC5yYW5kb20oKSksb3k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5faWQ9Il9fZWNfaW5uZXJfIityeSsrfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ3VhcmQodCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eT9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0aGlzLl9pZCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pOm5bdGhpcy5faWRdPWUsdGhpc30sdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5oYXModCkmJihkZWxldGUgdGhpcy5fZ3VhcmQodClbdGhpcy5faWRdLCEwKX0sdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5fZ3VhcmQodClbdGhpcy5faWRdfSx0LnByb3RvdHlwZS5fZ3VhcmQ9ZnVuY3Rpb24odCl7aWYodCE9PU9iamVjdCh0KSl0aHJvdyBUeXBlRXJyb3IoIlZhbHVlIG9mIFdlYWtNYXAgaXMgbm90IGEgbm9uLW51bGwgb2JqZWN0LiIpO3JldHVybiB0fSx0fSgpLGF5PUthLmV4dGVuZCh7dHlwZToidHJpYW5nbGUiLHNoYXBlOntjeDowLGN5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1lLndpZHRoLzIsbz1lLmhlaWdodC8yO3QubW92ZVRvKG4saS1vKSx0LmxpbmVUbyhuK3IsaStvKSx0LmxpbmVUbyhuLXIsaStvKSx0LmNsb3NlUGF0aCgpfX0pLHN5PUthLmV4dGVuZCh7dHlwZToiZGlhbW9uZCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPWUud2lkdGgvMixvPWUuaGVpZ2h0LzI7dC5tb3ZlVG8obixpLW8pLHQubGluZVRvKG4rcixpKSx0LmxpbmVUbyhuLGkrbyksdC5saW5lVG8obi1yLGkpLHQuY2xvc2VQYXRoKCl9fSksbHk9S2EuZXh0ZW5kKHt0eXBlOiJwaW4iLHNoYXBlOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUueCxpPWUueSxyPWUud2lkdGgvNSozLG89TWF0aC5tYXgocixlLmhlaWdodCksYT1yLzIscz1hKmEvKG8tYSksbD1pLW8rYStzLHU9TWF0aC5hc2luKHMvYSksaD1NYXRoLmNvcyh1KSphLGM9TWF0aC5zaW4odSkscD1NYXRoLmNvcyh1KSxkPS42KmEsZj0uNyphO3QubW92ZVRvKG4taCxsK3MpLHQuYXJjKG4sbCxhLE1hdGguUEktdSwyKk1hdGguUEkrdSksdC5iZXppZXJDdXJ2ZVRvKG4raC1jKmQsbCtzK3AqZCxuLGktZixuLGkpLHQuYmV6aWVyQ3VydmVUbyhuLGktZixuLWgrYypkLGwrcytwKmQsbi1oLGwrcyksdC5jbG9zZVBhdGgoKX19KSx1eT1LYS5leHRlbmQoe3R5cGU6ImFycm93IixzaGFwZTp7eDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmhlaWdodCxpPWUud2lkdGgscj1lLngsbz1lLnksYT1pLzMqMjt0Lm1vdmVUbyhyLG8pLHQubGluZVRvKHIrYSxvK24pLHQubGluZVRvKHIsbytuLzQqMyksdC5saW5lVG8oci1hLG8rbiksdC5saW5lVG8ocixvKSx0LmNsb3NlUGF0aCgpfX0pLGh5PXtsaW5lOmZ1bmN0aW9uKHQsZSxuLGkscil7ci54MT10LHIueTE9ZStpLzIsci54Mj10K24sci55Mj1lK2kvMn0scmVjdDpmdW5jdGlvbih0LGUsbixpLHIpe3IueD10LHIueT1lLHIud2lkdGg9bixyLmhlaWdodD1pfSxyb3VuZFJlY3Q6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCxyLnk9ZSxyLndpZHRoPW4sci5oZWlnaHQ9aSxyLnI9TWF0aC5taW4obixpKS80fSxzcXVhcmU6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1NYXRoLm1pbihuLGkpO3IueD10LHIueT1lLHIud2lkdGg9byxyLmhlaWdodD1vfSxjaXJjbGU6ZnVuY3Rpb24odCxlLG4saSxyKXtyLmN4PXQrbi8yLHIuY3k9ZStpLzIsci5yPU1hdGgubWluKG4saSkvMn0sZGlhbW9uZDpmdW5jdGlvbih0LGUsbixpLHIpe3IuY3g9dCtuLzIsci5jeT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX0scGluOmZ1bmN0aW9uKHQsZSxuLGkscil7ci54PXQrbi8yLHIueT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX0sYXJyb3c6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCtuLzIsci55PWUraS8yLHIud2lkdGg9bixyLmhlaWdodD1pfSx0cmlhbmdsZTpmdW5jdGlvbih0LGUsbixpLHIpe3IuY3g9dCtuLzIsci5jeT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX19LGN5PXt9O1Aoe2xpbmU6dXUscmVjdDpscyxyb3VuZFJlY3Q6bHMsc3F1YXJlOmxzLGNpcmNsZTpObCxkaWFtb25kOnN5LHBpbjpseSxhcnJvdzp1eSx0cmlhbmdsZTpheX0sKGZ1bmN0aW9uKHQsZSl7Y3lbZV09bmV3IHR9KSk7dmFyIHB5PUthLmV4dGVuZCh7dHlwZToic3ltYm9sIixzaGFwZTp7c3ltYm9sVHlwZToiIix4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGNhbGN1bGF0ZVRleHRQb3NpdGlvbjpmdW5jdGlvbih0LGUsbil7dmFyIGk9VGkodCxlLG4pLHI9dGhpcy5zaGFwZTtyZXR1cm4gciYmInBpbiI9PT1yLnN5bWJvbFR5cGUmJiJpbnNpZGUiPT09ZS5wb3NpdGlvbiYmKGkueT1uLnkrLjQqbi5oZWlnaHQpLGl9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5zeW1ib2xUeXBlO2lmKCJub25lIiE9PWkpe3ZhciByPWN5W2ldO3J8fChyPWN5W2k9InJlY3QiXSksaHlbaV0oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LHIuc2hhcGUpLHIuYnVpbGRQYXRoKHQsci5zaGFwZSxuKX19fSk7ZnVuY3Rpb24gZHkodCxlKXtpZigiaW1hZ2UiIT09dGhpcy50eXBlKXt2YXIgbj10aGlzLnN0eWxlO3RoaXMuX19pc0VtcHR5QnJ1c2g/KG4uc3Ryb2tlPXQsbi5maWxsPWV8fCIjZmZmIixuLmxpbmVXaWR0aD0yKToibGluZSI9PT10aGlzLnNoYXBlLnN5bWJvbFR5cGU/bi5zdHJva2U9dDpuLmZpbGw9dCx0aGlzLm1hcmtSZWRyYXcoKX19ZnVuY3Rpb24gZnkodCxlLG4saSxyLG8sYSl7dmFyIHMsbD0wPT09dC5pbmRleE9mKCJlbXB0eSIpO3JldHVybiBsJiYodD10LnN1YnN0cig1LDEpLnRvTG93ZXJDYXNlKCkrdC5zdWJzdHIoNikpLChzPTA9PT10LmluZGV4T2YoImltYWdlOi8vIik/enUodC5zbGljZSg4KSxuZXcgZ2koZSxuLGksciksYT8iY2VudGVyIjoiY292ZXIiKTowPT09dC5pbmRleE9mKCJwYXRoOi8vIik/TnUodC5zbGljZSg3KSx7fSxuZXcgZ2koZSxuLGksciksYT8iY2VudGVyIjoiY292ZXIiKTpuZXcgcHkoe3NoYXBlOntzeW1ib2xUeXBlOnQseDplLHk6bix3aWR0aDppLGhlaWdodDpyfX0pKS5fX2lzRW1wdHlCcnVzaD1sLHMuc2V0Q29sb3I9ZHksbyYmcy5zZXRDb2xvcihvKSxzfWZ1bmN0aW9uIGd5KHQsZSxuKXtmb3IodmFyIGk9InJhZGlhbCI9PT1lLnR5cGU/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4ud2lkdGgscj1uLmhlaWdodCxvPU1hdGgubWluKGksciksYT1udWxsPT1lLng/LjU6ZS54LHM9bnVsbD09ZS55Py41OmUueSxsPW51bGw9PWUucj8uNTplLnI7cmV0dXJuIGUuZ2xvYmFsfHwoYT1hKmkrbi54LHM9cypyK24ueSxsKj1vKSx0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGEscywwLGEscyxsKX0odCxlLG4pOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1udWxsPT1lLng/MDplLngscj1udWxsPT1lLngyPzE6ZS54MixvPW51bGw9PWUueT8wOmUueSxhPW51bGw9PWUueTI/MDplLnkyO3JldHVybiBlLmdsb2JhbHx8KGk9aSpuLndpZHRoK24ueCxyPXIqbi53aWR0aCtuLngsbz1vKm4uaGVpZ2h0K24ueSxhPWEqbi5oZWlnaHQrbi55KSxpPWlzTmFOKGkpPzA6aSxyPWlzTmFOKHIpPzE6cixvPWlzTmFOKG8pPzA6byxhPWlzTmFOKGEpPzA6YSx0LmNyZWF0ZUxpbmVhckdyYWRpZW50KGksbyxyLGEpfSh0LGUsbikscj1lLmNvbG9yU3RvcHMsbz0wO288ci5sZW5ndGg7bysrKWkuYWRkQ29sb3JTdG9wKHJbb10ub2Zmc2V0LHJbb10uY29sb3IpO3JldHVybiBpfWZ1bmN0aW9uIHl5KHQsZSl7aWYodD09PWV8fCF0JiYhZSlyZXR1cm4hMTtpZighdHx8IWV8fHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITA7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSE9PWVbbl0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdnkodCxlKXtyZXR1cm4gdCYmInNvbGlkIiE9PXQmJmU+MD8oZT1lfHwxLCJkYXNoZWQiPT09dD9bNCplLDIqZV06ImRvdHRlZCI9PT10P1tlXTpVKHQpP1t0XTpGKHQpP3Q6bnVsbCk6bnVsbH12YXIgbXk9bmV3IExhKCEwKTtmdW5jdGlvbiBfeSh0KXt2YXIgZT10LnN0cm9rZTtyZXR1cm4hKG51bGw9PWV8fCJub25lIj09PWV8fCEodC5saW5lV2lkdGg+MCkpfWZ1bmN0aW9uIHh5KHQpe3ZhciBlPXQuZmlsbDtyZXR1cm4gbnVsbCE9ZSYmIm5vbmUiIT09ZX1mdW5jdGlvbiBieSh0LGUpe2lmKG51bGwhPWUuZmlsbE9wYWNpdHkmJjEhPT1lLmZpbGxPcGFjaXR5KXt2YXIgbj10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9ZS5maWxsT3BhY2l0eSplLm9wYWNpdHksdC5maWxsKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5maWxsKCl9ZnVuY3Rpb24gd3kodCxlKXtpZihudWxsIT1lLnN0cm9rZU9wYWNpdHkmJjEhPT1lLnN0cm9rZU9wYWNpdHkpe3ZhciBuPXQuZ2xvYmFsQWxwaGE7dC5nbG9iYWxBbHBoYT1lLnN0cm9rZU9wYWNpdHkqZS5vcGFjaXR5LHQuc3Ryb2tlKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5zdHJva2UoKX1mdW5jdGlvbiBTeSh0LGUsbil7dmFyIGk9bm8oZS5pbWFnZSxlLl9faW1hZ2Usbik7aWYocm8oaSkpe3ZhciByPXQuY3JlYXRlUGF0dGVybihpLGUucmVwZWF0fHwicmVwZWF0Iik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIERPTU1hdHJpeCYmci5zZXRUcmFuc2Zvcm0pe3ZhciBvPW5ldyBET01NYXRyaXg7by5yb3RhdGVTZWxmKDAsMCwoZS5yb3RhdGlvbnx8MCkvTWF0aC5QSSoxODApLG8uc2NhbGVTZWxmKGUuc2NhbGVYfHwxLGUuc2NhbGVZfHwxKSxvLnRyYW5zbGF0ZVNlbGYoZS54fHwwLGUueXx8MCksci5zZXRUcmFuc2Zvcm0obyl9cmV0dXJuIHJ9fXZhciBNeT1bInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdLEl5PVtbImxpbmVDYXAiLCJidXR0Il0sWyJsaW5lSm9pbiIsIm1pdGVyIl0sWyJtaXRlckxpbWl0IiwxMF1dO2Z1bmN0aW9uIFR5KHQsZSxuLGkscil7dmFyIG89ITE7aWYoIWkmJmU9PT0obj1ufHx7fSkpcmV0dXJuITE7aWYoaXx8ZS5vcGFjaXR5IT09bi5vcGFjaXR5KXtvfHwoQXkodCxyKSxvPSEwKTt2YXIgYT1NYXRoLm1heChNYXRoLm1pbihlLm9wYWNpdHksMSksMCk7dC5nbG9iYWxBbHBoYT1pc05hTihhKT9fby5vcGFjaXR5OmF9KGl8fGUuYmxlbmQhPT1uLmJsZW5kKSYmKG98fChBeSh0LHIpLG89ITApLHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPWUuYmxlbmR8fF9vLmJsZW5kKTtmb3IodmFyIHM9MDtzPE15Lmxlbmd0aDtzKyspe3ZhciBsPU15W3NdOyhpfHxlW2xdIT09bltsXSkmJihvfHwoQXkodCxyKSxvPSEwKSx0W2xdPXQuZHByKihlW2xdfHwwKSl9cmV0dXJuKGl8fGUuc2hhZG93Q29sb3IhPT1uLnNoYWRvd0NvbG9yKSYmKG98fChBeSh0LHIpLG89ITApLHQuc2hhZG93Q29sb3I9ZS5zaGFkb3dDb2xvcnx8X28uc2hhZG93Q29sb3IpLG99ZnVuY3Rpb24gQ3kodCxlLG4saSxyKXt2YXIgbz1MeShlLHIuaW5Ib3ZlciksYT1pP251bGw6biYmTHkobixyLmluSG92ZXIpfHx7fTtpZihvPT09YSlyZXR1cm4hMTt2YXIgcz1UeSh0LG8sYSxpLHIpO2lmKChpfHxvLmZpbGwhPT1hLmZpbGwpJiYoc3x8KEF5KHQscikscz0hMCksdC5maWxsU3R5bGU9by5maWxsKSwoaXx8by5zdHJva2UhPT1hLnN0cm9rZSkmJihzfHwoQXkodCxyKSxzPSEwKSx0LnN0cm9rZVN0eWxlPW8uc3Ryb2tlKSwoaXx8by5vcGFjaXR5IT09YS5vcGFjaXR5KSYmKHN8fChBeSh0LHIpLHM9ITApLHQuZ2xvYmFsQWxwaGE9bnVsbD09by5vcGFjaXR5PzE6by5vcGFjaXR5KSxlLmhhc1N0cm9rZSgpKXt2YXIgbD1vLmxpbmVXaWR0aC8oby5zdHJva2VOb1NjYWxlJiZlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjEpO3QubGluZVdpZHRoIT09bCYmKHN8fChBeSh0LHIpLHM9ITApLHQubGluZVdpZHRoPWwpfWZvcih2YXIgdT0wO3U8SXkubGVuZ3RoO3UrKyl7dmFyIGg9SXlbdV0sYz1oWzBdOyhpfHxvW2NdIT09YVtjXSkmJihzfHwoQXkodCxyKSxzPSEwKSx0W2NdPW9bY118fGhbMV0pfXJldHVybiBzfWZ1bmN0aW9uIER5KHQsZSl7dmFyIG49ZS50cmFuc2Zvcm0saT10LmRwcnx8MTtuP3Quc2V0VHJhbnNmb3JtKGkqblswXSxpKm5bMV0saSpuWzJdLGkqblszXSxpKm5bNF0saSpuWzVdKTp0LnNldFRyYW5zZm9ybShpLDAsMCxpLDAsMCl9ZnVuY3Rpb24gQXkodCxlKXtlLmJhdGNoRmlsbCYmdC5maWxsKCksZS5iYXRjaFN0cm9rZSYmdC5zdHJva2UoKSxlLmJhdGNoRmlsbD0iIixlLmJhdGNoU3Ryb2tlPSIifWZ1bmN0aW9uIEx5KHQsZSl7cmV0dXJuIGUmJnQuX19ob3ZlclN0eWxlfHx0LnN0eWxlfWZ1bmN0aW9uIGt5KHQsZSl7UHkodCxlLHtpbkhvdmVyOiExLHZpZXdXaWR0aDowLHZpZXdIZWlnaHQ6MH0sITApfWZ1bmN0aW9uIFB5KHQsZSxuLGkpe3ZhciByPWUudHJhbnNmb3JtO2lmKCFlLnNob3VsZEJlUGFpbnRlZChuLnZpZXdXaWR0aCxuLnZpZXdIZWlnaHQsITEsITEpKXJldHVybiBlLl9fZGlydHkmPS0yLHZvaWQoZS5fX2lzUmVuZGVyZWQ9ITEpO3ZhciBvPWUuX19jbGlwUGF0aHMsYT1uLnByZXZFbENsaXBQYXRocyxzPSExLGw9ITE7aWYoYSYmIXl5KG8sYSl8fChhJiZhLmxlbmd0aCYmKEF5KHQsbiksdC5yZXN0b3JlKCksbD1zPSEwLG4ucHJldkVsQ2xpcFBhdGhzPW51bGwsbi5hbGxDbGlwcGVkPSExLG4ucHJldkVsPW51bGwpLG8mJm8ubGVuZ3RoJiYoQXkodCxuKSx0LnNhdmUoKSxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtpPWl8fG8uaXNaZXJvQXJlYSgpLER5KGUsbyksZS5iZWdpblBhdGgoKSxvLmJ1aWxkUGF0aChlLG8uc2hhcGUpLGUuY2xpcCgpfW4uYWxsQ2xpcHBlZD1pfShvLHQsbikscz0hMCksbi5wcmV2RWxDbGlwUGF0aHM9byksbi5hbGxDbGlwcGVkKWUuX19pc1JlbmRlcmVkPSExO2Vsc2V7ZS5iZWZvcmVCcnVzaCYmZS5iZWZvcmVCcnVzaCgpLGUuaW5uZXJCZWZvcmVCcnVzaCgpO3ZhciB1PW4ucHJldkVsO3V8fChsPXM9ITApO3ZhciBoLGMscD1lIGluc3RhbmNlb2YgS2EmJmUuYXV0b0JhdGNoJiZmdW5jdGlvbih0KXt2YXIgZT14eSh0KSxuPV95KHQpO3JldHVybiEodC5saW5lRGFzaHx8ISgrZV4rbil8fGUmJiJzdHJpbmciIT10eXBlb2YgdC5maWxsfHxuJiYic3RyaW5nIiE9dHlwZW9mIHQuc3Ryb2tlfHx0LnN0cm9rZVBlcmNlbnQ8MXx8dC5zdHJva2VPcGFjaXR5PDF8fHQuZmlsbE9wYWNpdHk8MSl9KGUuc3R5bGUpO3N8fChoPXIsYz11LnRyYW5zZm9ybSxoJiZjP2hbMF0hPT1jWzBdfHxoWzFdIT09Y1sxXXx8aFsyXSE9PWNbMl18fGhbM10hPT1jWzNdfHxoWzRdIT09Y1s0XXx8aFs1XSE9PWNbNV06aHx8Yyk/KEF5KHQsbiksRHkodCxlKSk6cHx8QXkodCxuKTt2YXIgZD1MeShlLG4uaW5Ib3Zlcik7ZSBpbnN0YW5jZW9mIEthPygxIT09bi5sYXN0RHJhd1R5cGUmJihsPSEwLG4ubGFzdERyYXdUeXBlPTEpLEN5KHQsZSx1LGwsbikscCYmKG4uYmF0Y2hGaWxsfHxuLmJhdGNoU3Ryb2tlKXx8dC5iZWdpblBhdGgoKSxmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1feShuKSxvPXh5KG4pLGE9bi5zdHJva2VQZXJjZW50LHM9YTwxLGw9IWUucGF0aDtlLnNpbGVudCYmIXN8fCFsfHxlLmNyZWF0ZVBhdGhQcm94eSgpO3ZhciB1PWUucGF0aHx8bXk7aWYoIWkpe3ZhciBoPW4uZmlsbCxjPW4uc3Ryb2tlLHA9byYmISFoLmNvbG9yU3RvcHMsZD1yJiYhIWMuY29sb3JTdG9wcyxmPW8mJiEhaC5pbWFnZSxnPXImJiEhYy5pbWFnZSx5PXZvaWQgMCx2PXZvaWQgMCxtPXZvaWQgMCxfPXZvaWQgMCx4PXZvaWQgMDsocHx8ZCkmJih4PWUuZ2V0Qm91bmRpbmdSZWN0KCkpLHAmJih5PWUuX19kaXJ0eT9neSh0LGgseCk6ZS5fX2NhbnZhc0ZpbGxHcmFkaWVudCxlLl9fY2FudmFzRmlsbEdyYWRpZW50PXkpLGQmJih2PWUuX19kaXJ0eT9neSh0LGMseCk6ZS5fX2NhbnZhc1N0cm9rZUdyYWRpZW50LGUuX19jYW52YXNTdHJva2VHcmFkaWVudD12KSxmJiYobT1lLl9fZGlydHl8fCFlLl9fY2FudmFzRmlsbFBhdHRlcm4/U3kodCxoLGUpOmUuX19jYW52YXNGaWxsUGF0dGVybixlLl9fY2FudmFzRmlsbFBhdHRlcm49bSksZyYmKF89ZS5fX2RpcnR5fHwhZS5fX2NhbnZhc1N0cm9rZVBhdHRlcm4/U3kodCxjLGUpOmUuX19jYW52YXNTdHJva2VQYXR0ZXJuLGUuX19jYW52YXNTdHJva2VQYXR0ZXJuPW0pLHA/dC5maWxsU3R5bGU9eTpmJiYobT90LmZpbGxTdHlsZT1tOm89ITEpLGQ/dC5zdHJva2VTdHlsZT12OmcmJihfP3Quc3Ryb2tlU3R5bGU9XzpyPSExKX12YXIgYj1uLmxpbmVEYXNoJiZuLmxpbmVXaWR0aD4wJiZ2eShuLmxpbmVEYXNoLG4ubGluZVdpZHRoKSx3PW4ubGluZURhc2hPZmZzZXQsUz0hIXQuc2V0TGluZURhc2gsTT1lLmdldEdsb2JhbFNjYWxlKCk7aWYodS5zZXRTY2FsZShNWzBdLE1bMV0sZS5zZWdtZW50SWdub3JlVGhyZXNob2xkKSxiKXt2YXIgST1uLnN0cm9rZU5vU2NhbGUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MTtJJiYxIT09SSYmKGI9TyhiLChmdW5jdGlvbih0KXtyZXR1cm4gdC9JfSkpLHcvPUkpfXZhciBUPSEwOyhsfHw0JmUuX19kaXJ0eXx8YiYmIVMmJnIpJiYodS5zZXREUFIodC5kcHIpLHM/dS5zZXRDb250ZXh0KG51bGwpOih1LnNldENvbnRleHQodCksVD0hMSksdS5yZXNldCgpLGImJiFTJiYodS5zZXRMaW5lRGFzaChiKSx1LnNldExpbmVEYXNoT2Zmc2V0KHcpKSxlLmJ1aWxkUGF0aCh1LGUuc2hhcGUsaSksdS50b1N0YXRpYygpLGUucGF0aFVwZGF0ZWQoKSksVCYmdS5yZWJ1aWxkUGF0aCh0LHM/YToxKSxiJiZTJiYodC5zZXRMaW5lRGFzaChiKSx0LmxpbmVEYXNoT2Zmc2V0PXcpLGl8fChuLnN0cm9rZUZpcnN0PyhyJiZ3eSh0LG4pLG8mJmJ5KHQsbikpOihvJiZieSh0LG4pLHImJnd5KHQsbikpKSxiJiZTJiZ0LnNldExpbmVEYXNoKFtdKX0odCxlLGQscCkscCYmKG4uYmF0Y2hGaWxsPWQuZmlsbHx8IiIsbi5iYXRjaFN0cm9rZT1kLnN0cm9rZXx8IiIpKTplIGluc3RhbmNlb2YgSmE/KDMhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9MyksQ3kodCxlLHUsbCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bi50ZXh0O2lmKG51bGwhPWkmJihpKz0iIiksaSl7dC5mb250PW4uZm9udHx8dmksdC50ZXh0QWxpZ249bi50ZXh0QWxpZ24sdC50ZXh0QmFzZWxpbmU9bi50ZXh0QmFzZWxpbmU7dmFyIHI9dm9pZCAwO2lmKHQuc2V0TGluZURhc2gpe3ZhciBvPW4ubGluZURhc2gmJm4ubGluZVdpZHRoPjAmJnZ5KG4ubGluZURhc2gsbi5saW5lV2lkdGgpLGE9bi5saW5lRGFzaE9mZnNldDtpZihvKXt2YXIgcz1uLnN0cm9rZU5vU2NhbGUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MTtzJiYxIT09cyYmKG89TyhvLChmdW5jdGlvbih0KXtyZXR1cm4gdC9zfSkpLGEvPXMpLHQuc2V0TGluZURhc2gobyksdC5saW5lRGFzaE9mZnNldD1hLHI9ITB9fW4uc3Ryb2tlRmlyc3Q/KF95KG4pJiZ0LnN0cm9rZVRleHQoaSxuLngsbi55KSx4eShuKSYmdC5maWxsVGV4dChpLG4ueCxuLnkpKTooeHkobikmJnQuZmlsbFRleHQoaSxuLngsbi55KSxfeShuKSYmdC5zdHJva2VUZXh0KGksbi54LG4ueSkpLHImJnQuc2V0TGluZURhc2goW10pfX0odCxlLGQpKTplIGluc3RhbmNlb2YgZXM/KDIhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9MiksZnVuY3Rpb24odCxlLG4saSxyKXtUeSh0LEx5KGUsci5pbkhvdmVyKSxuJiZMeShuLHIuaW5Ib3ZlciksaSxyKX0odCxlLHUsbCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5fX2ltYWdlPW5vKG4uaW1hZ2UsZS5fX2ltYWdlLGUsZS5vbmxvYWQpO2lmKGkmJnJvKGkpKXt2YXIgcj1uLnh8fDAsbz1uLnl8fDAsYT1lLmdldFdpZHRoKCkscz1lLmdldEhlaWdodCgpLGw9aS53aWR0aC9pLmhlaWdodDtpZihudWxsPT1hJiZudWxsIT1zP2E9cypsOm51bGw9PXMmJm51bGwhPWE/cz1hL2w6bnVsbD09YSYmbnVsbD09cyYmKGE9aS53aWR0aCxzPWkuaGVpZ2h0KSxuLnNXaWR0aCYmbi5zSGVpZ2h0KXt2YXIgdT1uLnN4fHwwLGg9bi5zeXx8MDt0LmRyYXdJbWFnZShpLHUsaCxuLnNXaWR0aCxuLnNIZWlnaHQscixvLGEscyl9ZWxzZSBpZihuLnN4JiZuLnN5KXt2YXIgYz1hLSh1PW4uc3gpLHA9cy0oaD1uLnN5KTt0LmRyYXdJbWFnZShpLHUsaCxjLHAscixvLGEscyl9ZWxzZSB0LmRyYXdJbWFnZShpLHIsbyxhLHMpfX0odCxlLGQpKTplIGluc3RhbmNlb2YgVHUmJig0IT09bi5sYXN0RHJhd1R5cGUmJihsPSEwLG4ubGFzdERyYXdUeXBlPTQpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldERpc3BsYXlhYmxlcygpLHI9ZS5nZXRUZW1wb3JhbERpc3BsYXlhYmxlcygpO3Quc2F2ZSgpO3ZhciBvLGEscz17cHJldkVsQ2xpcFBhdGhzOm51bGwscHJldkVsOm51bGwsYWxsQ2xpcHBlZDohMSx2aWV3V2lkdGg6bi52aWV3V2lkdGgsdmlld0hlaWdodDpuLnZpZXdIZWlnaHQsaW5Ib3ZlcjpuLmluSG92ZXJ9O2ZvcihvPWUuZ2V0Q3Vyc29yKCksYT1pLmxlbmd0aDtvPGE7bysrKXsoaD1pW29dKS5iZWZvcmVCcnVzaCYmaC5iZWZvcmVCcnVzaCgpLGguaW5uZXJCZWZvcmVCcnVzaCgpLFB5KHQsaCxzLG89PT1hLTEpLGguaW5uZXJBZnRlckJydXNoKCksaC5hZnRlckJydXNoJiZoLmFmdGVyQnJ1c2goKSxzLnByZXZFbD1ofWZvcih2YXIgbD0wLHU9ci5sZW5ndGg7bDx1O2wrKyl7dmFyIGg7KGg9cltsXSkuYmVmb3JlQnJ1c2gmJmguYmVmb3JlQnJ1c2goKSxoLmlubmVyQmVmb3JlQnJ1c2goKSxQeSh0LGgscyxsPT09dS0xKSxoLmlubmVyQWZ0ZXJCcnVzaCgpLGguYWZ0ZXJCcnVzaCYmaC5hZnRlckJydXNoKCkscy5wcmV2RWw9aH1lLmNsZWFyVGVtcG9yYWxEaXNwbGF5YWJsZXMoKSxlLm5vdENsZWFyPSEwLHQucmVzdG9yZSgpfSh0LGUsbikpLHAmJmkmJkF5KHQsbiksZS5pbm5lckFmdGVyQnJ1c2goKSxlLmFmdGVyQnJ1c2gmJmUuYWZ0ZXJCcnVzaCgpLG4ucHJldkVsPWUsZS5fX2RpcnR5PTAsZS5fX2lzUmVuZGVyZWQ9ITB9fXZhciBPeSxSeT1uZXcgb3ksTnk9bmV3IEFlKDEwMCksenk9WyJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZGFzaEFycmF5WCIsImRhc2hBcnJheVkiLCJtYXhUaWxlV2lkdGgiLCJtYXhUaWxlSGVpZ2h0Il07ZnVuY3Rpb24gRXkodCxlKXtpZigibm9uZSI9PT10KXJldHVybiBudWxsO3ZhciBuPWUuZ2V0RGV2aWNlUGl4ZWxSYXRpbygpLGk9ZS5nZXRacigpLHI9InN2ZyI9PT1pLnBhaW50ZXIudHlwZTt0LmRpcnR5JiZSeS5kZWxldGUodCk7dmFyIG89UnkuZ2V0KHQpO2lmKG8pcmV0dXJuIG87dmFyIGE9VCh0LHtzeW1ib2w6InJlY3QiLHN5bWJvbFNpemU6MSxzeW1ib2xLZWVwQXNwZWN0OiEwLGNvbG9yOiJyZ2JhKDAsIDAsIDAsIDAuMikiLGJhY2tncm91bmRDb2xvcjpudWxsLGRhc2hBcnJheVg6NSxkYXNoQXJyYXlZOjUscm90YXRpb246MCxtYXhUaWxlV2lkdGg6NTEyLG1heFRpbGVIZWlnaHQ6NTEyfSk7Im5vbmUiPT09YS5iYWNrZ3JvdW5kQ29sb3ImJihhLmJhY2tncm91bmRDb2xvcj1udWxsKTt2YXIgcz17cmVwZWF0OiJyZXBlYXQifTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlLG89W25dLHM9ITAsbD0wO2w8enkubGVuZ3RoOysrbCl7dmFyIHU9YVt6eVtsXV0saD10eXBlb2YgdTtpZihudWxsIT11JiYhRih1KSYmInN0cmluZyIhPT1oJiYibnVtYmVyIiE9PWgmJiJib29sZWFuIiE9PWgpe3M9ITE7YnJlYWt9by5wdXNoKHUpfWlmKHMpe2U9by5qb2luKCIsIikrKHI/Ii1zdmciOiIiKTt2YXIgYz1OeS5nZXQoZSk7YyYmKHI/dC5zdmdFbGVtZW50PWM6dC5pbWFnZT1jKX12YXIgcCxkPUJ5KGEuZGFzaEFycmF5WCksZj1mdW5jdGlvbih0KXtpZighdHx8Im9iamVjdCI9PXR5cGVvZiB0JiYwPT09dC5sZW5ndGgpcmV0dXJuWzAsMF07aWYoIm51bWJlciI9PXR5cGVvZiB0KXt2YXIgZT1NYXRoLmNlaWwodCk7cmV0dXJuW2UsZV19dmFyIG49Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5jZWlsKHQpfSkpO3JldHVybiB0Lmxlbmd0aCUyP24uY29uY2F0KG4pOm59KGEuZGFzaEFycmF5WSksZz1WeShhLnN5bWJvbCkseT0oYj1kLE8oYiwoZnVuY3Rpb24odCl7cmV0dXJuIEZ5KHQpfSkpKSx2PUZ5KGYpLG09IXImJkMoKSxfPXImJmkucGFpbnRlci5jcmVhdGVTVkdFbGVtZW50KCJnIikseD1mdW5jdGlvbigpe2Zvcih2YXIgdD0xLGU9MCxuPXkubGVuZ3RoO2U8bjsrK2UpdD1ncih0LHlbZV0pO3ZhciBpPTE7Zm9yKGU9MCxuPWcubGVuZ3RoO2U8bjsrK2UpaT1ncihpLGdbZV0ubGVuZ3RoKTt0Kj1pO3ZhciByPXYqeS5sZW5ndGgqZy5sZW5ndGg7cmV0dXJue3dpZHRoOk1hdGgubWF4KDEsTWF0aC5taW4odCxhLm1heFRpbGVXaWR0aCkpLGhlaWdodDpNYXRoLm1heCgxLE1hdGgubWluKHIsYS5tYXhUaWxlSGVpZ2h0KSl9fSgpO3ZhciBiO20mJihtLndpZHRoPXgud2lkdGgqbixtLmhlaWdodD14LmhlaWdodCpuLHA9bS5nZXRDb250ZXh0KCIyZCIpKTsoZnVuY3Rpb24oKXtwJiYocC5jbGVhclJlY3QoMCwwLG0ud2lkdGgsbS5oZWlnaHQpLGEuYmFja2dyb3VuZENvbG9yJiYocC5maWxsU3R5bGU9YS5iYWNrZ3JvdW5kQ29sb3IscC5maWxsUmVjdCgwLDAsbS53aWR0aCxtLmhlaWdodCkpKTtmb3IodmFyIHQ9MCxlPTA7ZTxmLmxlbmd0aDsrK2UpdCs9ZltlXTtpZih0PD0wKXJldHVybjt2YXIgbz0tdixzPTAsbD0wLHU9MDtmb3IoO288eC5oZWlnaHQ7KXtpZihzJTI9PTApe2Zvcih2YXIgaD1sLzIlZy5sZW5ndGgsYz0wLHk9MCxiPTA7YzwyKngud2lkdGg7KXt2YXIgdz0wO2ZvcihlPTA7ZTxkW3VdLmxlbmd0aDsrK2Updys9ZFt1XVtlXTtpZih3PD0wKWJyZWFrO2lmKHklMj09MCl7dmFyIFM9LjUqKDEtYS5zeW1ib2xTaXplKSxNPWMrZFt1XVt5XSpTLEk9bytmW3NdKlMsVD1kW3VdW3ldKmEuc3ltYm9sU2l6ZSxDPWZbc10qYS5zeW1ib2xTaXplLEQ9Yi8yJWdbaF0ubGVuZ3RoO0EoTSxJLFQsQyxnW2hdW0RdKX1jKz1kW3VdW3ldLCsrYiwrK3k9PT1kW3VdLmxlbmd0aCYmKHk9MCl9Kyt1PT09ZC5sZW5ndGgmJih1PTApfW8rPWZbc10sKytsLCsrcz09PWYubGVuZ3RoJiYocz0wKX1mdW5jdGlvbiBBKHQsZSxvLHMsbCl7dmFyIHU9cj8xOm4saD1meShsLHQqdSxlKnUsbyp1LHMqdSxhLmNvbG9yLGEuc3ltYm9sS2VlcEFzcGVjdCk7cj9fLmFwcGVuZENoaWxkKGkucGFpbnRlci5wYWludE9uZShoKSk6a3kocCxoKX19KSgpLHMmJk55LnB1dChlLG18fF8pO3QuaW1hZ2U9bSx0LnN2Z0VsZW1lbnQ9Xyx0LnN2Z1dpZHRoPXgud2lkdGgsdC5zdmdIZWlnaHQ9eC5oZWlnaHR9KHMpLHMucm90YXRpb249YS5yb3RhdGlvbixzLnNjYWxlWD1zLnNjYWxlWT1yPzE6MS9uLFJ5LnNldCh0LHMpLHQuZGlydHk9ITEsc31mdW5jdGlvbiBWeSh0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybltbInJlY3QiXV07aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybltbdF1dO2Zvcih2YXIgZT0hMCxuPTA7bjx0Lmxlbmd0aDsrK24paWYoInN0cmluZyIhPXR5cGVvZiB0W25dKXtlPSExO2JyZWFrfWlmKGUpcmV0dXJuIFZ5KFt0XSk7dmFyIGk9W107Zm9yKG49MDtuPHQubGVuZ3RoOysrbikic3RyaW5nIj09dHlwZW9mIHRbbl0/aS5wdXNoKFt0W25dXSk6aS5wdXNoKHRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIEJ5KHQpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW1swLDBdXTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW1tyPU1hdGguY2VpbCh0KSxyXV07Zm9yKHZhciBlPSEwLG49MDtuPHQubGVuZ3RoOysrbilpZigibnVtYmVyIiE9dHlwZW9mIHRbbl0pe2U9ITE7YnJlYWt9aWYoZSlyZXR1cm4gQnkoW3RdKTt2YXIgaT1bXTtmb3Iobj0wO248dC5sZW5ndGg7KytuKWlmKCJudW1iZXIiPT10eXBlb2YgdFtuXSl7dmFyIHI9TWF0aC5jZWlsKHRbbl0pO2kucHVzaChbcixyXSl9ZWxzZXsocj1PKHRbbl0sKGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmNlaWwodCl9KSkpLmxlbmd0aCUyPT0xP2kucHVzaChyLmNvbmNhdChyKSk6aS5wdXNoKHIpfXJldHVybiBpfWZ1bmN0aW9uIEZ5KHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoOysrbillKz10W25dO3JldHVybiB0Lmxlbmd0aCUyPT0xPzIqZTplfWZ1bmN0aW9uIEd5KHQpe0godCkmJih0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKSk7dmFyIGU9dDtmb3IoOT09PWUubm9kZVR5cGUmJihlPWUuZmlyc3RDaGlsZCk7InN2ZyIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl8fDEhPT1lLm5vZGVUeXBlOyllPWUubmV4dFNpYmxpbmc7cmV0dXJuIGV9dmFyIEh5PXtmaWxsOiJmaWxsIixzdHJva2U6InN0cm9rZSIsInN0cm9rZS13aWR0aCI6ImxpbmVXaWR0aCIsb3BhY2l0eToib3BhY2l0eSIsImZpbGwtb3BhY2l0eSI6ImZpbGxPcGFjaXR5Iiwic3Ryb2tlLW9wYWNpdHkiOiJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlLWRhc2hhcnJheSI6ImxpbmVEYXNoIiwic3Ryb2tlLWRhc2hvZmZzZXQiOiJsaW5lRGFzaE9mZnNldCIsInN0cm9rZS1saW5lY2FwIjoibGluZUNhcCIsInN0cm9rZS1saW5lam9pbiI6ImxpbmVKb2luIiwic3Ryb2tlLW1pdGVybGltaXQiOiJtaXRlckxpbWl0IiwiZm9udC1mYW1pbHkiOiJmb250RmFtaWx5IiwiZm9udC1zaXplIjoiZm9udFNpemUiLCJmb250LXN0eWxlIjoiZm9udFN0eWxlIiwiZm9udC13ZWlnaHQiOiJmb250V2VpZ2h0IiwidGV4dC1hbmNob3IiOiJ0ZXh0QWxpZ24iLHZpc2liaWxpdHk6InZpc2liaWxpdHkiLGRpc3BsYXk6ImRpc3BsYXkifSxXeT1FKEh5KSxVeT17ImFsaWdubWVudC1iYXNlbGluZSI6InRleHRCYXNlbGluZSIsInN0b3AtY29sb3IiOiJzdG9wQ29sb3IifSxYeT1FKFV5KSxZeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9kZWZzPXt9LHRoaXMuX3Jvb3Q9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciBuPUd5KHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBzdmciKTt0aGlzLl9kZWZzVXNlUGVuZGluZz1bXTt2YXIgaT1uZXcgRWk7dGhpcy5fcm9vdD1pO3ZhciByPVtdLG89bi5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKXx8IiIsYT1wYXJzZUZsb2F0KG4uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpfHxlLndpZHRoKSxzPXBhcnNlRmxvYXQobi5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfHxlLmhlaWdodCk7aXNOYU4oYSkmJihhPW51bGwpLGlzTmFOKHMpJiYocz1udWxsKSxKeShuLGksbnVsbCwhMCwhMSk7Zm9yKHZhciBsLHUsaD1uLmZpcnN0Q2hpbGQ7aDspdGhpcy5fcGFyc2VOb2RlKGgsaSxyLG51bGwsITEsITEpLGg9aC5uZXh0U2libGluZztpZihmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lbMF0uc3R5bGVbaVsxXV09dFtpWzJdXX19KHRoaXMuX2RlZnMsdGhpcy5fZGVmc1VzZVBlbmRpbmcpLHRoaXMuX2RlZnNVc2VQZW5kaW5nPVtdLG8pe3ZhciBjPW52KG8pO2MubGVuZ3RoPj00JiYobD17eDpwYXJzZUZsb2F0KGNbMF18fDApLHk6cGFyc2VGbG9hdChjWzFdfHwwKSx3aWR0aDpwYXJzZUZsb2F0KGNbMl0pLGhlaWdodDpwYXJzZUZsb2F0KGNbM10pfSl9aWYobCYmbnVsbCE9YSYmbnVsbCE9cyYmKHU9c3YobCx7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfSksIWUuaWdub3JlVmlld0JveCkpe3ZhciBwPWk7KGk9bmV3IEVpKS5hZGQocCkscC5zY2FsZVg9cC5zY2FsZVk9dS5zY2FsZSxwLng9dS54LHAueT11Lnl9cmV0dXJuIGUuaWdub3JlUm9vdENsaXB8fG51bGw9PWF8fG51bGw9PXN8fGkuc2V0Q2xpcFBhdGgobmV3IGxzKHtzaGFwZTp7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfX0pKSx7cm9vdDppLHdpZHRoOmEsaGVpZ2h0OnMsdmlld0JveFJlY3Q6bCx2aWV3Qm94VHJhbnNmb3JtOnUsbmFtZWQ6cn19LHQucHJvdG90eXBlLl9wYXJzZU5vZGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw9aTtpZigiZGVmcyI9PT1zJiYocj0hMCksInRleHQiPT09cyYmKG89ITApLCJkZWZzIj09PXN8fCJzd2l0Y2giPT09cylhPWU7ZWxzZXtpZighcil7dmFyIHU9T3lbc107aWYodSYmZHQoT3kscykpe2E9dS5jYWxsKHRoaXMsdCxlKTt2YXIgaD10LmdldEF0dHJpYnV0ZSgibmFtZSIpO2lmKGgpe3ZhciBjPXtuYW1lOmgsbmFtZWRGcm9tOm51bGwsc3ZnTm9kZVRhZ0xvd2VyOnMsZWw6YX07bi5wdXNoKGMpLCJnIj09PXMmJihsPWMpfWVsc2UgaSYmbi5wdXNoKHtuYW1lOmkubmFtZSxuYW1lZEZyb206aSxzdmdOb2RlVGFnTG93ZXI6cyxlbDphfSk7ZS5hZGQoYSl9fXZhciBwPVp5W3NdO2lmKHAmJmR0KFp5LHMpKXt2YXIgZD1wLmNhbGwodGhpcyx0KSxmPXQuZ2V0QXR0cmlidXRlKCJpZCIpO2YmJih0aGlzLl9kZWZzW2ZdPWQpfX1pZihhJiZhLmlzR3JvdXApZm9yKHZhciBnPXQuZmlyc3RDaGlsZDtnOykxPT09Zy5ub2RlVHlwZT90aGlzLl9wYXJzZU5vZGUoZyxhLG4sbCxyLG8pOjM9PT1nLm5vZGVUeXBlJiZvJiZ0aGlzLl9wYXJzZVRleHQoZyxhKSxnPWcubmV4dFNpYmxpbmd9LHQucHJvdG90eXBlLl9wYXJzZVRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgSmEoe3N0eWxlOnt0ZXh0OnQudGV4dENvbnRlbnR9LHNpbGVudDohMCx4OnRoaXMuX3RleHRYfHwwLHk6dGhpcy5fdGV4dFl8fDB9KTtLeShlLG4pLEp5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9fc2VsZlN0eWxlO2lmKG4pe3ZhciBpPW4udGV4dEJhc2VsaW5lLHI9aTtpJiYiYXV0byIhPT1pPyJiYXNlbGluZSI9PT1pP3I9ImFscGhhYmV0aWMiOiJiZWZvcmUtZWRnZSI9PT1pfHwidGV4dC1iZWZvcmUtZWRnZSI9PT1pP3I9InRvcCI6ImFmdGVyLWVkZ2UiPT09aXx8InRleHQtYWZ0ZXItZWRnZSI9PT1pP3I9ImJvdHRvbSI6ImNlbnRyYWwiIT09aSYmIm1hdGhlbWF0aWNhbCIhPT1pfHwocj0ibWlkZGxlIik6cj0iYWxwaGFiZXRpYyIsdC5zdHlsZS50ZXh0QmFzZWxpbmU9cn12YXIgbz1lLl9faW5oZXJpdGVkU3R5bGU7aWYobyl7dmFyIGE9by50ZXh0QWxpZ24scz1hO2EmJigibWlkZGxlIj09PWEmJihzPSJjZW50ZXIiKSx0LnN0eWxlLnRleHRBbGlnbj1zKX19KG4sZSk7dmFyIGk9bi5zdHlsZSxyPWkuZm9udFNpemU7ciYmcjw5JiYoaS5mb250U2l6ZT05LG4uc2NhbGVYKj1yLzksbi5zY2FsZVkqPXIvOSk7dmFyIG89KGkuZm9udFNpemV8fGkuZm9udEZhbWlseSkmJltpLmZvbnRTdHlsZSxpLmZvbnRXZWlnaHQsKGkuZm9udFNpemV8fDEyKSsicHgiLGkuZm9udEZhbWlseXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIik7aS5mb250PW87dmFyIGE9bi5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gdGhpcy5fdGV4dFgrPWEud2lkdGgsZS5hZGQobiksbn0sdC5pbnRlcm5hbEZpZWxkPXZvaWQoT3k9e2c6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRWk7cmV0dXJuIEt5KGUsbiksSnkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxufSxyZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGxzO3JldHVybiBLeShlLG4pLEp5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIikseTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIiksd2lkdGg6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgid2lkdGgiKXx8IjAiKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxjaXJjbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgTmw7cmV0dXJuIEt5KGUsbiksSnkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHV1O3JldHVybiBLeShlLG4pLEp5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDE6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieDEiKXx8IjAiKSx5MTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5MSIpfHwiMCIpLHgyOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoIngyIil8fCIwIikseTI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieTIiKXx8IjAiKX0pLG4uc2lsZW50PSEwLG59LGVsbGlwc2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRWw7cmV0dXJuIEt5KGUsbiksSnkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscng6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgicngiKXx8IjAiKSxyeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyeSIpfHwiMCIpfSksbi5zaWxlbnQ9ITAsbn0scG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5nZXRBdHRyaWJ1dGUoInBvaW50cyIpO2kmJihuPSR5KGkpKTt2YXIgcj1uZXcgcnUoe3NoYXBlOntwb2ludHM6bnx8W119LHNpbGVudDohMH0pO3JldHVybiBLeShlLHIpLEp5KHQscix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSkscn0scG9seWxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0QXR0cmlidXRlKCJwb2ludHMiKTtpJiYobj0keShpKSk7dmFyIHI9bmV3IGF1KHtzaGFwZTp7cG9pbnRzOm58fFtdfSxzaWxlbnQ6ITB9KTtyZXR1cm4gS3koZSxyKSxKeSh0LHIsdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLHJ9LGltYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGVzO3JldHVybiBLeShlLG4pLEp5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTdHlsZSh7aW1hZ2U6dC5nZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiKSx4Oit0LmdldEF0dHJpYnV0ZSgieCIpLHk6K3QuZ2V0QXR0cmlidXRlKCJ5Iiksd2lkdGg6K3QuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDordC5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfSksbi5zaWxlbnQ9ITAsbn0sdGV4dDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIixpPXQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIixyPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiO3RoaXMuX3RleHRYPXBhcnNlRmxvYXQobikrcGFyc2VGbG9hdChyKSx0aGlzLl90ZXh0WT1wYXJzZUZsb2F0KGkpK3BhcnNlRmxvYXQobyk7dmFyIGE9bmV3IEVpO3JldHVybiBLeShlLGEpLEp5KHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksYX0sdHNwYW46ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgieCIpLGk9dC5nZXRBdHRyaWJ1dGUoInkiKTtudWxsIT1uJiYodGhpcy5fdGV4dFg9cGFyc2VGbG9hdChuKSksbnVsbCE9aSYmKHRoaXMuX3RleHRZPXBhcnNlRmxvYXQoaSkpO3ZhciByPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiLGE9bmV3IEVpO3JldHVybiBLeShlLGEpLEp5KHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksdGhpcy5fdGV4dFgrPXBhcnNlRmxvYXQociksdGhpcy5fdGV4dFkrPXBhcnNlRmxvYXQobyksYX0scGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPU9sKHQuZ2V0QXR0cmlidXRlKCJkIil8fCIiKTtyZXR1cm4gS3koZSxuKSxKeSh0LG4sdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLG4uc2lsZW50PSEwLG59fSksdH0oKSxaeT17bGluZWFyZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoIngxIil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgieTEiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ4MiIpfHwiMTAiLDEwKSxyPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ5MiIpfHwiMCIsMTApLG89bmV3IG11KGUsbixpLHIpO3JldHVybiBqeSh0LG8pLHF5KHQsbyksb30scmFkaWFsZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoImN4Iil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiY3kiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIiwxMCkscj1uZXcgX3UoZSxuLGkpO3JldHVybiBqeSh0LHIpLHF5KHQscikscn19O2Z1bmN0aW9uIGp5KHQsZSl7InVzZXJTcGFjZU9uVXNlIj09PXQuZ2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIikmJihlLmdsb2JhbD0hMCl9ZnVuY3Rpb24gcXkodCxlKXtmb3IodmFyIG49dC5maXJzdENoaWxkO247KXtpZigxPT09bi5ub2RlVHlwZSYmInN0b3AiPT09bi5ub2RlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKXt2YXIgaT1uLmdldEF0dHJpYnV0ZSgib2Zmc2V0Iikscj12b2lkIDA7cj1pJiZpLmluZGV4T2YoIiUiKT4wP3BhcnNlSW50KGksMTApLzEwMDppP3BhcnNlRmxvYXQoaSk6MDt2YXIgbz17fTthdihuLG8sbyk7dmFyIGE9by5zdG9wQ29sb3J8fG4uZ2V0QXR0cmlidXRlKCJzdG9wLWNvbG9yIil8fCIjMDAwMDAwIjtlLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnIsY29sb3I6YX0pfW49bi5uZXh0U2libGluZ319ZnVuY3Rpb24gS3kodCxlKXt0JiZ0Ll9faW5oZXJpdGVkU3R5bGUmJihlLl9faW5oZXJpdGVkU3R5bGV8fChlLl9faW5oZXJpdGVkU3R5bGU9e30pLFQoZS5fX2luaGVyaXRlZFN0eWxlLHQuX19pbmhlcml0ZWRTdHlsZSkpfWZ1bmN0aW9uICR5KHQpe2Zvcih2YXIgZT1udih0KSxuPVtdLGk9MDtpPGUubGVuZ3RoO2krPTIpe3ZhciByPXBhcnNlRmxvYXQoZVtpXSksbz1wYXJzZUZsb2F0KGVbaSsxXSk7bi5wdXNoKFtyLG9dKX1yZXR1cm4gbn1mdW5jdGlvbiBKeSh0LGUsbixpLHIpe3ZhciBvPWUsYT1vLl9faW5oZXJpdGVkU3R5bGU9by5fX2luaGVyaXRlZFN0eWxlfHx7fSxzPXt9OzE9PT10Lm5vZGVUeXBlJiYoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIik7aWYobil7bj1uLnJlcGxhY2UoLywvZywiICIpO3ZhciBpPVtdLHI9bnVsbDtuLnJlcGxhY2UoaXYsKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5wdXNoKGUsbiksIiJ9KSk7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz4wO28tPTIpe3ZhciBhPWlbb10scz1pW28tMV0sbD1udihhKTtzd2l0Y2gocj1yfHxbMSwwLDAsMSwwLDBdLHMpe2Nhc2UidHJhbnNsYXRlIjpVbihyLHIsW3BhcnNlRmxvYXQobFswXSkscGFyc2VGbG9hdChsWzFdfHwiMCIpXSk7YnJlYWs7Y2FzZSJzY2FsZSI6WW4ocixyLFtwYXJzZUZsb2F0KGxbMF0pLHBhcnNlRmxvYXQobFsxXXx8bFswXSldKTticmVhaztjYXNlInJvdGF0ZSI6WG4ocixyLC1wYXJzZUZsb2F0KGxbMF0pKnJ2KTticmVhaztjYXNlInNrZXdYIjpXbihyLFsxLDAsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSpydiksMSwwLDBdLHIpO2JyZWFrO2Nhc2Uic2tld1kiOlduKHIsWzEsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSpydiksMCwxLDAsMF0scik7YnJlYWs7Y2FzZSJtYXRyaXgiOnJbMF09cGFyc2VGbG9hdChsWzBdKSxyWzFdPXBhcnNlRmxvYXQobFsxXSksclsyXT1wYXJzZUZsb2F0KGxbMl0pLHJbM109cGFyc2VGbG9hdChsWzNdKSxyWzRdPXBhcnNlRmxvYXQobFs0XSkscls1XT1wYXJzZUZsb2F0KGxbNV0pfX1lLnNldExvY2FsVHJhbnNmb3JtKHIpfX0odCxlKSxhdih0LGEscyksaXx8ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0wO2k8V3kubGVuZ3RoO2krKyl7dmFyIHI9V3lbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYoZVtIeVtyXV09byl9Zm9yKGk9MDtpPFh5Lmxlbmd0aDtpKyspe3ZhciBvO3I9WHlbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYobltVeVtyXV09byl9fSh0LGEscykpLG8uc3R5bGU9by5zdHlsZXx8e30sbnVsbCE9YS5maWxsJiYoby5zdHlsZS5maWxsPXR2KG8sImZpbGwiLGEuZmlsbCxuKSksbnVsbCE9YS5zdHJva2UmJihvLnN0eWxlLnN0cm9rZT10dihvLCJzdHJva2UiLGEuc3Ryb2tlLG4pKSxQKFsibGluZVdpZHRoIiwib3BhY2l0eSIsImZpbGxPcGFjaXR5Iiwic3Ryb2tlT3BhY2l0eSIsIm1pdGVyTGltaXQiLCJmb250U2l6ZSJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1wYXJzZUZsb2F0KGFbdF0pKX0pKSxQKFsibGluZURhc2hPZmZzZXQiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsInRleHRBbGlnbiJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1hW3RdKX0pKSxyJiYoby5fX3NlbGZTdHlsZT1zKSxhLmxpbmVEYXNoJiYoby5zdHlsZS5saW5lRGFzaD1PKG52KGEubGluZURhc2gpLChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX0pKSksImhpZGRlbiIhPT1hLnZpc2liaWxpdHkmJiJjb2xsYXBzZSIhPT1hLnZpc2liaWxpdHl8fChvLmludmlzaWJsZT0hMCksIm5vbmUiPT09YS5kaXNwbGF5JiYoby5pZ25vcmU9ITApfXZhciBReT0vXnVybFwoXHMqIyguKj8pXCkvO2Z1bmN0aW9uIHR2KHQsZSxuLGkpe3ZhciByPW4mJm4ubWF0Y2goUXkpO2lmKCFyKXJldHVybiJub25lIj09PW4mJihuPW51bGwpLG47dmFyIG89b3QoclsxXSk7aS5wdXNoKFt0LGUsb10pfXZhciBldj0vLT8oWzAtOV0qXC4pP1swLTldKyhbZUVdLT9bMC05XSspPy9nO2Z1bmN0aW9uIG52KHQpe3JldHVybiB0Lm1hdGNoKGV2KXx8W119dmFyIGl2PS8odHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3WHxza2V3WXxtYXRyaXgpXCgoW1wtXHMwLTlcLmVFLF0qKVwpL2cscnY9TWF0aC5QSS8xODA7dmFyIG92PS8oW15cczo7XSspXHMqOlxzKihbXjo7XSspL2c7ZnVuY3Rpb24gYXYodCxlLG4pe3ZhciBpLHI9dC5nZXRBdHRyaWJ1dGUoInN0eWxlIik7aWYocilmb3Iob3YubGFzdEluZGV4PTA7bnVsbCE9KGk9b3YuZXhlYyhyKSk7KXt2YXIgbz1pWzFdLGE9ZHQoSHksbyk/SHlbb106bnVsbDthJiYoZVthXT1pWzJdKTt2YXIgcz1kdChVeSxvKT9VeVtvXTpudWxsO3MmJihuW3NdPWlbMl0pfX1mdW5jdGlvbiBzdih0LGUpe3ZhciBuPWUud2lkdGgvdC53aWR0aCxpPWUuaGVpZ2h0L3QuaGVpZ2h0LHI9TWF0aC5taW4obixpKTtyZXR1cm57c2NhbGU6cix4Oi0odC54K3Qud2lkdGgvMikqcisoZS54K2Uud2lkdGgvMikseTotKHQueSt0LmhlaWdodC8yKSpyKyhlLnkrZS5oZWlnaHQvMil9fWZ1bmN0aW9uIGx2KHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtOH1mdW5jdGlvbiB1dih0LGUsbil7dmFyIGk9MCxyPXRbMF07aWYoIXIpcmV0dXJuITE7Zm9yKHZhciBvPTE7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb107aSs9VmEoclswXSxyWzFdLGFbMF0sYVsxXSxlLG4pLHI9YX12YXIgcz10WzBdO3JldHVybiBsdihyWzBdLHNbMF0pJiZsdihyWzFdLHNbMV0pfHwoaSs9VmEoclswXSxyWzFdLHNbMF0sc1sxXSxlLG4pKSwwIT09aX12YXIgaHY9W10sY3Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubmFtZT10fXJldHVybiB0LnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXt9LHR9KCkscHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMsZSl8fHRoaXM7aWYoci50eXBlPSJnZW9KU09OIixyLmdlb21ldHJpZXM9bixpKWk9W2lbMF0saVsxXV07ZWxzZXt2YXIgbz1yLmdldEJvdW5kaW5nUmVjdCgpO2k9W28ueCtvLndpZHRoLzIsby55K28uaGVpZ2h0LzJdfXJldHVybiByLl9jZW50ZXI9aSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdDtpZih0KXJldHVybiB0O2Zvcih2YXIgZT1OdW1iZXIuTUFYX1ZBTFVFLG49W2UsZV0saT1bLWUsLWVdLHI9W10sbz1bXSxhPXRoaXMuZ2VvbWV0cmllcyxzPTA7czxhLmxlbmd0aDtzKyspe2lmKCJwb2x5Z29uIj09PWFbc10udHlwZSlyYShhW3NdLmV4dGVyaW9yLHIsbyksTnQobixuLHIpLHp0KGksaSxvKX1yZXR1cm4gMD09PXMmJihuWzBdPW5bMV09aVswXT1pWzFdPTApLHRoaXMuX3JlY3Q9bmV3IGdpKG5bMF0sblsxXSxpWzBdLW5bMF0saVsxXS1uWzFdKX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG49dGhpcy5nZW9tZXRyaWVzO2lmKCFlLmNvbnRhaW4odFswXSx0WzFdKSlyZXR1cm4hMTt0OmZvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZigicG9seWdvbiI9PT1uW2ldLnR5cGUpe3ZhciBvPW5baV0uZXh0ZXJpb3IsYT1uW2ldLmludGVyaW9ycztpZih1dihvLHRbMF0sdFsxXSkpe2Zvcih2YXIgcz0wO3M8KGE/YS5sZW5ndGg6MCk7cysrKWlmKHV2KGFbc10sdFswXSx0WzFdKSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX0sZS5wcm90b3R5cGUudHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXIud2lkdGgvci5oZWlnaHQ7bj9pfHwoaT1uL28pOm49byppO2Zvcih2YXIgYT1uZXcgZ2kodCxlLG4saSkscz1yLmNhbGN1bGF0ZVRyYW5zZm9ybShhKSxsPXRoaXMuZ2VvbWV0cmllcyx1PTA7dTxsLmxlbmd0aDt1KyspaWYoInBvbHlnb24iPT09bFt1XS50eXBlKXtmb3IodmFyIGg9bFt1XS5leHRlcmlvcixjPWxbdV0uaW50ZXJpb3JzLHA9MDtwPGgubGVuZ3RoO3ArKylSdChoW3BdLGhbcF0scyk7Zm9yKHZhciBkPTA7ZDwoYz9jLmxlbmd0aDowKTtkKyspZm9yKHA9MDtwPGNbZF0ubGVuZ3RoO3ArKylSdChjW2RdW3BdLGNbZF1bcF0scyl9KHI9dGhpcy5fcmVjdCkuY29weShhKSx0aGlzLl9jZW50ZXI9W3IueCtyLndpZHRoLzIsci55K3IuaGVpZ2h0LzJdfSxlLnByb3RvdHlwZS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5uYW1lKTt2YXIgbj1uZXcgZSh0LHRoaXMuZ2VvbWV0cmllcyx0aGlzLl9jZW50ZXIpO3JldHVybiBuLl9yZWN0PXRoaXMuX3JlY3Qsbi50cmFuc2Zvcm1Ubz1udWxsLG59LGUucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0aGlzLl9jZW50ZXI9dH0sZX0oY3YpLGR2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gaS50eXBlPSJnZW9TVkciLGkuX2VsT25seUZvckNhbGN1bGF0ZT1uLGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jZW50ZXI7cmV0dXJuIHR8fCh0PXRoaXMuX2NlbnRlcj10aGlzLl9jYWxjdWxhdGVDZW50ZXIoKSksdH0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUNlbnRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9lbE9ubHlGb3JDYWxjdWxhdGUsZT10LmdldEJvdW5kaW5nUmVjdCgpLG49W2UueCtlLndpZHRoLzIsZS55K2UuaGVpZ2h0LzJdLGk9R24oaHYpLHI9dDtyJiYhci5pc0dlb1NWR0dyYXBoaWNSb290OylXbihpLHIuZ2V0TG9jYWxUcmFuc2Zvcm0oKSxpKSxyPXIucGFyZW50O3JldHVybiBabihpLGkpLFJ0KG4sbixpKSxufSxlfShjdiksZnY9aHQoWyJyZWN0IiwiY2lyY2xlIiwibGluZSIsImVsbGlwc2UiLCJwb2x5Z29uIiwicG9seWxpbmUiLCJwYXRoIiwidGV4dCIsInRzcGFuIiwiZyJdKSxndj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnR5cGU9Imdlb1NWRyIsdGhpcy5fdXNlZEdyYXBoaWNNYXA9aHQoKSx0aGlzLl9mcmVlZEdyYXBoaWNzPVtdLHRoaXMuX21hcE5hbWU9dCx0aGlzLl9wYXJzZWRYTUw9R3koZSl9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9maXJzdEdyYXBoaWM7aWYoIXQpe3Q9dGhpcy5fZmlyc3RHcmFwaGljPXRoaXMuX2J1aWxkR3JhcGhpYyh0aGlzLl9wYXJzZWRYTUwpLHRoaXMuX2ZyZWVkR3JhcGhpY3MucHVzaCh0KSx0aGlzLl9ib3VuZGluZ1JlY3Q9dGhpcy5fZmlyc3RHcmFwaGljLmJvdW5kaW5nUmVjdC5jbG9uZSgpO3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49aHQoKTtyZXR1cm4gUCh0LChmdW5jdGlvbih0KXtpZihudWxsPT10Lm5hbWVkRnJvbSl7dmFyIGk9bmV3IGR2KHQubmFtZSx0LmVsKTtlLnB1c2goaSksbi5zZXQodC5uYW1lLGkpfX0pKSx7cmVnaW9uczplLHJlZ2lvbnNNYXA6bn19KHQubmFtZWQpLG49ZS5yZWdpb25zLGk9ZS5yZWdpb25zTWFwO3RoaXMuX3JlZ2lvbnM9bix0aGlzLl9yZWdpb25zTWFwPWl9cmV0dXJue2JvdW5kaW5nUmVjdDp0aGlzLl9ib3VuZGluZ1JlY3QscmVnaW9uczp0aGlzLl9yZWdpb25zLHJlZ2lvbnNNYXA6dGhpcy5fcmVnaW9uc01hcH19LHQucHJvdG90eXBlLl9idWlsZEdyYXBoaWM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7dHJ5e3J0KG51bGwhPShuPShlPXQmJihpPXQscj17aWdub3JlVmlld0JveDohMCxpZ25vcmVSb290Q2xpcDohMH0sKG5ldyBZeSkucGFyc2UoaSxyKSl8fHt9KS5yb290KSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN2ZyBmb3JtYXRcbiIrdC5tZXNzYWdlKX12YXIgbz1uZXcgRWk7by5hZGQobiksby5pc0dlb1NWR0dyYXBoaWNSb290PSEwO3ZhciBhPWUud2lkdGgscz1lLmhlaWdodCxsPWUudmlld0JveFJlY3QsdT10aGlzLl9ib3VuZGluZ1JlY3Q7aWYoIXUpe3ZhciBoPXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCxkPXZvaWQgMDtpZihudWxsIT1hPyhoPTAscD1hKTpsJiYoaD1sLngscD1sLndpZHRoKSxudWxsIT1zPyhjPTAsZD1zKTpsJiYoYz1sLnksZD1sLmhlaWdodCksbnVsbD09aHx8bnVsbD09Yyl7dmFyIGY9bi5nZXRCb3VuZGluZ1JlY3QoKTtudWxsPT1oJiYoaD1mLngscD1mLndpZHRoKSxudWxsPT1jJiYoYz1mLnksZD1mLmhlaWdodCl9dT10aGlzLl9ib3VuZGluZ1JlY3Q9bmV3IGdpKGgsYyxwLGQpfWlmKGwpe3ZhciBnPXN2KGwsdSk7bi5zY2FsZVg9bi5zY2FsZVk9Zy5zY2FsZSxuLng9Zy54LG4ueT1nLnl9by5zZXRDbGlwUGF0aChuZXcgbHMoe3NoYXBlOnUucGxhaW4oKX0pKTt2YXIgeT1bXTtyZXR1cm4gUChlLm5hbWVkLChmdW5jdGlvbih0KXt2YXIgZTtudWxsIT1mdi5nZXQodC5zdmdOb2RlVGFnTG93ZXIpJiYoeS5wdXNoKHQpLChlPXQuZWwpLnNpbGVudD0hMSxlLmlzR3JvdXAmJmUudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3Quc2lsZW50PSExfSkpKX0pKSx7cm9vdDpvLGJvdW5kaW5nUmVjdDp1LG5hbWVkOnl9fSx0LnByb3RvdHlwZS51c2VHcmFwaGljPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3VzZWRHcmFwaGljTWFwLG49ZS5nZXQodCk7cmV0dXJuIG58fChuPXRoaXMuX2ZyZWVkR3JhcGhpY3MucG9wKCl8fHRoaXMuX2J1aWxkR3JhcGhpYyh0aGlzLl9wYXJzZWRYTUwpLGUuc2V0KHQsbiksbil9LHQucHJvdG90eXBlLmZyZWVHcmFwaGljPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3VzZWRHcmFwaGljTWFwLG49ZS5nZXQodCk7biYmKGUucmVtb3ZlS2V5KHQpLHRoaXMuX2ZyZWVkR3JhcGhpY3MucHVzaChuKSl9LHR9KCk7ZnVuY3Rpb24geXYodCxlLG4pe2Zvcih2YXIgaT1bXSxyPWVbMF0sbz1lWzFdLGE9MDthPHQubGVuZ3RoO2ErPTIpe3ZhciBzPXQuY2hhckNvZGVBdChhKS02NCxsPXQuY2hhckNvZGVBdChhKzEpLTY0O3M9cz4+MV4tKDEmcyksbD1sPj4xXi0oMSZsKSxyPXMrPXIsbz1sKz1vLGkucHVzaChbcy9uLGwvbl0pfXJldHVybiBpfWZ1bmN0aW9uIHZ2KHQsZSl7cmV0dXJuIE8oTigodD1mdW5jdGlvbih0KXtpZighdC5VVEY4RW5jb2RpbmcpcmV0dXJuIHQ7dmFyIGU9dCxuPWUuVVRGOFNjYWxlO251bGw9PW4mJihuPTEwMjQpO2Zvcih2YXIgaT1lLmZlYXR1cmVzLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXS5nZW9tZXRyeTtpZigiUG9seWdvbiI9PT1vLnR5cGUpZm9yKHZhciBhPW8uY29vcmRpbmF0ZXMscz0wO3M8YS5sZW5ndGg7cysrKWFbc109eXYoYVtzXSxvLmVuY29kZU9mZnNldHNbc10sbik7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW8udHlwZSlmb3IoYT1vLmNvb3JkaW5hdGVzLHM9MDtzPGEubGVuZ3RoO3MrKylmb3IodmFyIGw9YVtzXSx1PTA7dTxsLmxlbmd0aDt1KyspbFt1XT15dihsW3VdLG8uZW5jb2RlT2Zmc2V0c1tzXVt1XSxuKX1yZXR1cm4gZS5VVEY4RW5jb2Rpbmc9ITEsZX0odCkpLmZlYXR1cmVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSkpLChmdW5jdGlvbih0KXt2YXIgbj10LnByb3BlcnRpZXMsaT10Lmdlb21ldHJ5LHI9W107aWYoIlBvbHlnb24iPT09aS50eXBlKXt2YXIgbz1pLmNvb3JkaW5hdGVzO3IucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6b1swXSxpbnRlcmlvcnM6by5zbGljZSgxKX0pfSJNdWx0aVBvbHlnb24iPT09aS50eXBlJiZQKG89aS5jb29yZGluYXRlcywoZnVuY3Rpb24odCl7dFswXSYmci5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjp0WzBdLGludGVyaW9yczp0LnNsaWNlKDEpfSl9KSk7dmFyIGE9bmV3IHB2KG5bZXx8Im5hbWUiXSxyLG4uY3ApO3JldHVybiBhLnByb3BlcnRpZXM9bixhfSkpfWZvcih2YXIgbXY9WzEyNiwyNV0sX3Y9IuWNl+a1t+ivuOWymyIseHY9W1tbMCwzLjVdLFs3LDExLjJdLFsxNSwxMS45XSxbMzAsN10sWzQyLC43XSxbNTIsLjddLFs1Niw3LjddLFs1OSwuN10sWzY0LC43XSxbNjQsMF0sWzUsMF0sWzAsMy41XV0sW1sxMywxNi4xXSxbMTksMTQuN10sWzE2LDIxLjddLFsxMSwyMy4xXSxbMTMsMTYuMV1dLFtbMTIsMzIuMl0sWzE0LDM4LjVdLFsxNSwzOC41XSxbMTMsMzIuMl0sWzEyLDMyLjJdXSxbWzE2LDQ3LjZdLFsxMiw1My4yXSxbMTMsNTMuMl0sWzE4LDQ3LjZdLFsxNiw0Ny42XV0sW1s2LDY0LjRdLFs4LDcwXSxbOSw3MF0sWzgsNjQuNF0sWzYsNjQuNF1dLFtbMjMsODIuNl0sWzI5LDc5LjhdLFszMCw3OS44XSxbMjUsODIuNl0sWzIzLDgyLjZdXSxbWzM3LDcwLjddLFs0Myw2Mi4zXSxbNDQsNjIuM10sWzM5LDcwLjddLFszNyw3MC43XV0sW1s0OCw1MS4xXSxbNTEsNDUuNV0sWzUzLDQ1LjVdLFs1MCw1MS4xXSxbNDgsNTEuMV1dLFtbNTEsMzVdLFs1MSwyOC43XSxbNTMsMjguN10sWzUzLDM1XSxbNTEsMzVdXSxbWzUyLDIyLjRdLFs1NSwxNy41XSxbNTYsMTcuNV0sWzUzLDIyLjRdLFs1MiwyMi40XV0sW1s1OCwxMi42XSxbNjIsN10sWzYzLDddLFs2MCwxMi42XSxbNTgsMTIuNl1dLFtbMCwzLjVdLFswLDkzLjFdLFs2NCw5My4xXSxbNjQsMF0sWzYzLDBdLFs2Myw5Mi40XSxbMSw5Mi40XSxbMSwzLjVdLFswLDMuNV1dXSxidj0wO2J2PHh2Lmxlbmd0aDtidisrKWZvcih2YXIgd3Y9MDt3djx4dltidl0ubGVuZ3RoO3d2KyspeHZbYnZdW3d2XVswXS89MTAuNSx4dltidl1bd3ZdWzFdLz0tMTQseHZbYnZdW3d2XVswXSs9bXZbMF0seHZbYnZdW3d2XVsxXSs9bXZbMV07dmFyIFN2PXsi5Y2X5rW36K+45bKbIjpbMzIsODBdLCLlub/kuJwiOlswLC0xMF0sIummmea4ryI6WzEwLDVdLCLmvrPpl6giOlstMTAsMTBdLCLlpKnmtKUiOls1LDVdfTt2YXIgTXY9e1J1c3NpYTpbMTAwLDYwXSwiVW5pdGVkIFN0YXRlcyI6Wy05OSwzOF0sIlVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYSI6Wy05OSwzOF19O3ZhciBJdj1bW1sxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzUwNzM0MDY0NjAwODg0XSxbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43MzUyNzE2NDQwMjI2MV1dXTt2YXIgVHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaTt0aGlzLnR5cGU9Imdlb0pTT04iLHRoaXMuX3BhcnNlZE1hcD1odCgpLHRoaXMuX21hcE5hbWU9dCx0aGlzLl9zcGVjaWFsQXJlYXM9bix0aGlzLl9nZW9KU09OPUgoaT1lKT8idW5kZWZpbmVkIiE9dHlwZW9mIEpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShpKTpuZXcgRnVuY3Rpb24oInJldHVybiAoIitpKyIpOyIpKCk6aX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe2U9ZXx8Im5hbWUiO3ZhciBuPXRoaXMuX3BhcnNlZE1hcC5nZXQoZSk7aWYoIW4pe3ZhciBpPXRoaXMuX3BhcnNlVG9SZWdpb25zKGUpO249dGhpcy5fcGFyc2VkTWFwLnNldChlLHtyZWdpb25zOmksYm91bmRpbmdSZWN0OkN2KGkpfSl9dmFyIHI9aHQoKSxvPVtdO3JldHVybiBQKG4ucmVnaW9ucywoZnVuY3Rpb24oZSl7dmFyIG49ZS5uYW1lO3QmJnQuaGFzT3duUHJvcGVydHkobikmJihlPWUuY2xvbmVTaGFsbG93KG49dFtuXSkpLG8ucHVzaChlKSxyLnNldChuLGUpfSkpLHtyZWdpb25zOm8sYm91bmRpbmdSZWN0Om4uYm91bmRpbmdSZWN0fHxuZXcgZ2koMCwwLDAsMCkscmVnaW9uc01hcDpyfX0sdC5wcm90b3R5cGUuX3BhcnNlVG9SZWdpb25zPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fbWFwTmFtZSxpPXRoaXMuX2dlb0pTT047dHJ5e2U9aT92dihpLHQpOltdfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBnZW9Kc29uIGZvcm1hdFxuIit0Lm1lc3NhZ2UpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCJjaGluYSI9PT10KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT1fdilyZXR1cm47ZS5wdXNoKG5ldyBwdihfdixPKHh2LChmdW5jdGlvbih0KXtyZXR1cm57dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6dH19KSksbXYpKX19KG4sZSksUChlLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7IWZ1bmN0aW9uKHQsZSl7aWYoImNoaW5hIj09PXQpe3ZhciBuPVN2W2UubmFtZV07aWYobil7dmFyIGk9ZS5nZXRDZW50ZXIoKTtpWzBdKz1uWzBdLzEwLjUsaVsxXSs9LW5bMV0vMTQsZS5zZXRDZW50ZXIoaSl9fX0obix0KSxmdW5jdGlvbih0LGUpe2lmKCJ3b3JsZCI9PT10KXt2YXIgbj1NdltlLm5hbWVdO2lmKG4pe3ZhciBpPVtuWzBdLG5bMV1dO2Uuc2V0Q2VudGVyKGkpfX19KG4sdCksZnVuY3Rpb24odCxlKXsiY2hpbmEiPT09dCYmIuWPsOa5viI9PT1lLm5hbWUmJmUuZ2VvbWV0cmllcy5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjpJdlswXX0pfShuLHQpO3ZhciBpPXRoaXMuX3NwZWNpYWxBcmVhcyYmdGhpcy5fc3BlY2lhbEFyZWFzW2VdO2kmJnQudHJhbnNmb3JtVG8oaS5sZWZ0LGkudG9wLGkud2lkdGgsaS5oZWlnaHQpfSksdGhpcyksZX0sdC5wcm90b3R5cGUuZ2V0TWFwRm9yVXNlcj1mdW5jdGlvbigpe3JldHVybntnZW9Kc29uOnRoaXMuX2dlb0pTT04sZ2VvSlNPTjp0aGlzLl9nZW9KU09OLHNwZWNpYWxBcmVhczp0aGlzLl9zcGVjaWFsQXJlYXN9fSx0fSgpO2Z1bmN0aW9uIEN2KHQpe2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0uZ2V0Qm91bmRpbmdSZWN0KCk7KGU9ZXx8aS5jbG9uZSgpKS51bmlvbihpKX1yZXR1cm4gZX12YXIgRHY9aHQoKSxBdj1mdW5jdGlvbih0LGUsbil7aWYoZS5zdmcpe3ZhciBpPW5ldyBndih0LGUuc3ZnKTtEdi5zZXQodCxpKX1lbHNle3ZhciByPWUuZ2VvSnNvbnx8ZS5nZW9KU09OO3ImJiFlLmZlYXR1cmVzP249ZS5zcGVjaWFsQXJlYXM6cj1lO2k9bmV3IFR2KHQscixuKTtEdi5zZXQodCxpKX19LEx2PWZ1bmN0aW9uKHQpe3JldHVybiBEdi5nZXQodCl9LGt2PWZ1bmN0aW9uKHQpe3ZhciBlPUR2LmdldCh0KTtyZXR1cm4gZSYmImdlb0pTT04iPT09ZS50eXBlJiZlLmdldE1hcEZvclVzZXIoKX0sUHY9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUR2LmdldCh0KTtpZihpKXJldHVybiBpLmxvYWQoZSxuKX0sT3Y9cnQsUnY9UCxOdj1HLHp2PVgsRXY9RCxWdj0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyxCdj0yZTMsRnY9NDUwMCxHdj17UFJPQ0VTU09SOntGSUxURVI6MWUzLFNFUklFU19GSUxURVI6ODAwLFNUQVRJU1RJQzo1ZTN9LFZJU1VBTDp7TEFZT1VUOjFlMyxQUk9HUkVTU0lWRV9MQVlPVVQ6MTEwMCxHTE9CQUw6QnYsQ0hBUlQ6M2UzLFBPU1RfQ0hBUlRfTEFZT1VUOjQ2MDAsQ09NUE9ORU5UOjRlMyxCUlVTSDo1ZTMsQ0hBUlRfSVRFTTpGdixBUklBOjZlMyxERUNBTDo3ZTN9fSxIdj0vXlthLXpBLVowLTlfXSskLyxXdj0iX19jb25uZWN0VXBkYXRlU3RhdHVzIjtmdW5jdGlvbiBVdih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07aWYoIXRoaXMuaXNEaXNwb3NlZCgpKXJldHVybiBZdih0aGlzLHQsZSk7X20odGhpcy5pZCl9fWZ1bmN0aW9uIFh2KHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gWXYodGhpcyx0LGUpfX1mdW5jdGlvbiBZdih0LGUsbil7cmV0dXJuIG5bMF09blswXSYmblswXS50b0xvd2VyQ2FzZSgpLEZ0LnByb3RvdHlwZVtlXS5hcHBseSh0LG4pfXZhciBadixqdixxdixLdiwkdixKdixRdix0bSxlbSxubSxpbSxybSxvbSxhbSxzbSxsbSx1bSxobSxjbSxwbSxkbSxmbT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGV9KEZ0KSxnbT1mbS5wcm90b3R5cGU7Z20ub249WHYoIm9uIiksZ20ub2ZmPVh2KCJvZmYiKTt2YXIgeW09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMsbmV3IGdnKXx8dGhpcztyLl9jaGFydHNWaWV3cz1bXSxyLl9jaGFydHNNYXA9e30sci5fY29tcG9uZW50c1ZpZXdzPVtdLHIuX2NvbXBvbmVudHNNYXA9e30sci5fcGVuZGluZ0FjdGlvbnM9W10saT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIG4mJihuPUNtW25dKSxyLl9kb209ZTt2YXIgbz0iY2FudmFzIixhPSExLHM9ci5fenI9SGkoZSx7cmVuZGVyZXI6aS5yZW5kZXJlcnx8byxkZXZpY2VQaXhlbFJhdGlvOmkuZGV2aWNlUGl4ZWxSYXRpbyx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodCx1c2VEaXJ0eVJlY3Q6bnVsbD09aS51c2VEaXJ0eVJlY3Q/YTppLnVzZURpcnR5UmVjdH0pO3IuX3Rocm90dGxlZFpyRmx1c2g9TmYoVihzLmZsdXNoLHMpLDE3KSwobj13KG4pKSYmSnAobiwhMCksci5fdGhlbWU9bixyLl9sb2NhbGU9ZnVuY3Rpb24odCl7aWYoSCh0KSl7dmFyIGU9RmhbdC50b1VwcGVyQ2FzZSgpXXx8e307cmV0dXJuIHQ9PT1FaHx8dD09PVZoP3coZSk6Uyh3KGUpLHcoRmguRU4pLCExKX1yZXR1cm4gUyh3KHQpLHcoRmguRU4pLCExKX0oaS5sb2NhbGV8fEhoKSxyLl9jb29yZFN5c01ncj1uZXcgQXA7dmFyIGw9ci5fYXBpPXVtKHIpO2Z1bmN0aW9uIHUodCxlKXtyZXR1cm4gdC5fX3ByaW8tZS5fX3ByaW99cmV0dXJuIF9lKFRtLHUpLF9lKHdtLHUpLHIuX3NjaGVkdWxlcj1uZXcgWmYocixsLHdtLFRtKSxyLl9tZXNzYWdlQ2VudGVyPW5ldyBmbSxyLl9sYWJlbE1hbmFnZXI9bmV3IHR5LHIuX2luaXRFdmVudHMoKSxyLnJlc2l6ZT1WKHIucmVzaXplLHIpLHMuYW5pbWF0aW9uLm9uKCJmcmFtZSIsci5fb25mcmFtZSxyKSxubShzLHIpLGltKHMsciksc3Qocikscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9vbmZyYW1lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2Rpc3Bvc2VkKXtkbSh0aGlzKTt2YXIgdD10aGlzLl9zY2hlZHVsZXI7aWYodGhpcy5fX29wdGlvblVwZGF0ZWQpe3ZhciBlPXRoaXMuX19vcHRpb25VcGRhdGVkLnNpbGVudDt0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITAsWnYodGhpcyksS3YudXBkYXRlLmNhbGwodGhpcyksdGhpcy5fenIuZmx1c2goKSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdGhpcy5fX29wdGlvblVwZGF0ZWQ9ITEsdG0uY2FsbCh0aGlzLGUpLGVtLmNhbGwodGhpcyxlKX1lbHNlIGlmKHQudW5maW5pc2hlZCl7dmFyIG49MSxpPXRoaXMuX21vZGVsLHI9dGhpcy5fYXBpO3QudW5maW5pc2hlZD0hMTtkb3t2YXIgbz0rbmV3IERhdGU7dC5wZXJmb3JtU2VyaWVzVGFza3MoaSksdC5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzKGkpLEp2KHRoaXMsaSksdC5wZXJmb3JtVmlzdWFsVGFza3MoaSksc20odGhpcyx0aGlzLl9tb2RlbCxyLCJyZW1haW4iKSxuLT0rbmV3IERhdGUtb313aGlsZShuPjAmJnQudW5maW5pc2hlZCk7dC51bmZpbmlzaGVkfHx0aGlzLl96ci5mbHVzaCgpfX19LGUucHJvdG90eXBlLmdldERvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb219LGUucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9LGUucHJvdG90eXBlLmdldFpyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyfSxlLnByb3RvdHlwZS5zZXRPcHRpb249ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuX2Rpc3Bvc2VkKV9tKHRoaXMuaWQpO2Vsc2V7dmFyIGkscixvO2lmKHp2KGUpJiYobj1lLmxhenlVcGRhdGUsaT1lLnNpbGVudCxyPWUucmVwbGFjZU1lcmdlLG89ZS50cmFuc2l0aW9uLGU9ZS5ub3RNZXJnZSksdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwLCF0aGlzLl9tb2RlbHx8ZSl7dmFyIGE9bmV3IGtwKHRoaXMuX2FwaSkscz10aGlzLl90aGVtZSxsPXRoaXMuX21vZGVsPW5ldyB3cDtsLnNjaGVkdWxlcj10aGlzLl9zY2hlZHVsZXIsbC5pbml0KG51bGwsbnVsbCxudWxsLHMsdGhpcy5fbG9jYWxlLGEpfXRoaXMuX21vZGVsLnNldE9wdGlvbih0LHtyZXBsYWNlTWVyZ2U6cn0sU20pLGNtKHRoaXMsbyksbj8odGhpcy5fX29wdGlvblVwZGF0ZWQ9e3NpbGVudDppfSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdGhpcy5nZXRacigpLndha2VVcCgpKTooWnYodGhpcyksS3YudXBkYXRlLmNhbGwodGhpcyksdGhpcy5fenIuZmx1c2goKSx0aGlzLl9fb3B0aW9uVXBkYXRlZD0hMSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdG0uY2FsbCh0aGlzLGkpLGVtLmNhbGwodGhpcyxpKSl9fSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIkVDaGFydHMjc2V0VGhlbWUoKSBpcyBERVBSRUNBVEVEIGluIEVDaGFydHMgMy4wIil9LGUucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxlLnByb3RvdHlwZS5nZXRPcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWwmJnRoaXMuX21vZGVsLmdldE9wdGlvbigpfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96ci5nZXRXaWR0aCgpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0SGVpZ2h0KCl9LGUucHJvdG90eXBlLmdldERldmljZVBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIucGFpbnRlci5kcHJ8fFZ2JiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyZWRDYW52YXM9ZnVuY3Rpb24odCl7aWYoYS5jYW52YXNTdXBwb3J0ZWQpcmV0dXJuIHQ9dHx8e30sdGhpcy5fenIucGFpbnRlci5nZXRSZW5kZXJlZENhbnZhcyh7YmFja2dyb3VuZENvbG9yOnQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9tb2RlbC5nZXQoImJhY2tncm91bmRDb2xvciIpLHBpeGVsUmF0aW86dC5waXhlbFJhdGlvfHx0aGlzLmdldERldmljZVBpeGVsUmF0aW8oKX0pfSxlLnByb3RvdHlwZS5nZXRTdmdEYXRhVVJMPWZ1bmN0aW9uKCl7aWYoYS5zdmdTdXBwb3J0ZWQpe3ZhciB0PXRoaXMuX3pyO3JldHVybiBQKHQuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLChmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24obnVsbCwhMCl9KSksdC5wYWludGVyLnRvRGF0YVVSTCgpfX0sZS5wcm90b3R5cGUuZ2V0RGF0YVVSTD1mdW5jdGlvbih0KXtpZighdGhpcy5fZGlzcG9zZWQpe3ZhciBlPSh0PXR8fHt9KS5leGNsdWRlQ29tcG9uZW50cyxuPXRoaXMuX21vZGVsLGk9W10scj10aGlzO1J2KGUsKGZ1bmN0aW9uKHQpe24uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6dH0sKGZ1bmN0aW9uKHQpe3ZhciBlPXIuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF07ZS5ncm91cC5pZ25vcmV8fChpLnB1c2goZSksZS5ncm91cC5pZ25vcmU9ITApfSkpfSkpO3ZhciBvPSJzdmciPT09dGhpcy5fenIucGFpbnRlci5nZXRUeXBlKCk/dGhpcy5nZXRTdmdEYXRhVVJMKCk6dGhpcy5nZXRSZW5kZXJlZENhbnZhcyh0KS50b0RhdGFVUkwoImltYWdlLyIrKHQmJnQudHlwZXx8InBuZyIpKTtyZXR1cm4gUnYoaSwoZnVuY3Rpb24odCl7dC5ncm91cC5pZ25vcmU9ITF9KSksb31fbSh0aGlzLmlkKX0sZS5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkRGF0YVVSTD1mdW5jdGlvbih0KXtpZih0aGlzLl9kaXNwb3NlZClfbSh0aGlzLmlkKTtlbHNlIGlmKGEuY2FudmFzU3VwcG9ydGVkKXt2YXIgZT0ic3ZnIj09PXQudHlwZSxuPXRoaXMuZ3JvdXAsaT1NYXRoLm1pbixyPU1hdGgubWF4LG89MS8wO2lmKExtW25dKXt2YXIgcz1vLGw9byx1PS0xLzAsaD0tMS8wLGM9W10scD10JiZ0LnBpeGVsUmF0aW98fHRoaXMuZ2V0RGV2aWNlUGl4ZWxSYXRpbygpO1AoQW0sKGZ1bmN0aW9uKG8sYSl7aWYoby5ncm91cD09PW4pe3ZhciBwPWU/by5nZXRacigpLnBhaW50ZXIuZ2V0U3ZnRG9tKCkuaW5uZXJIVE1MOm8uZ2V0UmVuZGVyZWRDYW52YXModyh0KSksZD1vLmdldERvbSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3M9aShkLmxlZnQscyksbD1pKGQudG9wLGwpLHU9cihkLnJpZ2h0LHUpLGg9cihkLmJvdHRvbSxoKSxjLnB1c2goe2RvbTpwLGxlZnQ6ZC5sZWZ0LHRvcDpkLnRvcH0pfX0pKTt2YXIgZD0odSo9cCktKHMqPXApLGY9KGgqPXApLShsKj1wKSxnPUMoKSx5PUhpKGcse3JlbmRlcmVyOmU/InN2ZyI6ImNhbnZhcyJ9KTtpZih5LnJlc2l6ZSh7d2lkdGg6ZCxoZWlnaHQ6Zn0pLGUpe3ZhciB2PSIiO3JldHVybiBSdihjLChmdW5jdGlvbih0KXt2YXIgZT10LmxlZnQtcyxuPXQudG9wLWw7dis9JzxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKCcrZSsiLCIrbisnKSI+Jyt0LmRvbSsiPC9nPiJ9KSkseS5wYWludGVyLmdldFN2Z1Jvb3QoKS5pbm5lckhUTUw9dix0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvciYmeS5wYWludGVyLnNldEJhY2tncm91bmRDb2xvcih0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvcikseS5yZWZyZXNoSW1tZWRpYXRlbHkoKSx5LnBhaW50ZXIudG9EYXRhVVJMKCl9cmV0dXJuIHQuY29ubmVjdGVkQmFja2dyb3VuZENvbG9yJiZ5LmFkZChuZXcgbHMoe3NoYXBlOnt4OjAseTowLHdpZHRoOmQsaGVpZ2h0OmZ9LHN0eWxlOntmaWxsOnQuY29ubmVjdGVkQmFja2dyb3VuZENvbG9yfX0pKSxSdihjLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgZXMoe3N0eWxlOnt4OnQubGVmdCpwLXMseTp0LnRvcCpwLWwsaW1hZ2U6dC5kb219fSk7eS5hZGQoZSl9KSkseS5yZWZyZXNoSW1tZWRpYXRlbHkoKSxnLnRvRGF0YVVSTCgiaW1hZ2UvIisodCYmdC50eXBlfHwicG5nIikpfXJldHVybiB0aGlzLmdldERhdGFVUkwodCl9fSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiAkdih0aGlzLCJjb252ZXJ0VG9QaXhlbCIsdCxlKX0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiAkdih0aGlzLCJjb252ZXJ0RnJvbVBpeGVsIix0LGUpfSxlLnByb3RvdHlwZS5jb250YWluUGl4ZWw9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighdGhpcy5fZGlzcG9zZWQpcmV0dXJuIFAoT3IodGhpcy5fbW9kZWwsdCksKGZ1bmN0aW9uKHQsaSl7aS5pbmRleE9mKCJNb2RlbHMiKT49MCYmUCh0LChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07aWYociYmci5jb250YWluUG9pbnQpbj1ufHwhIXIuY29udGFpblBvaW50KGUpO2Vsc2UgaWYoInNlcmllc01vZGVscyI9PT1pKXt2YXIgbz10aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF07byYmby5jb250YWluUG9pbnQmJihuPW58fG8uY29udGFpblBvaW50KGUsdCkpfWVsc2UgMH0pLHRoaXMpfSksdGhpcyksISFuO19tKHRoaXMuaWQpfSxlLnByb3RvdHlwZS5nZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1Pcih0aGlzLl9tb2RlbCx0LHtkZWZhdWx0TWFpblR5cGU6InNlcmllcyJ9KSxpPW4uc2VyaWVzTW9kZWw7dmFyIHI9aS5nZXREYXRhKCksbz1uLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXhJbnNpZGUiKT9uLmRhdGFJbmRleEluc2lkZTpuLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXgiKT9yLmluZGV4T2ZSYXdJbmRleChuLmRhdGFJbmRleCk6bnVsbDtyZXR1cm4gbnVsbCE9bz92ZyhyLG8sZSk6bWcocixlKX0sZS5wcm90b3R5cGUuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk9dGhpcztSdihtbSwoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG4scj1pLmdldE1vZGVsKCksbz1lLnRhcmdldCxhPSJnbG9iYWxvdXQiPT09dDtpZihhP249e306byYmaXkobywoZnVuY3Rpb24odCl7dmFyIGU9X3ModCk7aWYoZSYmbnVsbCE9ZS5kYXRhSW5kZXgpe3ZhciBpPWUuZGF0YU1vZGVsfHxyLmdldFNlcmllc0J5SW5kZXgoZS5zZXJpZXNJbmRleCk7cmV0dXJuIG49aSYmaS5nZXREYXRhUGFyYW1zKGUuZGF0YUluZGV4LGUuZGF0YVR5cGUpfHx7fSwhMH1pZihlLmV2ZW50RGF0YSlyZXR1cm4gbj1JKHt9LGUuZXZlbnREYXRhKSwhMH0pLCEwKSxuKXt2YXIgcz1uLmNvbXBvbmVudFR5cGUsbD1uLmNvbXBvbmVudEluZGV4OyJtYXJrTGluZSIhPT1zJiYibWFya1BvaW50IiE9PXMmJiJtYXJrQXJlYSIhPT1zfHwocz0ic2VyaWVzIixsPW4uc2VyaWVzSW5kZXgpO3ZhciB1PXMmJm51bGwhPWwmJnIuZ2V0Q29tcG9uZW50KHMsbCksaD11JiZpWyJzZXJpZXMiPT09dS5tYWluVHlwZT8iX2NoYXJ0c01hcCI6Il9jb21wb25lbnRzTWFwIl1bdS5fX3ZpZXdJZF07MCxuLmV2ZW50PWUsbi50eXBlPXQsaS5fJGV2ZW50UHJvY2Vzc29yLmV2ZW50SW5mbz17dGFyZ2V0RWw6byxwYWNrZWRFdmVudDpuLG1vZGVsOnUsdmlldzpofSxpLnRyaWdnZXIodCxuKX19O2UuenJFdmVudGZ1bENhbGxBdExhc3Q9ITAsaS5fenIub24odCxlLGkpfSkpLFJ2KGJtLChmdW5jdGlvbih0LGUpe2kuX21lc3NhZ2VDZW50ZXIub24oZSwoZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKGUsdCl9KSxpKX0pKSxSdihbInNlbGVjdGNoYW5nZWQiXSwoZnVuY3Rpb24odCl7aS5fbWVzc2FnZUNlbnRlci5vbih0LChmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIodCxlKX0pLGkpfSkpLHQ9dGhpcy5fbWVzc2FnZUNlbnRlcixlPXRoaXMsbj10aGlzLl9hcGksdC5vbigic2VsZWN0Y2hhbmdlZCIsKGZ1bmN0aW9uKHQpe3ZhciBpPW4uZ2V0TW9kZWwoKTt0LmlzRnJvbUNsaWNrPyhueSgibWFwIiwic2VsZWN0Y2hhbmdlZCIsZSxpLHQpLG55KCJwaWUiLCJzZWxlY3RjaGFuZ2VkIixlLGksdCkpOiJzZWxlY3QiPT09dC5mcm9tQWN0aW9uPyhueSgibWFwIiwic2VsZWN0ZWQiLGUsaSx0KSxueSgicGllIiwic2VsZWN0ZWQiLGUsaSx0KSk6InVuc2VsZWN0Ij09PXQuZnJvbUFjdGlvbiYmKG55KCJtYXAiLCJ1bnNlbGVjdGVkIixlLGksdCksbnkoInBpZSIsInVuc2VsZWN0ZWQiLGUsaSx0KSl9KSl9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcG9zZWR9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/X20odGhpcy5pZCk6dGhpcy5zZXRPcHRpb24oe3NlcmllczpbXX0sITApfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlzcG9zZWQpX20odGhpcy5pZCk7ZWxzZXt0aGlzLl9kaXNwb3NlZD0hMCxWcih0aGlzLmdldERvbSgpLE9tLCIiKTt2YXIgdD10aGlzLl9hcGksZT10aGlzLl9tb2RlbDtSdih0aGlzLl9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKG4pe24uZGlzcG9zZShlLHQpfSkpLFJ2KHRoaXMuX2NoYXJ0c1ZpZXdzLChmdW5jdGlvbihuKXtuLmRpc3Bvc2UoZSx0KX0pKSx0aGlzLl96ci5kaXNwb3NlKCksZGVsZXRlIEFtW3RoaXMuaWRdfX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3Bvc2VkKV9tKHRoaXMuaWQpO2Vsc2V7dGhpcy5fenIucmVzaXplKHQpO3ZhciBlPXRoaXMuX21vZGVsO2lmKHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fbG9hZGluZ0ZYLnJlc2l6ZSgpLGUpe3ZhciBuPWUucmVzZXRPcHRpb24oIm1lZGlhIiksaT10JiZ0LnNpbGVudDt0aGlzLl9fb3B0aW9uVXBkYXRlZCYmKG51bGw9PWkmJihpPXRoaXMuX19vcHRpb25VcGRhdGVkLnNpbGVudCksbj0hMCx0aGlzLl9fb3B0aW9uVXBkYXRlZD0hMSksdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwLG4mJlp2KHRoaXMpLEt2LnVwZGF0ZS5jYWxsKHRoaXMse3R5cGU6InJlc2l6ZSIsYW5pbWF0aW9uOkkoe2R1cmF0aW9uOjB9LHQmJnQuYW5pbWF0aW9uKX0pLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMSx0bS5jYWxsKHRoaXMsaSksZW0uY2FsbCh0aGlzLGkpfX19LGUucHJvdG90eXBlLnNob3dMb2FkaW5nPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzcG9zZWQpX20odGhpcy5pZCk7ZWxzZSBpZih6dih0KSYmKGU9dCx0PSIiKSx0PXR8fCJkZWZhdWx0Iix0aGlzLmhpZGVMb2FkaW5nKCksRG1bdF0pe3ZhciBuPURtW3RdKHRoaXMuX2FwaSxlKSxpPXRoaXMuX3pyO3RoaXMuX2xvYWRpbmdGWD1uLGkuYWRkKG4pfX0sZS5wcm90b3R5cGUuaGlkZUxvYWRpbmc9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlZD9fbSh0aGlzLmlkKToodGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl96ci5yZW1vdmUodGhpcy5fbG9hZGluZ0ZYKSx0aGlzLl9sb2FkaW5nRlg9bnVsbCl9LGUucHJvdG90eXBlLm1ha2VBY3Rpb25Gcm9tRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9SSh7fSx0KTtyZXR1cm4gZS50eXBlPWJtW3QudHlwZV0sZX0sZS5wcm90b3R5cGUuZGlzcGF0Y2hBY3Rpb249ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kaXNwb3NlZClfbSh0aGlzLmlkKTtlbHNlIGlmKHp2KGUpfHwoZT17c2lsZW50OiEhZX0pLHhtW3QudHlwZV0mJnRoaXMuX21vZGVsKWlmKHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcyl0aGlzLl9wZW5kaW5nQWN0aW9ucy5wdXNoKHQpO2Vsc2V7dmFyIG49ZS5zaWxlbnQ7UXYuY2FsbCh0aGlzLHQsbik7dmFyIGk9ZS5mbHVzaDtpP3RoaXMuX3pyLmZsdXNoKCk6ITEhPT1pJiZhLmJyb3dzZXIud2VDaGF0JiZ0aGlzLl90aHJvdHRsZWRackZsdXNoKCksdG0uY2FsbCh0aGlzLG4pLGVtLmNhbGwodGhpcyxuKX19LGUucHJvdG90eXBlLnVwZGF0ZUxhYmVsTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGFiZWxNYW5hZ2VyO3QudXBkYXRlTGF5b3V0Q29uZmlnKHRoaXMuX2FwaSksdC5sYXlvdXQodGhpcy5fYXBpKSx0LnByb2Nlc3NMYWJlbHNPdmVyYWxsKCl9LGUucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGlzcG9zZWQpX20odGhpcy5pZCk7ZWxzZXt2YXIgZT10LnNlcmllc0luZGV4LG49dGhpcy5nZXRNb2RlbCgpLmdldFNlcmllc0J5SW5kZXgoZSk7MCxuLmFwcGVuZERhdGEodCksdGhpcy5fc2NoZWR1bGVyLnVuZmluaXNoZWQ9ITAsdGhpcy5nZXRacigpLndha2VVcCgpfX0sZS5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9W10sbj10LmN1cnJlbnRTdGF0ZXMsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldOyJlbXBoYXNpcyIhPT1yJiYiYmx1ciIhPT1yJiYic2VsZWN0IiE9PXImJmUucHVzaChyKX10LnNlbGVjdGVkJiZ0LnN0YXRlcy5zZWxlY3QmJmUucHVzaCgic2VsZWN0IiksMj09PXQuaG92ZXJTdGF0ZSYmdC5zdGF0ZXMuZW1waGFzaXM/ZS5wdXNoKCJlbXBoYXNpcyIpOjE9PT10LmhvdmVyU3RhdGUmJnQuc3RhdGVzLmJsdXImJmUucHVzaCgiYmx1ciIpLHQudXNlU3RhdGVzKGUpfWZ1bmN0aW9uIGUodCxlKXt0LnByZXZlbnRBdXRvWnx8aShlLmdyb3VwLHQuZ2V0KCJ6Iil8fDAsdC5nZXQoInpsZXZlbCIpfHwwLC0xLzApfWZ1bmN0aW9uIGkodCxlLG4scil7dmFyIG89dC5nZXRUZXh0Q29udGVudCgpLGE9dC5nZXRUZXh0R3VpZGVMaW5lKCk7aWYodC5pc0dyb3VwKWZvcih2YXIgcz10LmNoaWxkcmVuUmVmKCksbD0wO2w8cy5sZW5ndGg7bCsrKXI9TWF0aC5tYXgoaShzW2xdLGUsbixyKSxyKTtlbHNlIHQuej1lLHQuemxldmVsPW4scj1NYXRoLm1heCh0LnoyLHIpO2lmKG8mJihvLno9ZSxvLnpsZXZlbD1uLGlzRmluaXRlKHIpJiYoby56Mj1yKzIpKSxhKXt2YXIgdT10LnRleHRHdWlkZUxpbmVDb25maWc7YS56PWUsYS56bGV2ZWw9bixpc0Zpbml0ZShyKSYmKGEuejI9cisodSYmdS5zaG93QWJvdmU/MTotMSkpfXJldHVybiByfWZ1bmN0aW9uIHIodCxlKXtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighWnUodCkpe3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKSxuPXQuZ2V0VGV4dEd1aWRlTGluZSgpO3Quc3RhdGVUcmFuc2l0aW9uJiYodC5zdGF0ZVRyYW5zaXRpb249bnVsbCksZSYmZS5zdGF0ZVRyYW5zaXRpb24mJihlLnN0YXRlVHJhbnNpdGlvbj1udWxsKSxuJiZuLnN0YXRlVHJhbnNpdGlvbiYmKG4uc3RhdGVUcmFuc2l0aW9uPW51bGwpLHQuaGFzU3RhdGUoKT8odC5wcmV2U3RhdGVzPXQuY3VycmVudFN0YXRlcyx0LmNsZWFyU3RhdGVzKCkpOnQucHJldlN0YXRlcyYmKHQucHJldlN0YXRlcz1udWxsKX19KSl9ZnVuY3Rpb24gbyhlLG4pe3ZhciBpPWUuZ2V0TW9kZWwoInN0YXRlQW5pbWF0aW9uIikscj1lLmlzQW5pbWF0aW9uRW5hYmxlZCgpLG89aS5nZXQoImR1cmF0aW9uIiksYT1vPjA/e2R1cmF0aW9uOm8sZGVsYXk6aS5nZXQoImRlbGF5IiksZWFzaW5nOmkuZ2V0KCJlYXNpbmciKX06bnVsbDtuLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXtpZihlLnN0YXRlcyYmZS5zdGF0ZXMuZW1waGFzaXMpe2lmKFp1KGUpKXJldHVybjtpZihlIGluc3RhbmNlb2YgS2EmJmZ1bmN0aW9uKHQpe3ZhciBlPXdzKHQpO2Uubm9ybWFsRmlsbD10LnN0eWxlLmZpbGwsZS5ub3JtYWxTdHJva2U9dC5zdHlsZS5zdHJva2U7dmFyIG49dC5zdGF0ZXMuc2VsZWN0fHx7fTtlLnNlbGVjdEZpbGw9bi5zdHlsZSYmbi5zdHlsZS5maWxsfHxudWxsLGUuc2VsZWN0U3Ryb2tlPW4uc3R5bGUmJm4uc3R5bGUuc3Ryb2tlfHxudWxsfShlKSxlLl9fZGlydHkpe3ZhciBuPWUucHJldlN0YXRlcztuJiZlLnVzZVN0YXRlcyhuKX1pZihyKXtlLnN0YXRlVHJhbnNpdGlvbj1hO3ZhciBpPWUuZ2V0VGV4dENvbnRlbnQoKSxvPWUuZ2V0VGV4dEd1aWRlTGluZSgpO2kmJihpLnN0YXRlVHJhbnNpdGlvbj1hKSxvJiYoby5zdGF0ZVRyYW5zaXRpb249YSl9ZS5fX2RpcnR5JiZ0KGUpfX0pKX1adj1mdW5jdGlvbih0KXt2YXIgZT10Ll9zY2hlZHVsZXI7ZS5yZXN0b3JlUGlwZWxpbmVzKHQuX21vZGVsKSxlLnByZXBhcmVTdGFnZVRhc2tzKCksanYodCwhMCksanYodCwhMSksZS5wbGFuKCl9LGp2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuX21vZGVsLGk9dC5fc2NoZWR1bGVyLHI9ZT90Ll9jb21wb25lbnRzVmlld3M6dC5fY2hhcnRzVmlld3Msbz1lP3QuX2NvbXBvbmVudHNNYXA6dC5fY2hhcnRzTWFwLGE9dC5fenIscz10Ll9hcGksbD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0uX19hbGl2ZT0hMTtmdW5jdGlvbiB1KHQpe3ZhciBsPXQuX19yZXF1aXJlTmV3Vmlldzt0Ll9fcmVxdWlyZU5ld1ZpZXc9ITE7dmFyIHU9Il9lY18iK3QuaWQrIl8iK3QudHlwZSxoPSFsJiZvW3VdO2lmKCFoKXt2YXIgYz1Xcih0LnR5cGUpLHA9ZT93Zi5nZXRDbGFzcyhjLm1haW4sYy5zdWIpOlRmLmdldENsYXNzKGMuc3ViKTswLChoPW5ldyBwKS5pbml0KG4scyksb1t1XT1oLHIucHVzaChoKSxhLmFkZChoLmdyb3VwKX10Ll9fdmlld0lkPWguX19pZD11LGguX19hbGl2ZT0hMCxoLl9fbW9kZWw9dCxoLmdyb3VwLl9fZWNDb21wb25lbnRJbmZvPXttYWluVHlwZTp0Lm1haW5UeXBlLGluZGV4OnQuY29tcG9uZW50SW5kZXh9LCFlJiZpLnByZXBhcmVWaWV3KGgsdCxuLHMpfWU/bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LGUpeyJzZXJpZXMiIT09dCYmdShlKX0pKTpuLmVhY2hTZXJpZXModSk7Zm9yKGw9MDtsPHIubGVuZ3RoOyl7dmFyIGg9cltsXTtoLl9fYWxpdmU/bCsrOighZSYmaC5yZW5kZXJUYXNrLmRpc3Bvc2UoKSxhLnJlbW92ZShoLmdyb3VwKSxoLmRpc3Bvc2UobixzKSxyLnNwbGljZShsLDEpLG9baC5fX2lkXT09PWgmJmRlbGV0ZSBvW2guX19pZF0saC5fX2lkPWguZ3JvdXAuX19lY0NvbXBvbmVudEluZm89bnVsbCl9fSxxdj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuX21vZGVsO2lmKG8uc2V0VXBkYXRlUGF5bG9hZChuKSxpKXt2YXIgYT17fTthW2krIklkIl09bltpKyJJZCJdLGFbaSsiSW5kZXgiXT1uW2krIkluZGV4Il0sYVtpKyJOYW1lIl09bltpKyJOYW1lIl07dmFyIHM9e21haW5UeXBlOmkscXVlcnk6YX07ciYmKHMuc3ViVHlwZT1yKTt2YXIgbCx1PW4uZXhjbHVkZVNlcmllc0lkO251bGwhPXUmJihsPWh0KCksUnYoeHIodSksKGZ1bmN0aW9uKHQpe3ZhciBlPUNyKHQsbnVsbCk7bnVsbCE9ZSYmbC5zZXQoZSwhMCl9KSkpLGdsKG4pJiZlbCh0Ll9hcGkpLG8mJm8uZWFjaENvbXBvbmVudChzLChmdW5jdGlvbihlKXtpZighbHx8bnVsbD09bC5nZXQoZS5pZCkpe2lmKGdsKG4pKWlmKGUgaW5zdGFuY2VvZiBmZiluLnR5cGUhPT1Uc3x8bi5ub3RCbHVyfHxmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5zZXJpZXNJbmRleCxyPXQuZ2V0RGF0YShlLmRhdGFUeXBlKSxvPUxyKHIsZSk7bz0oRihvKT9vWzBdOm8pfHwwO3ZhciBhPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTtpZighYSlmb3IodmFyIHM9ci5jb3VudCgpLGw9MDshYSYmbDxzOylhPXIuZ2V0SXRlbUdyYXBoaWNFbChsKyspO2lmKGEpe3ZhciB1PV9zKGEpO25sKGksdS5mb2N1cyx1LmJsdXJTY29wZSxuKX1lbHNle3ZhciBoPXQuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSxjPXQuZ2V0KFsiZW1waGFzaXMiLCJibHVyU2NvcGUiXSk7bnVsbCE9aCYmbmwoaSxoLGMsbil9fShlLG4sdC5fYXBpKTtlbHNle3ZhciByPXJsKGUubWFpblR5cGUsZS5jb21wb25lbnRJbmRleCxuLm5hbWUsdC5fYXBpKSxvPXIuZm9jdXNTZWxmLGE9ci5kaXNwYXRjaGVycztuLnR5cGU9PT1UcyYmbyYmIW4ubm90Qmx1ciYmaWwoZS5tYWluVHlwZSxlLmNvbXBvbmVudEluZGV4LHQuX2FwaSksYSYmUnYoYSwoZnVuY3Rpb24odCl7bi50eXBlPT09VHM/anModCk6cXModCl9KSl9ZWxzZSBmbChuKSYmZSBpbnN0YW5jZW9mIGZmJiYoIWZ1bmN0aW9uKHQsZSxuKXtpZihmbChlKSl7dmFyIGk9ZS5kYXRhVHlwZSxyPUxyKHQuZ2V0RGF0YShpKSxlKTtGKHIpfHwocj1bcl0pLHRbZS50eXBlPT09THM/InRvZ2dsZVNlbGVjdCI6ZS50eXBlPT09RHM/InNlbGVjdCI6InVuc2VsZWN0Il0ocixpKX19KGUsbix0Ll9hcGkpLG9sKGUpLHBtKHQpKTtoKHRbInNlcmllcyI9PT1pPyJfY2hhcnRzTWFwIjoiX2NvbXBvbmVudHNNYXAiXVtlLl9fdmlld0lkXSl9fSksdCl9ZWxzZSBSdihbXS5jb25jYXQodC5fY29tcG9uZW50c1ZpZXdzKS5jb25jYXQodC5fY2hhcnRzVmlld3MpLGgpO2Z1bmN0aW9uIGgoaSl7aSYmaS5fX2FsaXZlJiZpW2VdJiZpW2VdKGkuX19tb2RlbCxvLHQuX2FwaSxuKX19LEt2PXtwcmVwYXJlQW5kVXBkYXRlOmZ1bmN0aW9uKHQpe1p2KHRoaXMpLEt2LnVwZGF0ZS5jYWxsKHRoaXMsdCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbCxuPXRoaXMuX2FwaSxpPXRoaXMuX3pyLHI9dGhpcy5fY29vcmRTeXNNZ3Isbz10aGlzLl9zY2hlZHVsZXI7aWYoZSl7ZS5zZXRVcGRhdGVQYXlsb2FkKHQpLG8ucmVzdG9yZURhdGEoZSx0KSxvLnBlcmZvcm1TZXJpZXNUYXNrcyhlKSxyLmNyZWF0ZShlLG4pLG8ucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcyhlLHQpLEp2KHRoaXMsZSksci51cGRhdGUoZSxuKSxybShlKSxvLnBlcmZvcm1WaXN1YWxUYXNrcyhlLHQpLG9tKHRoaXMsZSxuLHQpO3ZhciBzPWUuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8InRyYW5zcGFyZW50IixsPWUuZ2V0KCJkYXJrTW9kZSIpO2lmKGEuY2FudmFzU3VwcG9ydGVkKWkuc2V0QmFja2dyb3VuZENvbG9yKHMpLG51bGwhPWwmJiJhdXRvIiE9PWwmJmkuc2V0RGFya01vZGUobCk7ZWxzZXt2YXIgdT1IZShzKTtzPUplKHUsInJnYiIpLDA9PT11WzNdJiYocz0idHJhbnNwYXJlbnQiKX1sbShlLG4pfX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9tb2RlbCxpPXRoaXMuX2FwaTtpZihuKXtuLnNldFVwZGF0ZVBheWxvYWQodCk7dmFyIHI9W107bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbihvLGEpe2lmKCJzZXJpZXMiIT09byl7dmFyIHM9ZS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChhKTtpZihzJiZzLl9fYWxpdmUpaWYocy51cGRhdGVUcmFuc2Zvcm0pe3ZhciBsPXMudXBkYXRlVHJhbnNmb3JtKGEsbixpLHQpO2wmJmwudXBkYXRlJiZyLnB1c2gocyl9ZWxzZSByLnB1c2gocyl9fSkpO3ZhciBvPWh0KCk7bi5lYWNoU2VyaWVzKChmdW5jdGlvbihyKXt2YXIgYT1lLl9jaGFydHNNYXBbci5fX3ZpZXdJZF07aWYoYS51cGRhdGVUcmFuc2Zvcm0pe3ZhciBzPWEudXBkYXRlVHJhbnNmb3JtKHIsbixpLHQpO3MmJnMudXBkYXRlJiZvLnNldChyLnVpZCwxKX1lbHNlIG8uc2V0KHIudWlkLDEpfSkpLHJtKG4pLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3Mobix0LHtzZXREaXJ0eTohMCxkaXJ0eU1hcDpvfSksc20odGhpcyxuLGksdCxvKSxsbShuLHRoaXMuX2FwaSl9fSx1cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsO2UmJihlLnNldFVwZGF0ZVBheWxvYWQodCksVGYubWFya1VwZGF0ZU1ldGhvZCh0LCJ1cGRhdGVWaWV3Iikscm0oZSksdGhpcy5fc2NoZWR1bGVyLnBlcmZvcm1WaXN1YWxUYXNrcyhlLHQse3NldERpcnR5OiEwfSksb20odGhpcyx0aGlzLl9tb2RlbCx0aGlzLl9hcGksdCksbG0oZSx0aGlzLl9hcGkpKX0sdXBkYXRlVmlzdWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9tb2RlbDtuJiYobi5zZXRVcGRhdGVQYXlsb2FkKHQpLG4uZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dC5nZXREYXRhKCkuY2xlYXJBbGxWaXN1YWwoKX0pKSxUZi5tYXJrVXBkYXRlTWV0aG9kKHQsInVwZGF0ZVZpc3VhbCIpLHJtKG4pLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3Mobix0LHt2aXN1YWxUeXBlOiJ2aXN1YWwiLHNldERpcnR5OiEwfSksbi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbihpLHIpe2lmKCJzZXJpZXMiIT09aSl7dmFyIG89ZS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChyKTtvJiZvLl9fYWxpdmUmJm8udXBkYXRlVmlzdWFsKHIsbixlLl9hcGksdCl9fSkpLG4uZWFjaFNlcmllcygoZnVuY3Rpb24oaSl7ZS5fY2hhcnRzTWFwW2kuX192aWV3SWRdLnVwZGF0ZVZpc3VhbChpLG4sZS5fYXBpLHQpfSkpLGxtKG4sdGhpcy5fYXBpKSl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXtLdi51cGRhdGUuY2FsbCh0aGlzLHQpfX0sJHY9ZnVuY3Rpb24odCxlLG4saSl7aWYodC5fZGlzcG9zZWQpX20odC5pZCk7ZWxzZXtmb3IodmFyIHIsbz10Ll9tb2RlbCxhPXQuX2Nvb3JkU3lzTWdyLmdldENvb3JkaW5hdGVTeXN0ZW1zKCkscz1PcihvLG4pLGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIHU9YVtsXTtpZih1W2VdJiZudWxsIT0ocj11W2VdKG8scyxpKSkpcmV0dXJuIHJ9MH19LEp2PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fY2hhcnRzTWFwLGk9dC5fc2NoZWR1bGVyO2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aS51cGRhdGVTdHJlYW1Nb2Rlcyh0LG5bdC5fX3ZpZXdJZF0pfSkpfSxRdj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsaT10aGlzLmdldE1vZGVsKCkscj10LnR5cGUsbz10LmVzY2FwZUNvbm5lY3QsYT14bVtyXSxzPWEuYWN0aW9uSW5mbyxsPShzLnVwZGF0ZXx8InVwZGF0ZSIpLnNwbGl0KCI6IiksdT1sLnBvcCgpLGg9bnVsbCE9bFswXSYmV3IobFswXSk7dGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwO3ZhciBjPVt0XSxwPSExO3QuYmF0Y2gmJihwPSEwLGM9Tyh0LmJhdGNoLChmdW5jdGlvbihlKXtyZXR1cm4oZT1UKEkoe30sZSksdCkpLmJhdGNoPW51bGwsZX0pKSk7dmFyIGQsZj1bXSxnPWZsKHQpLHk9Z2wodCk7aWYoUnYoYywoZnVuY3Rpb24oZSl7aWYoKGQ9KGQ9YS5hY3Rpb24oZSxuLl9tb2RlbCxuLl9hcGkpKXx8SSh7fSxlKSkudHlwZT1zLmV2ZW50fHxkLnR5cGUsZi5wdXNoKGQpLHkpe3ZhciBpPVJyKHQpLHI9aS5xdWVyeU9wdGlvbk1hcCxvPWkubWFpblR5cGVTcGVjaWZpZWQ/ci5rZXlzKClbMF06InNlcmllcyI7cXYobix1LGUsbykscG0obil9ZWxzZSBnPyhxdihuLHUsZSwic2VyaWVzIikscG0obikpOmgmJnF2KG4sdSxlLGgubWFpbixoLnN1Yil9KSksIm5vbmUiPT09dXx8eXx8Z3x8aHx8KHRoaXMuX19vcHRpb25VcGRhdGVkPyhadih0aGlzKSxLdi51cGRhdGUuY2FsbCh0aGlzLHQpLHRoaXMuX19vcHRpb25VcGRhdGVkPSExKTpLdlt1XS5jYWxsKHRoaXMsdCkpLGQ9cD97dHlwZTpzLmV2ZW50fHxyLGVzY2FwZUNvbm5lY3Q6byxiYXRjaDpmfTpmWzBdLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMSwhZSl7dmFyIHY9dGhpcy5fbWVzc2FnZUNlbnRlcjtpZih2LnRyaWdnZXIoZC50eXBlLGQpLGcpe3ZhciBtPXt0eXBlOiJzZWxlY3RjaGFuZ2VkIixlc2NhcGVDb25uZWN0Om8sc2VsZWN0ZWQ6YWwoaSksaXNGcm9tQ2xpY2s6dC5pc0Zyb21DbGlja3x8ITEsZnJvbUFjdGlvbjp0LnR5cGUsZnJvbUFjdGlvblBheWxvYWQ6dH07di50cmlnZ2VyKG0udHlwZSxtKX19fSx0bT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fcGVuZGluZ0FjdGlvbnM7ZS5sZW5ndGg7KXt2YXIgbj1lLnNoaWZ0KCk7UXYuY2FsbCh0aGlzLG4sdCl9fSxlbT1mdW5jdGlvbih0KXshdCYmdGhpcy50cmlnZ2VyKCJ1cGRhdGVkIil9LG5tPWZ1bmN0aW9uKHQsZSl7dC5vbigicmVuZGVyZWQiLChmdW5jdGlvbihuKXtlLnRyaWdnZXIoInJlbmRlcmVkIixuKSwhdC5hbmltYXRpb24uaXNGaW5pc2hlZCgpfHxlLl9fb3B0aW9uVXBkYXRlZHx8ZS5fc2NoZWR1bGVyLnVuZmluaXNoZWR8fGUuX3BlbmRpbmdBY3Rpb25zLmxlbmd0aHx8ZS50cmlnZ2VyKCJmaW5pc2hlZCIpfSkpfSxpbT1mdW5jdGlvbih0LGUpe3Qub24oIm1vdXNlb3ZlciIsKGZ1bmN0aW9uKHQpe3ZhciBuPWl5KHQudGFyZ2V0LGRsKTtuJiYoIWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1fcyh0KSxyPXJsKGkuY29tcG9uZW50TWFpblR5cGUsaS5jb21wb25lbnRJbmRleCxpLmNvbXBvbmVudEhpZ2hEb3duTmFtZSxuKSxvPXIuZGlzcGF0Y2hlcnMsYT1yLmZvY3VzU2VsZjtvPyhhJiZpbChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgsbiksUChvLChmdW5jdGlvbih0KXtyZXR1cm4gWXModCxlKX0pKSk6KG5sKGkuc2VyaWVzSW5kZXgsaS5mb2N1cyxpLmJsdXJTY29wZSxuKSwic2VsZiI9PT1pLmZvY3VzJiZpbChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgsbiksWXModCxlKSl9KG4sdCxlLl9hcGkpLHBtKGUpKX0pKS5vbigibW91c2VvdXQiLChmdW5jdGlvbih0KXt2YXIgbj1peSh0LnRhcmdldCxkbCk7biYmKCFmdW5jdGlvbih0LGUsbil7ZWwobik7dmFyIGk9X3ModCkscj1ybChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRIaWdoRG93bk5hbWUsbikuZGlzcGF0Y2hlcnM7cj9QKHIsKGZ1bmN0aW9uKHQpe3JldHVybiBacyh0LGUpfSkpOlpzKHQsZSl9KG4sdCxlLl9hcGkpLHBtKGUpKX0pKS5vbigiY2xpY2siLChmdW5jdGlvbih0KXt2YXIgbj1peSh0LnRhcmdldCwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPV9zKHQpLmRhdGFJbmRleH0pLCEwKTtpZihuKXt2YXIgaT1uLnNlbGVjdGVkPyJ1bnNlbGVjdCI6InNlbGVjdCIscj1fcyhuKTtlLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6aSxkYXRhVHlwZTpyLmRhdGFUeXBlLGRhdGFJbmRleEluc2lkZTpyLmRhdGFJbmRleCxzZXJpZXNJbmRleDpyLnNlcmllc0luZGV4LGlzRnJvbUNsaWNrOiEwfSl9fSkpfSxybT1mdW5jdGlvbih0KXt0LmNsZWFyQ29sb3JQYWxldHRlKCksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt0LmNsZWFyQ29sb3JQYWxldHRlKCl9KSl9LG9tPWZ1bmN0aW9uKHQsZSxuLGkpe2FtKHQsZSxuLGkpLFJ2KHQuX2NoYXJ0c1ZpZXdzLChmdW5jdGlvbih0KXt0Ll9fYWxpdmU9ITF9KSksc20odCxlLG4saSksUnYodC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuX19hbGl2ZXx8dC5yZW1vdmUoZSxuKX0pKX0sYW09ZnVuY3Rpb24odCxuLGksYSxzKXtSdihzfHx0Ll9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKHQpe3ZhciBzPXQuX19tb2RlbDtyKHMsdCksdC5yZW5kZXIocyxuLGksYSksZShzLHQpLG8ocyx0KX0pKX0sc209ZnVuY3Rpb24odCxuLGkscyxsKXt2YXIgdT10Ll9zY2hlZHVsZXIsaD10Ll9sYWJlbE1hbmFnZXI7aC5jbGVhckxhYmVscygpO3ZhciBjPSExO24uZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7dmFyIG49dC5fY2hhcnRzTWFwW2UuX192aWV3SWRdO24uX19hbGl2ZT0hMDt2YXIgaT1uLnJlbmRlclRhc2s7dS51cGRhdGVQYXlsb2FkKGkscykscihlLG4pLGwmJmwuZ2V0KGUudWlkKSYmaS5kaXJ0eSgpLGkucGVyZm9ybSh1LmdldFBlcmZvcm1BcmdzKGkpKSYmKGM9ITApLGUuX190cmFuc2llbnRUcmFuc2l0aW9uT3B0PW51bGwsbi5ncm91cC5zaWxlbnQ9ISFlLmdldCgic2lsZW50IiksZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgiYmxlbmRNb2RlIil8fG51bGw7MDtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LnN0eWxlLmJsZW5kPW4pLHQuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZSYmdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlKChmdW5jdGlvbih0KXt0LnN0eWxlLmJsZW5kPW59KSl9KSl9KGUsbiksb2woZSksaC5hZGRMYWJlbHNPZlNlcmllcyhuKX0pKSx1LnVuZmluaXNoZWQ9Y3x8dS51bmZpbmlzaGVkLGgudXBkYXRlTGF5b3V0Q29uZmlnKGkpLGgubGF5b3V0KGkpLGgucHJvY2Vzc0xhYmVsc092ZXJhbGwoKSxuLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKG4pe3ZhciBpPXQuX2NoYXJ0c01hcFtuLl9fdmlld0lkXTtlKG4saSksbyhuLGkpfSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fenIuc3RvcmFnZSxpPTA7bi50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHxpKyt9KSksaT5lLmdldCgiaG92ZXJMYXllclRocmVzaG9sZCIpJiYhYS5ub2RlJiYhYS53b3JrZXImJmUuZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7aWYoIWUucHJldmVudFVzaW5nSG92ZXJMYXllcil7dmFyIG49dC5fY2hhcnRzTWFwW2UuX192aWV3SWRdO24uX19hbGl2ZSYmbi5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5zdGF0ZXMuZW1waGFzaXMmJih0LnN0YXRlcy5lbXBoYXNpcy5ob3ZlckxheWVyPSEwKX0pKX19KSl9KHQsbil9LGxtPWZ1bmN0aW9uKHQsZSl7UnYoSW0sKGZ1bmN0aW9uKG4pe24odCxlKX0pKX0scG09ZnVuY3Rpb24odCl7dC5fX25lZWRzVXBkYXRlU3RhdHVzPSEwLHQuZ2V0WnIoKS53YWtlVXAoKX0sZG09ZnVuY3Rpb24oZSl7ZS5fX25lZWRzVXBkYXRlU3RhdHVzJiYoZS5nZXRacigpLnN0b3JhZ2UudHJhdmVyc2UoKGZ1bmN0aW9uKGUpe1p1KGUpfHx0KGUpfSkpLGUuX19uZWVkc1VwZGF0ZVN0YXR1cz0hMSl9LHVtPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oaSxlKSxpLnByb3RvdHlwZS5nZXRDb29yZGluYXRlU3lzdGVtcz1mdW5jdGlvbigpe3JldHVybiB0Ll9jb29yZFN5c01nci5nZXRDb29yZGluYXRlU3lzdGVtcygpfSxpLnByb3RvdHlwZS5nZXRDb21wb25lbnRCeUVsZW1lbnQ9ZnVuY3Rpb24oZSl7Zm9yKDtlOyl7dmFyIG49ZS5fX2VjQ29tcG9uZW50SW5mbztpZihudWxsIT1uKXJldHVybiB0Ll9tb2RlbC5nZXRDb21wb25lbnQobi5tYWluVHlwZSxuLmluZGV4KTtlPWUucGFyZW50fX0saS5wcm90b3R5cGUuZW50ZXJFbXBoYXNpcz1mdW5jdGlvbihlLG4pe2pzKGUsbikscG0odCl9LGkucHJvdG90eXBlLmxlYXZlRW1waGFzaXM9ZnVuY3Rpb24oZSxuKXtxcyhlLG4pLHBtKHQpfSxpLnByb3RvdHlwZS5lbnRlckJsdXI9ZnVuY3Rpb24oZSl7S3MoZSkscG0odCl9LGkucHJvdG90eXBlLmxlYXZlQmx1cj1mdW5jdGlvbihlKXskcyhlKSxwbSh0KX0saS5wcm90b3R5cGUuZW50ZXJTZWxlY3Q9ZnVuY3Rpb24oZSl7SnMoZSkscG0odCl9LGkucHJvdG90eXBlLmxlYXZlU2VsZWN0PWZ1bmN0aW9uKGUpe1FzKGUpLHBtKHQpfSxpLnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0LmdldE1vZGVsKCl9LGkucHJvdG90eXBlLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGUpfSxpLnByb3RvdHlwZS5nZXRWaWV3T2ZTZXJpZXNNb2RlbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRWaWV3T2ZTZXJpZXNNb2RlbChlKX0saX0oQ3ApKSh0KX0saG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt0W25dW1d2XT1lfX1SdihibSwoZnVuY3Rpb24obixpKXt0Ll9tZXNzYWdlQ2VudGVyLm9uKGksKGZ1bmN0aW9uKG4pe2lmKExtW3QuZ3JvdXBdJiYwIT09dFtXdl0pe2lmKG4mJm4uZXNjYXBlQ29ubmVjdClyZXR1cm47dmFyIGk9dC5tYWtlQWN0aW9uRnJvbUV2ZW50KG4pLHI9W107UnYoQW0sKGZ1bmN0aW9uKGUpe2UhPT10JiZlLmdyb3VwPT09dC5ncm91cCYmci5wdXNoKGUpfSkpLGUociwwKSxSdihyLChmdW5jdGlvbih0KXsxIT09dFtXdl0mJnQuZGlzcGF0Y2hBY3Rpb24oaSl9KSksZShyLDIpfX0pKX0pKX0sY209ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9tb2RlbDtQKHhyKGUpLChmdW5jdGlvbih0KXt2YXIgZSxpPXQuZnJvbSxyPXQudG87bnVsbD09ciYmdnIoZSk7dmFyIG89e2luY2x1ZGVNYWluVHlwZXM6WyJzZXJpZXMiXSxlbmFibGVBbGw6ITEsZW5hYmxlTm9uZTohMX0sYT1pP09yKG4saSxvKTpudWxsLHM9T3IobixyLG8pLnNlcmllc01vZGVsO251bGw9PXMmJihlPSIiKSxhJiZhLnNlcmllc01vZGVsIT09cyYmKGU9IiIpLG51bGwhPWUmJnZyKGUpLHMuX190cmFuc2llbnRUcmFuc2l0aW9uT3B0PXtmcm9tOmk/aS5kaW1lbnNpb246bnVsbCx0bzpyLmRpbWVuc2lvbixkaXZpZGluZ01ldGhvZDp0LmRpdmlkaW5nTWV0aG9kfX0pKX19KCksZX0oRnQpLHZtPXltLnByb3RvdHlwZTt2bS5vbj1Vdigib24iKSx2bS5vZmY9VXYoIm9mZiIpLHZtLm9uZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpczt5cigpLHRoaXMub24uY2FsbCh0aGlzLHQsKGZ1bmN0aW9uIG4oKXtmb3IodmFyIHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107ZSYmZS5hcHBseSYmZS5hcHBseSh0aGlzLHIpLGkub2ZmKHQsbil9KSxuKX07dmFyIG1tPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsImdsb2JhbG91dCIsImNvbnRleHRtZW51Il07ZnVuY3Rpb24gX20odCl7MH12YXIgeG09e30sYm09e30sd209W10sU209W10sTW09W10sSW09W10sVG09W10sQ209e30sRG09e30sQW09e30sTG09e30sa209K25ldyBEYXRlLTAsUG09K25ldyBEYXRlLTAsT209Il9lY2hhcnRzX2luc3RhbmNlXyI7ZnVuY3Rpb24gUm0odCl7TG1bdF09ITF9dmFyIE5tPVJtO2Z1bmN0aW9uIHptKHQpe3JldHVybiBBbVtmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEF0dHJpYnV0ZT90LmdldEF0dHJpYnV0ZShlKTp0W2VdfSh0LE9tKV19ZnVuY3Rpb24gRW0odCxlKXtDbVt0XT1lfWZ1bmN0aW9uIFZtKHQpe0V2KFNtLHQpPDAmJlNtLnB1c2godCl9ZnVuY3Rpb24gQm0odCxlKXtabSh3bSx0LGUsMmUzKX1mdW5jdGlvbiBGbSh0KXtFdihNbSx0KTwwJiZ0JiZNbS5wdXNoKHQpfWZ1bmN0aW9uIEdtKHQpe0V2KEltLHQpPDAmJnQmJkltLnB1c2godCl9ZnVuY3Rpb24gSG0odCxlLG4peyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYobj1lLGU9IiIpO3ZhciBpPXp2KHQpP3QudHlwZTpbdCx0PXtldmVudDplfV1bMF07dC5ldmVudD0odC5ldmVudHx8aSkudG9Mb3dlckNhc2UoKSxlPXQuZXZlbnQsYm1bZV18fChPdihIdi50ZXN0KGkpJiZIdi50ZXN0KGUpKSx4bVtpXXx8KHhtW2ldPXthY3Rpb246bixhY3Rpb25JbmZvOnR9KSxibVtlXT1pKX1mdW5jdGlvbiBXbSh0LGUpe0FwLnJlZ2lzdGVyKHQsZSl9ZnVuY3Rpb24gVW0odCxlKXtabShUbSx0LGUsMWUzLCJsYXlvdXQiKX1mdW5jdGlvbiBYbSh0LGUpe1ptKFRtLHQsZSwzZTMsInZpc3VhbCIpfXZhciBZbT1bXTtmdW5jdGlvbiBabSh0LGUsbixpLHIpe2lmKChOdihlKXx8enYoZSkpJiYobj1lLGU9aSksIShFdihZbSxuKT49MCkpe1ltLnB1c2gobik7dmFyIG89WmYud3JhcFN0YWdlSGFuZGxlcihuLHIpO28uX19wcmlvPWUsby5fX3Jhdz1uLHQucHVzaChvKX19ZnVuY3Rpb24gam0odCxlKXtEbVt0XT1lfWZ1bmN0aW9uIHFtKHQsZSxuKXtBdih0LGUsbil9dmFyIEttPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PXcodCkpLnR5cGUsbj0iIjtlfHx2cihuKTt2YXIgaT1lLnNwbGl0KCI6Iik7MiE9PWkubGVuZ3RoJiZ2cihuKTt2YXIgcj0hMTsiZWNoYXJ0cyI9PT1pWzBdJiYoZT1pWzFdLHI9ITApLHQuX19pc0J1aWx0SW49cixVZC5zZXQoZSx0KX07WG0oQnYsSGYpLFhtKEZ2LFVmKSxYbShGdixYZiksWG0oQnYseWcpLFhtKEZ2LHtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7aWYodC5oYXNTeW1ib2xWaXN1YWwmJiFlLmlzU2VyaWVzRmlsdGVyZWQodCkpcmV0dXJue2RhdGFFYWNoOnQuZ2V0RGF0YSgpLmhhc0l0ZW1PcHRpb24/ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKSxpPW4uZ2V0U2hhbGxvdygic3ltYm9sIiwhMCkscj1uLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSxvPW4uZ2V0U2hhbGxvdygic3ltYm9sUm90YXRlIiwhMCksYT1uLmdldFNoYWxsb3coInN5bWJvbE9mZnNldCIsITApLHM9bi5nZXRTaGFsbG93KCJzeW1ib2xLZWVwQXNwZWN0IiwhMCk7bnVsbCE9aSYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIsaSksbnVsbCE9ciYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiLHIpLG51bGwhPW8mJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xSb3RhdGUiLG8pLG51bGwhPWEmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xPZmZzZXQiLGEpLG51bGwhPXMmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xLZWVwQXNwZWN0IixzKX06bnVsbH19fSksWG0oN2UzLChmdW5jdGlvbih0LGUpe3QuZWFjaFJhd1NlcmllcygoZnVuY3Rpb24obil7aWYoIXQuaXNTZXJpZXNGaWx0ZXJlZChuKSl7dmFyIGk9bi5nZXREYXRhKCk7aS5oYXNJdGVtVmlzdWFsKCkmJmkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIG49aS5nZXRJdGVtVmlzdWFsKHQsImRlY2FsIik7biYmKGkuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LCJzdHlsZSIpLmRlY2FsPUV5KG4sZSkpfSkpO3ZhciByPWkuZ2V0VmlzdWFsKCJkZWNhbCIpO2lmKHIpaS5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWw9RXkocixlKX19KSl9KSksVm0oSnApLEJtKDkwMCwoZnVuY3Rpb24odCl7dmFyIGU9aHQoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KCJzdGFjayIpO2lmKG4pe3ZhciBpPWUuZ2V0KG4pfHxlLnNldChuLFtdKSxyPXQuZ2V0RGF0YSgpLG89e3N0YWNrUmVzdWx0RGltZW5zaW9uOnIuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpLHN0YWNrZWRPdmVyRGltZW5zaW9uOnIuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLHN0YWNrZWREaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKSxzdGFja2VkQnlEaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRCeURpbWVuc2lvbiIpLGlzU3RhY2tlZEJ5SW5kZXg6ci5nZXRDYWxjdWxhdGlvbkluZm8oImlzU3RhY2tlZEJ5SW5kZXgiKSxkYXRhOnIsc2VyaWVzTW9kZWw6dH07aWYoIW8uc3RhY2tlZERpbWVuc2lvbnx8IW8uaXNTdGFja2VkQnlJbmRleCYmIW8uc3RhY2tlZEJ5RGltZW5zaW9uKXJldHVybjtpLmxlbmd0aCYmci5zZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPblNlcmllcyIsaVtpLmxlbmd0aC0xXS5zZXJpZXNNb2RlbCksaS5wdXNoKG8pfX0pKSxlLmVhY2goUXApfSkpLGptKCJkZWZhdWx0IiwoZnVuY3Rpb24odCxlKXtUKGU9ZXx8e30se3RleHQ6ImxvYWRpbmciLHRleHRDb2xvcjoiIzAwMCIsZm9udFNpemU6MTIsZm9udFdlaWdodDoibm9ybWFsIixmb250U3R5bGU6Im5vcm1hbCIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsbWFza0NvbG9yOiJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCkiLHNob3dTcGlubmVyOiEwLGNvbG9yOiIjNTQ3MGM2IixzcGlubmVyUmFkaXVzOjEwLGxpbmVXaWR0aDo1LHpsZXZlbDowfSk7dmFyIG49bmV3IEVpLGk9bmV3IGxzKHtzdHlsZTp7ZmlsbDplLm1hc2tDb2xvcn0semxldmVsOmUuemxldmVsLHo6MWU0fSk7bi5hZGQoaSk7dmFyIHIsbz1uZXcgY3Moe3N0eWxlOnt0ZXh0OmUudGV4dCxmaWxsOmUudGV4dENvbG9yLGZvbnRTaXplOmUuZm9udFNpemUsZm9udFdlaWdodDplLmZvbnRXZWlnaHQsZm9udFN0eWxlOmUuZm9udFN0eWxlLGZvbnRGYW1pbHk6ZS5mb250RmFtaWx5fSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pLGE9bmV3IGxzKHtzdHlsZTp7ZmlsbDoibm9uZSJ9LHRleHRDb250ZW50Om8sdGV4dENvbmZpZzp7cG9zaXRpb246InJpZ2h0IixkaXN0YW5jZToxMH0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KTtyZXR1cm4gbi5hZGQoYSksZS5zaG93U3Bpbm5lciYmKChyPW5ldyBndSh7c2hhcGU6e3N0YXJ0QW5nbGU6LVlmLzIsZW5kQW5nbGU6LVlmLzIrLjEscjplLnNwaW5uZXJSYWRpdXN9LHN0eWxlOntzdHJva2U6ZS5jb2xvcixsaW5lQ2FwOiJyb3VuZCIsbGluZVdpZHRoOmUubGluZVdpZHRofSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pKS5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtlbmRBbmdsZTozKllmLzJ9KS5zdGFydCgiY2lyY3VsYXJJbk91dCIpLHIuYW5pbWF0ZVNoYXBlKCEwKS53aGVuKDFlMyx7c3RhcnRBbmdsZTozKllmLzJ9KS5kZWxheSgzMDApLnN0YXJ0KCJjaXJjdWxhckluT3V0Iiksbi5hZGQocikpLG4ucmVzaXplPWZ1bmN0aW9uKCl7dmFyIG49by5nZXRCb3VuZGluZ1JlY3QoKS53aWR0aCxzPWUuc2hvd1NwaW5uZXI/ZS5zcGlubmVyUmFkaXVzOjAsbD0odC5nZXRXaWR0aCgpLTIqcy0oZS5zaG93U3Bpbm5lciYmbj8xMDowKS1uKS8yLShlLnNob3dTcGlubmVyJiZuPzA6NStuLzIpKyhlLnNob3dTcGlubmVyPzA6bi8yKSsobj8wOnMpLHU9dC5nZXRIZWlnaHQoKS8yO2Uuc2hvd1NwaW5uZXImJnIuc2V0U2hhcGUoe2N4OmwsY3k6dX0pLGEuc2V0U2hhcGUoe3g6bC1zLHk6dS1zLHdpZHRoOjIqcyxoZWlnaHQ6MipzfSksaS5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDp0LmdldFdpZHRoKCksaGVpZ2h0OnQuZ2V0SGVpZ2h0KCl9KX0sbi5yZXNpemUoKSxufSkpLEhtKHt0eXBlOlRzLGV2ZW50OlRzLHVwZGF0ZTpUc30sZnQpLEhtKHt0eXBlOkNzLGV2ZW50OkNzLHVwZGF0ZTpDc30sZnQpLEhtKHt0eXBlOkRzLGV2ZW50OkRzLHVwZGF0ZTpEc30sZnQpLEhtKHt0eXBlOkFzLGV2ZW50OkFzLHVwZGF0ZTpBc30sZnQpLEhtKHt0eXBlOkxzLGV2ZW50OkxzLHVwZGF0ZTpMc30sZnQpLEVtKCJsaWdodCIsdWcpLEVtKCJkYXJrIixmZyk7dmFyICRtPVtdLEptPXtyZWdpc3RlclByZXByb2Nlc3NvcjpWbSxyZWdpc3RlclByb2Nlc3NvcjpCbSxyZWdpc3RlclBvc3RJbml0OkZtLHJlZ2lzdGVyUG9zdFVwZGF0ZTpHbSxyZWdpc3RlckFjdGlvbjpIbSxyZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW06V20scmVnaXN0ZXJMYXlvdXQ6VW0scmVnaXN0ZXJWaXN1YWw6WG0scmVnaXN0ZXJUcmFuc2Zvcm06S20scmVnaXN0ZXJMb2FkaW5nOmptLHJlZ2lzdGVyTWFwOnFtLFBSSU9SSVRZOkd2LENvbXBvbmVudE1vZGVsOlhjLENvbXBvbmVudFZpZXc6d2YsU2VyaWVzTW9kZWw6ZmYsQ2hhcnRWaWV3OlRmLHJlZ2lzdGVyQ29tcG9uZW50TW9kZWw6ZnVuY3Rpb24odCl7WGMucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJDb21wb25lbnRWaWV3OmZ1bmN0aW9uKHQpe3dmLnJlZ2lzdGVyQ2xhc3ModCl9LHJlZ2lzdGVyU2VyaWVzTW9kZWw6ZnVuY3Rpb24odCl7ZmYucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJDaGFydFZpZXc6ZnVuY3Rpb24odCl7VGYucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyOmZ1bmN0aW9uKHQsZSl7WGMucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKHQsZSl9LHJlZ2lzdGVyUGFpbnRlcjpmdW5jdGlvbih0LGUpe1dpKHQsZSl9fTtmdW5jdGlvbiBRbSh0KXtGKHQpP1AodCwoZnVuY3Rpb24odCl7UW0odCl9KSk6RCgkbSx0KT49MHx8KCRtLnB1c2godCksRyh0KSYmKHQ9e2luc3RhbGw6dH0pLHQuaW5zdGFsbChKbSkpfWZ1bmN0aW9uIHRfKHQpe3JldHVybiBudWxsPT10PzA6dC5sZW5ndGh8fDF9ZnVuY3Rpb24gZV8odCl7cmV0dXJuIHR9dmFyIG5fPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLHIsbyl7dGhpcy5fb2xkPXQsdGhpcy5fbmV3PWUsdGhpcy5fb2xkS2V5R2V0dGVyPW58fGVfLHRoaXMuX25ld0tleUdldHRlcj1pfHxlXyx0aGlzLmNvbnRleHQ9cix0aGlzLl9kaWZmTW9kZU11bHRpcGxlPSJtdWx0aXBsZSI9PT1vfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZD10LHRoaXN9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlPXQsdGhpc30sdC5wcm90b3R5cGUudXBkYXRlTWFueVRvT25lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGVNYW55VG9PbmU9dCx0aGlzfSx0LnByb3RvdHlwZS51cGRhdGVPbmVUb01hbnk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU9uZVRvTWFueT10LHRoaXN9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlPXQsdGhpc30sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3RoaXNbdGhpcy5fZGlmZk1vZGVNdWx0aXBsZT8iX2V4ZWN1dGVNdWx0aXBsZSI6Il9leGVjdXRlT25lVG9PbmUiXSgpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZU9uZVRvT25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb2xkLGU9dGhpcy5fbmV3LG49e30saT1uZXcgQXJyYXkodC5sZW5ndGgpLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0aGlzLl9pbml0SW5kZXhNYXAodCxudWxsLGksIl9vbGRLZXlHZXR0ZXIiKSx0aGlzLl9pbml0SW5kZXhNYXAoZSxuLHIsIl9uZXdLZXlHZXR0ZXIiKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxzPW5bYV0sbD10XyhzKTtpZihsPjEpe3ZhciB1PXMuc2hpZnQoKTsxPT09cy5sZW5ndGgmJihuW2FdPXNbMF0pLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHUsbyl9ZWxzZSAxPT09bD8oblthXT1udWxsLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKHMsbykpOnRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKG8pfXRoaXMuX3BlcmZvcm1SZXN0QWRkKHIsbil9LHQucHJvdG90eXBlLl9leGVjdXRlTXVsdGlwbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbGQsZT10aGlzLl9uZXcsbj17fSxpPXt9LHI9W10sbz1bXTt0aGlzLl9pbml0SW5kZXhNYXAodCxuLHIsIl9vbGRLZXlHZXR0ZXIiKSx0aGlzLl9pbml0SW5kZXhNYXAoZSxpLG8sIl9uZXdLZXlHZXR0ZXIiKTtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHM9clthXSxsPW5bc10sdT1pW3NdLGg9dF8obCksYz10Xyh1KTtpZihoPjEmJjE9PT1jKXRoaXMuX3VwZGF0ZU1hbnlUb09uZSYmdGhpcy5fdXBkYXRlTWFueVRvT25lKHUsbCksaVtzXT1udWxsO2Vsc2UgaWYoMT09PWgmJmM+MSl0aGlzLl91cGRhdGVPbmVUb01hbnkmJnRoaXMuX3VwZGF0ZU9uZVRvTWFueSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKDE9PT1oJiYxPT09Yyl0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKGg+MSlmb3IodmFyIHA9MDtwPGg7cCsrKXRoaXMuX3JlbW92ZSYmdGhpcy5fcmVtb3ZlKGxbcF0pO2Vsc2UgdGhpcy5fcmVtb3ZlJiZ0aGlzLl9yZW1vdmUobCl9dGhpcy5fcGVyZm9ybVJlc3RBZGQobyxpKX0sdC5wcm90b3R5cGUuX3BlcmZvcm1SZXN0QWRkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj1lW2ldLG89dF8ocik7aWYobz4xKWZvcih2YXIgYT0wO2E8bzthKyspdGhpcy5fYWRkJiZ0aGlzLl9hZGQoclthXSk7ZWxzZSAxPT09byYmdGhpcy5fYWRkJiZ0aGlzLl9hZGQocik7ZVtpXT1udWxsfX0sdC5wcm90b3R5cGUuX2luaXRJbmRleE1hcD1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9dGhpcy5fZGlmZk1vZGVNdWx0aXBsZSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPSJfZWNfIit0aGlzW2ldKHRbb10sbyk7aWYocnx8KG5bb109YSksZSl7dmFyIHM9ZVthXSxsPXRfKHMpOzA9PT1sPyhlW2FdPW8sciYmbi5wdXNoKGEpKToxPT09bD9lW2FdPVtzLG9dOnMucHVzaChvKX19fSx0fSgpO2Z1bmN0aW9uIGlfKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl8fCh0W2VdPVtdKSx0W2VdfWZ1bmN0aW9uIHJfKHQpe3JldHVybiJjYXRlZ29yeSI9PT10PyJvcmRpbmFsIjoidGltZSI9PT10PyJ0aW1lIjoiZmxvYXQifXZhciBvXyxhXyxzXyxsXyx1XyxoXyxjXyxwXyxkXyxmXyxnXyx5Xyx2XyxtXyxfXz1mdW5jdGlvbih0KXt0aGlzLm90aGVyRGltcz17fSxudWxsIT10JiZJKHRoaXMsdCl9LHhfPU1hdGguZmxvb3IsYl89WCx3Xz1PLFNfPSJ1bmRlZmluZWQiLE1fPXtmbG9hdDp0eXBlb2YgRmxvYXQ2NEFycmF5PT09U18/QXJyYXk6RmxvYXQ2NEFycmF5LGludDp0eXBlb2YgSW50MzJBcnJheT09PVNfP0FycmF5OkludDMyQXJyYXksb3JkaW5hbDpBcnJheSxudW1iZXI6QXJyYXksdGltZTpBcnJheX0sSV89dHlwZW9mIFVpbnQzMkFycmF5PT09U18/QXJyYXk6VWludDMyQXJyYXksVF89dHlwZW9mIEludDMyQXJyYXk9PT1TXz9BcnJheTpJbnQzMkFycmF5LENfPXR5cGVvZiBVaW50MTZBcnJheT09PVNfP0FycmF5OlVpbnQxNkFycmF5LERfPVsiaGFzSXRlbU9wdGlvbiIsIl9uYW1lTGlzdCIsIl9pZExpc3QiLCJfaW52ZXJ0ZWRJbmRpY2VzTWFwIiwiX3Jhd0RhdGEiLCJfZGltVmFsdWVHZXR0ZXIiLCJfY291bnQiLCJfcmF3Q291bnQiLCJfbmFtZURpbUlkeCIsIl9pZERpbUlkeCIsIl9uYW1lUmVwZWF0Q291bnQiXSxBXz1bIl9leHRlbnQiLCJfYXBwcm94aW1hdGVFeHRlbnQiLCJfcmF3RXh0ZW50Il0sTF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy50eXBlPSJsaXN0Iix0aGlzLl9jb3VudD0wLHRoaXMuX3Jhd0NvdW50PTAsdGhpcy5fc3RvcmFnZT17fSx0aGlzLl9zdG9yYWdlQXJyPVtdLHRoaXMuX25hbWVMaXN0PVtdLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuX2l0ZW1MYXlvdXRzPVtdLHRoaXMuX2dyYXBoaWNFbHM9W10sdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2V4dGVudD17fSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudD17fSx0aGlzLl9jYWxjdWxhdGlvbkluZm89e30sdGhpcy5oYXNJdGVtT3B0aW9uPSEwLHRoaXMuVFJBTlNGRVJBQkxFX01FVEhPRFM9WyJjbG9uZVNoYWxsb3ciLCJkb3duU2FtcGxlIiwibHR0YkRvd25TYW1wbGUiLCJtYXAiXSx0aGlzLkNIQU5HQUJMRV9NRVRIT0RTPVsiZmlsdGVyU2VsZiIsInNlbGVjdFJhbmdlIl0sdGhpcy5ET1dOU0FNUExFX01FVEhPRFM9WyJkb3duU2FtcGxlIiwibHR0YkRvd25TYW1wbGUiXSx0aGlzLmdldFJhd0luZGV4PXVfLHQ9dHx8WyJ4IiwieSJdO2Zvcih2YXIgbj17fSxpPVtdLHI9e30sbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dLHM9SChhKT9uZXcgX18oe25hbWU6YX0pOmEgaW5zdGFuY2VvZiBfXz9hOm5ldyBfXyhhKSxsPXMubmFtZTtzLnR5cGU9cy50eXBlfHwiZmxvYXQiLHMuY29vcmREaW18fChzLmNvb3JkRGltPWwscy5jb29yZERpbUluZGV4PTApO3ZhciB1PXMub3RoZXJEaW1zPXMub3RoZXJEaW1zfHx7fTtpLnB1c2gobCksbltsXT1zLHMuaW5kZXg9byxzLmNyZWF0ZUludmVydGVkSW5kaWNlcyYmKHJbbF09W10pLDA9PT11Lml0ZW1OYW1lJiYodGhpcy5fbmFtZURpbUlkeD1vLHRoaXMuX25hbWVPcmRpbmFsTWV0YT1zLm9yZGluYWxNZXRhKSwwPT09dS5pdGVtSWQmJih0aGlzLl9pZERpbUlkeD1vLHRoaXMuX2lkT3JkaW5hbE1ldGE9cy5vcmRpbmFsTWV0YSl9dGhpcy5kaW1lbnNpb25zPWksdGhpcy5fZGltZW5zaW9uSW5mb3M9bix0aGlzLmhvc3RNb2RlbD1lLHRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49ZS5lbmNvZGU9e30saT1odCgpLHI9W10sbz1bXSxhPWUudXNlck91dHB1dD17ZGltZW5zaW9uTmFtZXM6dC5kaW1lbnNpb25zLnNsaWNlKCksZW5jb2RlOnt9fTtQKHQuZGltZW5zaW9ucywoZnVuY3Rpb24oZSl7dmFyIHMsbD10LmdldERpbWVuc2lvbkluZm8oZSksdT1sLmNvb3JkRGltO2lmKHUpe3ZhciBoPWwuY29vcmREaW1JbmRleDtpXyhuLHUpW2hdPWUsbC5pc0V4dHJhQ29vcmR8fChpLnNldCh1LDEpLCJvcmRpbmFsIiE9PShzPWwudHlwZSkmJiJ0aW1lIiE9PXMmJihyWzBdPWUpLGlfKGEuZW5jb2RlLHUpW2hdPWwuaW5kZXgpLGwuZGVmYXVsdFRvb2x0aXAmJm8ucHVzaChlKX1xYy5lYWNoKChmdW5jdGlvbih0LGUpe3ZhciBpPWlfKG4sZSkscj1sLm90aGVyRGltc1tlXTtudWxsIT1yJiYhMSE9PXImJihpW3JdPWwubmFtZSl9KSl9KSk7dmFyIHM9W10sbD17fTtpLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIGk9bltlXTtsW2VdPWlbMF0scz1zLmNvbmNhdChpKX0pKSxlLmRhdGFEaW1zT25Db29yZD1zLGUuZW5jb2RlRmlyc3REaW1Ob3RFeHRyYT1sO3ZhciB1PW4ubGFiZWw7dSYmdS5sZW5ndGgmJihyPXUuc2xpY2UoKSk7dmFyIGg9bi50b29sdGlwO3JldHVybiBoJiZoLmxlbmd0aD9vPWguc2xpY2UoKTpvLmxlbmd0aHx8KG89ci5zbGljZSgpKSxuLmRlZmF1bHRlZExhYmVsPXIsbi5kZWZhdWx0ZWRUb29sdGlwPW8sZX0odGhpcyksdGhpcy5faW52ZXJ0ZWRJbmRpY2VzTWFwPXIsdGhpcy51c2VyT3V0cHV0PXRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LnVzZXJPdXRwdXR9cmV0dXJuIHQucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJihpc05hTih0KXx8dGhpcy5fZGltZW5zaW9uSW5mb3MuaGFzT3duUHJvcGVydHkodCkpfHwodD10aGlzLmRpbWVuc2lvbnNbdF0pLHR9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RpbWVuc2lvbkluZm9zW3RoaXMuZ2V0RGltZW5zaW9uKHQpXX0sdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uc09uQ29vcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGltZW5zaW9uc1N1bW1hcnkuZGF0YURpbXNPbkNvb3JkLnNsaWNlKCl9LHQucHJvdG90eXBlLm1hcERpbWVuc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5O2lmKG51bGw9PWUpcmV0dXJuIG4uZW5jb2RlRmlyc3REaW1Ob3RFeHRyYVt0XTt2YXIgaT1uLmVuY29kZVt0XTtyZXR1cm4gaT9pW2VdOm51bGx9LHQucHJvdG90eXBlLm1hcERpbWVuc2lvbnNBbGw9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LmVuY29kZVt0XXx8W10pLnNsaWNlKCl9LHQucHJvdG90eXBlLmluaXREYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1hZCh0KXx8ayh0KSxyPWk/bmV3IGRkKHQsdGhpcy5kaW1lbnNpb25zLmxlbmd0aCk6dDt0aGlzLl9yYXdEYXRhPXI7dmFyIG89ci5nZXRTb3VyY2UoKS5zb3VyY2VGb3JtYXQ7dGhpcy5fc3RvcmFnZT17fSx0aGlzLl9pbmRpY2VzPW51bGwsdGhpcy5fZG9udE1ha2VJZEZyb21OYW1lPW51bGwhPXRoaXMuX2lkRGltSWR4fHxvPT09dHB8fCEhci5maWxsU3RvcmFnZSx0aGlzLl9uYW1lTGlzdD0oZXx8W10pLnNsaWNlKCksdGhpcy5faWRMaXN0PVtdLHRoaXMuX25hbWVSZXBlYXRDb3VudD17fSxufHwodGhpcy5oYXNJdGVtT3B0aW9uPSExKSx0aGlzLmRlZmF1bHREaW1WYWx1ZUdldHRlcj1vX1tvXSx0aGlzLl9kaW1WYWx1ZUdldHRlcj1uPW58fHRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyLHRoaXMuX2RpbVZhbHVlR2V0dGVyQXJyYXlSb3dzPW9fLmFycmF5Um93cyx0aGlzLl9yYXdFeHRlbnQ9e30sdGhpcy5faW5pdERhdGFGcm9tUHJvdmlkZXIoMCxyLmNvdW50KCkpLHIucHVyZSYmKHRoaXMuaGFzSXRlbU9wdGlvbj0hMSl9LHQucHJvdG90eXBlLmdldFByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhd0RhdGF9LHQucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmF3RGF0YSxuPXRoaXMuY291bnQoKTtlLmFwcGVuZERhdGEodCk7dmFyIGk9ZS5jb3VudCgpO2UucGVyc2lzdGVudHx8KGkrPW4pLHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKG4saSwhMCl9LHQucHJvdG90eXBlLmFwcGVuZFZhbHVlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9zdG9yYWdlLGk9dGhpcy5kaW1lbnNpb25zLHI9aS5sZW5ndGgsbz10aGlzLl9yYXdFeHRlbnQsYT10aGlzLmNvdW50KCkscz1hK01hdGgubWF4KHQubGVuZ3RoLGU/ZS5sZW5ndGg6MCksbD0wO2w8cjtsKyspe3ZhciB1PWlbbF07b1t1XXx8KG9bdV09eV8oKSksbF8obix0aGlzLl9kaW1lbnNpb25JbmZvc1t1XSxzLCEwKX1mb3IodmFyIGg9d18oaSwoZnVuY3Rpb24odCl7cmV0dXJuIG9bdF19KSksYz10aGlzLl9zdG9yYWdlQXJyPXdfKGksKGZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfSkpLHA9W10sZD1hO2Q8cztkKyspe2Zvcih2YXIgZj1kLWEsZz0wO2c8cjtnKyspe3U9aVtnXTt2YXIgeT10aGlzLl9kaW1WYWx1ZUdldHRlckFycmF5Um93cyh0W2ZdfHxwLHUsZixnKTtjW2ddW2RdPXk7dmFyIHY9aFtnXTt5PHZbMF0mJih2WzBdPXkpLHk+dlsxXSYmKHZbMV09eSl9ZSYmKHRoaXMuX25hbWVMaXN0W2RdPWVbZl0sdGhpcy5fZG9udE1ha2VJZEZyb21OYW1lfHxkXyh0aGlzLGQpKX10aGlzLl9yYXdDb3VudD10aGlzLl9jb3VudD1zLHRoaXMuX2V4dGVudD17fSxhXyh0aGlzKX0sdC5wcm90b3R5cGUuX2luaXREYXRhRnJvbVByb3ZpZGVyPWZ1bmN0aW9uKHQsZSxuKXtpZighKHQ+PWUpKXtmb3IodmFyIGk9dGhpcy5fcmF3RGF0YSxyPXRoaXMuX3N0b3JhZ2Usbz10aGlzLmRpbWVuc2lvbnMsYT1vLmxlbmd0aCxzPXRoaXMuX2RpbWVuc2lvbkluZm9zLGw9dGhpcy5fbmFtZUxpc3QsdT10aGlzLl9pZExpc3QsaD10aGlzLl9yYXdFeHRlbnQsYz1pLmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdD09PUtjLHA9MDtwPGE7cCsrKXt2YXIgZD1vW3BdO2hbZF18fChoW2RdPXlfKCkpLGxfKHIsc1tkXSxlLG4pfXZhciBmPXRoaXMuX3N0b3JhZ2VBcnI9d18obywoZnVuY3Rpb24odCl7cmV0dXJuIHJbdF19KSksZz13XyhvLChmdW5jdGlvbih0KXtyZXR1cm4gaFt0XX0pKTtpZihpLmZpbGxTdG9yYWdlKWkuZmlsbFN0b3JhZ2UodCxlLGYsZyk7ZWxzZSBmb3IodmFyIHk9W10sdj10O3Y8ZTt2Kyspe3k9aS5nZXRJdGVtKHYseSk7Zm9yKHZhciBtPTA7bTxhO20rKyl7ZD1vW21dO3ZhciBfPWZbbV0seD10aGlzLl9kaW1WYWx1ZUdldHRlcih5LGQsdixtKTtfW3ZdPXg7dmFyIGI9Z1ttXTt4PGJbMF0mJihiWzBdPXgpLHg+YlsxXSYmKGJbMV09eCl9aWYoYyYmIWkucHVyZSYmeSl7dmFyIHc9eS5uYW1lO251bGw9PWxbdl0mJm51bGwhPXcmJihsW3ZdPUNyKHcsbnVsbCkpO3ZhciBTPXkuaWQ7bnVsbD09dVt2XSYmbnVsbCE9UyYmKHVbdl09Q3IoUyxudWxsKSl9dGhpcy5fZG9udE1ha2VJZEZyb21OYW1lfHxkXyh0aGlzLHYpfSFpLnBlcnNpc3RlbnQmJmkuY2xlYW4mJmkuY2xlYW4oKSx0aGlzLl9yYXdDb3VudD10aGlzLl9jb3VudD1lLHRoaXMuX2V4dGVudD17fSxhXyh0aGlzKX19LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvdW50fSx0LnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9pbmRpY2VzO2lmKGUpe3ZhciBuPWUuY29uc3RydWN0b3IsaT10aGlzLl9jb3VudDtpZihuPT09QXJyYXkpe3Q9bmV3IG4oaSk7Zm9yKHZhciByPTA7cjxpO3IrKyl0W3JdPWVbcl19ZWxzZSB0PW5ldyBuKGUuYnVmZmVyLDAsaSl9ZWxzZXt0PW5ldyhuPXNfKHRoaXMpKSh0aGlzLmNvdW50KCkpO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXT1yfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRCeURpbUlkeD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9jb3VudCkpcmV0dXJuIE5hTjt2YXIgbj10aGlzLl9zdG9yYWdlQXJyW3RdO3JldHVybiBuP25bdGhpcy5nZXRSYXdJbmRleChlKV06TmFOfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8dGhpcy5fY291bnQpKXJldHVybiBOYU47dmFyIG49dGhpcy5fc3RvcmFnZVt0XTtyZXR1cm4gbj9uW3RoaXMuZ2V0UmF3SW5kZXgoZSldOk5hTn0sdC5wcm90b3R5cGUuZ2V0QnlSYXdJbmRleD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9yYXdDb3VudCkpcmV0dXJuIE5hTjt2YXIgbj10aGlzLl9zdG9yYWdlW3RdO3JldHVybiBuP25bZV06TmFOfSx0LnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtGKHQpfHwoZT10LHQ9dGhpcy5kaW1lbnNpb25zKTtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspbi5wdXNoKHRoaXMuZ2V0KHRbaV0sZSkpO3JldHVybiBufSx0LnByb3RvdHlwZS5oYXNWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnkuZGF0YURpbXNPbkNvb3JkLG49MCxpPWUubGVuZ3RoO248aTtuKyspaWYoaXNOYU4odGhpcy5nZXQoZVtuXSx0KSkpcmV0dXJuITE7cmV0dXJuITB9LHQucHJvdG90eXBlLmdldERhdGFFeHRlbnQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldERpbWVuc2lvbih0KTt2YXIgZT10aGlzLl9zdG9yYWdlW3RdLG49eV8oKTtpZighZSlyZXR1cm4gbjt2YXIgaSxyPXRoaXMuY291bnQoKTtpZighdGhpcy5faW5kaWNlcylyZXR1cm4gdGhpcy5fcmF3RXh0ZW50W3RdLnNsaWNlKCk7aWYoaT10aGlzLl9leHRlbnRbdF0pcmV0dXJuIGkuc2xpY2UoKTtmb3IodmFyIG89KGk9bilbMF0sYT1pWzFdLHM9MDtzPHI7cysrKXt2YXIgbD1lW3RoaXMuZ2V0UmF3SW5kZXgocyldO2w8byYmKG89bCksbD5hJiYoYT1sKX1yZXR1cm4gaT1bbyxhXSx0aGlzLl9leHRlbnRbdF09aSxpfSx0LnByb3RvdHlwZS5nZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmdldERpbWVuc2lvbih0KSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudFt0XXx8dGhpcy5nZXREYXRhRXh0ZW50KHQpfSx0LnByb3RvdHlwZS5zZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0LGUpe2U9dGhpcy5nZXREaW1lbnNpb24oZSksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbZV09dC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XX0sdC5wcm90b3R5cGUuc2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQsZSl7Yl8odCk/SSh0aGlzLl9jYWxjdWxhdGlvbkluZm8sdCk6dGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdPWV9LHQucHJvdG90eXBlLmdldFN1bT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX3N0b3JhZ2VbdF0pZm9yKHZhciBuPTAsaT10aGlzLmNvdW50KCk7bjxpO24rKyl7dmFyIHI9dGhpcy5nZXQodCxuKTtpc05hTihyKXx8KGUrPXIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNZWRpYW49ZnVuY3Rpb24odCl7dmFyIGU9W107dGhpcy5lYWNoKHQsKGZ1bmN0aW9uKHQpe2lzTmFOKHQpfHxlLnB1c2godCl9KSk7dmFyIG49ZS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSksaT10aGlzLmNvdW50KCk7cmV0dXJuIDA9PT1pPzA6aSUyPT0xP25bKGktMSkvMl06KG5baS8yXStuW2kvMi0xXSkvMn0sdC5wcm90b3R5cGUucmF3SW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBuPXQmJnRoaXMuX2ludmVydGVkSW5kaWNlc01hcFt0XTt2YXIgaT1uW2VdO3JldHVybiBudWxsPT1pfHxpc05hTihpKT8tMTppfSx0LnByb3RvdHlwZS5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuY291bnQoKTtlPG47ZSsrKWlmKHRoaXMuZ2V0TmFtZShlKT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LHQucHJvdG90eXBlLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9yYXdDb3VudHx8dDwwKXJldHVybi0xO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0O3ZhciBlPXRoaXMuX2luZGljZXMsbj1lW3RdO2lmKG51bGwhPW4mJm48dGhpcy5fY291bnQmJm49PT10KXJldHVybiB0O2Zvcih2YXIgaT0wLHI9dGhpcy5fY291bnQtMTtpPD1yOyl7dmFyIG89KGkrcikvMnwwO2lmKGVbb108dClpPW8rMTtlbHNle2lmKCEoZVtvXT50KSlyZXR1cm4gbztyPW8tMX19cmV0dXJuLTF9LHQucHJvdG90eXBlLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX3N0b3JhZ2VbdF0scj1bXTtpZighaSlyZXR1cm4gcjtudWxsPT1uJiYobj0xLzApO2Zvcih2YXIgbz0xLzAsYT0tMSxzPTAsbD0wLHU9dGhpcy5jb3VudCgpO2w8dTtsKyspe3ZhciBoPWUtaVt0aGlzLmdldFJhd0luZGV4KGwpXSxjPU1hdGguYWJzKGgpO2M8PW4mJigoYzxvfHxjPT09byYmaD49MCYmYTwwKSYmKG89YyxhPWgscz0wKSxoPT09YSYmKHJbcysrXT1sKSl9cmV0dXJuIHIubGVuZ3RoPXMscn0sdC5wcm90b3R5cGUuZ2V0UmF3RGF0YUl0ZW09ZnVuY3Rpb24odCl7aWYodGhpcy5fcmF3RGF0YS5wZXJzaXN0ZW50KXJldHVybiB0aGlzLl9yYXdEYXRhLmdldEl0ZW0odGhpcy5nZXRSYXdJbmRleCh0KSk7Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmRpbWVuc2lvbnNbbl07ZS5wdXNoKHRoaXMuZ2V0KGksdCkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmF3SW5kZXgodCksbj10aGlzLl9uYW1lTGlzdFtlXTtyZXR1cm4gbnVsbD09biYmbnVsbCE9dGhpcy5fbmFtZURpbUlkeCYmKG49cF8odGhpcyx0aGlzLl9uYW1lRGltSWR4LHRoaXMuX25hbWVPcmRpbmFsTWV0YSxlKSksbnVsbD09biYmKG49IiIpLG59LHQucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKHQpe3JldHVybiBjXyh0aGlzLHRoaXMuZ2V0UmF3SW5kZXgodCkpfSx0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXM7aWYodGhpcy5fY291bnQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYoaT1uLG49ZSxlPXQsdD1bXSk7dmFyIG89bnx8aXx8dGhpcyxhPXdfKGZfKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpOzA7Zm9yKHZhciBzPWEubGVuZ3RoLGw9d18oYSwoZnVuY3Rpb24odCl7cmV0dXJuIHIuX2RpbWVuc2lvbkluZm9zW3RdLmluZGV4fSkpLHU9dGhpcy5fc3RvcmFnZUFycixoPTAsYz10aGlzLmNvdW50KCk7aDxjO2grKyl7dmFyIHA9dGhpcy5nZXRSYXdJbmRleChoKTtzd2l0Y2gocyl7Y2FzZSAwOmUuY2FsbChvLGgpO2JyZWFrO2Nhc2UgMTplLmNhbGwobyx1W2xbMF1dW3BdLGgpO2JyZWFrO2Nhc2UgMjplLmNhbGwobyx1W2xbMF1dW3BdLHVbbFsxXV1bcF0saCk7YnJlYWs7ZGVmYXVsdDpmb3IodmFyIGQ9MCxmPVtdO2Q8cztkKyspZltkXT11W2xbZF1dW3BdO2ZbZF09aCxlLmFwcGx5KG8sZil9fX19LHQucHJvdG90eXBlLmZpbHRlclNlbGY9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcztpZih0aGlzLl9jb3VudCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihpPW4sbj1lLGU9dCx0PVtdKTt2YXIgbz1ufHxpfHx0aGlzLGE9d18oZl8odCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7MDtmb3IodmFyIHM9dGhpcy5jb3VudCgpLGw9bmV3KHNfKHRoaXMpKShzKSx1PVtdLGg9YS5sZW5ndGgsYz0wLHA9d18oYSwoZnVuY3Rpb24odCl7cmV0dXJuIHIuX2RpbWVuc2lvbkluZm9zW3RdLmluZGV4fSkpLGQ9cFswXSxmPXRoaXMuX3N0b3JhZ2VBcnIsZz0wO2c8cztnKyspe3ZhciB5PXZvaWQgMCx2PXRoaXMuZ2V0UmF3SW5kZXgoZyk7aWYoMD09PWgpeT1lLmNhbGwobyxnKTtlbHNlIGlmKDE9PT1oKXt2YXIgbT1mW2RdW3ZdO3k9ZS5jYWxsKG8sbSxnKX1lbHNle2Zvcih2YXIgXz0wO188aDtfKyspdVtfXT1mW3BbX11dW3ZdO3VbX109Zyx5PWUuYXBwbHkobyx1KX15JiYobFtjKytdPXYpfXJldHVybiBjPHMmJih0aGlzLl9pbmRpY2VzPWwpLHRoaXMuX2NvdW50PWMsdGhpcy5fZXh0ZW50PXt9LHRoaXMuZ2V0UmF3SW5kZXg9dGhpcy5faW5kaWNlcz9oXzp1Xyx0aGlzfX0sdC5wcm90b3R5cGUuc2VsZWN0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2NvdW50O2lmKG4pe3ZhciBpPVtdO2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyKTswO3ZhciBvPWkubGVuZ3RoO2lmKG8pe3ZhciBhPXRoaXMuY291bnQoKSxzPW5ldyhzXyh0aGlzKSkoYSksbD0wLHU9aVswXSxoPXdfKGksKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9kaW1lbnNpb25JbmZvc1t0XS5pbmRleH0pKSxjPXRbdV1bMF0scD10W3VdWzFdLGQ9dGhpcy5fc3RvcmFnZUFycixmPSExO2lmKCF0aGlzLl9pbmRpY2VzKXt2YXIgZz0wO2lmKDE9PT1vKXtmb3IodmFyIHk9ZFtoWzBdXSx2PTA7djxuO3YrKyl7KChiPXlbdl0pPj1jJiZiPD1wfHxpc05hTihiKSkmJihzW2wrK109ZyksZysrfWY9ITB9ZWxzZSBpZigyPT09byl7eT1kW2hbMF1dO3ZhciBtPWRbaFsxXV0sXz10W2lbMV1dWzBdLHg9dFtpWzFdXVsxXTtmb3Iodj0wO3Y8bjt2Kyspe3ZhciBiPXlbdl0sdz1tW3ZdOyhiPj1jJiZiPD1wfHxpc05hTihiKSkmJih3Pj1fJiZ3PD14fHxpc05hTih3KSkmJihzW2wrK109ZyksZysrfWY9ITB9fWlmKCFmKWlmKDE9PT1vKWZvcih2PTA7djxhO3YrKyl7dmFyIFM9dGhpcy5nZXRSYXdJbmRleCh2KTsoKGI9ZFtoWzBdXVtTXSk+PWMmJmI8PXB8fGlzTmFOKGIpKSYmKHNbbCsrXT1TKX1lbHNlIGZvcih2PTA7djxhO3YrKyl7Zm9yKHZhciBNPSEwLEk9KFM9dGhpcy5nZXRSYXdJbmRleCh2KSwwKTtJPG87SSsrKXt2YXIgVD1pW0ldOygoYj1kW2hbSV1dW1NdKTx0W1RdWzBdfHxiPnRbVF1bMV0pJiYoTT0hMSl9TSYmKHNbbCsrXT10aGlzLmdldFJhd0luZGV4KHYpKX1yZXR1cm4gbDxhJiYodGhpcy5faW5kaWNlcz1zKSx0aGlzLl9jb3VudD1sLHRoaXMuX2V4dGVudD17fSx0aGlzLmdldFJhd0luZGV4PXRoaXMuX2luZGljZXM/aF86dV8sdGhpc319fSx0LnByb3RvdHlwZS5tYXBBcnJheT1mdW5jdGlvbih0LGUsbixpKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKGk9bixuPWUsZT10LHQ9W10pLG49bnx8aXx8dGhpczt2YXIgcj1bXTtyZXR1cm4gdGhpcy5lYWNoKHQsKGZ1bmN0aW9uKCl7ci5wdXNoKGUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pLG4pLHJ9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1ufHxpfHx0aGlzLG89d18oZl8odCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7dmFyIGE9Z18odGhpcyxvKSxzPWEuX3N0b3JhZ2U7YS5faW5kaWNlcz10aGlzLl9pbmRpY2VzLGEuZ2V0UmF3SW5kZXg9YS5faW5kaWNlcz9oXzp1Xztmb3IodmFyIGw9W10sdT1vLmxlbmd0aCxoPXRoaXMuY291bnQoKSxjPVtdLHA9YS5fcmF3RXh0ZW50LGQ9MDtkPGg7ZCsrKXtmb3IodmFyIGY9MDtmPHU7ZisrKWNbZl09dGhpcy5nZXQob1tmXSxkKTtjW3VdPWQ7dmFyIGc9ZSYmZS5hcHBseShyLGMpO2lmKG51bGwhPWcpeyJvYmplY3QiIT10eXBlb2YgZyYmKGxbMF09ZyxnPWwpO2Zvcih2YXIgeT10aGlzLmdldFJhd0luZGV4KGQpLHY9MDt2PGcubGVuZ3RoO3YrKyl7dmFyIG09b1t2XSxfPWdbdl0seD1wW21dLGI9c1ttXTtiJiYoYlt5XT1fKSxfPHhbMF0mJih4WzBdPV8pLF8+eFsxXSYmKHhbMV09Xyl9fX1yZXR1cm4gYX0sdC5wcm90b3R5cGUuZG93blNhbXBsZT1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9Z18odGhpcyxbdF0pLG89ci5fc3RvcmFnZSxhPVtdLHM9eF8oMS9lKSxsPW9bdF0sdT10aGlzLmNvdW50KCksaD1yLl9yYXdFeHRlbnRbdF0sYz1uZXcoc18odGhpcykpKHUpLHA9MCxkPTA7ZDx1O2QrPXMpe3M+dS1kJiYocz11LWQsYS5sZW5ndGg9cyk7Zm9yKHZhciBmPTA7ZjxzO2YrKyl7dmFyIGc9dGhpcy5nZXRSYXdJbmRleChkK2YpO2FbZl09bFtnXX12YXIgeT1uKGEpLHY9dGhpcy5nZXRSYXdJbmRleChNYXRoLm1pbihkK2koYSx5KXx8MCx1LTEpKTtsW3ZdPXkseTxoWzBdJiYoaFswXT15KSx5PmhbMV0mJihoWzFdPXkpLGNbcCsrXT12fXJldHVybiByLl9jb3VudD1wLHIuX2luZGljZXM9YyxyLmdldFJhd0luZGV4PWhfLHJ9LHQucHJvdG90eXBlLmx0dGJEb3duU2FtcGxlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG89Z18odGhpcyxbXSksYT1vLl9zdG9yYWdlW3RdLHM9dGhpcy5jb3VudCgpLGw9bmV3KHNfKHRoaXMpKShzKSx1PTAsaD14XygxL2UpLGM9dGhpcy5nZXRSYXdJbmRleCgwKTtsW3UrK109Yztmb3IodmFyIHA9MTtwPHMtMTtwKz1oKXtmb3IodmFyIGQ9TWF0aC5taW4ocCtoLHMtMSksZj1NYXRoLm1pbihwKzIqaCxzKSxnPShmK2QpLzIseT0wLHY9ZDt2PGY7disrKXt2YXIgbT1hW1M9dGhpcy5nZXRSYXdJbmRleCh2KV07aXNOYU4obSl8fCh5Kz1tKX15Lz1mLWQ7dmFyIF89cCx4PU1hdGgubWluKHAraCxzKSxiPXAtMSx3PWFbY107bj0tMSxyPV87Zm9yKHY9Xzt2PHg7disrKXt2YXIgUzttPWFbUz10aGlzLmdldFJhd0luZGV4KHYpXTtpc05hTihtKXx8KGk9TWF0aC5hYnMoKGItZykqKG0tdyktKGItdikqKHktdykpKT5uJiYobj1pLHI9Uyl9bFt1KytdPXIsYz1yfXJldHVybiBsW3UrK109dGhpcy5nZXRSYXdJbmRleChzLTEpLG8uX2NvdW50PXUsby5faW5kaWNlcz1sLG8uZ2V0UmF3SW5kZXg9aF8sb30sdC5wcm90b3R5cGUuZ2V0SXRlbU1vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaG9zdE1vZGVsLG49dGhpcy5nZXRSYXdEYXRhSXRlbSh0KTtyZXR1cm4gbmV3IE9oKG4sZSxlJiZlLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBuXyh0P3QuZ2V0SW5kaWNlcygpOltdLHRoaXMuZ2V0SW5kaWNlcygpLChmdW5jdGlvbihlKXtyZXR1cm4gY18odCxlKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gY18oZSx0KX0pKX0sdC5wcm90b3R5cGUuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Zpc3VhbDtyZXR1cm4gZSYmZVt0XX0sdC5wcm90b3R5cGUuc2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmlzdWFsPXRoaXMuX3Zpc3VhbHx8e30sYl8odCk/SSh0aGlzLl92aXN1YWwsdCk6dGhpcy5fdmlzdWFsW3RdPWV9LHQucHJvdG90eXBlLmdldEl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFsc1t0XSxpPW4mJm5bZV07cmV0dXJuIG51bGw9PWk/dGhpcy5nZXRWaXN1YWwoZSk6aX0sdC5wcm90b3R5cGUuaGFzSXRlbVZpc3VhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtVmlzdWFscy5sZW5ndGg+MH0sdC5wcm90b3R5cGUuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2l0ZW1WaXN1YWxzLGk9blt0XTtpfHwoaT1uW3RdPXt9KTt2YXIgcj1pW2VdO3JldHVybiBudWxsPT1yJiYoRihyPXRoaXMuZ2V0VmlzdWFsKGUpKT9yPXIuc2xpY2UoKTpiXyhyKSYmKHI9SSh7fSxyKSksaVtlXT1yKSxyfSx0LnByb3RvdHlwZS5zZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9pdGVtVmlzdWFsc1t0XXx8e307dGhpcy5faXRlbVZpc3VhbHNbdF09aSxiXyhlKT9JKGksZSk6aVtlXT1ufSx0LnByb3RvdHlwZS5jbGVhckFsbFZpc3VhbD1mdW5jdGlvbigpe3RoaXMuX3Zpc3VhbD17fSx0aGlzLl9pdGVtVmlzdWFscz1bXX0sdC5wcm90b3R5cGUuc2V0TGF5b3V0PWZ1bmN0aW9uKHQsZSl7aWYoYl8odCkpZm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmdGhpcy5zZXRMYXlvdXQobix0W25dKTtlbHNlIHRoaXMuX2xheW91dFt0XT1lfSx0LnByb3RvdHlwZS5nZXRMYXlvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xheW91dFt0XX0sdC5wcm90b3R5cGUuZ2V0SXRlbUxheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbUxheW91dHNbdF19LHQucHJvdG90eXBlLnNldEl0ZW1MYXlvdXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2l0ZW1MYXlvdXRzW3RdPW4/SSh0aGlzLl9pdGVtTGF5b3V0c1t0XXx8e30sZSk6ZX0sdC5wcm90b3R5cGUuY2xlYXJJdGVtTGF5b3V0cz1mdW5jdGlvbigpe3RoaXMuX2l0ZW1MYXlvdXRzLmxlbmd0aD0wfSx0LnByb3RvdHlwZS5zZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5ob3N0TW9kZWw7aWYoZSl7dmFyIGk9X3MoZSk7aS5kYXRhSW5kZXg9dCxpLmRhdGFUeXBlPXRoaXMuZGF0YVR5cGUsaS5zZXJpZXNJbmRleD1uJiZuLnNlcmllc0luZGV4LCJncm91cCI9PT1lLnR5cGUmJmUudHJhdmVyc2Uodl8sZSl9dGhpcy5fZ3JhcGhpY0Vsc1t0XT1lfSx0LnByb3RvdHlwZS5nZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ncmFwaGljRWxzW3RdfSx0LnByb3RvdHlwZS5lYWNoSXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0LGUpe1AodGhpcy5fZ3JhcGhpY0VscywoZnVuY3Rpb24obixpKXtuJiZ0JiZ0LmNhbGwoZSxuLGkpfSkpfSx0LnByb3RvdHlwZS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24oZSl7ZXx8KGU9bmV3IHQod18odGhpcy5kaW1lbnNpb25zLHRoaXMuZ2V0RGltZW5zaW9uSW5mbyx0aGlzKSx0aGlzLmhvc3RNb2RlbCkpO2lmKGUuX3N0b3JhZ2U9dGhpcy5fc3RvcmFnZSxlLl9zdG9yYWdlQXJyPXRoaXMuX3N0b3JhZ2VBcnIsbV8oZSx0aGlzKSx0aGlzLl9pbmRpY2VzKXt2YXIgbj10aGlzLl9pbmRpY2VzLmNvbnN0cnVjdG9yO2lmKG49PT1BcnJheSl7dmFyIGk9dGhpcy5faW5kaWNlcy5sZW5ndGg7ZS5faW5kaWNlcz1uZXcgbihpKTtmb3IodmFyIHI9MDtyPGk7cisrKWUuX2luZGljZXNbcl09dGhpcy5faW5kaWNlc1tyXX1lbHNlIGUuX2luZGljZXM9bmV3IG4odGhpcy5faW5kaWNlcyl9ZWxzZSBlLl9pbmRpY2VzPW51bGw7cmV0dXJuIGUuZ2V0UmF3SW5kZXg9ZS5faW5kaWNlcz9oXzp1XyxlfSx0LnByb3RvdHlwZS53cmFwTWV0aG9kPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1t0XTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKHRoaXMuX193cmFwcGVkTWV0aG9kcz10aGlzLl9fd3JhcHBlZE1ldGhvZHN8fFtdLHRoaXMuX193cmFwcGVkTWV0aG9kcy5wdXNoKHQpLHRoaXNbdF09ZnVuY3Rpb24oKXt2YXIgdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5hcHBseSh0aGlzLFt0XS5jb25jYXQobnQoYXJndW1lbnRzKSkpfSl9LHQuaW50ZXJuYWxGaWVsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlLG4saSl7cmV0dXJuIGtkKHRbaV0sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfW9fPXthcnJheVJvd3M6ZSxvYmplY3RSb3dzOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBrZCh0W2VdLHRoaXMuX2RpbWVuc2lvbkluZm9zW2VdKX0sa2V5ZWRDb2x1bW5zOmUsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4hdGhpcy5fcmF3RGF0YS5wdXJlJiZmdW5jdGlvbih0KXtyZXR1cm4gWCh0KSYmISh0IGluc3RhbmNlb2YgQXJyYXkpfSh0KSYmKHRoaXMuaGFzSXRlbU9wdGlvbj0hMCksa2QociBpbnN0YW5jZW9mIEFycmF5P3JbaV06cix0aGlzLl9kaW1lbnNpb25JbmZvc1tlXSl9LHR5cGVkQXJyYXk6ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRbaV19fSxhXz1mdW5jdGlvbih0KXt2YXIgZT10Ll9pbnZlcnRlZEluZGljZXNNYXA7UChlLChmdW5jdGlvbihuLGkpe3ZhciByPXQuX2RpbWVuc2lvbkluZm9zW2ldLm9yZGluYWxNZXRhO2lmKHIpe249ZVtpXT1uZXcgVF8oci5jYXRlZ29yaWVzLmxlbmd0aCk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspbltvXT0tMTtmb3Iobz0wO288dC5fY291bnQ7bysrKW5bdC5nZXQoaSxvKV09b319KSl9LHBfPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dC5fc3RvcmFnZUFycltlXTtyZXR1cm4gbyYmKHI9b1tpXSxuJiZuLmNhdGVnb3JpZXMubGVuZ3RoJiYocj1uLmNhdGVnb3JpZXNbcl0pKSxDcihyLG51bGwpfSxzXz1mdW5jdGlvbih0KXtyZXR1cm4gdC5fcmF3Q291bnQ+NjU1MzU/SV86Q199LGxfPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPU1fW2UudHlwZV0sbz1lLm5hbWU7aWYoaSl7dmFyIGE9dFtvXSxzPWEmJmEubGVuZ3RoO2lmKHMhPT1uKXtmb3IodmFyIGw9bmV3IHIobiksdT0wO3U8czt1KyspbFt1XT1hW3VdO3Rbb109bH19ZWxzZSB0W29dPW5ldyByKG4pfSx1Xz1mdW5jdGlvbih0KXtyZXR1cm4gdH0saF89ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5fY291bnQmJnQ+PTA/dGhpcy5faW5kaWNlc1t0XTotMX0sY189ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9pZExpc3RbZV07cmV0dXJuIG51bGw9PW4mJm51bGwhPXQuX2lkRGltSWR4JiYobj1wXyh0LHQuX2lkRGltSWR4LHQuX2lkT3JkaW5hbE1ldGEsZSkpLG51bGw9PW4mJihuPSJlXDBcMCIrZSksbn0sZl89ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PW51bGwhPXQ/W3RdOltdKSx0fSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQuX2RpbWVuc2lvbkluZm9zW2Vbbl1dfHxjb25zb2xlLmVycm9yKCJVbmtvd24gZGltZW5zaW9uICIrZVtuXSl9LGdfPWZ1bmN0aW9uKGUsbil7dmFyIGk9ZS5kaW1lbnNpb25zLHI9bmV3IHQod18oaSxlLmdldERpbWVuc2lvbkluZm8sZSksZS5ob3N0TW9kZWwpO21fKHIsZSk7Zm9yKHZhciBvLGEscz1yLl9zdG9yYWdlPXt9LGw9ZS5fc3RvcmFnZSx1PXIuX3N0b3JhZ2VBcnI9W10saD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgYz1pW2hdO2xbY10mJihEKG4sYyk+PTA/KHNbY109KG89bFtjXSxhPXZvaWQgMCwoYT1vLmNvbnN0cnVjdG9yKT09PUFycmF5P28uc2xpY2UoKTpuZXcgYShvKSksci5fcmF3RXh0ZW50W2NdPXlfKCksci5fZXh0ZW50W2NdPW51bGwpOnNbY109bFtjXSx1LnB1c2goc1tjXSkpfXJldHVybiByfSx5Xz1mdW5jdGlvbigpe3JldHVyblsxLzAsLTEvMF19LHZfPWZ1bmN0aW9uKHQpe3ZhciBlPV9zKHQpLG49X3ModGhpcyk7ZS5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4LGUuZGF0YUluZGV4PW4uZGF0YUluZGV4LGUuZGF0YVR5cGU9bi5kYXRhVHlwZX0sbV89ZnVuY3Rpb24odCxlKXtQKERfLmNvbmNhdChlLl9fd3JhcHBlZE1ldGhvZHN8fFtdKSwoZnVuY3Rpb24obil7ZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSksdC5fX3dyYXBwZWRNZXRob2RzPWUuX193cmFwcGVkTWV0aG9kcyxQKEFfLChmdW5jdGlvbihuKXt0W25dPXcoZVtuXSl9KSksdC5fY2FsY3VsYXRpb25JbmZvPUkoe30sZS5fY2FsY3VsYXRpb25JbmZvKX0sZF89ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9uYW1lTGlzdCxpPXQuX2lkTGlzdCxyPXQuX25hbWVEaW1JZHgsbz10Ll9pZERpbUlkeCxhPW5bZV0scz1pW2VdO2lmKG51bGw9PWEmJm51bGwhPXImJihuW2VdPWE9cF8odCxyLHQuX25hbWVPcmRpbmFsTWV0YSxlKSksbnVsbD09cyYmbnVsbCE9byYmKGlbZV09cz1wXyh0LG8sdC5faWRPcmRpbmFsTWV0YSxlKSksbnVsbD09cyYmbnVsbCE9YSl7dmFyIGw9dC5fbmFtZVJlcGVhdENvdW50LHU9bFthXT0obFthXXx8MCkrMTtzPWEsdT4xJiYocys9Il9fZWNfXyIrdSksaVtlXT1zfX19KCksdH0oKTtmdW5jdGlvbiBrXyh0LGUsbil7YWQoZSl8fChlPWxkKGUpKSxuPW58fHt9LHQ9KHR8fFtdKS5zbGljZSgpO2Zvcih2YXIgaT0obi5kaW1zRGVmfHxbXSkuc2xpY2UoKSxyPWh0KCksbz1odCgpLGE9W10scz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1NYXRoLm1heCh0LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50fHwxLGUubGVuZ3RoLG4ubGVuZ3RoLGl8fDApO3JldHVybiBQKGUsKGZ1bmN0aW9uKHQpe3ZhciBlO1godCkmJihlPXQuZGltc0RlZikmJihyPU1hdGgubWF4KHIsZS5sZW5ndGgpKX0pKSxyfShlLHQsaSxuLmRpbUNvdW50KSxsPTA7bDxzO2wrKyl7dmFyIHU9aVtsXSxoPWlbbF09SSh7fSxYKHUpP3U6e25hbWU6dX0pLGM9aC5uYW1lLHA9YVtsXT1uZXcgX187bnVsbCE9YyYmbnVsbD09ci5nZXQoYykmJihwLm5hbWU9cC5kaXNwbGF5TmFtZT1jLHIuc2V0KGMsbCkpLG51bGwhPWgudHlwZSYmKHAudHlwZT1oLnR5cGUpLG51bGwhPWguZGlzcGxheU5hbWUmJihwLmRpc3BsYXlOYW1lPWguZGlzcGxheU5hbWUpfXZhciBkPW4uZW5jb2RlRGVmOyFkJiZuLmVuY29kZURlZmF1bHRlciYmKGQ9bi5lbmNvZGVEZWZhdWx0ZXIoZSxzKSk7dmFyIGY9aHQoZCk7Zi5lYWNoKChmdW5jdGlvbih0LGUpe3ZhciBuPXhyKHQpLnNsaWNlKCk7aWYoMT09PW4ubGVuZ3RoJiYhSChuWzBdKSYmblswXTwwKWYuc2V0KGUsITEpO2Vsc2V7dmFyIGk9Zi5zZXQoZSxbXSk7UChuLChmdW5jdGlvbih0LG4pe3ZhciBvPUgodCk/ci5nZXQodCk6dDtudWxsIT1vJiZvPHMmJihpW25dPW8seShhW29dLGUsbikpfSkpfX0pKTt2YXIgZz0wO2Z1bmN0aW9uIHkodCxlLG4pe251bGwhPXFjLmdldChlKT90Lm90aGVyRGltc1tlXT1uOih0LmNvb3JkRGltPWUsdC5jb29yZERpbUluZGV4PW4sby5zZXQoZSwhMCkpfVAodCwoZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7aWYoSCh0KSllPXQscj17fTtlbHNle2U9KHI9dCkubmFtZTt2YXIgbz1yLm9yZGluYWxNZXRhO3Iub3JkaW5hbE1ldGE9bnVsbCwocj13KHIpKS5vcmRpbmFsTWV0YT1vLG49ci5kaW1zRGVmLGk9ci5vdGhlckRpbXMsci5uYW1lPXIuY29vcmREaW09ci5jb29yZERpbUluZGV4PXIuZGltc0RlZj1yLm90aGVyRGltcz1udWxsfXZhciBzPWYuZ2V0KGUpO2lmKCExIT09cyl7aWYoIShzPXhyKHMpKS5sZW5ndGgpZm9yKHZhciBsPTA7bDwobiYmbi5sZW5ndGh8fDEpO2wrKyl7Zm9yKDtnPGEubGVuZ3RoJiZudWxsIT1hW2ddLmNvb3JkRGltOylnKys7ZzxhLmxlbmd0aCYmcy5wdXNoKGcrKyl9UChzLChmdW5jdGlvbih0LG8pe3ZhciBzPWFbdF07aWYoeShUKHMsciksZSxvKSxudWxsPT1zLm5hbWUmJm4pe3ZhciBsPW5bb107IVgobCkmJihsPXtuYW1lOmx9KSxzLm5hbWU9cy5kaXNwbGF5TmFtZT1sLm5hbWUscy5kZWZhdWx0VG9vbHRpcD1sLmRlZmF1bHRUb29sdGlwfWkmJlQocy5vdGhlckRpbXMsaSl9KSl9fSkpO3ZhciB2PW4uZ2VuZXJhdGVDb29yZCxtPW4uZ2VuZXJhdGVDb29yZENvdW50LF89bnVsbCE9bTttPXY/bXx8MTowO2Zvcih2YXIgeD12fHwidmFsdWUiLGI9MDtiPHM7YisrKXtudWxsPT0ocD1hW2JdPWFbYl18fG5ldyBfXykuY29vcmREaW0mJihwLmNvb3JkRGltPVBfKHgsbyxfKSxwLmNvb3JkRGltSW5kZXg9MCwoIXZ8fG08PTApJiYocC5pc0V4dHJhQ29vcmQ9ITApLG0tLSksbnVsbD09cC5uYW1lJiYocC5uYW1lPVBfKHAuY29vcmREaW0sciwhMSkpLG51bGwhPXAudHlwZXx8Y3AoZSxiKSE9PXJwJiYoIXAuaXNFeHRyYUNvb3JkfHxudWxsPT1wLm90aGVyRGltcy5pdGVtTmFtZSYmbnVsbD09cC5vdGhlckRpbXMuc2VyaWVzTmFtZSl8fChwLnR5cGU9Im9yZGluYWwiKX1yZXR1cm4gYX1mdW5jdGlvbiBQXyh0LGUsbil7aWYobnx8bnVsbCE9ZS5nZXQodCkpe2Zvcih2YXIgaT0wO251bGwhPWUuZ2V0KHQraSk7KWkrKzt0Kz1pfXJldHVybiBlLnNldCh0LCEwKSx0fWZ1bmN0aW9uIE9fKHQsZSl7cmV0dXJuIGtfKChlPWV8fHt9KS5jb29yZERpbWVuc2lvbnN8fFtdLHQse2RpbXNEZWY6ZS5kaW1lbnNpb25zRGVmaW5lfHx0LmRpbWVuc2lvbnNEZWZpbmUsZW5jb2RlRGVmOmUuZW5jb2RlRGVmaW5lfHx0LmVuY29kZURlZmluZSxkaW1Db3VudDplLmRpbWVuc2lvbnNDb3VudCxlbmNvZGVEZWZhdWx0ZXI6ZS5lbmNvZGVEZWZhdWx0ZXIsZ2VuZXJhdGVDb29yZDplLmdlbmVyYXRlQ29vcmQsZ2VuZXJhdGVDb29yZENvdW50OmUuZ2VuZXJhdGVDb29yZENvdW50fSl9dmFyIFJfPWZ1bmN0aW9uKHQpe3RoaXMuY29vcmRTeXNEaW1zPVtdLHRoaXMuYXhpc01hcD1odCgpLHRoaXMuY2F0ZWdvcnlBeGlzTWFwPWh0KCksdGhpcy5jb29yZFN5c05hbWU9dH07dmFyIE5fPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInhBeGlzIixOcikubW9kZWxzWzBdLG89dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ5QXhpcyIsTnIpLm1vZGVsc1swXTtlLmNvb3JkU3lzRGltcz1bIngiLCJ5Il0sbi5zZXQoIngiLHIpLG4uc2V0KCJ5IixvKSx6XyhyKSYmKGkuc2V0KCJ4IixyKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKSx6XyhvKSYmKGkuc2V0KCJ5IixvKSxudWxsPT1lLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleCYmKGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTEpKX0sc2luZ2xlQXhpczpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInNpbmdsZUF4aXMiLE5yKS5tb2RlbHNbMF07ZS5jb29yZFN5c0RpbXM9WyJzaW5nbGUiXSxuLnNldCgic2luZ2xlIixyKSx6XyhyKSYmKGkuc2V0KCJzaW5nbGUiLHIpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApfSxwb2xhcjpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInBvbGFyIixOcikubW9kZWxzWzBdLG89ci5maW5kQXhpc01vZGVsKCJyYWRpdXNBeGlzIiksYT1yLmZpbmRBeGlzTW9kZWwoImFuZ2xlQXhpcyIpO2UuY29vcmRTeXNEaW1zPVsicmFkaXVzIiwiYW5nbGUiXSxuLnNldCgicmFkaXVzIixvKSxuLnNldCgiYW5nbGUiLGEpLHpfKG8pJiYoaS5zZXQoInJhZGl1cyIsbyksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCksel8oYSkmJihpLnNldCgiYW5nbGUiLGEpLG51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYoZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MSkpfSxnZW86ZnVuY3Rpb24odCxlLG4saSl7ZS5jb29yZFN5c0RpbXM9WyJsbmciLCJsYXQiXX0scGFyYWxsZWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5lY01vZGVsLG89ci5nZXRDb21wb25lbnQoInBhcmFsbGVsIix0LmdldCgicGFyYWxsZWxJbmRleCIpKSxhPWUuY29vcmRTeXNEaW1zPW8uZGltZW5zaW9ucy5zbGljZSgpO1Aoby5wYXJhbGxlbEF4aXNJbmRleCwoZnVuY3Rpb24odCxvKXt2YXIgcz1yLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIix0KSxsPWFbb107bi5zZXQobCxzKSx6XyhzKSYmKGkuc2V0KGwscyksbnVsbD09ZS5maXJzdENhdGVnb3J5RGltSW5kZXgmJihlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD1vKSl9KSl9fTtmdW5jdGlvbiB6Xyh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC5nZXQoInR5cGUiKX1mdW5jdGlvbiBFXyh0LGUsbil7dmFyIGkscixvLGEscz0obj1ufHx7fSkuYnlJbmRleCxsPW4uc3RhY2tlZENvb3JkRGltZW5zaW9uLHU9ISghdHx8IXQuZ2V0KCJzdGFjayIpKTtpZihQKGUsKGZ1bmN0aW9uKHQsbil7SCh0KSYmKGVbbl09dD17bmFtZTp0fSksdSYmIXQuaXNFeHRyYUNvb3JkJiYoc3x8aXx8IXQub3JkaW5hbE1ldGF8fChpPXQpLHJ8fCJvcmRpbmFsIj09PXQudHlwZXx8InRpbWUiPT09dC50eXBlfHxsJiZsIT09dC5jb29yZERpbXx8KHI9dCkpfSkpLCFyfHxzfHxpfHwocz0hMCkscil7bz0iX19cMGVjc3RhY2tyZXN1bHQiLGE9Il9fXDBlY3N0YWNrZWRvdmVyIixpJiYoaS5jcmVhdGVJbnZlcnRlZEluZGljZXM9ITApO3ZhciBoPXIuY29vcmREaW0sYz1yLnR5cGUscD0wO1AoZSwoZnVuY3Rpb24odCl7dC5jb29yZERpbT09PWgmJnArK30pKSxlLnB1c2goe25hbWU6byxjb29yZERpbTpoLGNvb3JkRGltSW5kZXg6cCx0eXBlOmMsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMH0pLHArKyxlLnB1c2goe25hbWU6YSxjb29yZERpbTphLGNvb3JkRGltSW5kZXg6cCx0eXBlOmMsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMH0pfXJldHVybntzdGFja2VkRGltZW5zaW9uOnImJnIubmFtZSxzdGFja2VkQnlEaW1lbnNpb246aSYmaS5uYW1lLGlzU3RhY2tlZEJ5SW5kZXg6cyxzdGFja2VkT3ZlckRpbWVuc2lvbjphLHN0YWNrUmVzdWx0RGltZW5zaW9uOm99fWZ1bmN0aW9uIFZfKHQsZSl7cmV0dXJuISFlJiZlPT09dC5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKX1mdW5jdGlvbiBCXyh0LGUpe3JldHVybiBWXyh0LGUpP3QuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpOmV9ZnVuY3Rpb24gRl8odCxlLG4pe249bnx8e30sYWQodCl8fCh0PWxkKHQpKTt2YXIgaSxyPWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksbz1BcC5nZXQociksYT1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpLG49bmV3IFJfKGUpLGk9Tl9bZV07aWYoaSlyZXR1cm4gaSh0LG4sbi5heGlzTWFwLG4uY2F0ZWdvcnlBeGlzTWFwKSxufShlKTthJiZhLmNvb3JkU3lzRGltcyYmKGk9TyhhLmNvb3JkU3lzRGltcywoZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dH0sbj1hLmF4aXNNYXAuZ2V0KHQpO2lmKG4pe3ZhciBpPW4uZ2V0KCJ0eXBlIik7ZS50eXBlPXJfKGkpfXJldHVybiBlfSkpKSxpfHwoaT1vJiYoby5nZXREaW1lbnNpb25zSW5mbz9vLmdldERpbWVuc2lvbnNJbmZvKCk6by5kaW1lbnNpb25zLnNsaWNlKCkpfHxbIngiLCJ5Il0pO3ZhciBzLGwsdT1uLnVzZUVuY29kZURlZmF1bHRlcixoPU9fKHQse2Nvb3JkRGltZW5zaW9uczppLGdlbmVyYXRlQ29vcmQ6bi5nZW5lcmF0ZUNvb3JkLGVuY29kZURlZmF1bHRlcjpHKHUpP3U6dT9CKGxwLGksZSk6bnVsbH0pO2EmJlAoaCwoZnVuY3Rpb24odCxlKXt2YXIgaT10LmNvb3JkRGltLHI9YS5jYXRlZ29yeUF4aXNNYXAuZ2V0KGkpO3ImJihudWxsPT1zJiYocz1lKSx0Lm9yZGluYWxNZXRhPXIuZ2V0T3JkaW5hbE1ldGEoKSxuLmNyZWF0ZUludmVydGVkSW5kaWNlcyYmKHQuY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzPSEwKSksbnVsbCE9dC5vdGhlckRpbXMuaXRlbU5hbWUmJihsPSEwKX0pKSxsfHxudWxsPT1zfHwoaFtzXS5vdGhlckRpbXMuaXRlbU5hbWU9MCk7dmFyIGM9RV8oZSxoKSxwPW5ldyBMXyhoLGUpO3Auc2V0Q2FsY3VsYXRpb25JbmZvKGMpO3ZhciBkPW51bGwhPXMmJmZ1bmN0aW9uKHQpe2lmKHQuc291cmNlRm9ybWF0PT09S2Mpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPTA7Zm9yKDtlPHQubGVuZ3RoJiZudWxsPT10W2VdOyllKys7cmV0dXJuIHRbZV19KHQuZGF0YXx8W10pO3JldHVybiBudWxsIT1lJiYhRihTcihlKSl9fSh0KT9mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gaT09PXM/bjp0aGlzLmRlZmF1bHREaW1WYWx1ZUdldHRlcih0LGUsbixpKX06bnVsbDtyZXR1cm4gcC5oYXNJdGVtT3B0aW9uPSExLHAuaW5pdERhdGEodCxudWxsLGQpLHB9dmFyIEdfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zZXR0aW5nPXR8fHt9LHRoaXMuX2V4dGVudD1bMS8wLC0xLzBdfXJldHVybiB0LnByb3RvdHlwZS5nZXRTZXR0aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXR0aW5nW3RdfSx0LnByb3RvdHlwZS51bmlvbkV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7dFswXTxlWzBdJiYoZVswXT10WzBdKSx0WzFdPmVbMV0mJihlWzFdPXRbMV0pfSx0LnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sdC5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudC5zbGljZSgpfSx0LnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9leHRlbnQ7aXNOYU4odCl8fChuWzBdPXQpLGlzTmFOKGUpfHwoblsxXT1lKX0sdC5wcm90b3R5cGUuaXNJbkV4dGVudFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHRlbnRbMF08PXQmJnRoaXMuX2V4dGVudFsxXT49dH0sdC5wcm90b3R5cGUuaXNCbGFuaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0JsYW5rfSx0LnByb3RvdHlwZS5zZXRCbGFuaz1mdW5jdGlvbih0KXt0aGlzLl9pc0JsYW5rPXR9LHR9KCk7S3IoR18pO3ZhciBIXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jYXRlZ29yaWVzPXQuY2F0ZWdvcmllc3x8W10sdGhpcy5fbmVlZENvbGxlY3Q9dC5uZWVkQ29sbGVjdCx0aGlzLl9kZWR1cGxpY2F0aW9uPXQuZGVkdXBsaWNhdGlvbn1yZXR1cm4gdC5jcmVhdGVCeUF4aXNNb2RlbD1mdW5jdGlvbihlKXt2YXIgbj1lLm9wdGlvbixpPW4uZGF0YSxyPWkmJk8oaSxXXyk7cmV0dXJuIG5ldyB0KHtjYXRlZ29yaWVzOnIsbmVlZENvbGxlY3Q6IXIsZGVkdXBsaWNhdGlvbjohMSE9PW4uZGVkcGxpY2F0aW9ufSl9LHQucHJvdG90eXBlLmdldE9yZGluYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldE9yQ3JlYXRlTWFwKCkuZ2V0KHQpfSx0LnByb3RvdHlwZS5wYXJzZUFuZENvbGxlY3Q9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9uZWVkQ29sbGVjdDtpZigic3RyaW5nIiE9dHlwZW9mIHQmJiFuKXJldHVybiB0O2lmKG4mJiF0aGlzLl9kZWR1cGxpY2F0aW9uKXJldHVybiBlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsZTt2YXIgaT10aGlzLl9nZXRPckNyZWF0ZU1hcCgpO3JldHVybiBudWxsPT0oZT1pLmdldCh0KSkmJihuPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsaS5zZXQodCxlKSk6ZT1OYU4pLGV9LHQucHJvdG90eXBlLl9nZXRPckNyZWF0ZU1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXB8fCh0aGlzLl9tYXA9aHQodGhpcy5jYXRlZ29yaWVzKSl9LHR9KCk7ZnVuY3Rpb24gV18odCl7cmV0dXJuIFgodCkmJm51bGwhPXQudmFsdWU/dC52YWx1ZTp0KyIifXZhciBVXz1qaTtmdW5jdGlvbiBYXyh0LGUsbixpKXt2YXIgcj17fSxvPXRbMV0tdFswXSxhPXIuaW50ZXJ2YWw9bHIoby9lLCEwKTtudWxsIT1uJiZhPG4mJihhPXIuaW50ZXJ2YWw9biksbnVsbCE9aSYmYT5pJiYoYT1yLmludGVydmFsPWkpO3ZhciBzPXIuaW50ZXJ2YWxQcmVjaXNpb249WV8oYSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7IWlzRmluaXRlKHRbMF0pJiYodFswXT1lWzBdKSwhaXNGaW5pdGUodFsxXSkmJih0WzFdPWVbMV0pLFpfKHQsMCxlKSxaXyh0LDEsZSksdFswXT50WzFdJiYodFswXT10WzFdKX0oci5uaWNlVGlja0V4dGVudD1bVV8oTWF0aC5jZWlsKHRbMF0vYSkqYSxzKSxVXyhNYXRoLmZsb29yKHRbMV0vYSkqYSxzKV0sdCkscn1mdW5jdGlvbiBZXyh0KXtyZXR1cm4gS2kodCkrMn1mdW5jdGlvbiBaXyh0LGUsbil7dFtlXT1NYXRoLm1heChNYXRoLm1pbih0W2VdLG5bMV0pLG5bMF0pfWZ1bmN0aW9uIGpfKHQsZSl7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19ZnVuY3Rpb24gcV8odCxlKXtyZXR1cm4gZVsxXT09PWVbMF0/LjU6KHQtZVswXSkvKGVbMV0tZVswXSl9ZnVuY3Rpb24gS18odCxlKXtyZXR1cm4gdCooZVsxXS1lWzBdKStlWzBdfXZhciAkXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO24udHlwZT0ib3JkaW5hbCI7dmFyIGk9bi5nZXRTZXR0aW5nKCJvcmRpbmFsTWV0YSIpO3JldHVybiBpfHwoaT1uZXcgSF8oe30pKSxGKGkpJiYoaT1uZXcgSF8oe2NhdGVnb3JpZXM6TyhpLChmdW5jdGlvbih0KXtyZXR1cm4gWCh0KT90LnZhbHVlOnR9KSl9KSksbi5fb3JkaW5hbE1ldGE9aSxuLl9leHRlbnQ9bi5nZXRTZXR0aW5nKCJleHRlbnQiKXx8WzAsaS5jYXRlZ29yaWVzLmxlbmd0aC0xXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuX29yZGluYWxNZXRhLmdldE9yZGluYWwodCk6TWF0aC5yb3VuZCh0KX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gal8odD10aGlzLnBhcnNlKHQpLHRoaXMuX2V4dGVudCkmJm51bGwhPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbdF19LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gcV8odD10aGlzLl9nZXRUaWNrTnVtYmVyKHRoaXMucGFyc2UodCkpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PU1hdGgucm91bmQoS18odCx0aGlzLl9leHRlbnQpKSx0aGlzLmdldFJhd09yZGluYWxOdW1iZXIodCl9LGUucHJvdG90eXBlLmdldFRpY2tzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5fZXh0ZW50LG49ZVswXTtuPD1lWzFdOyl0LnB1c2goe3ZhbHVlOm59KSxuKys7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE1pbm9yVGlja3M9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5zZXRTb3J0SW5mbz1mdW5jdGlvbih0KXtpZihudWxsIT10KXtmb3IodmFyIGU9dC5vcmRpbmFsTnVtYmVycyxuPXRoaXMuX29yZGluYWxOdW1iZXJzQnlUaWNrPVtdLGk9dGhpcy5fdGlja3NCeU9yZGluYWxOdW1iZXI9W10scj0wLG89dGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllcy5sZW5ndGgsYT1NYXRoLm1pbihvLGUubGVuZ3RoKTtyPGE7KytyKXt2YXIgcz1lW3JdO25bcl09cyxpW3NdPXJ9Zm9yKHZhciBsPTA7cjxvOysrcil7Zm9yKDtudWxsIT1pW2xdOylsKys7bi5wdXNoKGwpLGlbbF09cn19ZWxzZSB0aGlzLl9vcmRpbmFsTnVtYmVyc0J5VGljaz10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcj1udWxsfSxlLnByb3RvdHlwZS5fZ2V0VGlja051bWJlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcjtyZXR1cm4gZSYmdD49MCYmdDxlLmxlbmd0aD9lW3RdOnR9LGUucHJvdG90eXBlLmdldFJhd09yZGluYWxOdW1iZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3JkaW5hbE51bWJlcnNCeVRpY2s7cmV0dXJuIGUmJnQ+PTAmJnQ8ZS5sZW5ndGg/ZVt0XTp0fSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0KXtpZighdGhpcy5pc0JsYW5rKCkpe3ZhciBlPXRoaXMuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnZhbHVlKSxuPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbZV07cmV0dXJuIG51bGw9PW4/IiI6bisiIn19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudFsxXS10aGlzLl9leHRlbnRbMF0rMX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LGUucHJvdG90eXBlLmlzSW5FeHRlbnRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLl9nZXRUaWNrTnVtYmVyKHQpLHRoaXMuX2V4dGVudFswXTw9dCYmdGhpcy5fZXh0ZW50WzFdPj10fSxlLnByb3RvdHlwZS5nZXRPcmRpbmFsTWV0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRpbmFsTWV0YX0sZS5wcm90b3R5cGUubmljZVRpY2tzPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKCl7fSxlLnR5cGU9Im9yZGluYWwiLGV9KEdfKTtHXy5yZWdpc3RlckNsYXNzKCRfKTt2YXIgSl89amksUV89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPSJpbnRlcnZhbCIsZS5faW50ZXJ2YWw9MCxlLl9pbnRlcnZhbFByZWNpc2lvbj0yLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gal8odCx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHFfKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIEtfKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoblswXT1wYXJzZUZsb2F0KHQpKSxpc05hTihlKXx8KG5bMV09cGFyc2VGbG9hdChlKSl9LGUucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSksdGhpcy5zZXRFeHRlbnQoZVswXSxlWzFdKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJ2YWx9LGUucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKHQpe3RoaXMuX2ludGVydmFsPXQsdGhpcy5fbmljZUV4dGVudD10aGlzLl9leHRlbnQuc2xpY2UoKSx0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1ZXyh0KX0sZS5wcm90b3R5cGUuZ2V0VGlja3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW50ZXJ2YWwsbj10aGlzLl9leHRlbnQsaT10aGlzLl9uaWNlRXh0ZW50LHI9dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24sbz1bXTtpZighZSlyZXR1cm4gbztuWzBdPGlbMF0mJih0P28ucHVzaCh7dmFsdWU6Sl8oaVswXS1lLHIpfSk6by5wdXNoKHt2YWx1ZTpuWzBdfSkpO2Zvcih2YXIgYT1pWzBdO2E8PWlbMV0mJihvLnB1c2goe3ZhbHVlOmF9KSwoYT1KXyhhK2UscikpIT09b1tvLmxlbmd0aC0xXS52YWx1ZSk7KWlmKG8ubGVuZ3RoPjFlNClyZXR1cm5bXTt2YXIgcz1vLmxlbmd0aD9vW28ubGVuZ3RoLTFdLnZhbHVlOmlbMV07cmV0dXJuIG5bMV0+cyYmKHQ/by5wdXNoKHt2YWx1ZTpKXyhzK2Uscil9KTpvLnB1c2goe3ZhbHVlOm5bMV19KSksb30sZS5wcm90b3R5cGUuZ2V0TWlub3JUaWNrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUaWNrcyghMCksbj1bXSxpPXRoaXMuZ2V0RXh0ZW50KCkscj0xO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIG89ZVtyXSxhPWVbci0xXSxzPTAsbD1bXSx1PShvLnZhbHVlLWEudmFsdWUpL3Q7czx0LTE7KXt2YXIgaD1KXyhhLnZhbHVlKyhzKzEpKnUpO2g+aVswXSYmaDxpWzFdJiZsLnB1c2goaCkscysrfW4ucHVzaChsKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybiIiO3ZhciBuPWUmJmUucHJlY2lzaW9uO3JldHVybiBudWxsPT1uP249S2kodC52YWx1ZSl8fDA6ImF1dG8iPT09biYmKG49dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24pLHhjKEpfKHQudmFsdWUsbiwhMCkpfSxlLnByb3RvdHlwZS5uaWNlVGlja3M9ZnVuY3Rpb24odCxlLG4pe3Q9dHx8NTt2YXIgaT10aGlzLl9leHRlbnQscj1pWzFdLWlbMF07aWYoaXNGaW5pdGUocikpe3I8MCYmKHI9LXIsaS5yZXZlcnNlKCkpO3ZhciBvPVhfKGksdCxlLG4pO3RoaXMuX2ludGVydmFsUHJlY2lzaW9uPW8uaW50ZXJ2YWxQcmVjaXNpb24sdGhpcy5faW50ZXJ2YWw9by5pbnRlcnZhbCx0aGlzLl9uaWNlRXh0ZW50PW8ubmljZVRpY2tFeHRlbnR9fSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtpZihlWzBdPT09ZVsxXSlpZigwIT09ZVswXSl7dmFyIG49ZVswXTt0LmZpeE1heHx8KGVbMV0rPW4vMiksZVswXS09bi8yfWVsc2UgZVsxXT0xO3ZhciBpPWVbMV0tZVswXTtpc0Zpbml0ZShpKXx8KGVbMF09MCxlWzFdPTEpLHRoaXMubmljZVRpY2tzKHQuc3BsaXROdW1iZXIsdC5taW5JbnRlcnZhbCx0Lm1heEludGVydmFsKTt2YXIgcj10aGlzLl9pbnRlcnZhbDt0LmZpeE1pbnx8KGVbMF09Sl8oTWF0aC5mbG9vcihlWzBdL3IpKnIpKSx0LmZpeE1heHx8KGVbMV09Sl8oTWF0aC5jZWlsKGVbMV0vcikqcikpfSxlLnR5cGU9ImludGVydmFsIixlfShHXyk7R18ucmVnaXN0ZXJDbGFzcyhRXyk7dmFyIHR4PSJfX2VjX3N0YWNrXyIsZXg9InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIG54KHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8dHgrdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBpeCh0KXtyZXR1cm4gdC5kaW0rdC5pbmRleH1mdW5jdGlvbiByeCh0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7aHgodCkmJiFjeCh0KSYmbi5wdXNoKHQpfSkpLG59ZnVuY3Rpb24gb3godCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0KXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKTtpZigidGltZSI9PT1uLnR5cGV8fCJ2YWx1ZSI9PT1uLnR5cGUpZm9yKHZhciBpPXQuZ2V0RGF0YSgpLHI9bi5kaW0rIl8iK24uaW5kZXgsbz1pLm1hcERpbWVuc2lvbihuLmRpbSksYT0wLHM9aS5jb3VudCgpO2E8czsrK2Epe3ZhciBsPWkuZ2V0KG8sYSk7ZVtyXT9lW3JdLnB1c2gobCk6ZVtyXT1bbF19fSkpO3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPWVbaV07aWYocil7ci5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSk7Zm9yKHZhciBvPW51bGwsYT0xO2E8ci5sZW5ndGg7KythKXt2YXIgcz1yW2FdLXJbYS0xXTtzPjAmJihvPW51bGw9PT1vP3M6TWF0aC5taW4obyxzKSl9bltpXT1vfX1yZXR1cm4gbn0odCksbj1bXTtyZXR1cm4gUCh0LChmdW5jdGlvbih0KXt2YXIgaSxyPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLG89ci5nZXRFeHRlbnQoKTtpZigiY2F0ZWdvcnkiPT09ci50eXBlKWk9ci5nZXRCYW5kV2lkdGgoKTtlbHNlIGlmKCJ2YWx1ZSI9PT1yLnR5cGV8fCJ0aW1lIj09PXIudHlwZSl7dmFyIGE9ci5kaW0rIl8iK3IuaW5kZXgscz1lW2FdLGw9TWF0aC5hYnMob1sxXS1vWzBdKSx1PXIuc2NhbGUuZ2V0RXh0ZW50KCksaD1NYXRoLmFicyh1WzFdLXVbMF0pO2k9cz9sL2gqczpsfWVsc2V7dmFyIGM9dC5nZXREYXRhKCk7aT1NYXRoLmFicyhvWzFdLW9bMF0pL2MuY291bnQoKX12YXIgcD1aaSh0LmdldCgiYmFyV2lkdGgiKSxpKSxkPVppKHQuZ2V0KCJiYXJNYXhXaWR0aCIpLGkpLGY9WmkodC5nZXQoImJhck1pbldpZHRoIil8fDEsaSksZz10LmdldCgiYmFyR2FwIikseT10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtuLnB1c2goe2JhbmRXaWR0aDppLGJhcldpZHRoOnAsYmFyTWF4V2lkdGg6ZCxiYXJNaW5XaWR0aDpmLGJhckdhcDpnLGJhckNhdGVnb3J5R2FwOnksYXhpc0tleTppeChyKSxzdGFja0lkOm54KHQpfSl9KSksYXgobil9ZnVuY3Rpb24gYXgodCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuYXhpc0tleSxyPXQuYmFuZFdpZHRoLG89ZVtpXXx8e2JhbmRXaWR0aDpyLHJlbWFpbmVkV2lkdGg6cixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOm51bGwsZ2FwOiIyMCUiLHN0YWNrczp7fX0sYT1vLnN0YWNrcztlW2ldPW87dmFyIHM9dC5zdGFja0lkO2Fbc118fG8uYXV0b1dpZHRoQ291bnQrKyxhW3NdPWFbc118fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBsPXQuYmFyV2lkdGg7bCYmIWFbc10ud2lkdGgmJihhW3NdLndpZHRoPWwsbD1NYXRoLm1pbihvLnJlbWFpbmVkV2lkdGgsbCksby5yZW1haW5lZFdpZHRoLT1sKTt2YXIgdT10LmJhck1heFdpZHRoO3UmJihhW3NdLm1heFdpZHRoPXUpO3ZhciBoPXQuYmFyTWluV2lkdGg7aCYmKGFbc10ubWluV2lkdGg9aCk7dmFyIGM9dC5iYXJHYXA7bnVsbCE9YyYmKG8uZ2FwPWMpO3ZhciBwPXQuYmFyQ2F0ZWdvcnlHYXA7bnVsbCE9cCYmKG8uY2F0ZWdvcnlHYXA9cCl9KSk7dmFyIG49e307cmV0dXJuIFAoZSwoZnVuY3Rpb24odCxlKXtuW2VdPXt9O3ZhciBpPXQuc3RhY2tzLHI9dC5iYW5kV2lkdGgsbz10LmNhdGVnb3J5R2FwO2lmKG51bGw9PW8pe3ZhciBhPUUoaSkubGVuZ3RoO289TWF0aC5tYXgoMzUtNCphLDE1KSsiJSJ9dmFyIHM9WmkobyxyKSxsPVppKHQuZ2FwLDEpLHU9dC5yZW1haW5lZFdpZHRoLGg9dC5hdXRvV2lkdGhDb3VudCxjPSh1LXMpLyhoKyhoLTEpKmwpO2M9TWF0aC5tYXgoYywwKSxQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4V2lkdGgsbj10Lm1pbldpZHRoO2lmKHQud2lkdGgpe2k9dC53aWR0aDtlJiYoaT1NYXRoLm1pbihpLGUpKSxuJiYoaT1NYXRoLm1heChpLG4pKSx0LndpZHRoPWksdS09aStsKmksaC0tfWVsc2V7dmFyIGk9YztlJiZlPGkmJihpPU1hdGgubWluKGUsdSkpLG4mJm4+aSYmKGk9biksaSE9PWMmJih0LndpZHRoPWksdS09aStsKmksaC0tKX19KSksYz0odS1zKS8oaCsoaC0xKSpsKSxjPU1hdGgubWF4KGMsMCk7dmFyIHAsZD0wO1AoaSwoZnVuY3Rpb24odCxlKXt0LndpZHRofHwodC53aWR0aD1jKSxwPXQsZCs9dC53aWR0aCooMStsKX0pKSxwJiYoZC09cC53aWR0aCpsKTt2YXIgZj0tZC8yO1AoaSwoZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtiYW5kV2lkdGg6cixvZmZzZXQ6Zix3aWR0aDp0LndpZHRofSxmKz10LndpZHRoKigxK2wpfSkpfSkpLG59ZnVuY3Rpb24gc3godCxlLG4pe2lmKHQmJmUpe3ZhciBpPXRbaXgoZSldO3JldHVybiBudWxsIT1pJiZudWxsIT1uP2lbbngobildOml9fWZ1bmN0aW9uIGx4KHQsZSl7dmFyIG49cngodCxlKSxpPW94KG4pLHI9e307UChuLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPW4uZ2V0QmFzZUF4aXMoKSxhPW54KHQpLHM9aVtpeChvKV1bYV0sbD1zLm9mZnNldCx1PXMud2lkdGgsaD1uLmdldE90aGVyQXhpcyhvKSxjPXQuZ2V0KCJiYXJNaW5IZWlnaHQiKXx8MDtyW2FdPXJbYV18fFtdLGUuc2V0TGF5b3V0KHtiYW5kV2lkdGg6cy5iYW5kV2lkdGgsb2Zmc2V0Omwsc2l6ZTp1fSk7Zm9yKHZhciBwPWUubWFwRGltZW5zaW9uKGguZGltKSxkPWUubWFwRGltZW5zaW9uKG8uZGltKSxmPVZfKGUscCksZz1oLmlzSG9yaXpvbnRhbCgpLHk9cHgobyxoKSx2PTAsbT1lLmNvdW50KCk7djxtO3YrKyl7dmFyIF89ZS5nZXQocCx2KSx4PWUuZ2V0KGQsdiksYj1fPj0wPyJwIjoibiIsdz15O2YmJihyW2FdW3hdfHwoclthXVt4XT17cDp5LG46eX0pLHc9clthXVt4XVtiXSk7dmFyIFMsTT12b2lkIDAsST12b2lkIDAsVD12b2lkIDAsQz12b2lkIDA7aWYoZylNPXcsST0oUz1uLmRhdGFUb1BvaW50KFtfLHhdKSlbMV0rbCxUPVNbMF0teSxDPXUsTWF0aC5hYnMoVCk8YyYmKFQ9KFQ8MD8tMToxKSpjKSxpc05hTihUKXx8ZiYmKHJbYV1beF1bYl0rPVQpO2Vsc2UgTT0oUz1uLmRhdGFUb1BvaW50KFt4LF9dKSlbMF0rbCxJPXcsVD11LEM9U1sxXS15LE1hdGguYWJzKEMpPGMmJihDPShDPD0wPy0xOjEpKmMpLGlzTmFOKEMpfHxmJiYoclthXVt4XVtiXSs9Qyk7ZS5zZXRJdGVtTGF5b3V0KHYse3g6TSx5Okksd2lkdGg6VCxoZWlnaHQ6Q30pfX0pKX12YXIgdXg9e3Nlcmllc1R5cGU6ImJhciIscGxhbjpTZigpLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKGh4KHQpJiZjeCh0KSl7dmFyIGU9dC5nZXREYXRhKCksbj10LmNvb3JkaW5hdGVTeXN0ZW0saT1uLm1hc3Rlci5nZXRSZWN0KCkscj1uLmdldEJhc2VBeGlzKCksbz1uLmdldE90aGVyQXhpcyhyKSxhPWUubWFwRGltZW5zaW9uKG8uZGltKSxzPWUubWFwRGltZW5zaW9uKHIuZGltKSxsPW8uaXNIb3Jpem9udGFsKCksdT1sPzA6MSxoPXN4KG94KFt0XSkscix0KS53aWR0aDtyZXR1cm4gaD4uNXx8KGg9LjUpLHtwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgYyxwPXQuY291bnQsZD1uZXcgZXgoMipwKSxmPW5ldyBleCgyKnApLGc9bmV3IGV4KHApLHk9W10sdj1bXSxtPTAsXz0wO251bGwhPShjPXQubmV4dCgpKTspdlt1XT1lLmdldChhLGMpLHZbMS11XT1lLmdldChzLGMpLHk9bi5kYXRhVG9Qb2ludCh2LG51bGwpLGZbbV09bD9pLngraS53aWR0aDp5WzBdLGRbbSsrXT15WzBdLGZbbV09bD95WzFdOmkueStpLmhlaWdodCxkW20rK109eVsxXSxnW18rK109YztlLnNldExheW91dCh7bGFyZ2VQb2ludHM6ZCxsYXJnZURhdGFJbmRpY2VzOmcsbGFyZ2VCYWNrZ3JvdW5kUG9pbnRzOmYsYmFyV2lkdGg6aCx2YWx1ZUF4aXNTdGFydDpweChyLG8pLGJhY2tncm91bmRTdGFydDpsP2kueDppLnksdmFsdWVBeGlzSG9yaXpvbnRhbDpsfSl9fX19fTtmdW5jdGlvbiBoeCh0KXtyZXR1cm4gdC5jb29yZGluYXRlU3lzdGVtJiYiY2FydGVzaWFuMmQiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGV9ZnVuY3Rpb24gY3godCl7cmV0dXJuIHQucGlwZWxpbmVDb250ZXh0JiZ0LnBpcGVsaW5lQ29udGV4dC5sYXJnZX1mdW5jdGlvbiBweCh0LGUsbil7cmV0dXJuIGUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCJsb2ciPT09ZS50eXBlPzE6MCkpfXZhciBkeD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9InRpbWUiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpO3JldHVybiBpYyh0LnZhbHVlLCRoW2Z1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInllYXIiOmNhc2UibW9udGgiOnJldHVybiJkYXkiO2Nhc2UibWlsbGlzZWNvbmQiOnJldHVybiJtaWxsaXNlY29uZCI7ZGVmYXVsdDpyZXR1cm4ic2Vjb25kIn19KGVjKHRoaXMuX21pbkxldmVsVW5pdCkpXXx8JGguc2Vjb25kLGUsdGhpcy5nZXRTZXR0aW5nKCJsb2NhbGUiKSl9LGUucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpO3JldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW51bGw7aWYoInN0cmluZyI9PXR5cGVvZiBuKW89bjtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKW89bih0LnZhbHVlLGUse2xldmVsOnQubGV2ZWx9KTtlbHNle3ZhciBhPUkoe30scWgpO2lmKHQubGV2ZWw+MClmb3IodmFyIHM9MDtzPEpoLmxlbmd0aDsrK3MpYVtKaFtzXV09IntwcmltYXJ5fCIrYVtKaFtzXV0rIn0iO3ZhciBsPW4/ITE9PT1uLmluaGVyaXQ/bjpUKG4sYSk6YSx1PXJjKHQudmFsdWUscik7aWYobFt1XSlvPWxbdV07ZWxzZSBpZihsLmluaGVyaXQpe2ZvcihzPVFoLmluZGV4T2YodSktMTtzPj0wOy0tcylpZihsW3VdKXtvPWxbdV07YnJlYWt9bz1vfHxhLm5vbmV9aWYoRihvKSl7dmFyIGg9bnVsbD09dC5sZXZlbD8wOnQubGV2ZWw+PTA/dC5sZXZlbDpvLmxlbmd0aCt0LmxldmVsO289b1toPU1hdGgubWluKGgsby5sZW5ndGgtMSldfX1yZXR1cm4gaWMobmV3IERhdGUodC52YWx1ZSksbyxyLGkpfSh0LGUsbix0aGlzLmdldFNldHRpbmcoImxvY2FsZSIpLGkpfSxlLnByb3RvdHlwZS5nZXRUaWNrcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcnZhbCxuPXRoaXMuX2V4dGVudCxpPVtdO2lmKCFlKXJldHVybiBpO2kucHVzaCh7dmFsdWU6blswXSxsZXZlbDowfSk7dmFyIHI9dGhpcy5nZXRTZXR0aW5nKCJ1c2VVVEMiKSxvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPTFlNCxvPVFoLGE9MDtmdW5jdGlvbiBzKHQsZSxuLHIsbyxhLHMpe2Zvcih2YXIgbD1uZXcgRGF0ZShlKSx1PWUsaD1sW3JdKCk7dTxuJiZ1PD1pWzFdOylzLnB1c2goe3ZhbHVlOnV9KSxoKz10LGxbb10oaCksdT1sLmdldFRpbWUoKTtzLnB1c2goe3ZhbHVlOnUsbm90QWRkOiEwfSl9ZnVuY3Rpb24gbCh0LHIsbyl7dmFyIGE9W10sbD0hci5sZW5ndGg7aWYoIWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW9yKGUpLG89b3IobiksYT1mdW5jdGlvbih0KXtyZXR1cm4gb2Mocix0LGkpPT09b2Mobyx0LGkpfSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGEoInllYXIiKX0sbD1mdW5jdGlvbigpe3JldHVybiBzKCkmJmEoIm1vbnRoIil9LHU9ZnVuY3Rpb24oKXtyZXR1cm4gbCgpJiZhKCJkYXkiKX0saD1mdW5jdGlvbigpe3JldHVybiB1KCkmJmEoImhvdXIiKX0sYz1mdW5jdGlvbigpe3JldHVybiBoKCkmJmEoIm1pbnV0ZSIpfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGMoKSYmYSgic2Vjb25kIil9LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gcCgpJiZhKCJtaWxsaXNlY29uZCIpfTtzd2l0Y2godCl7Y2FzZSJ5ZWFyIjpyZXR1cm4gcygpO2Nhc2UibW9udGgiOnJldHVybiBsKCk7Y2FzZSJkYXkiOnJldHVybiB1KCk7Y2FzZSJob3VyIjpyZXR1cm4gaCgpO2Nhc2UibWludXRlIjpyZXR1cm4gYygpO2Nhc2Uic2Vjb25kIjpyZXR1cm4gcCgpO2Nhc2UibWlsbGlzZWNvbmQiOnJldHVybiBkKCl9fShlYyh0KSxpWzBdLGlbMV0sbikpe2wmJihyPVt7dmFsdWU6eHgobmV3IERhdGUoaVswXSksdCxuKX0se3ZhbHVlOmlbMV19XSk7Zm9yKHZhciB1PTA7dTxyLmxlbmd0aC0xO3UrKyl7dmFyIGg9clt1XS52YWx1ZSxjPXJbdSsxXS52YWx1ZTtpZihoIT09Yyl7dmFyIHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwLGc9ITE7c3dpdGNoKHQpe2Nhc2UieWVhciI6cD1NYXRoLm1heCgxLE1hdGgucm91bmQoZS9aaC8zNjUpKSxkPWFjKG4pLGY9ZGMobik7YnJlYWs7Y2FzZSJoYWxmLXllYXIiOmNhc2UicXVhcnRlciI6Y2FzZSJtb250aCI6cD15eChlKSxkPXNjKG4pLGY9ZmMobik7YnJlYWs7Y2FzZSJ3ZWVrIjpjYXNlImhhbGYtd2VlayI6Y2FzZSJkYXkiOnA9Z3goZSksZD1sYyhuKSxmPWdjKG4pLGc9ITA7YnJlYWs7Y2FzZSJoYWxmLWRheSI6Y2FzZSJxdWFydGVyLWRheSI6Y2FzZSJob3VyIjpwPXZ4KGUpLGQ9dWMobiksZj15YyhuKTticmVhaztjYXNlIm1pbnV0ZSI6cD1teChlLCEwKSxkPWhjKG4pLGY9dmMobik7YnJlYWs7Y2FzZSJzZWNvbmQiOnA9bXgoZSwhMSksZD1jYyhuKSxmPW1jKG4pO2JyZWFrO2Nhc2UibWlsbGlzZWNvbmQiOnA9X3goZSksZD1wYyhuKSxmPV9jKG4pfXMocCxoLGMsZCxmLGcsYSksInllYXIiPT09dCYmby5sZW5ndGg+MSYmMD09PXUmJm8udW5zaGlmdCh7dmFsdWU6b1swXS52YWx1ZS1wfSl9fWZvcih1PTA7dTxhLmxlbmd0aDt1Kyspby5wdXNoKGFbdV0pO3JldHVybiBhfX1mb3IodmFyIHU9W10saD1bXSxjPTAscD0wLGQ9MDtkPG8ubGVuZ3RoJiZhKys8cjsrK2Qpe3ZhciBmPWVjKG9bZF0pO2lmKG5jKG9bZF0pKWlmKGwob1tkXSx1W3UubGVuZ3RoLTFdfHxbXSxoKSxmIT09KG9bZCsxXT9lYyhvW2QrMV0pOm51bGwpKXtpZihoLmxlbmd0aCl7cD1jLGguc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS1lLnZhbHVlfSkpO2Zvcih2YXIgZz1bXSx5PTA7eTxoLmxlbmd0aDsrK3kpe3ZhciB2PWhbeV0udmFsdWU7MCE9PXkmJmhbeS0xXS52YWx1ZT09PXZ8fChnLnB1c2goaFt5XSksdj49aVswXSYmdjw9aVsxXSYmYysrKX12YXIgbT0oaVsxXS1pWzBdKS9lO2lmKGM+MS41Km0mJnA+bS8xLjUpYnJlYWs7aWYodS5wdXNoKGcpLGM+bXx8dD09PW9bZF0pYnJlYWt9aD1bXX19MDt2YXIgXz1OKE8odSwoZnVuY3Rpb24odCl7cmV0dXJuIE4odCwoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWU+PWlbMF0mJnQudmFsdWU8PWlbMV0mJiF0Lm5vdEFkZH0pKX0pKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjB9KSkseD1bXSxiPV8ubGVuZ3RoLTE7Zm9yKGQ9MDtkPF8ubGVuZ3RoOysrZClmb3IodmFyIHc9X1tkXSxTPTA7Uzx3Lmxlbmd0aDsrK1MpeC5wdXNoKHt2YWx1ZTp3W1NdLnZhbHVlLGxldmVsOmItZH0pO3guc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS1lLnZhbHVlfSkpO3ZhciBNPVtdO2ZvcihkPTA7ZDx4Lmxlbmd0aDsrK2QpMCE9PWQmJnhbZF0udmFsdWU9PT14W2QtMV0udmFsdWV8fE0ucHVzaCh4W2RdKTtyZXR1cm4gTX0odGhpcy5fbWluTGV2ZWxVbml0LHRoaXMuX2FwcHJveEludGVydmFsLHIsbik7cmV0dXJuKGk9aS5jb25jYXQobykpLnB1c2goe3ZhbHVlOm5bMV0sbGV2ZWw6MH0pLGl9LGUucHJvdG90eXBlLm5pY2VFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O2lmKGVbMF09PT1lWzFdJiYoZVswXS09WmgsZVsxXSs9WmgpLGVbMV09PT0tMS8wJiZlWzBdPT09MS8wKXt2YXIgbj1uZXcgRGF0ZTtlWzFdPStuZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpKSxlWzBdPWVbMV0tWmh9dGhpcy5uaWNlVGlja3ModC5zcGxpdE51bWJlcix0Lm1pbkludGVydmFsLHQubWF4SW50ZXJ2YWwpfSxlLnByb3RvdHlwZS5uaWNlVGlja3M9ZnVuY3Rpb24odCxlLG4pe3Q9dHx8MTA7dmFyIGk9dGhpcy5fZXh0ZW50LHI9aVsxXS1pWzBdO3RoaXMuX2FwcHJveEludGVydmFsPXIvdCxudWxsIT1lJiZ0aGlzLl9hcHByb3hJbnRlcnZhbDxlJiYodGhpcy5fYXBwcm94SW50ZXJ2YWw9ZSksbnVsbCE9biYmdGhpcy5fYXBwcm94SW50ZXJ2YWw+biYmKHRoaXMuX2FwcHJveEludGVydmFsPW4pO3ZhciBvPWZ4Lmxlbmd0aCxhPU1hdGgubWluKGZ1bmN0aW9uKHQsZSxuLGkpe2Zvcig7bjxpOyl7dmFyIHI9bitpPj4+MTt0W3JdWzFdPGU/bj1yKzE6aT1yfXJldHVybiBufShmeCx0aGlzLl9hcHByb3hJbnRlcnZhbCwwLG8pLG8tMSk7dGhpcy5faW50ZXJ2YWw9ZnhbYV1bMV0sdGhpcy5fbWluTGV2ZWxVbml0PWZ4W01hdGgubWF4KGEtMSwwKV1bMF19LGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90Oitvcih0KX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gal8odGhpcy5wYXJzZSh0KSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHFfKHRoaXMucGFyc2UodCksdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIEtfKHQsdGhpcy5fZXh0ZW50KX0sZS50eXBlPSJ0aW1lIixlfShRXyksZng9W1sic2Vjb25kIixVaF0sWyJtaW51dGUiLFhoXSxbImhvdXIiLFloXSxbInF1YXJ0ZXItZGF5IiwyMTZlNV0sWyJoYWxmLWRheSIsNDMyZTVdLFsiZGF5IiwxMDM2OGU0XSxbImhhbGYtd2VlayIsMzAyNGU1XSxbIndlZWsiLDYwNDhlNV0sWyJtb250aCIsMjY3ODRlNV0sWyJxdWFydGVyIiw4MjA4ZTZdLFsiaGFsZi15ZWFyIixqaC8yXSxbInllYXIiLGpoXV07ZnVuY3Rpb24gZ3godCxlKXtyZXR1cm4odC89WmgpPjE2PzE2OnQ+Ny41Pzc6dD4zLjU/NDp0PjEuNT8yOjF9ZnVuY3Rpb24geXgodCl7cmV0dXJuKHQvPTI1OTJlNik+Nj82OnQ+Mz8zOnQ+Mj8yOjF9ZnVuY3Rpb24gdngodCl7cmV0dXJuKHQvPVloKT4xMj8xMjp0PjY/Njp0PjMuNT80OnQ+Mj8yOjF9ZnVuY3Rpb24gbXgodCxlKXtyZXR1cm4odC89ZT9YaDpVaCk+MzA/MzA6dD4yMD8yMDp0PjE1PzE1OnQ+MTA/MTA6dD41PzU6dD4yPzI6MX1mdW5jdGlvbiBfeCh0KXtyZXR1cm4gbHIodCwhMCl9ZnVuY3Rpb24geHgodCxlLG4pe3ZhciBpPW5ldyBEYXRlKHQpO3N3aXRjaChlYyhlKSl7Y2FzZSJ5ZWFyIjpjYXNlIm1vbnRoIjppW2ZjKG4pXSgwKTtjYXNlImRheSI6aVtnYyhuKV0oMSk7Y2FzZSJob3VyIjppW3ljKG4pXSgwKTtjYXNlIm1pbnV0ZSI6aVt2YyhuKV0oMCk7Y2FzZSJzZWNvbmQiOmlbbWMobildKDApLGlbX2MobildKDApfXJldHVybiBpLmdldFRpbWUoKX1HXy5yZWdpc3RlckNsYXNzKGR4KTt2YXIgYng9R18ucHJvdG90eXBlLFN4PVFfLnByb3RvdHlwZSxNeD1qaSxJeD1NYXRoLmZsb29yLFR4PU1hdGguY2VpbCxDeD1NYXRoLnBvdyxEeD1NYXRoLmxvZyxBeD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImxvZyIsZS5iYXNlPTEwLGUuX29yaWdpbmFsU2NhbGU9bmV3IFFfLGUuX2ludGVydmFsPTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldFRpY2tzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yaWdpbmFsU2NhbGUsbj10aGlzLl9leHRlbnQsaT1lLmdldEV4dGVudCgpO3JldHVybiBPKFN4LmdldFRpY2tzLmNhbGwodGhpcyx0KSwoZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZSxyPWppKEN4KHRoaXMuYmFzZSxlKSk7cmV0dXJuIHI9ZT09PW5bMF0mJnRoaXMuX2ZpeE1pbj9reChyLGlbMF0pOnIse3ZhbHVlOnI9ZT09PW5bMV0mJnRoaXMuX2ZpeE1heD9reChyLGlbMV0pOnJ9fSksdGhpcyl9LGUucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYmFzZTt0PUR4KHQpL0R4KG4pLGU9RHgoZSkvRHgobiksU3guc2V0RXh0ZW50LmNhbGwodGhpcyx0LGUpfSxlLnByb3RvdHlwZS5nZXRFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJhc2UsZT1ieC5nZXRFeHRlbnQuY2FsbCh0aGlzKTtlWzBdPUN4KHQsZVswXSksZVsxXT1DeCh0LGVbMV0pO3ZhciBuPXRoaXMuX29yaWdpbmFsU2NhbGUuZ2V0RXh0ZW50KCk7cmV0dXJuIHRoaXMuX2ZpeE1pbiYmKGVbMF09a3goZVswXSxuWzBdKSksdGhpcy5fZml4TWF4JiYoZVsxXT1reChlWzFdLG5bMV0pKSxlfSxlLnByb3RvdHlwZS51bmlvbkV4dGVudD1mdW5jdGlvbih0KXt0aGlzLl9vcmlnaW5hbFNjYWxlLnVuaW9uRXh0ZW50KHQpO3ZhciBlPXRoaXMuYmFzZTt0WzBdPUR4KHRbMF0pL0R4KGUpLHRbMV09RHgodFsxXSkvRHgoZSksYngudW5pb25FeHRlbnQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sZS5wcm90b3R5cGUubmljZVRpY2tzPWZ1bmN0aW9uKHQpe3Q9dHx8MTA7dmFyIGU9dGhpcy5fZXh0ZW50LG49ZVsxXS1lWzBdO2lmKCEobj09PTEvMHx8bjw9MCkpe3ZhciBpPWFyKG4pO2Zvcih0L24qaTw9LjUmJihpKj0xMCk7IWlzTmFOKGkpJiZNYXRoLmFicyhpKTwxJiZNYXRoLmFicyhpKT4wOylpKj0xMDt2YXIgcj1bamkoVHgoZVswXS9pKSppKSxqaShJeChlWzFdL2kpKmkpXTt0aGlzLl9pbnRlcnZhbD1pLHRoaXMuX25pY2VFeHRlbnQ9cn19LGUucHJvdG90eXBlLm5pY2VFeHRlbnQ9ZnVuY3Rpb24odCl7U3gubmljZUV4dGVudC5jYWxsKHRoaXMsdCksdGhpcy5fZml4TWluPXQuZml4TWluLHRoaXMuX2ZpeE1heD10LmZpeE1heH0sZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7cmV0dXJuIGpfKHQ9RHgodCkvRHgodGhpcy5iYXNlKSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHFfKHQ9RHgodCkvRHgodGhpcy5iYXNlKSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdD1LXyh0LHRoaXMuX2V4dGVudCksQ3godGhpcy5iYXNlLHQpfSxlLnR5cGU9ImxvZyIsZX0oR18pLEx4PUF4LnByb3RvdHlwZTtmdW5jdGlvbiBreCh0LGUpe3JldHVybiBNeCh0LEtpKGUpKX1MeC5nZXRNaW5vclRpY2tzPVN4LmdldE1pbm9yVGlja3MsTHguZ2V0TGFiZWw9U3guZ2V0TGFiZWwsR18ucmVnaXN0ZXJDbGFzcyhBeCk7dmFyIFB4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fcHJlcGFyZVBhcmFtcyh0LGUsbil9cmV0dXJuIHQucHJvdG90eXBlLl9wcmVwYXJlUGFyYW1zPWZ1bmN0aW9uKHQsZSxuKXtuWzFdPG5bMF0mJihuPVtOYU4sTmFOXSksdGhpcy5fZGF0YU1pbj1uWzBdLHRoaXMuX2RhdGFNYXg9blsxXTt2YXIgaT10aGlzLl9pc09yZGluYWw9Im9yZGluYWwiPT09dC50eXBlO3RoaXMuX25lZWRDcm9zc1plcm89ZS5nZXROZWVkQ3Jvc3NaZXJvJiZlLmdldE5lZWRDcm9zc1plcm8oKTt2YXIgcj10aGlzLl9tb2RlbE1pblJhdz1lLmdldCgibWluIiwhMCk7RyhyKT90aGlzLl9tb2RlbE1pbk51bT16eCh0LHIoe21pbjpuWzBdLG1heDpuWzFdfSkpOiJkYXRhTWluIiE9PXImJih0aGlzLl9tb2RlbE1pbk51bT16eCh0LHIpKTt2YXIgbz10aGlzLl9tb2RlbE1heFJhdz1lLmdldCgibWF4IiwhMCk7aWYoRyhvKT90aGlzLl9tb2RlbE1heE51bT16eCh0LG8oe21pbjpuWzBdLG1heDpuWzFdfSkpOiJkYXRhTWF4IiE9PW8mJih0aGlzLl9tb2RlbE1heE51bT16eCh0LG8pKSxpKXRoaXMuX2F4aXNEYXRhTGVuPWUuZ2V0Q2F0ZWdvcmllcygpLmxlbmd0aDtlbHNle3ZhciBhPWUuZ2V0KCJib3VuZGFyeUdhcCIpLHM9RihhKT9hOlthfHwwLGF8fDBdOyJib29sZWFuIj09dHlwZW9mIHNbMF18fCJib29sZWFuIj09dHlwZW9mIHNbMV0/dGhpcy5fYm91bmRhcnlHYXBJbm5lcj1bMCwwXTp0aGlzLl9ib3VuZGFyeUdhcElubmVyPVtJaShzWzBdLDEpLElpKHNbMV0sMSldfX0sdC5wcm90b3R5cGUuY2FsY3VsYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faXNPcmRpbmFsLGU9dGhpcy5fZGF0YU1pbixuPXRoaXMuX2RhdGFNYXgsaT10aGlzLl9heGlzRGF0YUxlbixyPXRoaXMuX2JvdW5kYXJ5R2FwSW5uZXIsbz10P251bGw6bi1lfHxNYXRoLmFicyhlKSxhPSJkYXRhTWluIj09PXRoaXMuX21vZGVsTWluUmF3P2U6dGhpcy5fbW9kZWxNaW5OdW0scz0iZGF0YU1heCI9PT10aGlzLl9tb2RlbE1heFJhdz9uOnRoaXMuX21vZGVsTWF4TnVtLGw9bnVsbCE9YSx1PW51bGwhPXM7bnVsbD09YSYmKGE9dD9pPzA6TmFOOmUtclswXSpvKSxudWxsPT1zJiYocz10P2k/aS0xOk5hTjpuK3JbMV0qbyksKG51bGw9PWF8fCFpc0Zpbml0ZShhKSkmJihhPU5hTiksKG51bGw9PXN8fCFpc0Zpbml0ZShzKSkmJihzPU5hTiksYT5zJiYoYT1OYU4scz1OYU4pO3ZhciBoPUooYSl8fEoocyl8fHQmJiFpO3RoaXMuX25lZWRDcm9zc1plcm8mJihhPjAmJnM+MCYmIWwmJihhPTApLGE8MCYmczwwJiYhdSYmKHM9MCkpO3ZhciBjPXRoaXMuX2RldGVybWluZWRNaW4scD10aGlzLl9kZXRlcm1pbmVkTWF4O3JldHVybiBudWxsIT1jJiYoYT1jLGw9ITApLG51bGwhPXAmJihzPXAsdT0hMCkse21pbjphLG1heDpzLG1pbkZpeGVkOmwsbWF4Rml4ZWQ6dSxpc0JsYW5rOmh9fSx0LnByb3RvdHlwZS5tb2RpZnlEYXRhTWluTWF4PWZ1bmN0aW9uKHQsZSl7dGhpc1tSeFt0XV09ZX0sdC5wcm90b3R5cGUuc2V0RGV0ZXJtaW5lZE1pbk1heD1mdW5jdGlvbih0LGUpe3ZhciBuPU94W3RdO3RoaXNbbl09ZX0sdC5wcm90b3R5cGUuZnJlZXplPWZ1bmN0aW9uKCl7dGhpcy5mcm96ZW49ITB9LHR9KCksT3g9e21pbjoiX2RldGVybWluZWRNaW4iLG1heDoiX2RldGVybWluZWRNYXgifSxSeD17bWluOiJfZGF0YU1pbiIsbWF4OiJfZGF0YU1heCJ9O2Z1bmN0aW9uIE54KHQsZSxuKXt2YXIgaT10LnJhd0V4dGVudEluZm87cmV0dXJuIGl8fChpPW5ldyBQeCh0LGUsbiksdC5yYXdFeHRlbnRJbmZvPWksaSl9ZnVuY3Rpb24gengodCxlKXtyZXR1cm4gbnVsbD09ZT9udWxsOkooZSk/TmFOOnQucGFyc2UoZSl9ZnVuY3Rpb24gRXgodCxlKXt2YXIgbj10LnR5cGUsaT1OeCh0LGUsdC5nZXRFeHRlbnQoKSkuY2FsY3VsYXRlKCk7dC5zZXRCbGFuayhpLmlzQmxhbmspO3ZhciByPWkubWluLG89aS5tYXgsYT1lLmVjTW9kZWw7aWYoYSYmInRpbWUiPT09bil7dmFyIHM9cngoImJhciIsYSksbD0hMTtpZihQKHMsKGZ1bmN0aW9uKHQpe2w9bHx8dC5nZXRCYXNlQXhpcygpPT09ZS5heGlzfSkpLGwpe3ZhciB1PW94KHMpLGg9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLmdldEV4dGVudCgpLG89clsxXS1yWzBdLGE9c3goaSxuLmF4aXMpO2lmKHZvaWQgMD09PWEpcmV0dXJue21pbjp0LG1heDplfTt2YXIgcz0xLzA7UChhLChmdW5jdGlvbih0KXtzPU1hdGgubWluKHQub2Zmc2V0LHMpfSkpO3ZhciBsPS0xLzA7UChhLChmdW5jdGlvbih0KXtsPU1hdGgubWF4KHQub2Zmc2V0K3Qud2lkdGgsbCl9KSkscz1NYXRoLmFicyhzKSxsPU1hdGguYWJzKGwpO3ZhciB1PXMrbCxoPWUtdCxjPWgvKDEtKHMrbCkvbyktaDtyZXR1cm57bWluOnQtPWMqKHMvdSksbWF4OmUrPWMqKGwvdSl9fShyLG8sZSx1KTtyPWgubWluLG89aC5tYXh9fXJldHVybntleHRlbnQ6W3Isb10sZml4TWluOmkubWluRml4ZWQsZml4TWF4OmkubWF4Rml4ZWR9fWZ1bmN0aW9uIFZ4KHQsZSl7dmFyIG49RXgodCxlKSxpPW4uZXh0ZW50LHI9ZS5nZXQoInNwbGl0TnVtYmVyIik7dCBpbnN0YW5jZW9mIEF4JiYodC5iYXNlPWUuZ2V0KCJsb2dCYXNlIikpO3ZhciBvPXQudHlwZTt0LnNldEV4dGVudChpWzBdLGlbMV0pLHQubmljZUV4dGVudCh7c3BsaXROdW1iZXI6cixmaXhNaW46bi5maXhNaW4sZml4TWF4Om4uZml4TWF4LG1pbkludGVydmFsOiJpbnRlcnZhbCI9PT1vfHwidGltZSI9PT1vP2UuZ2V0KCJtaW5JbnRlcnZhbCIpOm51bGwsbWF4SW50ZXJ2YWw6ImludGVydmFsIj09PW98fCJ0aW1lIj09PW8/ZS5nZXQoIm1heEludGVydmFsIik6bnVsbH0pO3ZhciBhPWUuZ2V0KCJpbnRlcnZhbCIpO251bGwhPWEmJnQuc2V0SW50ZXJ2YWwmJnQuc2V0SW50ZXJ2YWwoYSl9ZnVuY3Rpb24gQngodCxlKXtpZihlPWV8fHQuZ2V0KCJ0eXBlIikpc3dpdGNoKGUpe2Nhc2UiY2F0ZWdvcnkiOnJldHVybiBuZXcgJF8oe29yZGluYWxNZXRhOnQuZ2V0T3JkaW5hbE1ldGE/dC5nZXRPcmRpbmFsTWV0YSgpOnQuZ2V0Q2F0ZWdvcmllcygpLGV4dGVudDpbMS8wLC0xLzBdfSk7Y2FzZSJ0aW1lIjpyZXR1cm4gbmV3IGR4KHtsb2NhbGU6dC5lY01vZGVsLmdldExvY2FsZU1vZGVsKCksdXNlVVRDOnQuZWNNb2RlbC5nZXQoInVzZVVUQyIpfSk7ZGVmYXVsdDpyZXR1cm4gbmV3KEdfLmdldENsYXNzKGUpfHxRXyl9fWZ1bmN0aW9uIEZ4KHQpe3ZhciBlLG4saT10LmdldExhYmVsTW9kZWwoKS5nZXQoImZvcm1hdHRlciIpLHI9ImNhdGVnb3J5Ij09PXQudHlwZT90LnNjYWxlLmdldEV4dGVudCgpWzBdOm51bGw7cmV0dXJuInRpbWUiPT09dC5zY2FsZS50eXBlPyhuPWksZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5zY2FsZS5nZXRGb3JtYXR0ZWRMYWJlbChlLGksbil9KToic3RyaW5nIj09dHlwZW9mIGk/ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXQuc2NhbGUuZ2V0TGFiZWwobik7cmV0dXJuIGUucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9aT9pOiIiKX19KGkpOiJmdW5jdGlvbiI9PXR5cGVvZiBpPyhlPWksZnVuY3Rpb24obixpKXtyZXR1cm4gbnVsbCE9ciYmKGk9bi52YWx1ZS1yKSxlKEd4KHQsbiksaSxudWxsIT1uLmxldmVsP3tsZXZlbDpuLmxldmVsfTpudWxsKX0pOmZ1bmN0aW9uKGUpe3JldHVybiB0LnNjYWxlLmdldExhYmVsKGUpfX1mdW5jdGlvbiBHeCh0LGUpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGU/dC5zY2FsZS5nZXRMYWJlbChlKTplLnZhbHVlfWZ1bmN0aW9uIEh4KHQsZSl7dmFyIG49ZSpNYXRoLlBJLzE4MCxpPXQud2lkdGgscj10LmhlaWdodCxvPWkqTWF0aC5hYnMoTWF0aC5jb3MobikpK01hdGguYWJzKHIqTWF0aC5zaW4obikpLGE9aSpNYXRoLmFicyhNYXRoLnNpbihuKSkrTWF0aC5hYnMocipNYXRoLmNvcyhuKSk7cmV0dXJuIG5ldyBnaSh0LngsdC55LG8sYSl9ZnVuY3Rpb24gV3godCl7dmFyIGU9dC5nZXQoImludGVydmFsIik7cmV0dXJuIG51bGw9PWU/ImF1dG8iOmV9ZnVuY3Rpb24gVXgodCl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZSYmMD09PVd4KHQuZ2V0TGFiZWxNb2RlbCgpKX1mdW5jdGlvbiBYeCh0LGUpe3ZhciBuPXt9O3JldHVybiBQKHQubWFwRGltZW5zaW9uc0FsbChlKSwoZnVuY3Rpb24oZSl7bltCXyh0LGUpXT0hMH0pKSxFKG4pfXZhciBZeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldE5lZWRDcm9zc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5vcHRpb24uc2NhbGV9LHQucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXt9LHR9KCk7dmFyIFp4PXtpc0RpbWVuc2lvblN0YWNrZWQ6Vl8sZW5hYmxlRGF0YVN0YWNrOkVfLGdldFN0YWNrZWREaW1lbnNpb246Ql99O3ZhciBqeD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjcmVhdGVMaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBGXyh0LmdldFNvdXJjZSgpLHQpfSxnZXRMYXlvdXRSZWN0OlZjLGRhdGFTdGFjazpaeCxjcmVhdGVTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBuPWU7ZSBpbnN0YW5jZW9mIE9ofHwobj1uZXcgT2goZSkpO3ZhciBpPUJ4KG4pO3JldHVybiBpLnNldEV4dGVudCh0WzBdLHRbMV0pLFZ4KGksbiksaX0sbWl4aW5BeGlzTW9kZWxDb21tb25NZXRob2RzOmZ1bmN0aW9uKHQpe0wodCxZeCl9LGdldEVDRGF0YTpfcyxjcmVhdGVUZXh0U3R5bGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcGgodCxudWxsLG51bGwsIm5vcm1hbCIhPT0oZT1lfHx7fSkuc3RhdGUpfSxjcmVhdGVEaW1lbnNpb25zOk9fLGNyZWF0ZVN5bWJvbDpmeSxlbmFibGVIb3ZlckVtcGhhc2lzOnNsfSkscXg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbGluZWFyTWFwOllpLHJvdW5kOmppLGFzYzpxaSxnZXRQcmVjaXNpb246S2ksZ2V0UHJlY2lzaW9uU2FmZTokaSxnZXRQaXhlbFByZWNpc2lvbjpKaSxnZXRQZXJjZW50V2l0aFByZWNpc2lvbjpRaSxNQVhfU0FGRV9JTlRFR0VSOmVyLHJlbVJhZGlhbjpucixpc1JhZGlhbkFyb3VuZFplcm86aXIscGFyc2VEYXRlOm9yLHF1YW50aXR5OmFyLHF1YW50aXR5RXhwb25lbnQ6c3IsbmljZTpscixxdWFudGlsZTp1cixyZWZvcm1JbnRlcnZhbHM6aHIsaXNOdW1lcmljOnByLG51bWVyaWNUb051bWJlcjpjcn0pLEt4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOm9yLGZvcm1hdDppY30pLCR4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGV4dGVuZFNoYXBlOkx1LGV4dGVuZFBhdGg6UHUsbWFrZVBhdGg6TnUsbWFrZUltYWdlOnp1LG1lcmdlUGF0aDpWdSxyZXNpemVQYXRoOkJ1LGNyZWF0ZUljb246ZWgsdXBkYXRlUHJvcHM6SHUsaW5pdFByb3BzOld1LGdldFRyYW5zZm9ybTpqdSxjbGlwUG9pbnRzQnlSZWN0OlF1LGNsaXBSZWN0QnlSZWN0OnRoLHJlZ2lzdGVyU2hhcGU6T3UsZ2V0U2hhcGVDbGFzczpSdSxHcm91cDpFaSxJbWFnZTplcyxUZXh0OmNzLENpcmNsZTpObCxFbGxpcHNlOkVsLFNlY3RvcjpKbCxSaW5nOnR1LFBvbHlnb246cnUsUG9seWxpbmU6YXUsUmVjdDpscyxMaW5lOnV1LEJlemllckN1cnZlOmR1LEFyYzpndSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOlR1LENvbXBvdW5kUGF0aDp5dSxMaW5lYXJHcmFkaWVudDptdSxSYWRpYWxHcmFkaWVudDpfdSxCb3VuZGluZ1JlY3Q6Z2l9KSxKeD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxhZGRDb21tYXM6eGMsdG9DYW1lbENhc2U6YmMsbm9ybWFsaXplQ3NzQXJyYXk6d2MsZW5jb2RlSFRNTDpJYyxmb3JtYXRUcGw6QWMsZ2V0VG9vbHRpcE1hcmtlcjpMYyxmb3JtYXRUaW1lOmZ1bmN0aW9uKHQsZSxuKXsid2VlayIhPT10JiYibW9udGgiIT09dCYmInF1YXJ0ZXIiIT09dCYmImhhbGYteWVhciIhPT10JiYieWVhciIhPT10fHwodD0iTU0tZGRcbnl5eXkiKTt2YXIgaT1vcihlKSxyPW4/IlVUQyI6IiIsbz1pWyJnZXQiK3IrIkZ1bGxZZWFyIl0oKSxhPWlbImdldCIrcisiTW9udGgiXSgpKzEscz1pWyJnZXQiK3IrIkRhdGUiXSgpLGw9aVsiZ2V0IityKyJIb3VycyJdKCksdT1pWyJnZXQiK3IrIk1pbnV0ZXMiXSgpLGg9aVsiZ2V0IityKyJTZWNvbmRzIl0oKSxjPWlbImdldCIrcisiTWlsbGlzZWNvbmRzIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoIk1NIix0YyhhLDIpKS5yZXBsYWNlKCJNIixhKS5yZXBsYWNlKCJ5eXl5IixvKS5yZXBsYWNlKCJ5eSIsbyUxMDArIiIpLnJlcGxhY2UoImRkIix0YyhzLDIpKS5yZXBsYWNlKCJkIixzKS5yZXBsYWNlKCJoaCIsdGMobCwyKSkucmVwbGFjZSgiaCIsbCkucmVwbGFjZSgibW0iLHRjKHUsMikpLnJlcGxhY2UoIm0iLHUpLnJlcGxhY2UoInNzIix0YyhoLDIpKS5yZXBsYWNlKCJzIixoKS5yZXBsYWNlKCJTU1MiLHRjKGMsMykpfSxjYXBpdGFsRmlyc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKTp0fSx0cnVuY2F0ZVRleHQ6YW8sZ2V0VGV4dFJlY3Q6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtyZXR1cm4geXIoKSxuZXcgY3Moe3N0eWxlOnt0ZXh0OnQsZm9udDplLGFsaWduOm4sdmVydGljYWxBbGlnbjppLHBhZGRpbmc6cixyaWNoOm8sb3ZlcmZsb3c6YT8idHJ1bmNhdGUiOm51bGwsbGluZUhlaWdodDpzfX0pLmdldEJvdW5kaW5nUmVjdCgpfX0pLFF4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG1hcDpPLGVhY2g6UCxpbmRleE9mOkQsaW5oZXJpdHM6QSxyZWR1Y2U6UixmaWx0ZXI6TixiaW5kOlYsY3Vycnk6Qixpc0FycmF5OkYsaXNTdHJpbmc6SCxpc09iamVjdDpYLGlzRnVuY3Rpb246RyxleHRlbmQ6SSxkZWZhdWx0czpULGNsb25lOncsbWVyZ2U6U30pLHRiPWtyKCk7ZnVuY3Rpb24gZWIodCl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT9mdW5jdGlvbih0KXt2YXIgZT10LmdldExhYmVsTW9kZWwoKSxuPWliKHQsZSk7cmV0dXJuIWUuZ2V0KCJzaG93Iil8fHQuc2NhbGUuaXNCbGFuaygpP3tsYWJlbHM6W10sbGFiZWxDYXRlZ29yeUludGVydmFsOm4ubGFiZWxDYXRlZ29yeUludGVydmFsfTpufSh0KTpmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLmdldFRpY2tzKCksbj1GeCh0KTtyZXR1cm57bGFiZWxzOk8oZSwoZnVuY3Rpb24oZSxpKXtyZXR1cm57Zm9ybWF0dGVkTGFiZWw6bihlLGkpLHJhd0xhYmVsOnQuc2NhbGUuZ2V0TGFiZWwoZSksdGlja1ZhbHVlOmUudmFsdWV9fSkpfX0odCl9ZnVuY3Rpb24gbmIodCxlKXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXJiKHQsInRpY2tzIiksbz1XeChlKSxhPW9iKHIsbyk7aWYoYSlyZXR1cm4gYTtlLmdldCgic2hvdyIpJiYhdC5zY2FsZS5pc0JsYW5rKCl8fChuPVtdKTtpZihHKG8pKW49bGIodCxvLCEwKTtlbHNlIGlmKCJhdXRvIj09PW8pe3ZhciBzPWliKHQsdC5nZXRMYWJlbE1vZGVsKCkpO2k9cy5sYWJlbENhdGVnb3J5SW50ZXJ2YWwsbj1PKHMubGFiZWxzLChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWNrVmFsdWV9KSl9ZWxzZSBuPXNiKHQsaT1vLCEwKTtyZXR1cm4gYWIocixvLHt0aWNrczpuLHRpY2tDYXRlZ29yeUludGVydmFsOml9KX0odCxlKTp7dGlja3M6Tyh0LnNjYWxlLmdldFRpY2tzKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpfX1mdW5jdGlvbiBpYih0LGUpe3ZhciBuLGkscj1yYih0LCJsYWJlbHMiKSxvPVd4KGUpLGE9b2IocixvKTtyZXR1cm4gYXx8KEcobyk/bj1sYih0LG8pOihpPSJhdXRvIj09PW8/ZnVuY3Rpb24odCl7dmFyIGU9dGIodCkuYXV0b0ludGVydmFsO3JldHVybiBudWxsIT1lP2U6dGIodCkuYXV0b0ludGVydmFsPXQuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbCgpfSh0KTpvLG49c2IodCxpKSksYWIocixvLHtsYWJlbHM6bixsYWJlbENhdGVnb3J5SW50ZXJ2YWw6aX0pKX1mdW5jdGlvbiByYih0LGUpe3JldHVybiB0Yih0KVtlXXx8KHRiKHQpW2VdPVtdKX1mdW5jdGlvbiBvYih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0ua2V5PT09ZSlyZXR1cm4gdFtuXS52YWx1ZX1mdW5jdGlvbiBhYih0LGUsbil7cmV0dXJuIHQucHVzaCh7a2V5OmUsdmFsdWU6bn0pLG59ZnVuY3Rpb24gc2IodCxlLG4pe3ZhciBpPUZ4KHQpLHI9dC5zY2FsZSxvPXIuZ2V0RXh0ZW50KCksYT10LmdldExhYmVsTW9kZWwoKSxzPVtdLGw9TWF0aC5tYXgoKGV8fDApKzEsMSksdT1vWzBdLGg9ci5jb3VudCgpOzAhPT11JiZsPjEmJmgvbD4yJiYodT1NYXRoLnJvdW5kKE1hdGguY2VpbCh1L2wpKmwpKTt2YXIgYz1VeCh0KSxwPWEuZ2V0KCJzaG93TWluTGFiZWwiKXx8YyxkPWEuZ2V0KCJzaG93TWF4TGFiZWwiKXx8YztwJiZ1IT09b1swXSYmZyhvWzBdKTtmb3IodmFyIGY9dTtmPD1vWzFdO2YrPWwpZyhmKTtmdW5jdGlvbiBnKHQpe3ZhciBlPXt2YWx1ZTp0fTtzLnB1c2gobj90Ontmb3JtYXR0ZWRMYWJlbDppKGUpLHJhd0xhYmVsOnIuZ2V0TGFiZWwoZSksdGlja1ZhbHVlOnR9KX1yZXR1cm4gZCYmZi1sIT09b1sxXSYmZyhvWzFdKSxzfWZ1bmN0aW9uIGxiKHQsZSxuKXt2YXIgaT10LnNjYWxlLHI9RngodCksbz1bXTtyZXR1cm4gUChpLmdldFRpY2tzKCksKGZ1bmN0aW9uKHQpe3ZhciBhPWkuZ2V0TGFiZWwodCkscz10LnZhbHVlO2UodC52YWx1ZSxhKSYmby5wdXNoKG4/czp7Zm9ybWF0dGVkTGFiZWw6cih0KSxyYXdMYWJlbDphLHRpY2tWYWx1ZTpzfSl9KSksb312YXIgdWI9WzAsMV0saGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLm9uQmFuZD0hMSx0aGlzLmludmVyc2U9ITEsdGhpcy5kaW09dCx0aGlzLnNjYWxlPWUsdGhpcy5fZXh0ZW50PW58fFswLDBdfXJldHVybiB0LnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudCxuPU1hdGgubWluKGVbMF0sZVsxXSksaT1NYXRoLm1heChlWzBdLGVbMV0pO3JldHVybiB0Pj1uJiZ0PD1pfSx0LnByb3RvdHlwZS5jb250YWluRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZS5jb250YWluKHQpfSx0LnByb3RvdHlwZS5nZXRFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldFBpeGVsUHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBKaSh0fHx0aGlzLnNjYWxlLmdldEV4dGVudCgpLHRoaXMuX2V4dGVudCl9LHQucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudDtuWzBdPXQsblsxXT1lfSx0LnByb3RvdHlwZS5kYXRhVG9Db29yZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudCxpPXRoaXMuc2NhbGU7cmV0dXJuIHQ9aS5ub3JtYWxpemUodCksdGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PWkudHlwZSYmY2Iobj1uLnNsaWNlKCksaS5jb3VudCgpKSxZaSh0LHViLG4sZSl9LHQucHJvdG90eXBlLmNvb3JkVG9EYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50LGk9dGhpcy5zY2FsZTt0aGlzLm9uQmFuZCYmIm9yZGluYWwiPT09aS50eXBlJiZjYihuPW4uc2xpY2UoKSxpLmNvdW50KCkpO3ZhciByPVlpKHQsbix1YixlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShyKX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmdldFRpY2tzQ29vcmRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS50aWNrTW9kZWx8fHRoaXMuZ2V0VGlja01vZGVsKCksbj1PKG5iKHRoaXMsZSkudGlja3MsKGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKCJvcmRpbmFsIj09PXRoaXMuc2NhbGUudHlwZT90aGlzLnNjYWxlLmdldFJhd09yZGluYWxOdW1iZXIodCk6dCksdGlja1ZhbHVlOnR9fSksdGhpcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUubGVuZ3RoO2lmKCF0Lm9uQmFuZHx8bnx8IXIpcmV0dXJuO3ZhciBvLGEscz10LmdldEV4dGVudCgpO2lmKDE9PT1yKWVbMF0uY29vcmQ9c1swXSxvPWVbMV09e2Nvb3JkOnNbMF19O2Vsc2V7dmFyIGw9ZVtyLTFdLnRpY2tWYWx1ZS1lWzBdLnRpY2tWYWx1ZSx1PShlW3ItMV0uY29vcmQtZVswXS5jb29yZCkvbDtQKGUsKGZ1bmN0aW9uKHQpe3QuY29vcmQtPXUvMn0pKSxhPTErdC5zY2FsZS5nZXRFeHRlbnQoKVsxXS1lW3ItMV0udGlja1ZhbHVlLG89e2Nvb3JkOmVbci0xXS5jb29yZCt1KmF9LGUucHVzaChvKX12YXIgaD1zWzBdPnNbMV07YyhlWzBdLmNvb3JkLHNbMF0pJiYoaT9lWzBdLmNvb3JkPXNbMF06ZS5zaGlmdCgpKTtpJiZjKHNbMF0sZVswXS5jb29yZCkmJmUudW5zaGlmdCh7Y29vcmQ6c1swXX0pO2Moc1sxXSxvLmNvb3JkKSYmKGk/by5jb29yZD1zWzFdOmUucG9wKCkpO2kmJmMoby5jb29yZCxzWzFdKSYmZS5wdXNoKHtjb29yZDpzWzFdfSk7ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB0PWppKHQpLGU9amkoZSksaD90PmU6dDxlfX0odGhpcyxuLGUuZ2V0KCJhbGlnbldpdGhMYWJlbCIpLHQuY2xhbXApLG59LHQucHJvdG90eXBlLmdldE1pbm9yVGlja3NDb29yZHM9ZnVuY3Rpb24oKXtpZigib3JkaW5hbCI9PT10aGlzLnNjYWxlLnR5cGUpcmV0dXJuW107dmFyIHQ9dGhpcy5tb2RlbC5nZXRNb2RlbCgibWlub3JUaWNrIikuZ2V0KCJzcGxpdE51bWJlciIpO3JldHVybiB0PjAmJnQ8MTAwfHwodD01KSxPKHRoaXMuc2NhbGUuZ2V0TWlub3JUaWNrcyh0KSwoZnVuY3Rpb24odCl7cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7cmV0dXJue2Nvb3JkOnRoaXMuZGF0YVRvQ29vcmQodCksdGlja1ZhbHVlOnR9fSksdGhpcyl9KSx0aGlzKX0sdC5wcm90b3R5cGUuZ2V0Vmlld0xhYmVscz1mdW5jdGlvbigpe3JldHVybiBlYih0aGlzKS5sYWJlbHN9LHQucHJvdG90eXBlLmdldExhYmVsTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRNb2RlbCgiYXhpc0xhYmVsIil9LHQucHJvdG90eXBlLmdldFRpY2tNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJheGlzVGljayIpfSx0LnByb3RvdHlwZS5nZXRCYW5kV2lkdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9leHRlbnQsZT10aGlzLnNjYWxlLmdldEV4dGVudCgpLG49ZVsxXS1lWzBdKyh0aGlzLm9uQmFuZD8xOjApOzA9PT1uJiYobj0xKTt2YXIgaT1NYXRoLmFicyh0WzFdLXRbMF0pO3JldHVybiBNYXRoLmFicyhpKS9ufSx0LnByb3RvdHlwZS5jYWxjdWxhdGVDYXRlZ29yeUludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpO3JldHVybntheGlzUm90YXRlOnQuZ2V0Um90YXRlP3QuZ2V0Um90YXRlKCk6dC5pc0hvcml6b250YWwmJiF0LmlzSG9yaXpvbnRhbCgpPzkwOjAsbGFiZWxSb3RhdGU6ZS5nZXQoInJvdGF0ZSIpfHwwLGZvbnQ6ZS5nZXRGb250KCl9fSh0KSxuPUZ4KHQpLGk9KGUuYXhpc1JvdGF0ZS1lLmxhYmVsUm90YXRlKS8xODAqTWF0aC5QSSxyPXQuc2NhbGUsbz1yLmdldEV4dGVudCgpLGE9ci5jb3VudCgpO2lmKG9bMV0tb1swXTwxKXJldHVybiAwO3ZhciBzPTE7YT40MCYmKHM9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGEvNDApKSk7Zm9yKHZhciBsPW9bMF0sdT10LmRhdGFUb0Nvb3JkKGwrMSktdC5kYXRhVG9Db29yZChsKSxoPU1hdGguYWJzKHUqTWF0aC5jb3MoaSkpLGM9TWF0aC5hYnModSpNYXRoLnNpbihpKSkscD0wLGQ9MDtsPD1vWzFdO2wrPXMpe3ZhciBmLGcseT1iaShuKHt2YWx1ZTpsfSksZS5mb250LCJjZW50ZXIiLCJ0b3AiKTtmPTEuMyp5LndpZHRoLGc9MS4zKnkuaGVpZ2h0LHA9TWF0aC5tYXgocCxmLDcpLGQ9TWF0aC5tYXgoZCxnLDcpfXZhciB2PXAvaCxtPWQvYztpc05hTih2KSYmKHY9MS8wKSxpc05hTihtKSYmKG09MS8wKTt2YXIgXz1NYXRoLm1heCgwLE1hdGguZmxvb3IoTWF0aC5taW4odixtKSkpLHg9dGIodC5tb2RlbCksYj10LmdldEV4dGVudCgpLHc9eC5sYXN0QXV0b0ludGVydmFsLFM9eC5sYXN0VGlja0NvdW50O3JldHVybiBudWxsIT13JiZudWxsIT1TJiZNYXRoLmFicyh3LV8pPD0xJiZNYXRoLmFicyhTLWEpPD0xJiZ3Pl8mJnguYXhpc0V4dGVudDA9PT1iWzBdJiZ4LmF4aXNFeHRlbnQxPT09YlsxXT9fPXc6KHgubGFzdFRpY2tDb3VudD1hLHgubGFzdEF1dG9JbnRlcnZhbD1fLHguYXhpc0V4dGVudDA9YlswXSx4LmF4aXNFeHRlbnQxPWJbMV0pLF99KHRoaXMpfSx0fSgpO2Z1bmN0aW9uIGNiKHQsZSl7dmFyIG49KHRbMV0tdFswXSkvZS8yO3RbMF0rPW4sdFsxXS09bn1mdW5jdGlvbiBwYih0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdCl9ZnVuY3Rpb24gZGIodCxlLG4saSxyKXtmb3IodmFyIG89ZS5sZW5ndGgsYT1uLmxlbmd0aCxzPXQubmV3UG9zLGw9cy1pLHU9MDtzKzE8byYmbCsxPGEmJnIoZVtzKzFdLG5bbCsxXSk7KXMrKyxsKyssdSsrO3JldHVybiB1JiZ0LmNvbXBvbmVudHMucHVzaCh7Y291bnQ6dSxhZGRlZDohMSxyZW1vdmVkOiExLGluZGljZXM6W119KSx0Lm5ld1Bvcz1zLGx9ZnVuY3Rpb24gZmIodCxlLG4pe3ZhciBpPXRbdC5sZW5ndGgtMV07aSYmaS5hZGRlZD09PWUmJmkucmVtb3ZlZD09PW4/dFt0Lmxlbmd0aC0xXT17Y291bnQ6aS5jb3VudCsxLGFkZGVkOmUscmVtb3ZlZDpuLGluZGljZXM6W119OnQucHVzaCh7Y291bnQ6MSxhZGRlZDplLHJlbW92ZWQ6bixpbmRpY2VzOltdfSl9ZnVuY3Rpb24gZ2IodCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aCxpPTAscj0wO2U8bjtlKyspe3ZhciBvPXRbZV07aWYoby5yZW1vdmVkKXtmb3Iocz1yO3M8citvLmNvdW50O3MrKylvLmluZGljZXMucHVzaChzKTtyKz1vLmNvdW50fWVsc2V7Zm9yKHZhciBhPVtdLHM9aTtzPGkrby5jb3VudDtzKyspYS5wdXNoKHMpO28uaW5kaWNlcz1hLGkrPW8uY291bnQsby5hZGRlZHx8KHIrPW8uY291bnQpfX1yZXR1cm4gdH1mdW5jdGlvbiB5Yih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtufHwobj1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZX0pLHQ9dC5zbGljZSgpO3ZhciBpPShlPWUuc2xpY2UoKSkubGVuZ3RoLHI9dC5sZW5ndGgsbz0xLGE9aStyLHM9W3tuZXdQb3M6LTEsY29tcG9uZW50czpbXX1dLGw9ZGIoc1swXSxlLHQsMCxuKTtpZihzWzBdLm5ld1BvcysxPj1pJiZsKzE+PXIpe2Zvcih2YXIgdT1bXSxoPTA7aDxlLmxlbmd0aDtoKyspdS5wdXNoKGgpO3JldHVyblt7aW5kaWNlczp1LGNvdW50OmUubGVuZ3RoLGFkZGVkOiExLHJlbW92ZWQ6ITF9XX1mdW5jdGlvbiBjKCl7Zm9yKHZhciBhPS0xKm87YTw9bzthKz0yKXt2YXIgbCx1PXNbYS0xXSxoPXNbYSsxXSxjPShoP2gubmV3UG9zOjApLWE7dSYmKHNbYS0xXT12b2lkIDApO3ZhciBwPXUmJnUubmV3UG9zKzE8aSxkPWgmJjA8PWMmJmM8cjtpZihwfHxkKXtpZighcHx8ZCYmdS5uZXdQb3M8aC5uZXdQb3M/ZmIoKGw9e25ld1BvczooZj1oKS5uZXdQb3MsY29tcG9uZW50czpmLmNvbXBvbmVudHMuc2xpY2UoMCl9KS5jb21wb25lbnRzLCExLCEwKTooKGw9dSkubmV3UG9zKyssZmIobC5jb21wb25lbnRzLCEwLCExKSksYz1kYihsLGUsdCxhLG4pLGwubmV3UG9zKzE+PWkmJmMrMT49cilyZXR1cm4gZ2IobC5jb21wb25lbnRzKTtzW2FdPWx9ZWxzZSBzW2FdPXZvaWQgMH12YXIgZjtvKyt9Zm9yKDtvPD1hOyl7dmFyIHA9YygpO2lmKHApcmV0dXJuIHB9fSh0LGUsbil9dmFyIHZiPSJub25lIixtYj1NYXRoLnJvdW5kLF9iPU1hdGguc2luLHhiPU1hdGguY29zLGJiPU1hdGguUEksd2I9MipNYXRoLlBJLFNiPTE4MC9iYixNYj0xZS00O2Z1bmN0aW9uIEliKHQpe3JldHVybiBtYigxZTMqdCkvMWUzfWZ1bmN0aW9uIFRiKHQpe3JldHVybiBtYigxZTQqdCkvMWU0fWZ1bmN0aW9uIENiKHQpe3JldHVybiB0PE1iJiZ0Pi0xZS00fWZ1bmN0aW9uIERiKHQsZSl7ZSYmQWIodCwidHJhbnNmb3JtIiwibWF0cml4KCIrSWIoZVswXSkrIiwiK0liKGVbMV0pKyIsIitJYihlWzJdKSsiLCIrSWIoZVszXSkrIiwiK1RiKGVbNF0pKyIsIitUYihlWzVdKSsiKSIpfWZ1bmN0aW9uIEFiKHQsZSxuKXsoIW58fCJsaW5lYXIiIT09bi50eXBlJiYicmFkaWFsIiE9PW4udHlwZSkmJnQuc2V0QXR0cmlidXRlKGUsbil9ZnVuY3Rpb24gTGIodCxlLG4pe3ZhciBpPW51bGw9PWUub3BhY2l0eT8xOmUub3BhY2l0eTtpZihuIGluc3RhbmNlb2YgZXMpdC5zdHlsZS5vcGFjaXR5PWkrIiI7ZWxzZXtpZihmdW5jdGlvbih0KXt2YXIgZT10LmZpbGw7cmV0dXJuIG51bGwhPWUmJmUhPT12Yn0oZSkpe3ZhciByPWUuZmlsbDtBYih0LCJmaWxsIixyPSJ0cmFuc3BhcmVudCI9PT1yP3ZiOnIpLEFiKHQsImZpbGwtb3BhY2l0eSIsKG51bGwhPWUuZmlsbE9wYWNpdHk/ZS5maWxsT3BhY2l0eSppOmkpKyIiKX1lbHNlIEFiKHQsImZpbGwiLHZiKTtpZihmdW5jdGlvbih0KXt2YXIgZT10LnN0cm9rZTtyZXR1cm4gbnVsbCE9ZSYmZSE9PXZifShlKSl7dmFyIG89ZS5zdHJva2U7QWIodCwic3Ryb2tlIixvPSJ0cmFuc3BhcmVudCI9PT1vP3ZiOm8pO3ZhciBhPWUubGluZVdpZHRoLHM9ZS5zdHJva2VOb1NjYWxlP24uZ2V0TGluZVNjYWxlKCk6MTtBYih0LCJzdHJva2Utd2lkdGgiLChzP2EvczowKSsiIiksQWIodCwicGFpbnQtb3JkZXIiLGUuc3Ryb2tlRmlyc3Q/InN0cm9rZSI6ImZpbGwiKSxBYih0LCJzdHJva2Utb3BhY2l0eSIsKG51bGwhPWUuc3Ryb2tlT3BhY2l0eT9lLnN0cm9rZU9wYWNpdHkqaTppKSsiIik7dmFyIGw9ZS5saW5lRGFzaCYmYT4wJiZ2eShlLmxpbmVEYXNoLGEpO2lmKGwpe3ZhciB1PWUubGluZURhc2hPZmZzZXQ7cyYmMSE9PXMmJihsPU8obCwoZnVuY3Rpb24odCl7cmV0dXJuIHQvc30pKSx1JiYodT1tYih1Lz1zKSkpLEFiKHQsInN0cm9rZS1kYXNoYXJyYXkiLGwuam9pbigiLCIpKSxBYih0LCJzdHJva2UtZGFzaG9mZnNldCIsKHV8fDApKyIiKX1lbHNlIEFiKHQsInN0cm9rZS1kYXNoYXJyYXkiLCIiKTtlLmxpbmVDYXAmJkFiKHQsInN0cm9rZS1saW5lY2FwIixlLmxpbmVDYXApLGUubGluZUpvaW4mJkFiKHQsInN0cm9rZS1saW5lam9pbiIsZS5saW5lSm9pbiksZS5taXRlckxpbWl0JiZBYih0LCJzdHJva2UtbWl0ZXJsaW1pdCIsZS5taXRlckxpbWl0KyIiKX1lbHNlIEFiKHQsInN0cm9rZSIsdmIpfX12YXIga2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2Q9W10sdGhpcy5fc3RyPSIifSx0LnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXt0aGlzLl9hZGQoIk0iLHQsZSl9LHQucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZCgiTCIsdCxlKX0sdC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dGhpcy5fYWRkKCJDIix0LGUsbixpLHIsbyl9LHQucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fYWRkKCJRIix0LGUsbixpKX0sdC5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt0aGlzLmVsbGlwc2UodCxlLG4sbiwwLGkscixvKX0sdC5wcm90b3R5cGUuZWxsaXBzZT1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe3ZhciBsPTA9PT10aGlzLl9kLmxlbmd0aCx1PWEtbyxoPSFzLGM9TWF0aC5hYnModSkscD1DYihjLXdiKXx8KGg/dT49d2I6LXU+PXdiKSxkPXU+MD91JXdiOnUld2Ird2IsZj0hMTtmPSEhcHx8IUNiKGMpJiZkPj1iYj09ISFoO3ZhciBnPVRiKHQrbip4YihvKSkseT1UYihlK2kqX2IobykpO3AmJih1PWg/d2ItMWUtNDoxZS00LXdiLGY9ITAsbCYmdGhpcy5fZC5wdXNoKCJNIixnLHkpKTt2YXIgdj1UYih0K24qeGIobyt1KSksbT1UYihlK2kqX2Iobyt1KSk7aWYoaXNOYU4oZyl8fGlzTmFOKHkpfHxpc05hTihuKXx8aXNOYU4oaSl8fGlzTmFOKHIpfHxpc05hTihTYil8fGlzTmFOKHYpfHxpc05hTihtKSlyZXR1cm4iIjt0aGlzLl9kLnB1c2goIkEiLFRiKG4pLFRiKGkpLG1iKHIqU2IpLCtmLCtoLHYsbSl9LHQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fYWRkKCJNIix0LGUpLHRoaXMuX2FkZCgiTCIsdCtuLGUpLHRoaXMuX2FkZCgiTCIsdCtuLGUraSksdGhpcy5fYWRkKCJMIix0LGUraSksdGhpcy5fYWRkKCJMIix0LGUpfSx0LnByb3RvdHlwZS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLl9kLmxlbmd0aD4wJiZ0aGlzLl9hZGQoIloiKX0sdC5wcm90b3R5cGUuX2FkZD1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7dGhpcy5fZC5wdXNoKHQpO2Zvcih2YXIgdT0xO3U8YXJndW1lbnRzLmxlbmd0aDt1Kyspe3ZhciBoPWFyZ3VtZW50c1t1XTtpZihpc05hTihoKSlyZXR1cm4gdm9pZCh0aGlzLl9pbnZhbGlkPSEwKTt0aGlzLl9kLnB1c2goVGIoaCkpfX0sdC5wcm90b3R5cGUuZ2VuZXJhdGVTdHI9ZnVuY3Rpb24oKXt0aGlzLl9zdHI9dGhpcy5faW52YWxpZD8iIjp0aGlzLl9kLmpvaW4oIiAiKSx0aGlzLl9kPVtdfSx0LnByb3RvdHlwZS5nZXRTdHI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RyfSx0fSgpLFBiPXticnVzaDpmdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49dC5fX3N2Z0VsO258fChuPXBiKCJwYXRoIiksdC5fX3N2Z0VsPW4pLHQucGF0aHx8dC5jcmVhdGVQYXRoUHJveHkoKTt2YXIgaT10LnBhdGg7dC5zaGFwZUNoYW5nZWQoKSYmKGkuYmVnaW5QYXRoKCksdC5idWlsZFBhdGgoaSx0LnNoYXBlKSx0LnBhdGhVcGRhdGVkKCkpO3ZhciByPWkuZ2V0VmVyc2lvbigpLG89dCxhPW8uX19zdmdQYXRoQnVpbGRlcjsoby5fX3N2Z1BhdGhWZXJzaW9uIT09cnx8IWF8fHQuc3R5bGUuc3Ryb2tlUGVyY2VudDwxKSYmKGF8fChhPW8uX19zdmdQYXRoQnVpbGRlcj1uZXcga2IpLGEucmVzZXQoKSxpLnJlYnVpbGRQYXRoKGEsdC5zdHlsZS5zdHJva2VQZXJjZW50KSxhLmdlbmVyYXRlU3RyKCksby5fX3N2Z1BhdGhWZXJzaW9uPXIpLEFiKG4sImQiLGEuZ2V0U3RyKCkpLExiKG4sZSx0KSxEYihuLHQudHJhbnNmb3JtKX19LE9iPXticnVzaDpmdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49ZS5pbWFnZTtpZihuIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9uPW4uc3JjOm4gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCYmKG49bi50b0RhdGFVUkwoKSksbil7dmFyIGk9ZS54fHwwLHI9ZS55fHwwLG89ZS53aWR0aCxhPWUuaGVpZ2h0LHM9dC5fX3N2Z0VsO3N8fChzPXBiKCJpbWFnZSIpLHQuX19zdmdFbD1zKSxuIT09dC5fX2ltYWdlU3JjJiYoIWZ1bmN0aW9uKHQsZSxuKXt0LnNldEF0dHJpYnV0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixlLG4pfShzLCJocmVmIixuKSx0Ll9faW1hZ2VTcmM9biksQWIocywid2lkdGgiLG8rIiIpLEFiKHMsImhlaWdodCIsYSsiIiksQWIocywieCIsaSsiIiksQWIocywieSIscisiIiksTGIocyxlLHQpLERiKHMsdC50cmFuc2Zvcm0pfX19LFJiPXtsZWZ0OiJzdGFydCIscmlnaHQ6ImVuZCIsY2VudGVyOiJtaWRkbGUiLG1pZGRsZToibWlkZGxlIn07dmFyIE5iPXticnVzaDpmdW5jdGlvbih0KXt2YXIgZT10LnN0eWxlLG49ZS50ZXh0O2lmKG51bGwhPW4mJihuKz0iIiksbiYmIWlzTmFOKGUueCkmJiFpc05hTihlLnkpKXt2YXIgaT10Ll9fc3ZnRWw7aXx8KGZ1bmN0aW9uKHQsZSxuKXt0LnNldEF0dHJpYnV0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UiLGUsbil9KGk9cGIoInRleHQiKSwieG1sOnNwYWNlIiwicHJlc2VydmUiKSx0Ll9fc3ZnRWw9aSk7dmFyIHI9ZS5mb250fHx2aTtpLnN0eWxlLmZvbnQ9cixpLnRleHRDb250ZW50PW4sTGIoaSxlLHQpLERiKGksdC50cmFuc2Zvcm0pO3ZhciBvPWUueHx8MCxhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4idG9wIj09PW4/dCs9ZS8yOiJib3R0b20iPT09biYmKHQtPWUvMiksdH0oZS55fHwwLE1pKHIpLGUudGV4dEJhc2VsaW5lKSxzPVJiW2UudGV4dEFsaWduXXx8ZS50ZXh0QWxpZ247QWIoaSwiZG9taW5hbnQtYmFzZWxpbmUiLCJjZW50cmFsIiksQWIoaSwidGV4dC1hbmNob3IiLHMpLEFiKGksIngiLG8rIiIpLEFiKGksInkiLGErIiIpfX19LHpiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLHIpe3RoaXMubmV4dElkPTAsdGhpcy5fZG9tTmFtZT0iX2RvbSIsdGhpcy5jcmVhdGVFbGVtZW50PXBiLHRoaXMuX3pySWQ9dCx0aGlzLl9zdmdSb290PWUsdGhpcy5fdGFnTmFtZXM9InN0cmluZyI9PXR5cGVvZiBuP1tuXTpuLHRoaXMuX21hcmtMYWJlbD1pLHImJih0aGlzLl9kb21OYW1lPXIpfXJldHVybiB0LnByb3RvdHlwZS5nZXREZWZzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N2Z1Jvb3Qsbj10aGlzLl9zdmdSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIik7aWYoMD09PW4ubGVuZ3RoKXtpZih0KXt2YXIgaT1lLmluc2VydEJlZm9yZSh0aGlzLmNyZWF0ZUVsZW1lbnQoImRlZnMiKSxlLmZpcnN0Q2hpbGQpO3JldHVybiBpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaX1yZXR1cm4gbnVsbH1yZXR1cm4gblswXX0sdC5wcm90b3R5cGUuZG9VcGRhdGU9ZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgbj10aGlzLmdldERlZnMoITEpO2lmKHRbdGhpcy5fZG9tTmFtZV0mJm4uY29udGFpbnModFt0aGlzLl9kb21OYW1lXSkpImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUodCk7ZWxzZXt2YXIgaT10aGlzLmFkZCh0KTtpJiYodFt0aGlzLl9kb21OYW1lXT1pKX19fSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmFkZERvbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERlZnMoITApO3QucGFyZW50Tm9kZSE9PWUmJmUuYXBwZW5kQ2hpbGQodCl9LHQucHJvdG90eXBlLnJlbW92ZURvbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERlZnMoITEpO2UmJnRbdGhpcy5fZG9tTmFtZV0mJihlLnJlbW92ZUNoaWxkKHRbdGhpcy5fZG9tTmFtZV0pLHRbdGhpcy5fZG9tTmFtZV09bnVsbCl9LHQucHJvdG90eXBlLmdldERvbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERlZnMoITEpO2lmKCF0KXJldHVybltdO3ZhciBlPVtdO3JldHVybiBQKHRoaXMuX3RhZ05hbWVzLChmdW5jdGlvbihuKXtmb3IodmFyIGk9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSxyPTA7cjxpLmxlbmd0aDtyKyspZS5wdXNoKGlbcl0pfSkpLGV9LHQucHJvdG90eXBlLm1hcmtBbGxVbnVzZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERvbXMoKSxlPXRoaXM7UCh0LChmdW5jdGlvbih0KXt0W2UuX21hcmtMYWJlbF09IjAifSkpfSx0LnByb3RvdHlwZS5tYXJrRG9tVXNlZD1mdW5jdGlvbih0KXt0JiYodFt0aGlzLl9tYXJrTGFiZWxdPSIxIil9LHQucHJvdG90eXBlLm1hcmtEb21VbnVzZWQ9ZnVuY3Rpb24odCl7dCYmKHRbdGhpcy5fbWFya0xhYmVsXT0iMCIpfSx0LnByb3RvdHlwZS5pc0RvbVVudXNlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIjEiIT09dFt0aGlzLl9tYXJrTGFiZWxdfSx0LnByb3RvdHlwZS5yZW1vdmVVbnVzZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5nZXREZWZzKCExKTtlJiZQKHRoaXMuZ2V0RG9tcygpLChmdW5jdGlvbihuKXt0LmlzRG9tVW51c2VkKG4pJiZlLnJlbW92ZUNoaWxkKG4pfSkpfSx0LnByb3RvdHlwZS5nZXRTdmdQcm94eT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEthP1BiOnQgaW5zdGFuY2VvZiBlcz9PYjp0IGluc3RhbmNlb2YgSmE/TmI6UGJ9LHQucHJvdG90eXBlLmdldFN2Z0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zdmdFbH0sdH0oKTtmdW5jdGlvbiBFYih0KXtyZXR1cm4ibGluZWFyIj09PXQudHlwZX1mdW5jdGlvbiBWYih0KXtyZXR1cm4icmFkaWFsIj09PXQudHlwZX1mdW5jdGlvbiBCYih0KXtyZXR1cm4gdCYmKCJsaW5lYXIiPT09dC50eXBlfHwicmFkaWFsIj09PXQudHlwZSl9dmFyIEZiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLFsibGluZWFyR3JhZGllbnQiLCJyYWRpYWxHcmFkaWVudCJdLCJfX2dyYWRpZW50X2luX3VzZV9fIil8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmZS5zdHlsZSl7dmFyIG49dGhpcztQKFsiZmlsbCIsInN0cm9rZSJdLChmdW5jdGlvbihpKXt2YXIgcj1lLnN0eWxlW2ldO2lmKEJiKHIpKXt2YXIgbz1yLGE9bi5nZXREZWZzKCEwKSxzPXZvaWQgMDtvLl9fZG9tPyhzPW8uX19kb20sYS5jb250YWlucyhvLl9fZG9tKXx8bi5hZGREb20ocykpOnM9bi5hZGQobyksbi5tYXJrVXNlZChlKTt2YXIgbD1zLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnNldEF0dHJpYnV0ZShpLCJ1cmwoIyIrbCsiKSIpfX0pKX19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZTtpZihFYih0KSllPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZWFyR3JhZGllbnQiKTtlbHNle2lmKCFWYih0KSlyZXR1cm4gYigiSWxsZWdhbCBncmFkaWVudCB0eXBlLiIpLG51bGw7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInJhZGlhbEdyYWRpZW50Iil9cmV0dXJuIHQuaWQ9dC5pZHx8dGhpcy5uZXh0SWQrKyxlLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLWdyYWRpZW50LSIrdC5pZCksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYoQmIodCkpe3ZhciBlPXRoaXM7dGhpcy5kb1VwZGF0ZSh0LChmdW5jdGlvbigpe3ZhciBuPXQuX19kb207aWYobil7dmFyIGk9bi50YWdOYW1lLHI9dC50eXBlOyJsaW5lYXIiPT09ciYmImxpbmVhckdyYWRpZW50Ij09PWl8fCJyYWRpYWwiPT09ciYmInJhZGlhbEdyYWRpZW50Ij09PWk/ZS51cGRhdGVEb20odCx0Ll9fZG9tKTooZS5yZW1vdmVEb20odCksZS5hZGQodCkpfX0pKX19LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKEViKHQpKWUuc2V0QXR0cmlidXRlKCJ4MSIsdC54KyIiKSxlLnNldEF0dHJpYnV0ZSgieTEiLHQueSsiIiksZS5zZXRBdHRyaWJ1dGUoIngyIix0LngyKyIiKSxlLnNldEF0dHJpYnV0ZSgieTIiLHQueTIrIiIpO2Vsc2V7aWYoIVZiKHQpKXJldHVybiB2b2lkIGIoIklsbGVnYWwgZ3JhZGllbnQgdHlwZS4iKTtlLnNldEF0dHJpYnV0ZSgiY3giLHQueCsiIiksZS5zZXRBdHRyaWJ1dGUoImN5Iix0LnkrIiIpLGUuc2V0QXR0cmlidXRlKCJyIix0LnIrIiIpfXQuZ2xvYmFsP2Uuc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwidXNlclNwYWNlT25Vc2UiKTplLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsIm9iamVjdEJvdW5kaW5nQm94IiksZS5pbm5lckhUTUw9IiI7Zm9yKHZhciBuPXQuY29sb3JTdG9wcyxpPTAscj1uLmxlbmd0aDtpPHI7KytpKXt2YXIgbz10aGlzLmNyZWF0ZUVsZW1lbnQoInN0b3AiKTtvLnNldEF0dHJpYnV0ZSgib2Zmc2V0IiwxMDAqbltpXS5vZmZzZXQrIiUiKTt2YXIgYT1uW2ldLmNvbG9yO2lmKGEuaW5kZXhPZigicmdiYSIpPi0xKXt2YXIgcz1IZShhKVszXSxsPVhlKGEpO28uc2V0QXR0cmlidXRlKCJzdG9wLWNvbG9yIiwiIyIrbCksby5zZXRBdHRyaWJ1dGUoInN0b3Atb3BhY2l0eSIscysiIil9ZWxzZSBvLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsbltpXS5jb2xvcik7ZS5hcHBlbmRDaGlsZChvKX10Ll9fZG9tPWV9LGUucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKGUpe2lmKGUuc3R5bGUpe3ZhciBuPWUuc3R5bGUuZmlsbDtuJiZuLl9fZG9tJiZ0LnByb3RvdHlwZS5tYXJrRG9tVXNlZC5jYWxsKHRoaXMsbi5fX2RvbSksKG49ZS5zdHlsZS5zdHJva2UpJiZuLl9fZG9tJiZ0LnByb3RvdHlwZS5tYXJrRG9tVXNlZC5jYWxsKHRoaXMsbi5fX2RvbSl9fSxlfSh6Yik7ZnVuY3Rpb24gR2IodCl7cmV0dXJuIHQmJighIXQuaW1hZ2V8fCEhdC5zdmdFbGVtZW50KX12YXIgSGI9bmV3IG95LFdiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLFsicGF0dGVybiJdLCJfX3BhdHRlcm5faW5fdXNlX18iKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmFkZFdpdGhvdXRVcGRhdGU9ZnVuY3Rpb24odCxlKXtpZihlJiZlLnN0eWxlKXt2YXIgbj10aGlzO1AoWyJmaWxsIiwic3Ryb2tlIl0sKGZ1bmN0aW9uKGkpe3ZhciByPWUuc3R5bGVbaV07aWYoR2Iocikpe3ZhciBvPW4uZ2V0RGVmcyghMCksYT1IYi5nZXQocik7YT9vLmNvbnRhaW5zKGEpfHxuLmFkZERvbShhKTphPW4uYWRkKHIpLG4ubWFya1VzZWQoZSk7dmFyIHM9YS5nZXRBdHRyaWJ1dGUoImlkIik7dC5zZXRBdHRyaWJ1dGUoaSwidXJsKCMiK3MrIikiKX19KSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7aWYoR2IodCkpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgicGF0dGVybiIpO3JldHVybiB0LmlkPW51bGw9PXQuaWQ/dGhpcy5uZXh0SWQrKzp0LmlkLGUuc2V0QXR0cmlidXRlKCJpZCIsInpyIit0aGlzLl96cklkKyItcGF0dGVybi0iK3QuaWQpLGUuc2V0QXR0cmlidXRlKCJ4IiwiMCIpLGUuc2V0QXR0cmlidXRlKCJ5IiwiMCIpLGUuc2V0QXR0cmlidXRlKCJwYXR0ZXJuVW5pdHMiLCJ1c2VyU3BhY2VPblVzZSIpLHRoaXMudXBkYXRlRG9tKHQsZSksdGhpcy5hZGREb20oZSksZX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZihHYih0KSl7dmFyIGU9dGhpczt0aGlzLmRvVXBkYXRlKHQsKGZ1bmN0aW9uKCl7dmFyIG49SGIuZ2V0KHQpO2UudXBkYXRlRG9tKHQsbil9KSl9fSxlLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlKXt2YXIgbj10LnN2Z0VsZW1lbnQ7aWYobiBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpbi5wYXJlbnROb2RlIT09ZSYmKGUuaW5uZXJIVE1MPSIiLGUuYXBwZW5kQ2hpbGQobiksZS5zZXRBdHRyaWJ1dGUoIndpZHRoIix0LnN2Z1dpZHRoKyIiKSxlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0LnN2Z0hlaWdodCsiIikpO2Vsc2V7dmFyIGk9dm9pZCAwLHI9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1hZ2UiKTtpZihyLmxlbmd0aCl7aWYoIXQuaW1hZ2UpcmV0dXJuIHZvaWQgZS5yZW1vdmVDaGlsZChyWzBdKTtpPXJbMF19ZWxzZSB0LmltYWdlJiYoaT10aGlzLmNyZWF0ZUVsZW1lbnQoImltYWdlIikpO2lmKGkpe3ZhciBvPXZvaWQgMCxhPXQuaW1hZ2U7aWYoInN0cmluZyI9PXR5cGVvZiBhP289YTphIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9vPWEuc3JjOmEgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCYmKG89YS50b0RhdGFVUkwoKSksbyl7aS5zZXRBdHRyaWJ1dGUoImhyZWYiLG8pLGkuc2V0QXR0cmlidXRlKCJ4IiwiMCIpLGkuc2V0QXR0cmlidXRlKCJ5IiwiMCIpO3ZhciBzPW5vKG8saSx7ZGlydHk6ZnVuY3Rpb24oKXt9fSwoZnVuY3Rpb24odCl7ZS5zZXRBdHRyaWJ1dGUoIndpZHRoIix0LndpZHRoKyIiKSxlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0LmhlaWdodCsiIil9KSk7cyYmcy53aWR0aCYmcy5oZWlnaHQmJihlLnNldEF0dHJpYnV0ZSgid2lkdGgiLHMud2lkdGgrIiIpLGUuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHMuaGVpZ2h0KyIiKSksZS5hcHBlbmRDaGlsZChpKX19fXZhciBsPSJ0cmFuc2xhdGUoIisodC54fHwwKSsiLCAiKyh0Lnl8fDApKyIpIHJvdGF0ZSgiKyh0LnJvdGF0aW9ufHwwKS9NYXRoLlBJKjE4MCsiKSBzY2FsZSgiKyh0LnNjYWxlWHx8MSkrIiwgIisodC5zY2FsZVl8fDEpKyIpIjtlLnNldEF0dHJpYnV0ZSgicGF0dGVyblRyYW5zZm9ybSIsbCksSGIuc2V0KHQsZSl9LGUucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKGUpe2Uuc3R5bGUmJihHYihlLnN0eWxlLmZpbGwpJiZ0LnByb3RvdHlwZS5tYXJrRG9tVXNlZC5jYWxsKHRoaXMsSGIuZ2V0KGUuc3R5bGUuZmlsbCkpLEdiKGUuc3R5bGUuc3Ryb2tlKSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLEhiLmdldChlLnN0eWxlLnN0cm9rZSkpKX0sZX0oemIpO2Z1bmN0aW9uIFViKHQpe3ZhciBlPXQuX19jbGlwUGF0aHM7cmV0dXJuIGUmJmUubGVuZ3RoPjB9dmFyIFhiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4sImNsaXBQYXRoIiwiX19jbGlwcGF0aF9pbl91c2VfXyIpfHx0aGlzO3JldHVybiBpLl9yZWZHcm91cHM9e30saS5fa2V5RHVwbGljYXRlQ291bnQ9e30saX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm1hcmtBbGxVbnVzZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdC5wcm90b3R5cGUubWFya0FsbFVudXNlZC5jYWxsKHRoaXMpLHRoaXMuX3JlZkdyb3Vwcyl0aGlzLm1hcmtEb21VbnVzZWQodGhpcy5fcmVmR3JvdXBzW2VdKTt0aGlzLl9rZXlEdXBsaWNhdGVDb3VudD17fX0sZS5wcm90b3R5cGUuX2dldENsaXBQYXRoR3JvdXA9ZnVuY3Rpb24odCxlKXtpZihVYih0KSl7dmFyIG49dC5fX2NsaXBQYXRocyxpPXRoaXMuX2tleUR1cGxpY2F0ZUNvdW50LHI9ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtlLnB1c2goaS5pZCl9cmV0dXJuIGUuam9pbigiLCIpfShuKTtyZXR1cm4geXkobixlJiZlLl9fY2xpcFBhdGhzKSYmKGlbcl09aVtyXXx8MCxpW3JdJiYocis9Ii0iK2lbcl0pLGlbcl0rKyksdGhpcy5fcmVmR3JvdXBzW3JdfHwodGhpcy5fcmVmR3JvdXBzW3JdPXRoaXMuY3JlYXRlRWxlbWVudCgiZyIpKX19LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2dldENsaXBQYXRoR3JvdXAodCxlKTtyZXR1cm4gbiYmKHRoaXMubWFya0RvbVVzZWQobiksdGhpcy51cGRhdGVEb20obix0Ll9fY2xpcFBhdGhzKSksbn0sZS5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSl7aWYoZSYmZS5sZW5ndGg+MCl7dmFyIG49dGhpcy5nZXREZWZzKCEwKSxpPWVbMF0scj12b2lkIDAsbz12b2lkIDA7aS5fZG9tPyhvPWkuX2RvbS5nZXRBdHRyaWJ1dGUoImlkIikscj1pLl9kb20sbi5jb250YWlucyhyKXx8bi5hcHBlbmRDaGlsZChyKSk6KG89InpyIit0aGlzLl96cklkKyItY2xpcC0iK3RoaXMubmV4dElkLCsrdGhpcy5uZXh0SWQsKHI9dGhpcy5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIpKS5zZXRBdHRyaWJ1dGUoImlkIixvKSxuLmFwcGVuZENoaWxkKHIpLGkuX2RvbT1yKSx0aGlzLmdldFN2Z1Byb3h5KGkpLmJydXNoKGkpO3ZhciBhPXRoaXMuZ2V0U3ZnRWxlbWVudChpKTtyLmlubmVySFRNTD0iIixyLmFwcGVuZENoaWxkKGEpLHQuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrbysiKSIpLGUubGVuZ3RoPjEmJnRoaXMudXBkYXRlRG9tKHIsZS5zbGljZSgxKSl9ZWxzZSB0JiZ0LnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwibm9uZSIpfSxlLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO2UuX19jbGlwUGF0aHMmJlAoZS5fX2NsaXBQYXRocywoZnVuY3Rpb24oZSl7ZS5fZG9tJiZ0LnByb3RvdHlwZS5tYXJrRG9tVXNlZC5jYWxsKG4sZS5fZG9tKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlVW51c2VkPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVtb3ZlVW51c2VkLmNhbGwodGhpcyk7dmFyIGU9e307Zm9yKHZhciBuIGluIHRoaXMuX3JlZkdyb3Vwcyl7dmFyIGk9dGhpcy5fcmVmR3JvdXBzW25dO3RoaXMuaXNEb21VbnVzZWQoaSk/aS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk6ZVtuXT1pfXRoaXMuX3JlZkdyb3Vwcz1lfSxlfSh6YiksWWI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbixbImZpbHRlciJdLCJfX2ZpbHRlcl9pbl91c2VfXyIsIl9zaGFkb3dEb20iKXx8dGhpcztyZXR1cm4gaS5fc2hhZG93RG9tTWFwPXt9LGkuX3NoYWRvd0RvbVBvb2w9W10saX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9nZXRGcm9tUG9vbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NoYWRvd0RvbVBvb2wucG9wKCk7aWYoIXQpeyh0PXRoaXMuY3JlYXRlRWxlbWVudCgiZmlsdGVyIikpLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLXNoYWRvdy0iK3RoaXMubmV4dElkKyspO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgiZmVEcm9wU2hhZG93Iik7dC5hcHBlbmRDaGlsZChlKSx0aGlzLmFkZERvbSh0KX1yZXR1cm4gdH0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0LnNoYWRvd0JsdXJ8fHQuc2hhZG93T2Zmc2V0WHx8dC5zaGFkb3dPZmZzZXRZKX0oZS5zdHlsZSkpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsbj10LmdldEdsb2JhbFNjYWxlKCk7cmV0dXJuW2Uuc2hhZG93Q29sb3IsKGUuc2hhZG93Qmx1cnx8MCkudG9GaXhlZCgyKSwoZS5zaGFkb3dPZmZzZXRYfHwwKS50b0ZpeGVkKDIpLChlLnNoYWRvd09mZnNldFl8fDApLnRvRml4ZWQoMiksblswXSxuWzFdXS5qb2luKCIsIil9KGUpLGk9ZS5fc2hhZG93RG9tPXRoaXMuX3NoYWRvd0RvbU1hcFtuXTtpfHwoaT10aGlzLl9nZXRGcm9tUG9vbCgpLHRoaXMuX3NoYWRvd0RvbU1hcFtuXT1pKSx0aGlzLnVwZGF0ZURvbSh0LGUsaSl9ZWxzZSB0aGlzLnJlbW92ZSh0LGUpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtudWxsIT1lLl9zaGFkb3dEb20mJihlLl9zaGFkb3dEb209bnVsbCx0LnN0eWxlLmZpbHRlcj0iIil9LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUsbil7dmFyIGk9bi5jaGlsZHJlblswXSxyPWUuc3R5bGUsbz1lLmdldEdsb2JhbFNjYWxlKCksYT1vWzBdLHM9b1sxXTtpZihhJiZzKXt2YXIgbD1yLnNoYWRvd09mZnNldFh8fDAsdT1yLnNoYWRvd09mZnNldFl8fDAsaD1yLnNoYWRvd0JsdXIsYz1yLnNoYWRvd0NvbG9yO2kuc2V0QXR0cmlidXRlKCJkeCIsbC9hKyIiKSxpLnNldEF0dHJpYnV0ZSgiZHkiLHUvcysiIiksaS5zZXRBdHRyaWJ1dGUoImZsb29kLWNvbG9yIixjKTt2YXIgcD1oLzIvYSsiICIraC8yL3M7aS5zZXRBdHRyaWJ1dGUoInN0ZERldmlhdGlvbiIscCksbi5zZXRBdHRyaWJ1dGUoIngiLCItMTAwJSIpLG4uc2V0QXR0cmlidXRlKCJ5IiwiLTEwMCUiKSxuLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIzMDAlIiksbi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjMwMCUiKSxlLl9zaGFkb3dEb209bjt2YXIgZD1uLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnN0eWxlLmZpbHRlcj0idXJsKCMiK2QrIikifX0sZS5wcm90b3R5cGUucmVtb3ZlVW51c2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5nZXREZWZzKCExKSl7dmFyIHQ9dGhpcy5fc2hhZG93RG9tUG9vbDtmb3IodmFyIGUgaW4gdGhpcy5fc2hhZG93RG9tTWFwKXt2YXIgbj10aGlzLl9zaGFkb3dEb21NYXBbZV07dC5wdXNoKG4pfXRoaXMuX3NoYWRvd0RvbU1hcD17fX19LGV9KHpiKTtmdW5jdGlvbiBaYih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gamIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBLYT9QYjp0IGluc3RhbmNlb2YgZXM/T2I6dCBpbnN0YW5jZW9mIEphP05iOlBifWZ1bmN0aW9uIHFiKHQsZSl7cmV0dXJuIGUmJnQmJmUucGFyZW50Tm9kZSE9PXR9ZnVuY3Rpb24gS2IodCxlLG4pe2lmKHFiKHQsZSkmJm4pe3ZhciBpPW4ubmV4dFNpYmxpbmc7aT90Lmluc2VydEJlZm9yZShlLGkpOnQuYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uICRiKHQsZSl7aWYocWIodCxlKSl7dmFyIG49dC5maXJzdENoaWxkO24/dC5pbnNlcnRCZWZvcmUoZSxuKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBKYih0LGUpe2UmJnQmJmUucGFyZW50Tm9kZT09PXQmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gUWIodCl7cmV0dXJuIHQuX19zdmdFbH12YXIgdHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMudHlwZT0ic3ZnIix0aGlzLnJlZnJlc2hIb3Zlcj1ldygicmVmcmVzaEhvdmVyIiksdGhpcy5wYXRoVG9JbWFnZT1ldygicGF0aFRvSW1hZ2UiKSx0aGlzLmNvbmZpZ0xheWVyPWV3KCJjb25maWdMYXllciIpLHRoaXMucm9vdD10LHRoaXMuc3RvcmFnZT1lLHRoaXMuX29wdHM9bj1JKHt9LG58fHt9KTt2YXIgcj1wYigic3ZnIik7ci5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8iLCJ4bWxucyIsImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiksci5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8iLCJ4bWxuczp4bGluayIsImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiKSxyLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpLHIuc2V0QXR0cmlidXRlKCJiYXNlUHJvZmlsZSIsImZ1bGwiKSxyLnN0eWxlLmNzc1RleHQ9InVzZXItc2VsZWN0Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowOyI7dmFyIG89cGIoImciKTtyLmFwcGVuZENoaWxkKG8pO3ZhciBhPXBiKCJnIik7ci5hcHBlbmRDaGlsZChhKSx0aGlzLl9ncmFkaWVudE1hbmFnZXI9bmV3IEZiKGksYSksdGhpcy5fcGF0dGVybk1hbmFnZXI9bmV3IFdiKGksYSksdGhpcy5fY2xpcFBhdGhNYW5hZ2VyPW5ldyBYYihpLGEpLHRoaXMuX3NoYWRvd01hbmFnZXI9bmV3IFliKGksYSk7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cy5zdHlsZS5jc3NUZXh0PSJvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmUiLHRoaXMuX3N2Z0RvbT1yLHRoaXMuX3N2Z1Jvb3Q9YSx0aGlzLl9iYWNrZ3JvdW5kUm9vdD1vLHRoaXMuX3ZpZXdwb3J0PXMsdC5hcHBlbmRDaGlsZChzKSxzLmFwcGVuZENoaWxkKHIpLHRoaXMucmVzaXplKG4ud2lkdGgsbi5oZWlnaHQpLHRoaXMuX3Zpc2libGVMaXN0PVtdfXJldHVybiB0LnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuInN2ZyJ9LHQucHJvdG90eXBlLmdldFZpZXdwb3J0Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydH0sdC5wcm90b3R5cGUuZ2V0U3ZnRG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N2Z0RvbX0sdC5wcm90b3R5cGUuZ2V0U3ZnUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdmdSb290fSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3RPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoITApO3RoaXMuX3BhaW50TGlzdCh0KX0sdC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3RoaXMuX2JhY2tncm91bmRSb290JiZ0aGlzLl9iYWNrZ3JvdW5kTm9kZSYmdGhpcy5fYmFja2dyb3VuZFJvb3QucmVtb3ZlQ2hpbGQodGhpcy5fYmFja2dyb3VuZE5vZGUpO3ZhciBlPXBiKCJyZWN0Iik7ZS5zZXRBdHRyaWJ1dGUoIndpZHRoIix0aGlzLmdldFdpZHRoKCkpLGUuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHRoaXMuZ2V0SGVpZ2h0KCkpLGUuc2V0QXR0cmlidXRlKCJ4IiwwKSxlLnNldEF0dHJpYnV0ZSgieSIsMCksZS5zZXRBdHRyaWJ1dGUoImlkIiwwKSxlLnN0eWxlLmZpbGw9dCx0aGlzLl9iYWNrZ3JvdW5kUm9vdC5hcHBlbmRDaGlsZChlKSx0aGlzLl9iYWNrZ3JvdW5kTm9kZT1lfSx0LnByb3RvdHlwZS5jcmVhdGVTVkdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBwYih0KX0sdC5wcm90b3R5cGUucGFpbnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9amIodCk7cmV0dXJuIGUmJmUuYnJ1c2godCksUWIodCl9LHQucHJvdG90eXBlLl9wYWludExpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ3JhZGllbnRNYW5hZ2VyLG49dGhpcy5fcGF0dGVybk1hbmFnZXIsaT10aGlzLl9jbGlwUGF0aE1hbmFnZXIscj10aGlzLl9zaGFkb3dNYW5hZ2VyO2UubWFya0FsbFVudXNlZCgpLG4ubWFya0FsbFVudXNlZCgpLGkubWFya0FsbFVudXNlZCgpLHIubWFya0FsbFVudXNlZCgpO2Zvcih2YXIgbz10aGlzLl9zdmdSb290LGE9dGhpcy5fdmlzaWJsZUxpc3Qscz10Lmxlbmd0aCxsPVtdLHU9MDt1PHM7dSsrKXt2YXIgaD1qYih4PXRbdV0pLGM9UWIoeCk7eC5pbnZpc2libGV8fCgheC5fX2RpcnR5JiZjfHwoaCYmaC5icnVzaCh4KSwoYz1RYih4KSkmJnguc3R5bGUmJihlLnVwZGF0ZSh4LnN0eWxlLmZpbGwpLGUudXBkYXRlKHguc3R5bGUuc3Ryb2tlKSxuLnVwZGF0ZSh4LnN0eWxlLmZpbGwpLG4udXBkYXRlKHguc3R5bGUuc3Ryb2tlKSxyLnVwZGF0ZShjLHgpKSx4Ll9fZGlydHk9MCksYyYmbC5wdXNoKHgpKX12YXIgcCxkLGYsZyx5LHY9eWIoYSxsKTtmb3IodT0wO3U8di5sZW5ndGg7dSsrKXtpZigoXz12W3VdKS5yZW1vdmVkKWZvcih2YXIgbT0wO208Xy5jb3VudDttKyspe2M9UWIoeD1hW18uaW5kaWNlc1ttXV0pO1ViKHgpPyhmPWMpJiZmLnBhcmVudE5vZGUmJmYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKTpKYihvLGMpfX1mb3IodT0wO3U8di5sZW5ndGg7dSsrKXt2YXIgXztpZighKF89dlt1XSkucmVtb3ZlZClmb3IobT0wO208Xy5jb3VudDttKyspe3ZhciB4PWxbXy5pbmRpY2VzW21dXSxiPWkudXBkYXRlKHgsZyk7YiE9PXkmJihwPWQsYiYmKHA/S2IobyxiLHApOiRiKG8sYiksZD1iLHA9bnVsbCkseT1iKTtjPVFiKHgpO3A/S2IoeXx8byxjLHApOiRiKHl8fG8sYykscD1jfHxwLHl8fChkPXApLGUubWFya1VzZWQoeCksZS5hZGRXaXRob3V0VXBkYXRlKGMseCksbi5tYXJrVXNlZCh4KSxuLmFkZFdpdGhvdXRVcGRhdGUoYyx4KSxpLm1hcmtVc2VkKHgpLGc9eH19ZS5yZW1vdmVVbnVzZWQoKSxuLnJlbW92ZVVudXNlZCgpLGkucmVtb3ZlVW51c2VkKCksci5yZW1vdmVVbnVzZWQoKSx0aGlzLl92aXNpYmxlTGlzdD1sfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl92aWV3cG9ydDtuLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBpPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKGkud2lkdGg9dCksbnVsbCE9ZSYmKGkuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksbi5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8dGhpcy5faGVpZ2h0IT09ZSl7dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZTt2YXIgcj1uLnN0eWxlO3Iud2lkdGg9dCsicHgiLHIuaGVpZ2h0PWUrInB4Ijt2YXIgbz10aGlzLl9zdmdEb207by5zZXRBdHRyaWJ1dGUoIndpZHRoIix0KyIiKSxvLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKyIiKX10aGlzLl9iYWNrZ3JvdW5kTm9kZSYmKHRoaXMuX2JhY2tncm91bmROb2RlLnNldEF0dHJpYnV0ZSgid2lkdGgiLHQpLHRoaXMuX2JhY2tncm91bmROb2RlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKSl9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSx0LnByb3RvdHlwZS5fZ2V0U2l6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRzLG49WyJ3aWR0aCIsImhlaWdodCJdW3RdLGk9WyJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCJdW3RdLHI9WyJwYWRkaW5nTGVmdCIsInBhZGRpbmdUb3AiXVt0XSxvPVsicGFkZGluZ1JpZ2h0IiwicGFkZGluZ0JvdHRvbSJdW3RdO2lmKG51bGwhPWVbbl0mJiJhdXRvIiE9PWVbbl0pcmV0dXJuIHBhcnNlRmxvYXQoZVtuXSk7dmFyIGE9dGhpcy5yb290LHM9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4oYVtpXXx8WmIoc1tuXSl8fFpiKGEuc3R5bGVbbl0pKS0oWmIoc1tyXSl8fDApLShaYihzW29dKXx8MCl8MH0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9IiIsdGhpcy5fc3ZnUm9vdD10aGlzLl9iYWNrZ3JvdW5kUm9vdD10aGlzLl9zdmdEb209dGhpcy5fYmFja2dyb3VuZE5vZGU9dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlld3BvcnQ7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LHQucHJvdG90eXBlLnRvRGF0YVVSTD1mdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpO3ZhciB0PXRoaXMuX3N2Z0RvbSxlPXQub3V0ZXJIVE1MfHwodC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUpLmlubmVySFRNTDtyZXR1cm4iZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsIitlbmNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8+PC9nLCI+XG5ccjwiKSl9LHR9KCk7ZnVuY3Rpb24gZXcodCl7cmV0dXJuIGZ1bmN0aW9uKCl7YignSW4gU1ZHIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX1mdW5jdGlvbiBudygpe3JldHVybiExfWZ1bmN0aW9uIGl3KHQsZSxuKXt2YXIgaT1DKCkscj1lLmdldFdpZHRoKCksbz1lLmdldEhlaWdodCgpLGE9aS5zdHlsZTtyZXR1cm4gYSYmKGEucG9zaXRpb249ImFic29sdXRlIixhLmxlZnQ9IjAiLGEudG9wPSIwIixhLndpZHRoPXIrInB4IixhLmhlaWdodD1vKyJweCIsaS5zZXRBdHRyaWJ1dGUoImRhdGEtenItZG9tLWlkIix0KSksaS53aWR0aD1yKm4saS5oZWlnaHQ9bypuLGl9dmFyIHJ3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByLG89dC5jYWxsKHRoaXMpfHx0aGlzO28ubW90aW9uQmx1cj0hMSxvLmxhc3RGcmFtZUFscGhhPS43LG8uZHByPTEsby52aXJ0dWFsPSExLG8uY29uZmlnPXt9LG8uaW5jcmVtZW50YWw9ITEsby56bGV2ZWw9MCxvLm1heFJlcGFpbnRSZWN0Q291bnQ9NSxvLl9fZGlydHk9ITAsby5fX2ZpcnN0VGltZVBhaW50PSEwLG8uX191c2VkPSExLG8uX19kcmF3SW5kZXg9MCxvLl9fc3RhcnRJbmRleD0wLG8uX19lbmRJbmRleD0wLG8uX19wcmV2U3RhcnRJbmRleD1udWxsLG8uX19wcmV2RW5kSW5kZXg9bnVsbCxpPWl8fEVuLCJzdHJpbmciPT10eXBlb2YgZT9yPWl3KGUsbixpKTpYKGUpJiYoZT0ocj1lKS5pZCksby5pZD1lLG8uZG9tPXI7dmFyIGE9ci5zdHlsZTtyZXR1cm4gYSYmKHIub25zZWxlY3RzdGFydD1udyxhLndlYmtpdFVzZXJTZWxlY3Q9Im5vbmUiLGEudXNlclNlbGVjdD0ibm9uZSIsYS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0icmdiYSgwLDAsMCwwKSIsYVsiLXdlYmtpdC10b3VjaC1jYWxsb3V0Il09Im5vbmUiLGEucGFkZGluZz0iMCIsYS5tYXJnaW49IjAiLGEuYm9yZGVyV2lkdGg9IjAiKSxvLmRvbUJhY2s9bnVsbCxvLmN0eEJhY2s9bnVsbCxvLnBhaW50ZXI9bixvLmNvbmZpZz1udWxsLG8uZHByPWksb31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEVsZW1lbnRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZW5kSW5kZXgtdGhpcy5fX3N0YXJ0SW5kZXh9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt0aGlzLl9fcHJldlN0YXJ0SW5kZXg9dGhpcy5fX3N0YXJ0SW5kZXgsdGhpcy5fX3ByZXZFbmRJbmRleD10aGlzLl9fZW5kSW5kZXh9LGUucHJvdG90eXBlLmluaXRDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5jdHg9dGhpcy5kb20uZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5kcHI9dGhpcy5kcHJ9LGUucHJvdG90eXBlLnNldFVucGFpbnRlZD1mdW5jdGlvbigpe3RoaXMuX19maXJzdFRpbWVQYWludD0hMH0sZS5wcm90b3R5cGUuY3JlYXRlQmFja0J1ZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1pdygiYmFjay0iK3RoaXMuaWQsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dCgiMmQiKSwxIT09dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LGUucHJvdG90eXBlLmNyZWF0ZVJlcGFpbnRSZWN0cz1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLl9fZmlyc3RUaW1lUGFpbnQpcmV0dXJuIHRoaXMuX19maXJzdFRpbWVQYWludD0hMSxudWxsO3ZhciByLG89W10sYT10aGlzLm1heFJlcGFpbnRSZWN0Q291bnQscz0hMSxsPW5ldyBnaSgwLDAsMCwwKTtmdW5jdGlvbiB1KHQpe2lmKHQuaXNGaW5pdGUoKSYmIXQuaXNaZXJvKCkpaWYoMD09PW8ubGVuZ3RoKXsoZT1uZXcgZ2koMCwwLDAsMCkpLmNvcHkodCksby5wdXNoKGUpfWVsc2V7Zm9yKHZhciBlLG49ITEsaT0xLzAscj0wLHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGg9b1t1XTtpZihoLmludGVyc2VjdCh0KSl7dmFyIGM9bmV3IGdpKDAsMCwwLDApO2MuY29weShoKSxjLnVuaW9uKHQpLG9bdV09YyxuPSEwO2JyZWFrfWlmKHMpe2wuY29weSh0KSxsLnVuaW9uKGgpO3ZhciBwPXQud2lkdGgqdC5oZWlnaHQsZD1oLndpZHRoKmguaGVpZ2h0LGY9bC53aWR0aCpsLmhlaWdodC1wLWQ7ZjxpJiYoaT1mLHI9dSl9fWlmKHMmJihvW3JdLnVuaW9uKHQpLG49ITApLCFuKShlPW5ldyBnaSgwLDAsMCwwKSkuY29weSh0KSxvLnB1c2goZSk7c3x8KHM9by5sZW5ndGg+PWEpfX1mb3IodmFyIGg9dGhpcy5fX3N0YXJ0SW5kZXg7aDx0aGlzLl9fZW5kSW5kZXg7KytoKXtpZihkPXRbaF0pe3ZhciBjPWQuc2hvdWxkQmVQYWludGVkKG4saSwhMCwhMCk7KGY9ZC5fX2lzUmVuZGVyZWQmJigxJmQuX19kaXJ0eXx8IWMpP2QuZ2V0UHJldlBhaW50UmVjdCgpOm51bGwpJiZ1KGYpO3ZhciBwPWMmJigxJmQuX19kaXJ0eXx8IWQuX19pc1JlbmRlcmVkKT9kLmdldFBhaW50UmVjdCgpOm51bGw7cCYmdShwKX19Zm9yKGg9dGhpcy5fX3ByZXZTdGFydEluZGV4O2g8dGhpcy5fX3ByZXZFbmRJbmRleDsrK2gpe3ZhciBkLGY7Yz0oZD1lW2hdKS5zaG91bGRCZVBhaW50ZWQobixpLCEwLCEwKTtpZihkJiYoIWN8fCFkLl9fenIpJiZkLl9faXNSZW5kZXJlZCkoZj1kLmdldFByZXZQYWludFJlY3QoKSkmJnUoZil9ZG97cj0hMTtmb3IoaD0wO2g8by5sZW5ndGg7KWlmKG9baF0uaXNaZXJvKCkpby5zcGxpY2UoaCwxKTtlbHNle2Zvcih2YXIgZz1oKzE7ZzxvLmxlbmd0aDspb1toXS5pbnRlcnNlY3Qob1tnXSk/KHI9ITAsb1toXS51bmlvbihvW2ddKSxvLnNwbGljZShnLDEpKTpnKys7aCsrfX13aGlsZShyKTtyZXR1cm4gdGhpcy5fcGFpbnRSZWN0cz1vLG99LGUucHJvdG90eXBlLmRlYnVnR2V0UGFpbnRSZWN0cz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9wYWludFJlY3RzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kcHIsaT10aGlzLmRvbSxyPWkuc3R5bGUsbz10aGlzLmRvbUJhY2s7ciYmKHIud2lkdGg9dCsicHgiLHIuaGVpZ2h0PWUrInB4IiksaS53aWR0aD10Km4saS5oZWlnaHQ9ZSpuLG8mJihvLndpZHRoPXQqbixvLmhlaWdodD1lKm4sMSE9PW4mJnRoaXMuY3R4QmFjay5zY2FsZShuLG4pKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZG9tLHI9dGhpcy5jdHgsbz1pLndpZHRoLGE9aS5oZWlnaHQ7ZT1lfHx0aGlzLmNsZWFyQ29sb3I7dmFyIHM9dGhpcy5tb3Rpb25CbHVyJiYhdCxsPXRoaXMubGFzdEZyYW1lQWxwaGEsdT10aGlzLmRwcixoPXRoaXM7cyYmKHRoaXMuZG9tQmFja3x8dGhpcy5jcmVhdGVCYWNrQnVmZmVyKCksdGhpcy5jdHhCYWNrLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iY29weSIsdGhpcy5jdHhCYWNrLmRyYXdJbWFnZShpLDAsMCxvL3UsYS91KSk7dmFyIGM9dGhpcy5kb21CYWNrO2Z1bmN0aW9uIHAodCxuLGksbyl7aWYoci5jbGVhclJlY3QodCxuLGksbyksZSYmInRyYW5zcGFyZW50IiE9PWUpe3ZhciBhPXZvaWQgMDtxKGUpPyhhPWUuX19jYW52YXNHcmFkaWVudHx8Z3kocixlLHt4OjAseTowLHdpZHRoOmksaGVpZ2h0Om99KSxlLl9fY2FudmFzR3JhZGllbnQ9YSk6SyhlKSYmKGE9U3kocixlLHtkaXJ0eTpmdW5jdGlvbigpe2guc2V0VW5wYWludGVkKCksaC5fX3BhaW50ZXIucmVmcmVzaCgpfX0pKSxyLnNhdmUoKSxyLmZpbGxTdHlsZT1hfHxlLHIuZmlsbFJlY3QodCxuLGksbyksci5yZXN0b3JlKCl9cyYmKHIuc2F2ZSgpLHIuZ2xvYmFsQWxwaGE9bCxyLmRyYXdJbWFnZShjLHQsbixpLG8pLHIucmVzdG9yZSgpKX0hbnx8cz9wKDAsMCxvLGEpOm4ubGVuZ3RoJiZQKG4sKGZ1bmN0aW9uKHQpe3AodC54KnUsdC55KnUsdC53aWR0aCp1LHQuaGVpZ2h0KnUpfSkpfSxlfShGdCksb3c9MWU1LGF3PTMxNDE1OSxzdz0uMDE7ZnVuY3Rpb24gbHcodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfXZhciB1dz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy50eXBlPSJjYW52YXMiLHRoaXMuX3psZXZlbExpc3Q9W10sdGhpcy5fcHJldkRpc3BsYXlMaXN0PVtdLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXllckNvbmZpZz17fSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITEsdGhpcy50eXBlPSJjYW52YXMiO3ZhciByPSF0Lm5vZGVOYW1lfHwiQ0FOVkFTIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKTt0aGlzLl9vcHRzPW49SSh7fSxufHx7fSksdGhpcy5kcHI9bi5kZXZpY2VQaXhlbFJhdGlvfHxFbix0aGlzLl9zaW5nbGVDYW52YXM9cix0aGlzLnJvb3Q9dDt2YXIgbz10LnN0eWxlO28mJihvLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIsby53ZWJraXRVc2VyU2VsZWN0PSJub25lIixvLnVzZXJTZWxlY3Q9Im5vbmUiLG9bIi13ZWJraXQtdG91Y2gtY2FsbG91dCJdPSJub25lIix0LmlubmVySFRNTD0iIiksdGhpcy5zdG9yYWdlPWU7dmFyIGE9dGhpcy5femxldmVsTGlzdDt0aGlzLl9wcmV2RGlzcGxheUxpc3Q9W107dmFyIHM9dGhpcy5fbGF5ZXJzO2lmKHIpe3ZhciBsPXQsdT1sLndpZHRoLGg9bC5oZWlnaHQ7bnVsbCE9bi53aWR0aCYmKHU9bi53aWR0aCksbnVsbCE9bi5oZWlnaHQmJihoPW4uaGVpZ2h0KSx0aGlzLmRwcj1uLmRldmljZVBpeGVsUmF0aW98fDEsbC53aWR0aD11KnRoaXMuZHByLGwuaGVpZ2h0PWgqdGhpcy5kcHIsdGhpcy5fd2lkdGg9dSx0aGlzLl9oZWlnaHQ9aDt2YXIgYz1uZXcgcncobCx0aGlzLHRoaXMuZHByKTtjLl9fYnVpbHRpbl9fPSEwLGMuaW5pdENvbnRleHQoKSxzWzMxNDE1OV09YyxjLnpsZXZlbD1hdyxhLnB1c2goYXcpLHRoaXMuX2RvbVJvb3Q9dH1lbHNle3RoaXMuX3dpZHRoPXRoaXMuX2dldFNpemUoMCksdGhpcy5faGVpZ2h0PXRoaXMuX2dldFNpemUoMSk7dmFyIHA9dGhpcy5fZG9tUm9vdD1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLnN0eWxlLmNzc1RleHQ9WyJwb3NpdGlvbjpyZWxhdGl2ZSIsIndpZHRoOiIrdCsicHgiLCJoZWlnaHQ6IitlKyJweCIsInBhZGRpbmc6MCIsIm1hcmdpbjowIiwiYm9yZGVyLXdpZHRoOjAiXS5qb2luKCI7IikrIjsiLG59KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCk7dC5hcHBlbmRDaGlsZChwKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iY2FudmFzIn0sdC5wcm90b3R5cGUuaXNTaW5nbGVDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2FudmFzfSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tUm9vdH0sdC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSb290T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSx0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCksbj10aGlzLl9wcmV2RGlzcGxheUxpc3QsaT10aGlzLl96bGV2ZWxMaXN0O3RoaXMuX3JlZHJhd0lkPU1hdGgucmFuZG9tKCksdGhpcy5fcGFpbnRMaXN0KGUsbix0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxhPXRoaXMuX2xheWVyc1tvXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgcz0wPT09cj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gocyl9fXJldHVybiB0aGlzLl9vcHRzLnVzZURpcnR5UmVjdCYmKHRoaXMuX3ByZXZEaXNwbGF5TGlzdD1lLnNsaWNlKCkpLHRoaXN9LHQucHJvdG90eXBlLnJlZnJlc2hIb3Zlcj1mdW5jdGlvbigpe3RoaXMuX3BhaW50SG92ZXJMaXN0KHRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMSkpfSx0LnByb3RvdHlwZS5fcGFpbnRIb3Zlckxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj10aGlzLl9ob3ZlcmxheWVyO2lmKG4mJm4uY2xlYXIoKSxlKXtmb3IodmFyIGkscj17aW5Ib3ZlcjohMCx2aWV3V2lkdGg6dGhpcy5fd2lkdGgsdmlld0hlaWdodDp0aGlzLl9oZWlnaHR9LG89MDtvPGU7bysrKXt2YXIgYT10W29dO2EuX19pbkhvdmVyJiYobnx8KG49dGhpcy5faG92ZXJsYXllcj10aGlzLmdldExheWVyKG93KSksaXx8KGk9bi5jdHgpLnNhdmUoKSxQeShpLGEscixvPT09ZS0xKSl9aSYmaS5yZXN0b3JlKCl9fSx0LnByb3RvdHlwZS5nZXRIb3ZlckxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIob3cpfSx0LnByb3RvdHlwZS5wYWludE9uZT1mdW5jdGlvbih0LGUpe2t5KHQsZSl9LHQucHJvdG90eXBlLl9wYWludExpc3Q9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fcmVkcmF3SWQ9PT1pKXtuPW58fCExLHRoaXMuX3VwZGF0ZUxheWVyU3RhdHVzKHQpO3ZhciByPXRoaXMuX2RvUGFpbnRMaXN0KHQsZSxuKSxvPXIuZmluaXNoZWQsYT1yLm5lZWRzUmVmcmVzaEhvdmVyO2lmKHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmdGhpcy5fY29tcG9zaXRlTWFudWFsbHkoKSxhJiZ0aGlzLl9wYWludEhvdmVyTGlzdCh0KSxvKXRoaXMuZWFjaExheWVyKChmdW5jdGlvbih0KXt0LmFmdGVyQnJ1c2gmJnQuYWZ0ZXJCcnVzaCgpfSkpO2Vsc2V7dmFyIHM9dGhpcztNZSgoZnVuY3Rpb24oKXtzLl9wYWludExpc3QodCxlLG4saSl9KSl9fX0sdC5wcm90b3R5cGUuX2NvbXBvc2l0ZU1hbnVhbGx5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRMYXllcihhdykuY3R4LGU9dGhpcy5fZG9tUm9vdC53aWR0aCxuPXRoaXMuX2RvbVJvb3QuaGVpZ2h0O3QuY2xlYXJSZWN0KDAsMCxlLG4pLHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24oaSl7aS52aXJ0dWFsJiZ0LmRyYXdJbWFnZShpLmRvbSwwLDAsZSxuKX0pKX0sdC5wcm90b3R5cGUuX2RvUGFpbnRMaXN0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcyxyPVtdLG89dGhpcy5fb3B0cy51c2VEaXJ0eVJlY3Qscz0wO3M8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7cysrKXt2YXIgbD10aGlzLl96bGV2ZWxMaXN0W3NdLHU9dGhpcy5fbGF5ZXJzW2xdO3UuX19idWlsdGluX18mJnUhPT10aGlzLl9ob3ZlcmxheWVyJiYodS5fX2RpcnR5fHxuKSYmci5wdXNoKHUpfWZvcih2YXIgaD0hMCxjPSExLHA9ZnVuY3Rpb24oYSl7dmFyIHMsbD1yW2FdLHU9bC5jdHgscD1vJiZsLmNyZWF0ZVJlcGFpbnRSZWN0cyh0LGUsZC5fd2lkdGgsZC5faGVpZ2h0KSxmPW4/bC5fX3N0YXJ0SW5kZXg6bC5fX2RyYXdJbmRleCxnPSFuJiZsLmluY3JlbWVudGFsJiZEYXRlLm5vdyx5PWcmJkRhdGUubm93KCksdj1sLnpsZXZlbD09PWQuX3psZXZlbExpc3RbMF0/ZC5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYobC5fX3N0YXJ0SW5kZXg9PT1sLl9fZW5kSW5kZXgpbC5jbGVhcighMSx2LHApO2Vsc2UgaWYoZj09PWwuX19zdGFydEluZGV4KXt2YXIgbT10W2ZdO20uaW5jcmVtZW50YWwmJm0ubm90Q2xlYXImJiFufHxsLmNsZWFyKCExLHYscCl9LTE9PT1mJiYoY29uc29sZS5lcnJvcigiRm9yIHNvbWUgdW5rbm93biByZWFzb24uIGRyYXdJbmRleCBpcyAtMSIpLGY9bC5fX3N0YXJ0SW5kZXgpO3ZhciBfPWZ1bmN0aW9uKGUpe3ZhciBuPXtpbkhvdmVyOiExLGFsbENsaXBwZWQ6ITEscHJldkVsOm51bGwsdmlld1dpZHRoOmkuX3dpZHRoLHZpZXdIZWlnaHQ6aS5faGVpZ2h0fTtmb3Iocz1mO3M8bC5fX2VuZEluZGV4O3MrKyl7dmFyIHI9dFtzXTtpZihyLl9faW5Ib3ZlciYmKGM9ITApLGkuX2RvUGFpbnRFbChyLGwsbyxlLG4scz09PWwuX19lbmRJbmRleC0xKSxnKWlmKERhdGUubm93KCkteT4xNSlicmVha31uLnByZXZFbENsaXBQYXRocyYmdS5yZXN0b3JlKCl9O2lmKHApaWYoMD09PXAubGVuZ3RoKXM9bC5fX2VuZEluZGV4O2Vsc2UgZm9yKHZhciB4PWQuZHByLGI9MDtiPHAubGVuZ3RoOysrYil7dmFyIHc9cFtiXTt1LnNhdmUoKSx1LmJlZ2luUGF0aCgpLHUucmVjdCh3LngqeCx3LnkqeCx3LndpZHRoKngsdy5oZWlnaHQqeCksdS5jbGlwKCksXyh3KSx1LnJlc3RvcmUoKX1lbHNlIHUuc2F2ZSgpLF8oKSx1LnJlc3RvcmUoKTtsLl9fZHJhd0luZGV4PXMsbC5fX2RyYXdJbmRleDxsLl9fZW5kSW5kZXgmJihoPSExKX0sZD10aGlzLGY9MDtmPHIubGVuZ3RoO2YrKylwKGYpO3JldHVybiBhLnd4YSYmUCh0aGlzLl9sYXllcnMsKGZ1bmN0aW9uKHQpe3QmJnQuY3R4JiZ0LmN0eC5kcmF3JiZ0LmN0eC5kcmF3KCl9KSkse2ZpbmlzaGVkOmgsbmVlZHNSZWZyZXNoSG92ZXI6Y319LHQucHJvdG90eXBlLl9kb1BhaW50RWw9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuY3R4O2lmKG4pe3ZhciBzPXQuZ2V0UGFpbnRSZWN0KCk7KCFpfHxzJiZzLmludGVyc2VjdChpKSkmJihQeShhLHQscixvKSx0LnNldFByZXZQYWludFJlY3QocykpfWVsc2UgUHkoYSx0LHIsbyl9LHQucHJvdG90eXBlLmdldExheWVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nJiYodD1hdyk7dmFyIG49dGhpcy5fbGF5ZXJzW3RdO3JldHVybiBufHwoKG49bmV3IHJ3KCJ6cl8iK3QsdGhpcyx0aGlzLmRwcikpLnpsZXZlbD10LG4uX19idWlsdGluX189ITAsdGhpcy5fbGF5ZXJDb25maWdbdF0/UyhuLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKTp0aGlzLl9sYXllckNvbmZpZ1t0LXN3XSYmUyhuLHRoaXMuX2xheWVyQ29uZmlnW3Qtc3ddLCEwKSxlJiYobi52aXJ0dWFsPWUpLHRoaXMuaW5zZXJ0TGF5ZXIodCxuKSxuLmluaXRDb250ZXh0KCkpLG59LHQucHJvdG90eXBlLmluc2VydExheWVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxyPWkubGVuZ3RoLG89dGhpcy5fZG9tUm9vdCxhPW51bGwscz0tMTtpZihuW3RdKWIoIlpMZXZlbCAiK3QrIiBoYXMgYmVlbiB1c2VkIGFscmVhZHkiKTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKCEhdC5fX2J1aWx0aW5fX3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQucmVzaXplJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZWZyZXNoKX0oZSkpe2lmKHI+MCYmdD5pWzBdKXtmb3Iocz0wO3M8ci0xJiYhKGlbc108dCYmaVtzKzFdPnQpO3MrKyk7YT1uW2lbc11dfWlmKGkuc3BsaWNlKHMrMSwwLHQpLG5bdF09ZSwhZS52aXJ0dWFsKWlmKGEpe3ZhciBsPWEuZG9tO2wubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUoZS5kb20sbC5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZChlLmRvbSl9ZWxzZSBvLmZpcnN0Q2hpbGQ/by5pbnNlcnRCZWZvcmUoZS5kb20sby5maXJzdENoaWxkKTpvLmFwcGVuZENoaWxkKGUuZG9tKTtlLl9fcGFpbnRlcj10aGlzfWVsc2UgYigiTGF5ZXIgb2YgemxldmVsICIrdCsiIGlzIG5vdCB2YWxpZCIpfSx0LnByb3RvdHlwZS5lYWNoTGF5ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5femxldmVsTGlzdCxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07dC5jYWxsKGUsdGhpcy5fbGF5ZXJzW3JdLHIpfX0sdC5wcm90b3R5cGUuZWFjaEJ1aWx0aW5MYXllcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl96bGV2ZWxMaXN0LGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXSxvPXRoaXMuX2xheWVyc1tyXTtvLl9fYnVpbHRpbl9fJiZ0LmNhbGwoZSxvLHIpfX0sdC5wcm90b3R5cGUuZWFjaE90aGVyTGF5ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5femxldmVsTGlzdCxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0sbz10aGlzLl9sYXllcnNbcl07by5fX2J1aWx0aW5fX3x8dC5jYWxsKGUsbyxyKX19LHQucHJvdG90eXBlLmdldExheWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXllcnN9LHQucHJvdG90eXBlLl91cGRhdGVMYXllclN0YXR1cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe28mJihvLl9fZW5kSW5kZXghPT10JiYoby5fX2RpcnR5PSEwKSxvLl9fZW5kSW5kZXg9dCl9aWYodGhpcy5lYWNoQnVpbHRpbkxheWVyKChmdW5jdGlvbih0LGUpe3QuX19kaXJ0eT10Ll9fdXNlZD0hMX0pKSx0aGlzLl9zaW5nbGVDYW52YXMpZm9yKHZhciBuPTE7bjx0Lmxlbmd0aDtuKyspe2lmKChzPXRbbl0pLnpsZXZlbCE9PXRbbi0xXS56bGV2ZWx8fHMuaW5jcmVtZW50YWwpe3RoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZz0hMDticmVha319dmFyIGkscixvPW51bGwsYT0wO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBzLGw9KHM9dFtyXSkuemxldmVsLHU9dm9pZCAwO2khPT1sJiYoaT1sLGE9MCkscy5pbmNyZW1lbnRhbD8oKHU9dGhpcy5nZXRMYXllcihsKy4wMDEsdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSkuaW5jcmVtZW50YWw9ITAsYT0xKTp1PXRoaXMuZ2V0TGF5ZXIobCsoYT4wP3N3OjApLHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyksdS5fX2J1aWx0aW5fX3x8YigiWkxldmVsICIrbCsiIGhhcyBiZWVuIHVzZWQgYnkgdW5rb3duIGxheWVyICIrdS5pZCksdSE9PW8mJih1Ll9fdXNlZD0hMCx1Ll9fc3RhcnRJbmRleCE9PXImJih1Ll9fZGlydHk9ITApLHUuX19zdGFydEluZGV4PXIsdS5pbmNyZW1lbnRhbD91Ll9fZHJhd0luZGV4PS0xOnUuX19kcmF3SW5kZXg9cixlKHIpLG89dSksMSZzLl9fZGlydHkmJiFzLl9faW5Ib3ZlciYmKHUuX19kaXJ0eT0hMCx1LmluY3JlbWVudGFsJiZ1Ll9fZHJhd0luZGV4PDAmJih1Ll9fZHJhd0luZGV4PXIpKX1lKHIpLHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24odCxlKXshdC5fX3VzZWQmJnQuZ2V0RWxlbWVudENvdW50KCk+MCYmKHQuX19kaXJ0eT0hMCx0Ll9fc3RhcnRJbmRleD10Ll9fZW5kSW5kZXg9dC5fX2RyYXdJbmRleD0wKSx0Ll9fZGlydHkmJnQuX19kcmF3SW5kZXg8MCYmKHQuX19kcmF3SW5kZXg9dC5fX3N0YXJ0SW5kZXgpfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hCdWlsdGluTGF5ZXIodGhpcy5fY2xlYXJMYXllciksdGhpc30sdC5wcm90b3R5cGUuX2NsZWFyTGF5ZXI9ZnVuY3Rpb24odCl7dC5jbGVhcigpfSx0LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZENvbG9yPXQsUCh0aGlzLl9sYXllcnMsKGZ1bmN0aW9uKHQpe3Quc2V0VW5wYWludGVkKCl9KSl9LHQucHJvdG90eXBlLmNvbmZpZ0xheWVyPWZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49dGhpcy5fbGF5ZXJDb25maWc7blt0XT9TKG5bdF0sZSwhMCk6blt0XT1lO2Zvcih2YXIgaT0wO2k8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLl96bGV2ZWxMaXN0W2ldO2lmKHI9PT10fHxyPT09dCtzdylTKHRoaXMuX2xheWVyc1tyXSxuW3RdLCEwKX19fSx0LnByb3RvdHlwZS5kZWxMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnMsbj10aGlzLl96bGV2ZWxMaXN0LGk9ZVt0XTtpJiYoaS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLmRvbSksZGVsZXRlIGVbdF0sbi5zcGxpY2UoRChuLHQpLDEpKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZG9tUm9vdC5zdHlsZSl7dmFyIG49dGhpcy5fZG9tUm9vdDtuLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBpPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKGkud2lkdGg9dCksbnVsbCE9ZSYmKGkuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksbi5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8ZSE9PXRoaXMuX2hlaWdodCl7Zm9yKHZhciByIGluIG4uc3R5bGUud2lkdGg9dCsicHgiLG4uc3R5bGUuaGVpZ2h0PWUrInB4Iix0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzLmhhc093blByb3BlcnR5KHIpJiZ0aGlzLl9sYXllcnNbcl0ucmVzaXplKHQsZSk7dGhpcy5yZWZyZXNoKCEwKX10aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lfWVsc2V7aWYobnVsbD09dHx8bnVsbD09ZSlyZXR1cm47dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZSx0aGlzLmdldExheWVyKGF3KS5yZXNpemUodCxlKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuY2xlYXJMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLnJvb3Q9dGhpcy5zdG9yYWdlPXRoaXMuX2RvbVJvb3Q9dGhpcy5fbGF5ZXJzPW51bGx9LHQucHJvdG90eXBlLmdldFJlbmRlcmVkQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sdGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fY29tcG9zaXRlTWFudWFsbHkpcmV0dXJuIHRoaXMuX2xheWVyc1szMTQxNTldLmRvbTt2YXIgZT1uZXcgcncoImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2UuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpO3ZhciBuPWUuY3R4O2lmKHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLHI9ZS5kb20uaGVpZ2h0O3RoaXMuZWFjaExheWVyKChmdW5jdGlvbih0KXt0Ll9fYnVpbHRpbl9fP24uZHJhd0ltYWdlKHQuZG9tLDAsMCxpLHIpOnQucmVuZGVyVG9DYW52YXMmJihuLnNhdmUoKSx0LnJlbmRlclRvQ2FudmFzKG4pLG4ucmVzdG9yZSgpKX0pKX1lbHNlIGZvcih2YXIgbz17aW5Ib3ZlcjohMSx2aWV3V2lkdGg6dGhpcy5fd2lkdGgsdmlld0hlaWdodDp0aGlzLl9oZWlnaHR9LGE9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxzPTAsbD1hLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1hW3NdO1B5KG4sdSxvLHM9PT1sLTEpfXJldHVybiBlLmRvbX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LHQucHJvdG90eXBlLl9nZXRTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdHMsbj1bIndpZHRoIiwiaGVpZ2h0Il1bdF0saT1bImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Il1bdF0scj1bInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCJdW3RdLG89WyJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nQm90dG9tIl1bdF07aWYobnVsbCE9ZVtuXSYmImF1dG8iIT09ZVtuXSlyZXR1cm4gcGFyc2VGbG9hdChlW25dKTt2YXIgYT10aGlzLnJvb3Qscz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEpO3JldHVybihhW2ldfHxsdyhzW25dKXx8bHcoYS5zdHlsZVtuXSkpLShsdyhzW3JdKXx8MCktKGx3KHNbb10pfHwwKXwwfSx0LnByb3RvdHlwZS5wYXRoVG9JbWFnZT1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5kcHI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksaT1uLmdldENvbnRleHQoIjJkIikscj10LmdldEJvdW5kaW5nUmVjdCgpLG89dC5zdHlsZSxhPW8uc2hhZG93Qmx1ciplLHM9by5zaGFkb3dPZmZzZXRYKmUsbD1vLnNoYWRvd09mZnNldFkqZSx1PXQuaGFzU3Ryb2tlKCk/by5saW5lV2lkdGg6MCxoPU1hdGgubWF4KHUvMiwtcythKSxjPU1hdGgubWF4KHUvMixzK2EpLHA9TWF0aC5tYXgodS8yLC1sK2EpLGQ9TWF0aC5tYXgodS8yLGwrYSksZj1yLndpZHRoK2grYyxnPXIuaGVpZ2h0K3ArZDtuLndpZHRoPWYqZSxuLmhlaWdodD1nKmUsaS5zY2FsZShlLGUpLGkuY2xlYXJSZWN0KDAsMCxmLGcpLGkuZHByPWU7dmFyIHk9e3g6dC54LHk6dC55LHNjYWxlWDp0LnNjYWxlWCxzY2FsZVk6dC5zY2FsZVkscm90YXRpb246dC5yb3RhdGlvbixvcmlnaW5YOnQub3JpZ2luWCxvcmlnaW5ZOnQub3JpZ2luWX07dC54PWgtci54LHQueT1wLXIueSx0LnJvdGF0aW9uPTAsdC5zY2FsZVg9MSx0LnNjYWxlWT0xLHQudXBkYXRlVHJhbnNmb3JtKCksdCYmUHkoaSx0LHtpbkhvdmVyOiExLHZpZXdXaWR0aDp0aGlzLl93aWR0aCx2aWV3SGVpZ2h0OnRoaXMuX2hlaWdodH0sITApO3ZhciB2PW5ldyBlcyh7c3R5bGU6e3g6MCx5OjAsaW1hZ2U6bn19KTtyZXR1cm4gSSh0LHkpLHZ9LHR9KCk7dmFyIGh3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBGXyh0aGlzLmdldFNvdXJjZSgpLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5nZXRMZWdlbmRJY29uPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBFaSxuPWZ5KCJsaW5lIiwwLHQuaXRlbUhlaWdodC8yLHQuaXRlbVdpZHRoLDAsdC5saW5lU3R5bGUuc3Ryb2tlLCExKTtlLmFkZChuKSxuLnNldFN0eWxlKHQubGluZVN0eWxlKTt2YXIgaT10aGlzLmdldERhdGEoKS5nZXRWaXN1YWwoInN5bWJvbCIpLHI9dGhpcy5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzeW1ib2xSb3RhdGUiKSxvPSJub25lIj09PWk/ImNpcmNsZSI6aSxhPS44KnQuaXRlbUhlaWdodCxzPWZ5KG8sKHQuaXRlbVdpZHRoLWEpLzIsKHQuaXRlbUhlaWdodC1hKS8yLGEsYSx0Lml0ZW1TdHlsZS5maWxsKTtlLmFkZChzKSxzLnNldFN0eWxlKHQuaXRlbVN0eWxlKTt2YXIgbD0iaW5oZXJpdCI9PT10Lmljb25Sb3RhdGU/cjp0Lmljb25Sb3RhdGV8fDA7cmV0dXJuIHMucm90YXRpb249bCpNYXRoLlBJLzE4MCxzLnNldE9yaWdpbihbdC5pdGVtV2lkdGgvMix0Lml0ZW1IZWlnaHQvMl0pLG8uaW5kZXhPZigiZW1wdHkiKT4tMSYmKHMuc3R5bGUuc3Ryb2tlPXMuc3R5bGUuZmlsbCxzLnN0eWxlLmZpbGw9IiNmZmYiLHMuc3R5bGUubGluZVdpZHRoPTIpLGV9LGUudHlwZT0ic2VyaWVzLmxpbmUiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjMsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiEwLGxhYmVsOntwb3NpdGlvbjoidG9wIn0sZW5kTGFiZWw6e3Nob3c6ITEsdmFsdWVBbmltYXRpb246ITAsZGlzdGFuY2U6OH0sbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e3NjYWxlOiEwLGxpbmVTdHlsZTp7d2lkdGg6ImJvbGRlciJ9fSxzdGVwOiExLHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NCxzeW1ib2xSb3RhdGU6bnVsbCxzaG93U3ltYm9sOiEwLHNob3dBbGxTeW1ib2w6ImF1dG8iLGNvbm5lY3ROdWxsczohMSxzYW1wbGluZzoibm9uZSIsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLHByb2dyZXNzaXZlOjAsaG92ZXJMYXllclRocmVzaG9sZDoxLzB9LGV9KGZmKTtmdW5jdGlvbiBjdyh0LGUpe3ZhciBuPXQubWFwRGltZW5zaW9uc0FsbCgiZGVmYXVsdGVkTGFiZWwiKSxpPW4ubGVuZ3RoO2lmKDE9PT1pKXt2YXIgcj1NZCh0LGUsblswXSk7cmV0dXJuIG51bGwhPXI/cisiIjpudWxsfWlmKGkpe2Zvcih2YXIgbz1bXSxhPTA7YTxuLmxlbmd0aDthKyspby5wdXNoKE1kKHQsZSxuW2FdKSk7cmV0dXJuIG8uam9pbigiICIpfX1mdW5jdGlvbiBwdyh0LGUpe3ZhciBuPXQubWFwRGltZW5zaW9uc0FsbCgiZGVmYXVsdGVkTGFiZWwiKTtpZighRihlKSlyZXR1cm4gZSsiIjtmb3IodmFyIGk9W10scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz10LmdldERpbWVuc2lvbkluZm8obltyXSk7byYmaS5wdXNoKGVbby5pbmRleF0pfXJldHVybiBpLmpvaW4oIiAiKX12YXIgZHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8udXBkYXRlRGF0YShlLG4saSxyKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2NyZWF0ZVN5bWJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3RoaXMucmVtb3ZlQWxsKCk7dmFyIG89ZnkodCwtMSwtMSwyLDIsbnVsbCxyKTtvLmF0dHIoe3oyOjEwMCxjdWxsaW5nOiEwLHNjYWxlWDppWzBdLzIsc2NhbGVZOmlbMV0vMn0pLG8uZHJpZnQ9ZncsdGhpcy5fc3ltYm9sVHlwZT10LHRoaXMuYWRkKG8pfSxlLnByb3RvdHlwZS5zdG9wU3ltYm9sQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKG51bGwsdCl9LGUucHJvdG90eXBlLmdldFN5bWJvbFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZEF0KDApfSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXtqcyh0aGlzLmNoaWxkQXQoMCkpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbigpe3FzKHRoaXMuY2hpbGRBdCgwKSl9LGUucHJvdG90eXBlLnNldFo9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNoaWxkQXQoMCk7bi56bGV2ZWw9dCxuLno9ZX0sZS5wcm90b3R5cGUuc2V0RHJhZ2dhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRBdCgwKTtlLmRyYWdnYWJsZT10LGUuY3Vyc29yPXQ/Im1vdmUiOmUuY3Vyc29yfSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsbixpLHIpe3RoaXMuc2lsZW50PSExO3ZhciBvPXQuZ2V0SXRlbVZpc3VhbChuLCJzeW1ib2wiKXx8ImNpcmNsZSIsYT10Lmhvc3RNb2RlbCxzPWUuZ2V0U3ltYm9sU2l6ZSh0LG4pLGw9byE9PXRoaXMuX3N5bWJvbFR5cGUsdT1yJiZyLmRpc2FibGVBbmltYXRpb247aWYobCl7dmFyIGg9dC5nZXRJdGVtVmlzdWFsKG4sInN5bWJvbEtlZXBBc3BlY3QiKTt0aGlzLl9jcmVhdGVTeW1ib2wobyx0LG4scyxoKX1lbHNleyhwPXRoaXMuY2hpbGRBdCgwKSkuc2lsZW50PSExO3ZhciBjPXtzY2FsZVg6c1swXS8yLHNjYWxlWTpzWzFdLzJ9O3U/cC5hdHRyKGMpOkh1KHAsYyxhLG4pfWlmKHRoaXMuX3VwZGF0ZUNvbW1vbih0LG4scyxpLHIpLGwpe3ZhciBwPXRoaXMuY2hpbGRBdCgwKTtpZighdSl7Yz17c2NhbGVYOnRoaXMuX3NpemVYLHNjYWxlWTp0aGlzLl9zaXplWSxzdHlsZTp7b3BhY2l0eTpwLnN0eWxlLm9wYWNpdHl9fTtwLnNjYWxlWD1wLnNjYWxlWT0wLHAuc3R5bGUub3BhY2l0eT0wLFd1KHAsYyxhLG4pfX11JiZ0aGlzLmNoaWxkQXQoMCkuc3RvcEFuaW1hdGlvbigicmVtb3ZlIiksdGhpcy5fc2VyaWVzTW9kZWw9YX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vbj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGEscyxsLHUsaCxjLHAsZD10aGlzLmNoaWxkQXQoMCksZj10Lmhvc3RNb2RlbDtpZihpJiYobz1pLmVtcGhhc2lzSXRlbVN0eWxlLGE9aS5ibHVySXRlbVN0eWxlLHM9aS5zZWxlY3RJdGVtU3R5bGUsbD1pLmZvY3VzLHU9aS5ibHVyU2NvcGUsaD1pLmxhYmVsU3RhdGVzTW9kZWxzLGM9aS5ob3ZlclNjYWxlLHA9aS5jdXJzb3JTdHlsZSksIWl8fHQuaGFzSXRlbU9wdGlvbil7dmFyIGc9aSYmaS5pdGVtTW9kZWw/aS5pdGVtTW9kZWw6dC5nZXRJdGVtTW9kZWwoZSkseT1nLmdldE1vZGVsKCJlbXBoYXNpcyIpO289eS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkscz1nLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGE9Zy5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksbD15LmdldCgiZm9jdXMiKSx1PXkuZ2V0KCJibHVyU2NvcGUiKSxoPWNoKGcpLGM9eS5nZXRTaGFsbG93KCJzY2FsZSIpLHA9Zy5nZXRTaGFsbG93KCJjdXJzb3IiKX12YXIgdj10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIik7ZC5hdHRyKCJyb3RhdGlvbiIsKHZ8fDApKk1hdGguUEkvMTgwfHwwKTt2YXIgbT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sT2Zmc2V0Iil8fDA7bSYmKEYobSl8fChtPVttLG1dKSxkLng9WmkobVswXSxuWzBdKSxkLnk9WmkodHQobVsxXSxtWzBdKXx8MCxuWzFdKSkscCYmZC5hdHRyKCJjdXJzb3IiLHApO3ZhciBfPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLHg9Xy5maWxsO2lmKGQgaW5zdGFuY2VvZiBlcyl7dmFyIGI9ZC5zdHlsZTtkLnVzZVN0eWxlKEkoe2ltYWdlOmIuaW1hZ2UseDpiLngseTpiLnksd2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LF8pKX1lbHNlIGQuX19pc0VtcHR5QnJ1c2g/ZC51c2VTdHlsZShJKHt9LF8pKTpkLnVzZVN0eWxlKF8pLGQuc3R5bGUuZGVjYWw9bnVsbCxkLnNldENvbG9yKHgsciYmci5zeW1ib2xJbm5lckNvbG9yKSxkLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dmFyIHc9dC5nZXRJdGVtVmlzdWFsKGUsImxpZnRaIiksUz10aGlzLl96MjtudWxsIT13P251bGw9PVMmJih0aGlzLl96Mj1kLnoyLGQuejIrPXcpOm51bGwhPVMmJihkLnoyPVMsdGhpcy5fejI9bnVsbCk7dmFyIE09ciYmci51c2VOYW1lTGFiZWw7aGgoZCxoLHtsYWJlbEZldGNoZXI6ZixsYWJlbERhdGFJbmRleDplLGRlZmF1bHRUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBNP3QuZ2V0TmFtZShlKTpjdyh0LGUpfSxpbmhlcml0Q29sb3I6eCxkZWZhdWx0T3BhY2l0eTpfLm9wYWNpdHl9KSx0aGlzLl9zaXplWD1uWzBdLzIsdGhpcy5fc2l6ZVk9blsxXS8yO3ZhciBUPWQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIik7aWYoVC5zdHlsZT1vLGQuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPXMsZC5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWEsYyl7dmFyIEM9TWF0aC5tYXgoMS4xLDMvdGhpcy5fc2l6ZVkpO1Quc2NhbGVYPXRoaXMuX3NpemVYKkMsVC5zY2FsZVk9dGhpcy5fc2l6ZVkqQ310aGlzLnNldFN5bWJvbFNjYWxlKDEpLHNsKHRoaXMsbCx1KX0sZS5wcm90b3R5cGUuc2V0U3ltYm9sU2NhbGU9ZnVuY3Rpb24odCl7dGhpcy5zY2FsZVg9dGhpcy5zY2FsZVk9dH0sZS5wcm90b3R5cGUuZmFkZU91dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKSxpPXRoaXMuX3Nlcmllc01vZGVsLHI9X3ModGhpcykuZGF0YUluZGV4LG89ZSYmZS5hbmltYXRpb247aWYodGhpcy5zaWxlbnQ9bi5zaWxlbnQ9ITAsZSYmZS5mYWRlTGFiZWwpe3ZhciBhPW4uZ2V0VGV4dENvbnRlbnQoKTthJiZVdShhLHtzdHlsZTp7b3BhY2l0eTowfX0saSx7ZGF0YUluZGV4OnIscmVtb3ZlT3B0Om8sY2I6ZnVuY3Rpb24oKXtuLnJlbW92ZVRleHRDb250ZW50KCl9fSl9ZWxzZSBuLnJlbW92ZVRleHRDb250ZW50KCk7VXUobix7c3R5bGU6e29wYWNpdHk6MH0sc2NhbGVYOjAsc2NhbGVZOjB9LGkse2RhdGFJbmRleDpyLGNiOnQscmVtb3ZlT3B0Om99KX0sZS5nZXRTeW1ib2xTaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTtyZXR1cm4gRihuKT9uLnNsaWNlKCk6WytuLCtuXX0sZX0oRWkpO2Z1bmN0aW9uIGZ3KHQsZSl7dGhpcy5wYXJlbnQuZHJpZnQodCxlKX1mdW5jdGlvbiBndyh0LGUsbixpKXtyZXR1cm4gZSYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSkmJiEoaS5pc0lnbm9yZSYmaS5pc0lnbm9yZShuKSkmJiEoaS5jbGlwU2hhcGUmJiFpLmNsaXBTaGFwZS5jb250YWluKGVbMF0sZVsxXSkpJiYibm9uZSIhPT10LmdldEl0ZW1WaXN1YWwobiwic3ltYm9sIil9ZnVuY3Rpb24geXcodCl7cmV0dXJuIG51bGw9PXR8fFgodCl8fCh0PXtpc0lnbm9yZTp0fSksdHx8e319ZnVuY3Rpb24gdncodCl7dmFyIGU9dC5ob3N0TW9kZWwsbj1lLmdldE1vZGVsKCJlbXBoYXNpcyIpO3JldHVybntlbXBoYXNpc0l0ZW1TdHlsZTpuLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxibHVySXRlbVN0eWxlOmUuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHNlbGVjdEl0ZW1TdHlsZTplLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGZvY3VzOm4uZ2V0KCJmb2N1cyIpLGJsdXJTY29wZTpuLmdldCgiYmx1clNjb3BlIiksaG92ZXJTY2FsZTpuLmdldCgic2NhbGUiKSxsYWJlbFN0YXRlc01vZGVsczpjaChlKSxjdXJzb3JTdHlsZTplLmdldCgiY3Vyc29yIil9fXZhciBtdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5ncm91cD1uZXcgRWksdGhpcy5fU3ltYm9sQ3Rvcj10fHxkd31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe2U9eXcoZSk7dmFyIG49dGhpcy5ncm91cCxpPXQuaG9zdE1vZGVsLHI9dGhpcy5fZGF0YSxvPXRoaXMuX1N5bWJvbEN0b3IsYT1lLmRpc2FibGVBbmltYXRpb24scz12dyh0KSxsPXtkaXNhYmxlQW5pbWF0aW9uOmF9LHU9ZS5nZXRTeW1ib2xQb2ludHx8ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0SXRlbUxheW91dChlKX07cnx8bi5yZW1vdmVBbGwoKSx0LmRpZmYocikuYWRkKChmdW5jdGlvbihpKXt2YXIgcj11KGkpO2lmKGd3KHQscixpLGUpKXt2YXIgYT1uZXcgbyh0LGkscyxsKTthLnNldFBvc2l0aW9uKHIpLHQuc2V0SXRlbUdyYXBoaWNFbChpLGEpLG4uYWRkKGEpfX0pKS51cGRhdGUoKGZ1bmN0aW9uKGgsYyl7dmFyIHA9ci5nZXRJdGVtR3JhcGhpY0VsKGMpLGQ9dShoKTtpZihndyh0LGQsaCxlKSl7aWYocCl7cC51cGRhdGVEYXRhKHQsaCxzLGwpO3ZhciBmPXt4OmRbMF0seTpkWzFdfTthP3AuYXR0cihmKTpIdShwLGYsaSl9ZWxzZShwPW5ldyBvKHQsaCkpLnNldFBvc2l0aW9uKGQpO24uYWRkKHApLHQuc2V0SXRlbUdyYXBoaWNFbChoLHApfWVsc2Ugbi5yZW1vdmUocCl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmZS5mYWRlT3V0KChmdW5jdGlvbigpe24ucmVtb3ZlKGUpfSkpfSkpLmV4ZWN1dGUoKSx0aGlzLl9nZXRTeW1ib2xQb2ludD11LHRoaXMuX2RhdGE9dH0sdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9kYXRhO2UmJmUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7dmFyIGk9dC5fZ2V0U3ltYm9sUG9pbnQobik7ZS5zZXRQb3NpdGlvbihpKSxlLm1hcmtSZWRyYXcoKX0pKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPXZ3KHQpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9bj15dyhuKTtmb3IodmFyIHI9dC5zdGFydDtyPHQuZW5kO3IrKyl7dmFyIG89ZS5nZXRJdGVtTGF5b3V0KHIpO2lmKGd3KGUsbyxyLG4pKXt2YXIgYT1uZXcgdGhpcy5fU3ltYm9sQ3RvcihlLHIsdGhpcy5fc2VyaWVzU2NvcGUpO2EudHJhdmVyc2UoaSksYS5zZXRQb3NpdGlvbihvKSx0aGlzLmdyb3VwLmFkZChhKSxlLnNldEl0ZW1HcmFwaGljRWwocixhKX19fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7biYmdD9uLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0LmZhZGVPdXQoKGZ1bmN0aW9uKCl7ZS5yZW1vdmUodCl9KSl9KSk6ZS5yZW1vdmVBbGwoKX0sdH0oKTtmdW5jdGlvbiBfdyh0LGUsbil7dmFyIGk9dC5nZXRCYXNlQXhpcygpLHI9dC5nZXRPdGhlckF4aXMoaSksbz1mdW5jdGlvbih0LGUpe3ZhciBuPTAsaT10LnNjYWxlLmdldEV4dGVudCgpOyJzdGFydCI9PT1lP249aVswXToiZW5kIj09PWU/bj1pWzFdOmlbMF0+MD9uPWlbMF06aVsxXTwwJiYobj1pWzFdKTtyZXR1cm4gbn0ocixuKSxhPWkuZGltLHM9ci5kaW0sbD1lLm1hcERpbWVuc2lvbihzKSx1PWUubWFwRGltZW5zaW9uKGEpLGg9IngiPT09c3x8InJhZGl1cyI9PT1zPzE6MCxjPU8odC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSkscD0hMSxkPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO3JldHVybiBWXyhlLGNbMF0pJiYocD0hMCxjWzBdPWQpLFZfKGUsY1sxXSkmJihwPSEwLGNbMV09ZCkse2RhdGFEaW1zRm9yUG9pbnQ6Yyx2YWx1ZVN0YXJ0Om8sdmFsdWVBeGlzRGltOnMsYmFzZUF4aXNEaW06YSxzdGFja2VkOiEhcCx2YWx1ZURpbTpsLGJhc2VEaW06dSxiYXNlRGF0YU9mZnNldDpoLHN0YWNrZWRPdmVyRGltZW5zaW9uOmUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpfX1mdW5jdGlvbiB4dyh0LGUsbixpKXt2YXIgcj1OYU47dC5zdGFja2VkJiYocj1uLmdldChuLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE92ZXJEaW1lbnNpb24iKSxpKSksaXNOYU4ocikmJihyPXQudmFsdWVTdGFydCk7dmFyIG89dC5iYXNlRGF0YU9mZnNldCxhPVtdO3JldHVybiBhW29dPW4uZ2V0KHQuYmFzZURpbSxpKSxhWzEtb109cixlLmRhdGFUb1BvaW50KGEpfXZhciBidz0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheSx3dz1idz9GbG9hdDMyQXJyYXk6QXJyYXk7ZnVuY3Rpb24gU3codCl7cmV0dXJuIEYodCk/Ync/bmV3IEZsb2F0MzJBcnJheSh0KTp0Om5ldyB3dyh0KX12YXIgTXc9TWF0aC5taW4sSXc9TWF0aC5tYXg7ZnVuY3Rpb24gVHcodCxlKXtyZXR1cm4gaXNOYU4odCl8fGlzTmFOKGUpfWZ1bmN0aW9uIEN3KHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHUsaCxjLHAsZCxmLGc9bix5PTA7eTxpO3krKyl7dmFyIHY9ZVsyKmddLG09ZVsyKmcrMV07aWYoZz49cnx8ZzwwKWJyZWFrO2lmKFR3KHYsbSkpe2lmKGwpe2crPW87Y29udGludWV9YnJlYWt9aWYoZz09PW4pdFtvPjA/Im1vdmVUbyI6ImxpbmVUbyJdKHYsbSksYz12LHA9bTtlbHNle3ZhciBfPXYtdSx4PW0taDtpZihfKl8reCp4PC41KXtnKz1vO2NvbnRpbnVlfWlmKGE+MCl7dmFyIGI9ZytvLHc9ZVsyKmJdLFM9ZVsyKmIrMV0sTT15KzE7aWYobClmb3IoO1R3KHcsUykmJk08aTspTSsrLHc9ZVsyKihiKz1vKV0sUz1lWzIqYisxXTt2YXIgST0uNSxUPTAsQz0wLEQ9dm9pZCAwLEE9dm9pZCAwO2lmKE0+PWl8fFR3KHcsUykpZD12LGY9bTtlbHNle1Q9dy11LEM9Uy1oO3ZhciBMPXYtdSxrPXctdixQPW0taCxPPVMtbSxSPXZvaWQgMCxOPXZvaWQgMDsieCI9PT1zPyhSPU1hdGguYWJzKEwpLE49TWF0aC5hYnMoayksZD12LVIqYSxmPW0sRD12K1IqYSxBPW0pOiJ5Ij09PXM/KFI9TWF0aC5hYnMoUCksTj1NYXRoLmFicyhPKSxkPXYsZj1tLVIqYSxEPXYsQT1tK1IqYSk6KFI9TWF0aC5zcXJ0KEwqTCtQKlApLGQ9di1UKmEqKDEtKEk9KE49TWF0aC5zcXJ0KGsqaytPKk8pKS8oTitSKSkpLGY9bS1DKmEqKDEtSSksQT1tK0MqYSpJLEQ9TXcoRD12K1QqYSpJLEl3KHcsdikpLEE9TXcoQSxJdyhTLG0pKSxEPUl3KEQsTXcodyx2KSksZj1tLShDPShBPUl3KEEsTXcoUyxtKSkpLW0pKlIvTixkPU13KGQ9di0oVD1ELXYpKlIvTixJdyh1LHYpKSxmPU13KGYsSXcoaCxtKSksRD12KyhUPXYtKGQ9SXcoZCxNdyh1LHYpKSkpKk4vUixBPW0rKEM9bS0oZj1JdyhmLE13KGgsbSkpKSkqTi9SKX10LmJlemllckN1cnZlVG8oYyxwLGQsZix2LG0pLGM9RCxwPUF9ZWxzZSB0LmxpbmVUbyh2LG0pfXU9dixoPW0sZys9b31yZXR1cm4geX12YXIgRHc9ZnVuY3Rpb24oKXt0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD0hMH0sQXc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJlYy1wb2x5bGluZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRHd9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzLGk9MCxyPW4ubGVuZ3RoLzI7aWYoZS5jb25uZWN0TnVsbHMpe2Zvcig7cj4wJiZUdyhuWzIqci0yXSxuWzIqci0xXSk7ci0tKTtmb3IoO2k8ciYmVHcoblsyKmldLG5bMippKzFdKTtpKyspO31mb3IoO2k8cjspaSs9Q3codCxuLGkscixyLDEsZS5zbW9vdGgsZS5zbW9vdGhNb25vdG9uZSxlLmNvbm5lY3ROdWxscykrMX0sZS5wcm90b3R5cGUuZ2V0UG9pbnRPbj1mdW5jdGlvbih0LGUpe3RoaXMucGF0aHx8KHRoaXMuY3JlYXRlUGF0aFByb3h5KCksdGhpcy5idWlsZFBhdGgodGhpcy5wYXRoLHRoaXMuc2hhcGUpKTtmb3IodmFyIG4saSxyPXRoaXMucGF0aC5kYXRhLG89TGEuQ01ELGE9IngiPT09ZSxzPVtdLGw9MDtsPHIubGVuZ3RoOyl7dmFyIHU9dm9pZCAwLGg9dm9pZCAwLGM9dm9pZCAwLHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwLGc9dm9pZCAwO3N3aXRjaChyW2wrK10pe2Nhc2Ugby5NOm49cltsKytdLGk9cltsKytdO2JyZWFrO2Nhc2Ugby5MOmlmKHU9cltsKytdLGg9cltsKytdLChnPWE/KHQtbikvKHUtbik6KHQtaSkvKGgtaSkpPD0xJiZnPj0wKXt2YXIgeT1hPyhoLWkpKmcraToodS1uKSpnK247cmV0dXJuIGE/W3QseV06W3ksdF19bj11LGk9aDticmVhaztjYXNlIG8uQzp1PXJbbCsrXSxoPXJbbCsrXSxjPXJbbCsrXSxwPXJbbCsrXSxkPXJbbCsrXSxmPXJbbCsrXTt2YXIgdj1hP0JvKG4sdSxjLGQsdCxzKTpCbyhpLGgscCxmLHQscyk7aWYodj4wKWZvcih2YXIgbT0wO208djttKyspe3ZhciBfPXNbbV07aWYoXzw9MSYmXz49MCl7eT1hP0VvKGksaCxwLGYsXyk6RW8obix1LGMsZCxfKTtyZXR1cm4gYT9bdCx5XTpbeSx0XX19bj1kLGk9Zn19fSxlfShLYSksTHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlfShEdyksa3c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJlYy1wb2x5Z29uIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMd30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT1lLnN0YWNrZWRPblBvaW50cyxyPTAsbz1uLmxlbmd0aC8yLGE9ZS5zbW9vdGhNb25vdG9uZTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtvPjAmJlR3KG5bMipvLTJdLG5bMipvLTFdKTtvLS0pO2Zvcig7cjxvJiZUdyhuWzIqcl0sblsyKnIrMV0pO3IrKyk7fWZvcig7cjxvOyl7dmFyIHM9Q3codCxuLHIsbyxvLDEsZS5zbW9vdGgsYSxlLmNvbm5lY3ROdWxscyk7Q3codCxpLHIrcy0xLHMsbywtMSxlLnN0YWNrZWRPblNtb290aCxhLGUuY29ubmVjdE51bGxzKSxyKz1zKzEsdC5jbG9zZVBhdGgoKX19LGV9KEthKTtmdW5jdGlvbiBQdyh0LGUsbixpLHIpe3ZhciBvPXQuZ2V0QXJlYSgpLGE9by54LHM9by55LGw9by53aWR0aCx1PW8uaGVpZ2h0LGg9bi5nZXQoWyJsaW5lU3R5bGUiLCJ3aWR0aCJdKXx8MjthLT1oLzIscy09aC8yLGwrPWgsdSs9aCxhPU1hdGguZmxvb3IoYSksbD1NYXRoLnJvdW5kKGwpO3ZhciBjPW5ldyBscyh7c2hhcGU6e3g6YSx5OnMsd2lkdGg6bCxoZWlnaHQ6dX19KTtpZihlKXt2YXIgcD10LmdldEJhc2VBeGlzKCksZD1wLmlzSG9yaXpvbnRhbCgpLGY9cC5pbnZlcnNlO2Q/KGYmJihjLnNoYXBlLngrPWwpLGMuc2hhcGUud2lkdGg9MCk6KGZ8fChjLnNoYXBlLnkrPXUpLGMuc2hhcGUuaGVpZ2h0PTApLFd1KGMse3NoYXBlOnt3aWR0aDpsLGhlaWdodDp1LHg6YSx5OnN9fSxuLG51bGwsaSwiZnVuY3Rpb24iPT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyKHQsYyl9Om51bGwpfXJldHVybiBjfWZ1bmN0aW9uIE93KHQsZSxuKXt2YXIgaT10LmdldEFyZWEoKSxyPWppKGkucjAsMSksbz1qaShpLnIsMSksYT1uZXcgSmwoe3NoYXBlOntjeDpqaSh0LmN4LDEpLGN5OmppKHQuY3ksMSkscjA6cixyOm8sc3RhcnRBbmdsZTppLnN0YXJ0QW5nbGUsZW5kQW5nbGU6aS5lbmRBbmdsZSxjbG9ja3dpc2U6aS5jbG9ja3dpc2V9fSk7ZSYmKCJhbmdsZSI9PT10LmdldEJhc2VBeGlzKCkuZGltP2Euc2hhcGUuZW5kQW5nbGU9aS5zdGFydEFuZ2xlOmEuc2hhcGUucj1yLFd1KGEse3NoYXBlOntlbmRBbmdsZTppLmVuZEFuZ2xlLHI6b319LG4pKTtyZXR1cm4gYX1mdW5jdGlvbiBSdyh0LGUsbixpLHIpe3JldHVybiB0PyJwb2xhciI9PT10LnR5cGU/T3codCxlLG4pOiJjYXJ0ZXNpYW4yZCI9PT10LnR5cGU/UHcodCxlLG4saSxyKTpudWxsOm51bGx9ZnVuY3Rpb24gTncodCxlKXtyZXR1cm4gdC50eXBlPT09ZX1mdW5jdGlvbiB6dyh0LGUpe2lmKHQubGVuZ3RoPT09ZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybjtyZXR1cm4hMH19ZnVuY3Rpb24gRXcodCl7Zm9yKHZhciBlPTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wLG89MDtvPHQubGVuZ3RoOyl7dmFyIGE9dFtvKytdLHM9dFtvKytdO2lzTmFOKGEpfHwoZT1NYXRoLm1pbihhLGUpLGk9TWF0aC5tYXgoYSxpKSksaXNOYU4ocyl8fChuPU1hdGgubWluKHMsbikscj1NYXRoLm1heChzLHIpKX1yZXR1cm5bW2Usbl0sW2kscl1dfWZ1bmN0aW9uIFZ3KHQsZSl7dmFyIG49RXcodCksaT1uWzBdLHI9blsxXSxvPUV3KGUpLGE9b1swXSxzPW9bMV07cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKGlbMF0tYVswXSksTWF0aC5hYnMoaVsxXS1hWzFdKSxNYXRoLmFicyhyWzBdLXNbMF0pLE1hdGguYWJzKHJbMV0tc1sxXSkpfWZ1bmN0aW9uIEJ3KHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90OnQ/LjU6MH1mdW5jdGlvbiBGdyh0LGUsbil7Zm9yKHZhciBpPWUuZ2V0QmFzZUF4aXMoKSxyPSJ4Ij09PWkuZGltfHwicmFkaXVzIj09PWkuZGltPzA6MSxvPVtdLGE9MCxzPVtdLGw9W10sdT1bXTthPHQubGVuZ3RoLTI7YSs9Milzd2l0Y2godVswXT10W2ErMl0sdVsxXT10W2ErM10sbFswXT10W2FdLGxbMV09dFthKzFdLG8ucHVzaChsWzBdLGxbMV0pLG4pe2Nhc2UiZW5kIjpzW3JdPXVbcl0sc1sxLXJdPWxbMS1yXSxvLnB1c2goc1swXSxzWzFdKTticmVhaztjYXNlIm1pZGRsZSI6dmFyIGg9KGxbcl0rdVtyXSkvMixjPVtdO3Nbcl09Y1tyXT1oLHNbMS1yXT1sWzEtcl0sY1sxLXJdPXVbMS1yXSxvLnB1c2goc1swXSxzWzFdKSxvLnB1c2goY1swXSxjWzFdKTticmVhaztkZWZhdWx0OnNbcl09bFtyXSxzWzEtcl09dVsxLXJdLG8ucHVzaChzWzBdLHNbMV0pfXJldHVybiBvLnB1c2godFthKytdLHRbYSsrXSksb31mdW5jdGlvbiBHdyh0LGUsbil7dmFyIGk9dC5nZXQoInNob3dBbGxTeW1ib2wiKSxyPSJhdXRvIj09PWk7aWYoIWl8fHIpe3ZhciBvPW4uZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXTtpZihvJiYoIXJ8fCFmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1NYXRoLmFicyhuWzFdLW5bMF0pL3Quc2NhbGUuY291bnQoKTtpc05hTihpKSYmKGk9MCk7Zm9yKHZhciByPWUuY291bnQoKSxvPU1hdGgubWF4KDEsTWF0aC5yb3VuZChyLzUpKSxhPTA7YTxyO2ErPW8paWYoMS41KmR3LmdldFN5bWJvbFNpemUoZSxhKVt0LmlzSG9yaXpvbnRhbCgpPzE6MF0+aSlyZXR1cm4hMTtyZXR1cm4hMH0obyxlKSkpe3ZhciBhPWUubWFwRGltZW5zaW9uKG8uZGltKSxzPXt9O3JldHVybiBQKG8uZ2V0Vmlld0xhYmVscygpLChmdW5jdGlvbih0KXt2YXIgZT1vLnNjYWxlLmdldFJhd09yZGluYWxOdW1iZXIodC50aWNrVmFsdWUpO3NbZV09MX0pKSxmdW5jdGlvbih0KXtyZXR1cm4hcy5oYXNPd25Qcm9wZXJ0eShlLmdldChhLHQpKX19fX1mdW5jdGlvbiBIdyh0LGUpe3JldHVyblt0WzIqZV0sdFsyKmUrMV1dfWZ1bmN0aW9uIFd3KHQsZSxuLGkpe2lmKE53KGUsImNhcnRlc2lhbjJkIikpe3ZhciByPWkuZ2V0TW9kZWwoImVuZExhYmVsIiksbz1yLmdldCgic2hvdyIpLGE9ci5nZXQoInZhbHVlQW5pbWF0aW9uIikscz1pLmdldERhdGEoKSxsPXtsYXN0RnJhbWVJbmRleDowfSx1PW8/ZnVuY3Rpb24obixpKXt0Ll9lbmRMYWJlbE9uRHVyaW5nKG4saSxzLGwsYSxyLGUpfTpudWxsLGg9ZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLGM9UHcoZSxuLGksKGZ1bmN0aW9uKCl7dmFyIGU9dC5fZW5kTGFiZWw7ZSYmbiYmbnVsbCE9bC5vcmlnaW5hbFgmJmUuYXR0cih7eDpsLm9yaWdpbmFsWCx5Omwub3JpZ2luYWxZfSl9KSx1KTtpZighaS5nZXQoImNsaXAiLCEwKSl7dmFyIHA9Yy5zaGFwZSxkPU1hdGgubWF4KHAud2lkdGgscC5oZWlnaHQpO2g/KHAueS09ZCxwLmhlaWdodCs9MipkKToocC54LT1kLHAud2lkdGgrPTIqZCl9cmV0dXJuIHUmJnUoMSxjKSxjfXJldHVybiBPdyhlLG4saSl9dmFyIFV3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBFaSxlPW5ldyBtdzt0aGlzLmdyb3VwLmFkZChlLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PWUsdGhpcy5fbGluZUdyb3VwPXR9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxzPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGw9dC5nZXRNb2RlbCgiYXJlYVN0eWxlIiksdT1hLmdldExheW91dCgicG9pbnRzIil8fFtdLGg9InBvbGFyIj09PXIudHlwZSxjPXRoaXMuX2Nvb3JkU3lzLHA9dGhpcy5fc3ltYm9sRHJhdyxkPXRoaXMuX3BvbHlsaW5lLGY9dGhpcy5fcG9seWdvbixnPXRoaXMuX2xpbmVHcm91cCx5PXQuZ2V0KCJhbmltYXRpb24iKSx2PSFsLmlzRW1wdHkoKSxtPWwuZ2V0KCJvcmlnaW4iKSxfPV93KHIsYSxtKSx4PXYmJmZ1bmN0aW9uKHQsZSxuKXtpZighbi52YWx1ZURpbSlyZXR1cm5bXTtmb3IodmFyIGk9ZS5jb3VudCgpLHI9U3coMippKSxvPTA7bzxpO28rKyl7dmFyIGE9eHcobix0LGUsbyk7clsyKm9dPWFbMF0sclsyKm8rMV09YVsxXX1yZXR1cm4gcn0ocixhLF8pLGI9dC5nZXQoInNob3dTeW1ib2wiKSx3PWImJiFoJiZHdyh0LGEsciksUz10aGlzLl9kYXRhO1MmJlMuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dC5fX3RlbXAmJihvLnJlbW92ZSh0KSxTLnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKSl9KSksYnx8cC5yZW1vdmUoKSxvLmFkZChnKTt2YXIgTSxJPSFoJiZ0LmdldCgic3RlcCIpO3ImJnIuZ2V0QXJlYSYmdC5nZXQoImNsaXAiLCEwKSYmKG51bGwhPShNPXIuZ2V0QXJlYSgpKS53aWR0aD8oTS54LT0uMSxNLnktPS4xLE0ud2lkdGgrPS4yLE0uaGVpZ2h0Kz0uMik6TS5yMCYmKE0ucjAtPS41LE0ucis9LjUpKSx0aGlzLl9jbGlwU2hhcGVGb3JTeW1ib2w9TTt2YXIgQz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIik7aWYobiYmbi5sZW5ndGgmJnQuY291bnQoKSYmImNhcnRlc2lhbjJkIj09PWUudHlwZSl7Zm9yKHZhciBpLHIsbz1uLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1uW29dLmRpbWVuc2lvbixzPXQuZGltZW5zaW9uc1thXSxsPXQuZ2V0RGltZW5zaW9uSW5mbyhzKTtpZigieCI9PT0oaT1sJiZsLmNvb3JkRGltKXx8InkiPT09aSl7cj1uW29dO2JyZWFrfX1pZihyKXt2YXIgdT1lLmdldEF4aXMoaSksaD1PKHIuc3RvcHMsKGZ1bmN0aW9uKHQpe3JldHVybntvZmZzZXQ6MCxjb29yZDp1LnRvR2xvYmFsQ29vcmQodS5kYXRhVG9Db29yZCh0LnZhbHVlLCEwKSksY29sb3I6dC5jb2xvcn19KSksYz1oLmxlbmd0aCxwPXIub3V0ZXJDb2xvcnMuc2xpY2UoKTtjJiZoWzBdLmNvb3JkPmhbYy0xXS5jb29yZCYmKGgucmV2ZXJzZSgpLHAucmV2ZXJzZSgpKTt2YXIgZD1oWzBdLmNvb3JkLTEwLGY9aFtjLTFdLmNvb3JkKzEwLGc9Zi1kO2lmKGc8LjAwMSlyZXR1cm4idHJhbnNwYXJlbnQiO1AoaCwoZnVuY3Rpb24odCl7dC5vZmZzZXQ9KHQuY29vcmQtZCkvZ30pKSxoLnB1c2goe29mZnNldDpjP2hbYy0xXS5vZmZzZXQ6LjUsY29sb3I6cFsxXXx8InRyYW5zcGFyZW50In0pLGgudW5zaGlmdCh7b2Zmc2V0OmM/aFswXS5vZmZzZXQ6LjUsY29sb3I6cFswXXx8InRyYW5zcGFyZW50In0pO3ZhciB5PW5ldyBtdSgwLDAsMCwwLGgsITApO3JldHVybiB5W2ldPWQseVtpKyIyIl09Zix5fX19KGEscil8fGEuZ2V0VmlzdWFsKCJzdHlsZSIpW2EuZ2V0VmlzdWFsKCJkcmF3VHlwZSIpXTtkJiZjLnR5cGU9PT1yLnR5cGUmJkk9PT10aGlzLl9zdGVwPyh2JiYhZj9mPXRoaXMuX25ld1BvbHlnb24odSx4KTpmJiYhdiYmKGcucmVtb3ZlKGYpLGY9dGhpcy5fcG9seWdvbj1udWxsKSxofHx0aGlzLl9pbml0T3JVcGRhdGVFbmRMYWJlbCh0LHIsa2MoQykpLGcuc2V0Q2xpcFBhdGgoV3codGhpcyxyLCExLHQpKSxiJiZwLnVwZGF0ZURhdGEoYSx7aXNJZ25vcmU6dyxjbGlwU2hhcGU6TSxkaXNhYmxlQW5pbWF0aW9uOiEwLGdldFN5bWJvbFBvaW50OmZ1bmN0aW9uKHQpe3JldHVyblt1WzIqdF0sdVsyKnQrMV1dfX0pLHp3KHRoaXMuX3N0YWNrZWRPblBvaW50cyx4KSYmencodGhpcy5fcG9pbnRzLHUpfHwoeT90aGlzLl9kb1VwZGF0ZUFuaW1hdGlvbihhLHgscixuLEksbSk6KEkmJih1PUZ3KHUscixJKSx4JiYoeD1Gdyh4LHIsSSkpKSxkLnNldFNoYXBlKHtwb2ludHM6dX0pLGYmJmYuc2V0U2hhcGUoe3BvaW50czp1LHN0YWNrZWRPblBvaW50czp4fSkpKSk6KGImJnAudXBkYXRlRGF0YShhLHtpc0lnbm9yZTp3LGNsaXBTaGFwZTpNLGRpc2FibGVBbmltYXRpb246ITAsZ2V0U3ltYm9sUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuW3VbMip0XSx1WzIqdCsxXV19fSkseSYmdGhpcy5faW5pdFN5bWJvbExhYmVsQW5pbWF0aW9uKGEscixNKSxJJiYodT1Gdyh1LHIsSSkseCYmKHg9RncoeCxyLEkpKSksZD10aGlzLl9uZXdQb2x5bGluZSh1KSx2JiYoZj10aGlzLl9uZXdQb2x5Z29uKHUseCkpLGh8fHRoaXMuX2luaXRPclVwZGF0ZUVuZExhYmVsKHQscixrYyhDKSksZy5zZXRDbGlwUGF0aChXdyh0aGlzLHIsITAsdCkpKTt2YXIgRD10LmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksQT10LmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pOyhkLnVzZVN0eWxlKFQocy5nZXRMaW5lU3R5bGUoKSx7ZmlsbDoibm9uZSIsc3Ryb2tlOkMsbGluZUpvaW46ImJldmVsIn0pKSxjbChkLHQsImxpbmVTdHlsZSIpLGQuc3R5bGUubGluZVdpZHRoPjAmJiJib2xkZXIiPT09dC5nZXQoWyJlbXBoYXNpcyIsImxpbmVTdHlsZSIsIndpZHRoIl0pKSYmKGQuZ2V0U3RhdGUoImVtcGhhc2lzIikuc3R5bGUubGluZVdpZHRoPStkLnN0eWxlLmxpbmVXaWR0aCsxKTtfcyhkKS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LHNsKGQsRCxBKTt2YXIgTD1Cdyh0LmdldCgic21vb3RoIikpLGs9dC5nZXQoInNtb290aE1vbm90b25lIiksUj10LmdldCgiY29ubmVjdE51bGxzIik7aWYoZC5zZXRTaGFwZSh7c21vb3RoOkwsc21vb3RoTW9ub3RvbmU6ayxjb25uZWN0TnVsbHM6Un0pLGYpe3ZhciBOPWEuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT25TZXJpZXMiKSx6PTA7Zi51c2VTdHlsZShUKGwuZ2V0QXJlYVN0eWxlKCkse2ZpbGw6QyxvcGFjaXR5Oi43LGxpbmVKb2luOiJiZXZlbCIsZGVjYWw6YS5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWx9KSksTiYmKHo9QncoTi5nZXQoInNtb290aCIpKSksZi5zZXRTaGFwZSh7c21vb3RoOkwsc3RhY2tlZE9uU21vb3RoOnosc21vb3RoTW9ub3RvbmU6ayxjb25uZWN0TnVsbHM6Un0pLGNsKGYsdCwiYXJlYVN0eWxlIiksX3MoZikuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCxzbChmLEQsQSl9dmFyIEU9ZnVuY3Rpb24odCl7aS5fY2hhbmdlUG9seVN0YXRlKHQpfTthLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0JiYodC5vbkhvdmVyU3RhdGVDaGFuZ2U9RSl9KSksdGhpcy5fcG9seWxpbmUub25Ib3ZlclN0YXRlQ2hhbmdlPUUsdGhpcy5fZGF0YT1hLHRoaXMuX2Nvb3JkU3lzPXIsdGhpcy5fc3RhY2tlZE9uUG9pbnRzPXgsdGhpcy5fcG9pbnRzPXUsdGhpcy5fc3RlcD1JLHRoaXMuX3ZhbHVlT3JpZ2luPW19LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKSxvPUxyKHIsaSk7aWYodGhpcy5fY2hhbmdlUG9seVN0YXRlKCJlbXBoYXNpcyIpLCEobyBpbnN0YW5jZW9mIEFycmF5KSYmbnVsbCE9byYmbz49MCl7dmFyIGE9ci5nZXRMYXlvdXQoInBvaW50cyIpLHM9ci5nZXRJdGVtR3JhcGhpY0VsKG8pO2lmKCFzKXt2YXIgbD1hWzIqb10sdT1hWzIqbysxXTtpZihpc05hTihsKXx8aXNOYU4odSkpcmV0dXJuO2lmKHRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbCYmIXRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbC5jb250YWluKGwsdSkpcmV0dXJuO3ZhciBoPXQuZ2V0KCJ6bGV2ZWwiKSxjPXQuZ2V0KCJ6Iik7KHM9bmV3IGR3KHIsbykpLng9bCxzLnk9dSxzLnNldFooaCxjKTt2YXIgcD1zLmdldFN5bWJvbFBhdGgoKS5nZXRUZXh0Q29udGVudCgpO3AmJihwLnpsZXZlbD1oLHAuej1jLHAuejI9dGhpcy5fcG9seWxpbmUuejIrMSkscy5fX3RlbXA9ITAsci5zZXRJdGVtR3JhcGhpY0VsKG8scykscy5zdG9wU3ltYm9sQW5pbWF0aW9uKCEwKSx0aGlzLmdyb3VwLmFkZChzKX1zLmhpZ2hsaWdodCgpfWVsc2UgVGYucHJvdG90eXBlLmhpZ2hsaWdodC5jYWxsKHRoaXMsdCxlLG4saSl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0RGF0YSgpLG89THIocixpKTtpZih0aGlzLl9jaGFuZ2VQb2x5U3RhdGUoIm5vcm1hbCIpLG51bGwhPW8mJm8+PTApe3ZhciBhPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTthJiYoYS5fX3RlbXA/KHIuc2V0SXRlbUdyYXBoaWNFbChvLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKGEpKTphLmRvd25wbGF5KCkpfWVsc2UgVGYucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsbixpKX0sZS5wcm90b3R5cGUuX2NoYW5nZVBvbHlTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5Z29uO1dzKHRoaXMuX3BvbHlsaW5lLHQpLGUmJldzKGUsdCl9LGUucHJvdG90eXBlLl9uZXdQb2x5bGluZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5bGluZTtyZXR1cm4gZSYmdGhpcy5fbGluZUdyb3VwLnJlbW92ZShlKSxlPW5ldyBBdyh7c2hhcGU6e3BvaW50czp0fSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjIsejI6MTB9KSx0aGlzLl9saW5lR3JvdXAuYWRkKGUpLHRoaXMuX3BvbHlsaW5lPWUsZX0sZS5wcm90b3R5cGUuX25ld1BvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wb2x5Z29uO3JldHVybiBuJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKG4pLG49bmV3IGt3KHtzaGFwZTp7cG9pbnRzOnQsc3RhY2tlZE9uUG9pbnRzOmV9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6Mn0pLHRoaXMuX2xpbmVHcm91cC5hZGQobiksdGhpcy5fcG9seWdvbj1uLG59LGUucHJvdG90eXBlLl9pbml0U3ltYm9sTGFiZWxBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1lLmdldEJhc2VBeGlzKCksYT1vLmludmVyc2U7ImNhcnRlc2lhbjJkIj09PWUudHlwZT8oaT1vLmlzSG9yaXpvbnRhbCgpLHI9ITEpOiJwb2xhciI9PT1lLnR5cGUmJihpPSJhbmdsZSI9PT1vLmRpbSxyPSEwKTt2YXIgcz10Lmhvc3RNb2RlbCxsPXMuZ2V0KCJhbmltYXRpb25EdXJhdGlvbiIpOyJmdW5jdGlvbiI9PXR5cGVvZiBsJiYobD1sKG51bGwpKTt2YXIgdT1zLmdldCgiYW5pbWF0aW9uRGVsYXkiKXx8MCxoPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3UobnVsbCk6dTt0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LG8pe3ZhciBzPXQ7aWYocyl7dmFyIGM9W3QueCx0LnldLHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwO2lmKG4paWYocil7dmFyIGc9bix5PWUucG9pbnRUb0Nvb3JkKGMpO2k/KHA9Zy5zdGFydEFuZ2xlLGQ9Zy5lbmRBbmdsZSxmPS15WzFdLzE4MCpNYXRoLlBJKToocD1nLnIwLGQ9Zy5yLGY9eVswXSl9ZWxzZXt2YXIgdj1uO2k/KHA9di54LGQ9di54K3Yud2lkdGgsZj10LngpOihwPXYueSt2LmhlaWdodCxkPXYueSxmPXQueSl9dmFyIG09ZD09PXA/MDooZi1wKS8oZC1wKTthJiYobT0xLW0pO3ZhciBfPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3Uobyk6bCptK2gseD1zLmdldFN5bWJvbFBhdGgoKSxiPXguZ2V0VGV4dENvbnRlbnQoKTtzLmF0dHIoe3NjYWxlWDowLHNjYWxlWTowfSkscy5hbmltYXRlVG8oe3NjYWxlWDoxLHNjYWxlWToxfSx7ZHVyYXRpb246MjAwLGRlbGF5Ol99KSxiJiZiLmFuaW1hdGVGcm9tKHtzdHlsZTp7b3BhY2l0eTowfX0se2R1cmF0aW9uOjMwMCxkZWxheTpffSkseC5kaXNhYmxlTGFiZWxBbmltYXRpb249ITB9fSkpfSxlLnByb3RvdHlwZS5faW5pdE9yVXBkYXRlRW5kTGFiZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0TW9kZWwoImVuZExhYmVsIik7aWYoaS5nZXQoInNob3ciKSl7dmFyIHI9dC5nZXREYXRhKCksbz10aGlzLl9wb2x5bGluZSxhPXRoaXMuX2VuZExhYmVsO2F8fCgoYT10aGlzLl9lbmRMYWJlbD1uZXcgY3Moe3oyOjIwMH0pKS5pZ25vcmVDbGlwPSEwLG8uc2V0VGV4dENvbnRlbnQodGhpcy5fZW5kTGFiZWwpLG8uZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwKTt2YXIgcz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixpPXQubGVuZ3RoLzI7aT4wJiYoZT10WzIqaS0yXSxuPXRbMippLTFdLGlzTmFOKGUpfHxpc05hTihuKSk7aS0tKTtyZXR1cm4gaS0xfShyLmdldExheW91dCgicG9pbnRzIikpO3M+PTAmJihoaChvLGNoKHQsImVuZExhYmVsIikse2luaGVyaXRDb2xvcjpuLGxhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OnMsZGVmYXVsdFRleHQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT1uP3B3KHIsbik6Y3cocix0KX0sZW5hYmxlVGV4dFNldHRlcjohMH0sZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldEJhc2VBeGlzKCksaT1uLmlzSG9yaXpvbnRhbCgpLHI9bi5pbnZlcnNlLG89aT9yPyJyaWdodCI6ImxlZnQiOiJjZW50ZXIiLGE9aT8ibWlkZGxlIjpyPyJ0b3AiOiJib3R0b20iO3JldHVybntub3JtYWw6e2FsaWduOnQuZ2V0KCJhbGlnbiIpfHxvLHZlcnRpY2FsQWxpZ246dC5nZXQoInZlcnRpY2FsQWxpZ24iKXx8YX19fShpLGUpKSxvLnRleHRDb25maWcucG9zaXRpb249bnVsbCl9ZWxzZSB0aGlzLl9lbmRMYWJlbCYmKHRoaXMuX3BvbHlsaW5lLnJlbW92ZVRleHRDb250ZW50KCksdGhpcy5fZW5kTGFiZWw9bnVsbCl9LGUucHJvdG90eXBlLl9lbmRMYWJlbE9uRHVyaW5nPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuX2VuZExhYmVsLGw9dGhpcy5fcG9seWxpbmU7aWYocyl7dDwxJiZudWxsPT1pLm9yaWdpbmFsWCYmKGkub3JpZ2luYWxYPXMueCxpLm9yaWdpbmFsWT1zLnkpO3ZhciB1PW4uZ2V0TGF5b3V0KCJwb2ludHMiKSxoPW4uaG9zdE1vZGVsLGM9aC5nZXQoImNvbm5lY3ROdWxscyIpLHA9by5nZXQoInByZWNpc2lvbiIpLGQ9by5nZXQoImRpc3RhbmNlIil8fDAsZj1hLmdldEJhc2VBeGlzKCksZz1mLmlzSG9yaXpvbnRhbCgpLHk9Zi5pbnZlcnNlLHY9ZS5zaGFwZSxtPXk/Zz92Lng6di55K3YuaGVpZ2h0Omc/di54K3Yud2lkdGg6di55LF89KGc/ZDowKSooeT8tMToxKSx4PShnPzA6LWQpKih5Py0xOjEpLGI9Zz8ieCI6InkiLHc9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyLG89dC5sZW5ndGgvMixhPSJ4Ij09PW4/MDoxLHM9MCxsPS0xLHU9MDt1PG87dSsrKWlmKHI9dFsyKnUrYV0sIWlzTmFOKHIpJiYhaXNOYU4odFsyKnUrMS1hXSkpaWYoMCE9PXUpe2lmKGk8PWUmJnI+PWV8fGk+PWUmJnI8PWUpe2w9dTticmVha31zPXUsaT1yfWVsc2UgaT1yO3JldHVybntyYW5nZTpbcyxsXSx0OihlLWkpLyhyLWkpfX0odSxtLGIpLFM9dy5yYW5nZSxNPVNbMV0tU1swXSxJPXZvaWQgMDtpZihNPj0xKXtpZihNPjEmJiFjKXt2YXIgVD1Idyh1LFNbMF0pO3MuYXR0cih7eDpUWzBdK18seTpUWzFdK3h9KSxyJiYoST1oLmdldFJhd1ZhbHVlKFNbMF0pKX1lbHNleyhUPWwuZ2V0UG9pbnRPbihtLGIpKSYmcy5hdHRyKHt4OlRbMF0rXyx5OlRbMV0reH0pO3ZhciBDPWguZ2V0UmF3VmFsdWUoU1swXSksRD1oLmdldFJhd1ZhbHVlKFNbMV0pO3ImJihJPUZyKG4scCxDLEQsdy50KSl9aS5sYXN0RnJhbWVJbmRleD1TWzBdfWVsc2V7dmFyIEE9MT09PXR8fGkubGFzdEZyYW1lSW5kZXg+MD9TWzBdOjA7VD1Idyh1LEEpO3ImJihJPWguZ2V0UmF3VmFsdWUoQSkpLHMuYXR0cih7eDpUWzBdK18seTpUWzFdK3h9KX1yJiZfaChzKS5zZXRMYWJlbFRleHQoSSl9fSxlLnByb3RvdHlwZS5fZG9VcGRhdGVBbmltYXRpb249ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuX3BvbHlsaW5lLHM9dGhpcy5fcG9seWdvbixsPXQuaG9zdE1vZGVsLHU9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gZS5kaWZmKHQpLmFkZCgoZnVuY3Rpb24odCl7bi5wdXNoKHtjbWQ6IisiLGlkeDp0fSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe24ucHVzaCh7Y21kOiI9IixpZHg6ZSxpZHgxOnR9KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe24ucHVzaCh7Y21kOiItIixpZHg6dH0pfSkpLmV4ZWN1dGUoKSxufSh0LGUpLHU9W10saD1bXSxjPVtdLHA9W10sZD1bXSxmPVtdLGc9W10seT1fdyhyLGUsYSksdj10LmdldExheW91dCgicG9pbnRzIil8fFtdLG09ZS5nZXRMYXlvdXQoInBvaW50cyIpfHxbXSxfPTA7XzxsLmxlbmd0aDtfKyspe3ZhciB4PWxbX10sYj0hMCx3PXZvaWQgMCxTPXZvaWQgMDtzd2l0Y2goeC5jbWQpe2Nhc2UiPSI6dz0yKnguaWR4LFM9Mip4LmlkeDE7dmFyIE09dlt3XSxJPXZbdysxXSxUPW1bU10sQz1tW1MrMV07KGlzTmFOKE0pfHxpc05hTihJKSkmJihNPVQsST1DKSx1LnB1c2goTSxJKSxoLnB1c2goVCxDKSxjLnB1c2goblt3XSxuW3crMV0pLHAucHVzaChpW1NdLGlbUysxXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoeC5pZHgxKSk7YnJlYWs7Y2FzZSIrIjp2YXIgRD14LmlkeCxBPXkuZGF0YURpbXNGb3JQb2ludCxMPXIuZGF0YVRvUG9pbnQoW2UuZ2V0KEFbMF0sRCksZS5nZXQoQVsxXSxEKV0pO1M9MipELHUucHVzaChMWzBdLExbMV0pLGgucHVzaChtW1NdLG1bUysxXSk7dmFyIGs9eHcoeSxyLGUsRCk7Yy5wdXNoKGtbMF0sa1sxXSkscC5wdXNoKGlbU10saVtTKzFdKSxnLnB1c2goZS5nZXRSYXdJbmRleChEKSk7YnJlYWs7Y2FzZSItIjpiPSExfWImJihkLnB1c2goeCksZi5wdXNoKGYubGVuZ3RoKSl9Zi5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBnW3RdLWdbZV19KSk7dmFyIFA9dS5sZW5ndGgsTz1TdyhQKSxSPVN3KFApLE49U3coUCksej1TdyhQKSxFPVtdO2ZvcihfPTA7XzxmLmxlbmd0aDtfKyspe3ZhciBWPWZbX10sQj0yKl8sRj0yKlY7T1tCXT11W0ZdLE9bQisxXT11W0YrMV0sUltCXT1oW0ZdLFJbQisxXT1oW0YrMV0sTltCXT1jW0ZdLE5bQisxXT1jW0YrMV0seltCXT1wW0ZdLHpbQisxXT1wW0YrMV0sRVtfXT1kW1ZdfXJldHVybntjdXJyZW50Ok8sbmV4dDpSLHN0YWNrZWRPbkN1cnJlbnQ6TixzdGFja2VkT25OZXh0Onosc3RhdHVzOkV9fSh0aGlzLl9kYXRhLHQsdGhpcy5fc3RhY2tlZE9uUG9pbnRzLGUsdGhpcy5fY29vcmRTeXMsMCx0aGlzLl92YWx1ZU9yaWdpbiksaD11LmN1cnJlbnQsYz11LnN0YWNrZWRPbkN1cnJlbnQscD11Lm5leHQsZD11LnN0YWNrZWRPbk5leHQ7aWYociYmKGg9RncodS5jdXJyZW50LG4sciksYz1Gdyh1LnN0YWNrZWRPbkN1cnJlbnQsbixyKSxwPUZ3KHUubmV4dCxuLHIpLGQ9RncodS5zdGFja2VkT25OZXh0LG4scikpLFZ3KGgscCk+M2UzfHxzJiZWdyhjLGQpPjNlMylyZXR1cm4gYS5zZXRTaGFwZSh7cG9pbnRzOnB9KSx2b2lkKHMmJnMuc2V0U2hhcGUoe3BvaW50czpwLHN0YWNrZWRPblBvaW50czpkfSkpO2Euc2hhcGUuX19wb2ludHM9dS5jdXJyZW50LGEuc2hhcGUucG9pbnRzPWg7dmFyIGY9e3NoYXBlOntwb2ludHM6cH19O3UuY3VycmVudCE9PWgmJihmLnNoYXBlLl9fcG9pbnRzPXUubmV4dCksYS5zdG9wQW5pbWF0aW9uKCksSHUoYSxmLGwpLHMmJihzLnNldFNoYXBlKHtwb2ludHM6aCxzdGFja2VkT25Qb2ludHM6Y30pLHMuc3RvcEFuaW1hdGlvbigpLEh1KHMse3NoYXBlOntzdGFja2VkT25Qb2ludHM6ZH19LGwpLGEuc2hhcGUucG9pbnRzIT09cy5zaGFwZS5wb2ludHMmJihzLnNoYXBlLnBvaW50cz1hLnNoYXBlLnBvaW50cykpO2Zvcih2YXIgZz1bXSx5PXUuc3RhdHVzLHY9MDt2PHkubGVuZ3RoO3YrKyl7aWYoIj0iPT09eVt2XS5jbWQpe3ZhciBtPXQuZ2V0SXRlbUdyYXBoaWNFbCh5W3ZdLmlkeDEpO20mJmcucHVzaCh7ZWw6bSxwdElkeDp2fSl9fWEuYW5pbWF0b3JzJiZhLmFuaW1hdG9ycy5sZW5ndGgmJmEuYW5pbWF0b3JzWzBdLmR1cmluZygoZnVuY3Rpb24oKXtzJiZzLmRpcnR5U2hhcGUoKTtmb3IodmFyIHQ9YS5zaGFwZS5fX3BvaW50cyxlPTA7ZTxnLmxlbmd0aDtlKyspe3ZhciBuPWdbZV0uZWwsaT0yKmdbZV0ucHRJZHg7bi54PXRbaV0sbi55PXRbaSsxXSxuLm1hcmtSZWRyYXcoKX19KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTt0aGlzLl9saW5lR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLG4mJm4uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsaSl7dC5fX3RlbXAmJihlLnJlbW92ZSh0KSxuLnNldEl0ZW1HcmFwaGljRWwoaSxudWxsKSl9KSksdGhpcy5fcG9seWxpbmU9dGhpcy5fcG9seWdvbj10aGlzLl9jb29yZFN5cz10aGlzLl9wb2ludHM9dGhpcy5fc3RhY2tlZE9uUG9pbnRzPXRoaXMuX2VuZExhYmVsPXRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPSJsaW5lIixlfShUZik7ZnVuY3Rpb24gWHcodCxlKXtyZXR1cm57c2VyaWVzVHlwZTp0LHBsYW46U2YoKSxyZXNldDpmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQucGlwZWxpbmVDb250ZXh0LG89ZXx8ci5sYXJnZTtpZihpKXt2YXIgYT1PKGkuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIG4ubWFwRGltZW5zaW9uKHQpfSkpLnNsaWNlKDAsMikscz1hLmxlbmd0aCxsPW4uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO1ZfKG4sYVswXSkmJihhWzBdPWwpLFZfKG4sYVsxXSkmJihhWzFdPWwpO3ZhciB1PW4uZ2V0RGltZW5zaW9uSW5mbyhhWzBdKSxoPW4uZ2V0RGltZW5zaW9uSW5mbyhhWzFdKSxjPXUmJnUuaW5kZXgscD1oJiZoLmluZGV4O3JldHVybiBzJiZ7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5lbmQtdC5zdGFydCxyPW8mJlN3KG4qcyksYT1bXSxsPVtdLHU9dC5zdGFydCxoPTA7dTx0LmVuZDt1Kyspe3ZhciBkPXZvaWQgMDtpZigxPT09cyl7dmFyIGY9ZS5nZXRCeURpbUlkeChjLHUpO2Q9aS5kYXRhVG9Qb2ludChmLG51bGwsbCl9ZWxzZSBhWzBdPWUuZ2V0QnlEaW1JZHgoYyx1KSxhWzFdPWUuZ2V0QnlEaW1JZHgocCx1KSxkPWkuZGF0YVRvUG9pbnQoYSxudWxsLGwpO28/KHJbaCsrXT1kWzBdLHJbaCsrXT1kWzFdKTplLnNldEl0ZW1MYXlvdXQodSxkLnNsaWNlKCkpfW8mJmUuc2V0TGF5b3V0KCJwb2ludHMiLHIpfX19fX19dmFyIFl3PXthdmVyYWdlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspaXNOYU4odFtpXSl8fChlKz10W2ldLG4rKyk7cmV0dXJuIDA9PT1uP05hTjplL259LHN1bTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspZSs9dFtuXXx8MDtyZXR1cm4gZX0sbWF4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMS8wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPmUmJihlPXRbbl0pO3JldHVybiBpc0Zpbml0ZShlKT9lOk5hTn0sbWluOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAsbj0wO248dC5sZW5ndGg7bisrKXRbbl08ZSYmKGU9dFtuXSk7cmV0dXJuIGlzRmluaXRlKGUpP2U6TmFOfSxuZWFyZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfX0sWnc9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodC5sZW5ndGgvMil9O2Z1bmN0aW9uIGp3KHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5nZXQoInNhbXBsaW5nIiksbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT1pLmNvdW50KCk7aWYoYT4xMCYmImNhcnRlc2lhbjJkIj09PW8udHlwZSYmcil7dmFyIHM9by5nZXRCYXNlQXhpcygpLGw9by5nZXRPdGhlckF4aXMocyksdT1zLmdldEV4dGVudCgpLGg9bi5nZXREZXZpY2VQaXhlbFJhdGlvKCksYz1NYXRoLmFicyh1WzFdLXVbMF0pKihofHwxKSxwPU1hdGgucm91bmQoYS9jKTtpZihwPjEpeyJsdHRiIj09PXImJnQuc2V0RGF0YShpLmx0dGJEb3duU2FtcGxlKGkubWFwRGltZW5zaW9uKGwuZGltKSwxL3ApKTt2YXIgZD12b2lkIDA7InN0cmluZyI9PXR5cGVvZiByP2Q9WXdbcl06ImZ1bmN0aW9uIj09dHlwZW9mIHImJihkPXIpLGQmJnQuc2V0RGF0YShpLmRvd25TYW1wbGUoaS5tYXBEaW1lbnNpb24obC5kaW0pLDEvcCxkLFp3KSl9fX19fXZhciBxdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBGXyh0aGlzLmdldFNvdXJjZSgpLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5nZXRNYXJrZXJQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvb3JkaW5hdGVTeXN0ZW07aWYoZSl7dmFyIG49ZS5kYXRhVG9Qb2ludChlLmNsYW1wRGF0YSh0KSksaT10aGlzLmdldERhdGEoKSxyPWkuZ2V0TGF5b3V0KCJvZmZzZXQiKSxvPWkuZ2V0TGF5b3V0KCJzaXplIik7cmV0dXJuIG5bZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpPzA6MV0rPXIrby8yLG59cmV0dXJuW05hTixOYU5dfSxlLnR5cGU9InNlcmllcy5fX2Jhc2VfYmFyX18iLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6M2UzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QifSxlfShmZik7ZmYucmVnaXN0ZXJDbGFzcyhxdyk7dmFyIEt3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIEZfKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwLGNyZWF0ZUludmVydGVkSW5kaWNlczohIXRoaXMuZ2V0KCJyZWFsdGltZVNvcnQiLCEwKXx8bnVsbH0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoImxhcmdlIikmJnRoaXMuZ2V0KCJwcm9ncmVzc2l2ZSIpfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpLGU9dGhpcy5nZXQoImxhcmdlVGhyZXNob2xkIik7cmV0dXJuIGU+dCYmKHQ9ZSksdH0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucmVjdChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9InNlcmllcy5iYXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXpoKHF3LmRlZmF1bHRPcHRpb24se2NsaXA6ITAscm91bmRDYXA6ITEsc2hvd0JhY2tncm91bmQ6ITEsYmFja2dyb3VuZFN0eWxlOntjb2xvcjoicmdiYSgxODAsIDE4MCwgMTgwLCAwLjIpIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyVHlwZToic29saWQiLGJvcmRlclJhZGl1czowLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjpudWxsLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsb3BhY2l0eToxfSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX0scmVhbHRpbWVTb3J0OiExfSksZX0ocXcpLCR3PWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnIwPTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITB9LEp3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ic2F1c2FnZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgJHd9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9TWF0aC5tYXgoZS5yMHx8MCwwKSxvPU1hdGgubWF4KGUuciwwKSxhPS41KihvLXIpLHM9cithLGw9ZS5zdGFydEFuZ2xlLHU9ZS5lbmRBbmdsZSxoPWUuY2xvY2t3aXNlLGM9TWF0aC5jb3MobCkscD1NYXRoLnNpbihsKSxkPU1hdGguY29zKHUpLGY9TWF0aC5zaW4odSk7KGg/dS1sPDIqTWF0aC5QSTpsLXU8MipNYXRoLlBJKSYmKHQubW92ZVRvKGMqcituLHAqcitpKSx0LmFyYyhjKnMrbixwKnMraSxhLC1NYXRoLlBJK2wsbCwhaCkpLHQuYXJjKG4saSxvLGwsdSwhaCksdC5tb3ZlVG8oZCpvK24sZipvK2kpLHQuYXJjKGQqcytuLGYqcytpLGEsdS0yKk1hdGguUEksdS1NYXRoLlBJLCFoKSwwIT09ciYmKHQuYXJjKG4saSxyLHUsbCxoKSx0Lm1vdmVUbyhjKnIrbixmKnIraSkpLHQuY2xvc2VQYXRoKCl9LGV9KEthKSxRdz1bMCwwXSx0Uz1NYXRoLm1heCxlUz1NYXRoLm1pbjt2YXIgblM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9pc0ZpcnN0RnJhbWU9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9tb2RlbD10LHRoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihuKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KTt2YXIgcj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpOygiY2FydGVzaWFuMmQiPT09cnx8InBvbGFyIj09PXIpJiYodGhpcy5faXNMYXJnZURyYXc/dGhpcy5fcmVuZGVyTGFyZ2UodCxlLG4pOnRoaXMuX3JlbmRlck5vcm1hbCh0LGUsbixpKSl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLl9jbGVhcigpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpLHRoaXMuX3VwZGF0ZUxhcmdlQ2xpcCh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlKHQsZSl9LGUucHJvdG90eXBlLl91cGRhdGVEcmF3TW9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtudWxsIT10aGlzLl9pc0xhcmdlRHJhdyYmZT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sZS5wcm90b3R5cGUuX3JlbmRlck5vcm1hbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxzPXRoaXMuX2RhdGEsbD10LmNvb3JkaW5hdGVTeXN0ZW0sdT1sLmdldEJhc2VBeGlzKCk7ImNhcnRlc2lhbjJkIj09PWwudHlwZT9yPXUuaXNIb3Jpem9udGFsKCk6InBvbGFyIj09PWwudHlwZSYmKHI9ImFuZ2xlIj09PXUuZGltKTt2YXIgaD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpP3Q6bnVsbCxjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoInJlYWx0aW1lU29ydCIsITApLGk9ZS5nZXRCYXNlQXhpcygpOzA7aWYobiYmImNhdGVnb3J5Ij09PWkudHlwZSYmImNhcnRlc2lhbjJkIj09PWUudHlwZSlyZXR1cm57YmFzZUF4aXM6aSxvdGhlckF4aXM6ZS5nZXRPdGhlckF4aXMoaSl9fSh0LGwpO2MmJnRoaXMuX2VuYWJsZVJlYWx0aW1lU29ydChjLGEsbik7dmFyIHA9dC5nZXQoImNsaXAiLCEwKXx8YyxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRBcmVhJiZ0LmdldEFyZWEoKTtpZihOdyh0LCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT10LmdldEJhc2VBeGlzKCk7aWYoImNhdGVnb3J5IiE9PWkudHlwZXx8IWkub25CYW5kKXt2YXIgcj1lLmdldExheW91dCgiYmFuZFdpZHRoIik7aS5pc0hvcml6b250YWwoKT8obi54LT1yLG4ud2lkdGgrPTIqcik6KG4ueS09cixuLmhlaWdodCs9MipyKX19cmV0dXJuIG59KGwsYSk7by5yZW1vdmVDbGlwUGF0aCgpO3ZhciBmPXQuZ2V0KCJyb3VuZENhcCIsITApLGc9dC5nZXQoInNob3dCYWNrZ3JvdW5kIiwhMCkseT10LmdldE1vZGVsKCJiYWNrZ3JvdW5kU3R5bGUiKSx2PXkuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCxtPVtdLF89dGhpcy5fYmFja2dyb3VuZEVscyx4PWkmJmkuaXNJbml0U29ydCxiPWkmJiJjaGFuZ2VBeGlzT3JkZXIiPT09aS50eXBlO2Z1bmN0aW9uIHcodCl7dmFyIGU9YVNbbC50eXBlXShhLHQpLG49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcoInBvbGFyIj09PXQudHlwZT9KbDpscykoe3NoYXBlOnBTKGUsbix0KSxzaWxlbnQ6ITAsejI6MH0pfShsLHIsZSk7cmV0dXJuIG4udXNlU3R5bGUoeS5nZXRJdGVtU3R5bGUoKSksImNhcnRlc2lhbjJkIj09PWwudHlwZSYmbi5zZXRTaGFwZSgiciIsdiksbVt0XT1uLG59YS5kaWZmKHMpLmFkZCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksaT1hU1tsLnR5cGVdKGEsZSxuKTtpZihnJiZ3KGUpLGEuaGFzVmFsdWUoZSkpe3ZhciBzPSExO3AmJihzPWlTW2wudHlwZV0oZCxpKSk7dmFyIHk9clNbbC50eXBlXSh0LGEsZSxpLHIsaCx1Lm1vZGVsLCExLGYpO3NTKHksYSxlLG4saSx0LHIsInBvbGFyIj09PWwudHlwZSkseD95LmF0dHIoe3NoYXBlOml9KTpjP29TKGMsaCx5LGksZSxyLCExLCExKTpXdSh5LHtzaGFwZTppfSx0LGUpLGEuc2V0SXRlbUdyYXBoaWNFbChlLHkpLG8uYWRkKHkpLHkuaWdub3JlPXN9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1Nb2RlbChlKSxTPWFTW2wudHlwZV0oYSxlLGkpO2lmKGcpe3ZhciBNPXZvaWQgMDswPT09Xy5sZW5ndGg/TT13KG4pOigoTT1fW25dKS51c2VTdHlsZSh5LmdldEl0ZW1TdHlsZSgpKSwiY2FydGVzaWFuMmQiPT09bC50eXBlJiZNLnNldFNoYXBlKCJyIix2KSxtW2VdPU0pO3ZhciBJPWFTW2wudHlwZV0oYSxlKTtIdShNLHtzaGFwZTpwUyhyLEksbCl9LGgsZSl9dmFyIFQ9cy5nZXRJdGVtR3JhcGhpY0VsKG4pO2lmKCFhLmhhc1ZhbHVlKGUpKXJldHVybiBvLnJlbW92ZShUKSx2b2lkKFQ9bnVsbCk7dmFyIEM9ITE7cCYmKEM9aVNbbC50eXBlXShkLFMpKSYmby5yZW1vdmUoVCksVHx8KFQ9clNbbC50eXBlXSh0LGEsZSxTLHIsaCx1Lm1vZGVsLCEhVCxmKSksYnx8c1MoVCxhLGUsaSxTLHQsciwicG9sYXIiPT09bC50eXBlKSx4P1QuYXR0cih7c2hhcGU6U30pOmM/b1MoYyxoLFQsUyxlLHIsITAsYik6SHUoVCx7c2hhcGU6U30sdCxlLG51bGwpLGEuc2V0SXRlbUdyYXBoaWNFbChlLFQpLFQuaWdub3JlPUMsby5hZGQoVCl9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt2YXIgbj1zLmdldEl0ZW1HcmFwaGljRWwoZSk7biYmWXUobix0LGUpfSkpLmV4ZWN1dGUoKTt2YXIgUz10aGlzLl9iYWNrZ3JvdW5kR3JvdXB8fCh0aGlzLl9iYWNrZ3JvdW5kR3JvdXA9bmV3IEVpKTtTLnJlbW92ZUFsbCgpO2Zvcih2YXIgTT0wO008bS5sZW5ndGg7KytNKVMuYWRkKG1bTV0pO28uYWRkKFMpLHRoaXMuX2JhY2tncm91bmRFbHM9bSx0aGlzLl9kYXRhPWF9LGUucHJvdG90eXBlLl9yZW5kZXJMYXJnZT1mdW5jdGlvbih0LGUsbil7dGhpcy5fY2xlYXIoKSxoUyh0LHRoaXMuZ3JvdXApLHRoaXMuX3VwZGF0ZUxhcmdlQ2xpcCh0KX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZW1vdmVCYWNrZ3JvdW5kKCksaFMoZSx0aGlzLmdyb3VwLCEwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhcmdlQ2xpcD1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY2xpcCIsITApP1J3KHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTpudWxsO2U/dGhpcy5ncm91cC5zZXRDbGlwUGF0aChlKTp0aGlzLmdyb3VwLnJlbW92ZUNsaXBQYXRoKCl9LGUucHJvdG90eXBlLl9lbmFibGVSZWFsdGltZVNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7aWYoZS5jb3VudCgpKXt2YXIgcj10LmJhc2VBeGlzO2lmKHRoaXMuX2lzRmlyc3RGcmFtZSl0aGlzLl9kaXNwYXRjaEluaXRTb3J0KGUsdCxuKSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITE7ZWxzZXt2YXIgbz1mdW5jdGlvbih0KXt2YXIgbj1lLmdldEl0ZW1HcmFwaGljRWwodCk7aWYobil7dmFyIGk9bi5zaGFwZTtyZXR1cm4oci5pc0hvcml6b250YWwoKT9NYXRoLmFicyhpLmhlaWdodCk6TWF0aC5hYnMoaS53aWR0aCkpfHwwfXJldHVybiAwfTt0aGlzLl9vblJlbmRlcmVkPWZ1bmN0aW9uKCl7aS5fdXBkYXRlU29ydFdpdGhpblNhbWVEYXRhKGUsbyxyLG4pfSxuLmdldFpyKCkub24oInJlbmRlcmVkIix0aGlzLl9vblJlbmRlcmVkKX19fSxlLnByb3RvdHlwZS5fZGF0YVNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdO3JldHVybiB0LmVhY2godC5tYXBEaW1lbnNpb24oZS5kaW0pLChmdW5jdGlvbih0LGUpe3ZhciByPW4oZSk7cj1udWxsPT1yP05hTjpyLGkucHVzaCh7ZGF0YUluZGV4OmUsbWFwcGVkVmFsdWU6cixvcmRpbmFsTnVtYmVyOnR9KX0pKSxpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubWFwcGVkVmFsdWUtdC5tYXBwZWRWYWx1ZX0pKSx7b3JkaW5hbE51bWJlcnM6TyhpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRpbmFsTnVtYmVyfSkpfX0sZS5wcm90b3R5cGUuX2lzT3JkZXJDaGFuZ2VkV2l0aGluU2FtZURhdGE9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1uLnNjYWxlLHI9dC5tYXBEaW1lbnNpb24obi5kaW0pLG89TnVtYmVyLk1BWF9WQUxVRSxhPTAscz1pLmdldE9yZGluYWxNZXRhKCkuY2F0ZWdvcmllcy5sZW5ndGg7YTxzOysrYSl7dmFyIGw9dC5yYXdJbmRleE9mKHIsaS5nZXRSYXdPcmRpbmFsTnVtYmVyKGEpKSx1PWw8MD9OdW1iZXIuTUlOX1ZBTFVFOmUodC5pbmRleE9mUmF3SW5kZXgobCkpO2lmKHU+bylyZXR1cm4hMDtvPXV9cmV0dXJuITF9LGUucHJvdG90eXBlLl9pc09yZGVyRGlmZmVyZW50SW5WaWV3PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuc2NhbGUsaT1uLmdldEV4dGVudCgpLHI9TWF0aC5tYXgoMCxpWzBdKSxvPU1hdGgubWluKGlbMV0sbi5nZXRPcmRpbmFsTWV0YSgpLmNhdGVnb3JpZXMubGVuZ3RoLTEpO3I8PW87KytyKWlmKHQub3JkaW5hbE51bWJlcnNbcl0hPT1uLmdldFJhd09yZGluYWxOdW1iZXIocikpcmV0dXJuITB9LGUucHJvdG90eXBlLl91cGRhdGVTb3J0V2l0aGluU2FtZURhdGE9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5faXNPcmRlckNoYW5nZWRXaXRoaW5TYW1lRGF0YSh0LGUsbikpe3ZhciByPXRoaXMuX2RhdGFTb3J0KHQsbixlKTt0aGlzLl9pc09yZGVyRGlmZmVyZW50SW5WaWV3KHIsbikmJih0aGlzLl9yZW1vdmVPblJlbmRlcmVkTGlzdGVuZXIoaSksaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlQXhpc09yZGVyIixjb21wb25lbnRUeXBlOm4uZGltKyJBeGlzIixheGlzSWQ6bi5pbmRleCxzb3J0SW5mbzpyfSkpfX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoSW5pdFNvcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuYmFzZUF4aXMscj10aGlzLl9kYXRhU29ydCh0LGksKGZ1bmN0aW9uKG4pe3JldHVybiB0LmdldCh0Lm1hcERpbWVuc2lvbihlLm90aGVyQXhpcy5kaW0pLG4pfSkpO24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZUF4aXNPcmRlciIsY29tcG9uZW50VHlwZTppLmRpbSsiQXhpcyIsaXNJbml0U29ydDohMCxheGlzSWQ6aS5pbmRleCxzb3J0SW5mbzpyLGFuaW1hdGlvbjp7ZHVyYXRpb246MH19KX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fY2xlYXIodGhpcy5fbW9kZWwpLHRoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihlKX0sZS5wcm90b3R5cGUuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcj1mdW5jdGlvbih0KXt0aGlzLl9vblJlbmRlcmVkJiYodC5nZXRacigpLm9mZigicmVuZGVyZWQiLHRoaXMuX29uUmVuZGVyZWQpLHRoaXMuX29uUmVuZGVyZWQ9bnVsbCl9LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTt0JiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpJiZuJiYhdGhpcy5faXNMYXJnZURyYXc/KHRoaXMuX3JlbW92ZUJhY2tncm91bmQoKSx0aGlzLl9iYWNrZ3JvdW5kRWxzPVtdLG4uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUpe1l1KGUsdCxfcyhlKS5kYXRhSW5kZXgpfSkpKTplLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLl9pc0ZpcnN0RnJhbWU9ITB9LGUucHJvdG90eXBlLl9yZW1vdmVCYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmUodGhpcy5fYmFja2dyb3VuZEdyb3VwKSx0aGlzLl9iYWNrZ3JvdW5kR3JvdXA9bnVsbH0sZS50eXBlPSJiYXIiLGV9KFRmKSxpUz17Y2FydGVzaWFuMmQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLndpZHRoPDA/LTE6MSxpPWUuaGVpZ2h0PDA/LTE6MTtuPDAmJihlLngrPWUud2lkdGgsZS53aWR0aD0tZS53aWR0aCksaTwwJiYoZS55Kz1lLmhlaWdodCxlLmhlaWdodD0tZS5oZWlnaHQpO3ZhciByPXQueCt0LndpZHRoLG89dC55K3QuaGVpZ2h0LGE9dFMoZS54LHQueCkscz1lUyhlLngrZS53aWR0aCxyKSxsPXRTKGUueSx0LnkpLHU9ZVMoZS55K2UuaGVpZ2h0LG8pLGg9czxhLGM9dTxsO3JldHVybiBlLng9aCYmYT5yP3M6YSxlLnk9YyYmbD5vP3U6bCxlLndpZHRoPWg/MDpzLWEsZS5oZWlnaHQ9Yz8wOnUtbCxuPDAmJihlLngrPWUud2lkdGgsZS53aWR0aD0tZS53aWR0aCksaTwwJiYoZS55Kz1lLmhlaWdodCxlLmhlaWdodD0tZS5oZWlnaHQpLGh8fGN9LHBvbGFyOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5yMDw9ZS5yPzE6LTE7aWYobjwwKXt2YXIgaT1lLnI7ZS5yPWUucjAsZS5yMD1pfXZhciByPWVTKGUucix0LnIpLG89dFMoZS5yMCx0LnIwKTtlLnI9cixlLnIwPW87dmFyIGE9ci1vPDA7aWYobjwwKXtpPWUucjtlLnI9ZS5yMCxlLnIwPWl9cmV0dXJuIGF9fSxyUz17Y2FydGVzaWFuMmQ6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1PW5ldyBscyh7c2hhcGU6SSh7fSxpKSx6MjoxfSk7KHUuX19kYXRhSW5kZXg9bix1Lm5hbWU9Iml0ZW0iLG8pJiYodS5zaGFwZVtyPyJoZWlnaHQiOiJ3aWR0aCJdPTApO3JldHVybiB1fSxwb2xhcjpmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHU9aS5zdGFydEFuZ2xlPGkuZW5kQW5nbGUsaD1uZXcoIXImJmw/Snc6SmwpKHtzaGFwZTpUKHtjbG9ja3dpc2U6dX0saSksejI6MX0pO2lmKGgubmFtZT0iaXRlbSIsbyl7dmFyIGM9cj8iciI6ImVuZEFuZ2xlIixwPXt9O2guc2hhcGVbY109cj8wOmkuc3RhcnRBbmdsZSxwW2NdPWlbY10sKHM/SHU6V3UpKGgse3NoYXBlOnB9LG8pfXJldHVybiBofX07ZnVuY3Rpb24gb1ModCxlLG4saSxyLG8sYSxzKXt2YXIgbCx1O28/KHU9e3g6aS54LHdpZHRoOmkud2lkdGh9LGw9e3k6aS55LGhlaWdodDppLmhlaWdodH0pOih1PXt5OmkueSxoZWlnaHQ6aS5oZWlnaHR9LGw9e3g6aS54LHdpZHRoOmkud2lkdGh9KSxzfHwoYT9IdTpXdSkobix7c2hhcGU6bH0sZSxyLG51bGwpLChhP0h1Old1KShuLHtzaGFwZTp1fSxlP3QuYmFzZUF4aXMubW9kZWw6bnVsbCxyKX12YXIgYVM9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSkscj1uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoWyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvciJdKTtpZighbnx8Im5vbmUiPT09bilyZXR1cm4gMDt2YXIgaT10LmdldChbIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0pfHwwLHI9aXNOYU4oZS53aWR0aCk/TnVtYmVyLk1BWF9WQUxVRTpNYXRoLmFicyhlLndpZHRoKSxvPWlzTmFOKGUuaGVpZ2h0KT9OdW1iZXIuTUFYX1ZBTFVFOk1hdGguYWJzKGUuaGVpZ2h0KTtyZXR1cm4gTWF0aC5taW4oaSxyLG8pfShuLGkpOjAsbz1pLndpZHRoPjA/MTotMSxhPWkuaGVpZ2h0PjA/MTotMTtyZXR1cm57eDppLngrbypyLzIseTppLnkrYSpyLzIsd2lkdGg6aS53aWR0aC1vKnIsaGVpZ2h0OmkuaGVpZ2h0LWEqcn19LHBvbGFyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJue2N4OmkuY3gsY3k6aS5jeSxyMDppLnIwLHI6aS5yLHN0YXJ0QW5nbGU6aS5zdGFydEFuZ2xlLGVuZEFuZ2xlOmkuZW5kQW5nbGV9fX07ZnVuY3Rpb24gc1ModCxlLG4saSxyLG8sYSxzKXt2YXIgbD1lLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKTtzfHx0LnNldFNoYXBlKCJyIixpLmdldChbIml0ZW1TdHlsZSIsImJvcmRlclJhZGl1cyJdKXx8MCksdC51c2VTdHlsZShsKTt2YXIgdT1pLmdldFNoYWxsb3coImN1cnNvciIpO2lmKHUmJnQuYXR0cigiY3Vyc29yIix1KSwhcyl7dmFyIGg9YT9yLmhlaWdodD4wPyJib3R0b20iOiJ0b3AiOnIud2lkdGg+MD8ibGVmdCI6InJpZ2h0IixjPWNoKGkpO2hoKHQsYyx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6bixkZWZhdWx0VGV4dDpjdyhvLmdldERhdGEoKSxuKSxpbmhlcml0Q29sb3I6bC5maWxsLGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eSxkZWZhdWx0T3V0c2lkZVBvc2l0aW9uOmh9KSx4aCh0LmdldFRleHRDb250ZW50KCksYyxvLmdldFJhd1ZhbHVlKG4pLChmdW5jdGlvbih0KXtyZXR1cm4gcHcoZSx0KX0pKX12YXIgcD1pLmdldE1vZGVsKFsiZW1waGFzaXMiXSk7c2wodCxwLmdldCgiZm9jdXMiKSxwLmdldCgiYmx1clNjb3BlIikpLGNsKHQsaSksZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQuc3RhcnRBbmdsZSYmbnVsbCE9dC5lbmRBbmdsZSYmdC5zdGFydEFuZ2xlPT09dC5lbmRBbmdsZX0ocikmJih0LnN0eWxlLmZpbGw9Im5vbmUiLHQuc3R5bGUuc3Ryb2tlPSJub25lIixQKHQuc3RhdGVzLChmdW5jdGlvbih0KXt0LnN0eWxlJiYodC5zdHlsZS5maWxsPXQuc3R5bGUuc3Ryb2tlPSJub25lIil9KSkpfXZhciBsUz1mdW5jdGlvbigpe30sdVM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJsYXJnZUJhciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbFN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnBvaW50cyxpPXRoaXMuX19zdGFydFBvaW50LHI9dGhpcy5fX2Jhc2VEaW1JZHgsbz0wO288bi5sZW5ndGg7bys9MilpW3JdPW5bbytyXSx0Lm1vdmVUbyhpWzBdLGlbMV0pLHQubGluZVRvKG5bb10sbltvKzFdKX0sZX0oS2EpO2Z1bmN0aW9uIGhTKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPVtdLG89aS5nZXRMYXlvdXQoInZhbHVlQXhpc0hvcml6b250YWwiKT8xOjA7clsxLW9dPWkuZ2V0TGF5b3V0KCJ2YWx1ZUF4aXNTdGFydCIpO3ZhciBhPWkuZ2V0TGF5b3V0KCJsYXJnZURhdGFJbmRpY2VzIikscz1pLmdldExheW91dCgiYmFyV2lkdGgiKSxsPXQuZ2V0TW9kZWwoImJhY2tncm91bmRTdHlsZSIpO2lmKHQuZ2V0KCJzaG93QmFja2dyb3VuZCIsITApKXt2YXIgdT1pLmdldExheW91dCgibGFyZ2VCYWNrZ3JvdW5kUG9pbnRzIiksaD1bXTtoWzEtb109aS5nZXRMYXlvdXQoImJhY2tncm91bmRTdGFydCIpO3ZhciBjPW5ldyB1Uyh7c2hhcGU6e3BvaW50czp1fSxpbmNyZW1lbnRhbDohIW4sc2lsZW50OiEwLHoyOjB9KTtjLl9fc3RhcnRQb2ludD1oLGMuX19iYXNlRGltSWR4PW8sYy5fX2xhcmdlRGF0YUluZGljZXM9YSxjLl9fYmFyV2lkdGg9cyxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQoImJvcmRlckNvbG9yIil8fGUuZ2V0KCJjb2xvciIpLHI9ZS5nZXRJdGVtU3R5bGUoKTt0LnVzZVN0eWxlKHIpLHQuc3R5bGUuZmlsbD1udWxsLHQuc3R5bGUuc3Ryb2tlPWksdC5zdHlsZS5saW5lV2lkdGg9bi5nZXRMYXlvdXQoImJhcldpZHRoIil9KGMsbCxpKSxlLmFkZChjKX12YXIgcD1uZXcgdVMoe3NoYXBlOntwb2ludHM6aS5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIil9LGluY3JlbWVudGFsOiEhbn0pO3AuX19zdGFydFBvaW50PXIscC5fX2Jhc2VEaW1JZHg9byxwLl9fbGFyZ2VEYXRhSW5kaWNlcz1hLHAuX19iYXJXaWR0aD1zLGUuYWRkKHApLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmdldFZpc3VhbCgic3R5bGUiKTt0LnVzZVN0eWxlKEkoe30saSkpLHQuc3R5bGUuZmlsbD1udWxsLHQuc3R5bGUuc3Ryb2tlPWkuZmlsbCx0LnN0eWxlLmxpbmVXaWR0aD1uLmdldExheW91dCgiYmFyV2lkdGgiKX0ocCwwLGkpLF9zKHApLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsdC5nZXQoInNpbGVudCIpfHwocC5vbigibW91c2Vkb3duIixjUykscC5vbigibW91c2Vtb3ZlIixjUykpfXZhciBjUz1OZigoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuX19iYXNlRGltSWR4LHI9MS1pLG89dC5zaGFwZS5wb2ludHMsYT10Ll9fbGFyZ2VEYXRhSW5kaWNlcyxzPU1hdGguYWJzKHQuX19iYXJXaWR0aC8yKSxsPXQuX19zdGFydFBvaW50W3JdO1F3WzBdPWUsUXdbMV09bjtmb3IodmFyIHU9UXdbaV0saD1Rd1sxLWldLGM9dS1zLHA9dStzLGQ9MCxmPW8ubGVuZ3RoLzI7ZDxmO2QrKyl7dmFyIGc9MipkLHk9b1tnK2ldLHY9b1tnK3JdO2lmKHk+PWMmJnk8PXAmJihsPD12P2g+PWwmJmg8PXY6aD49diYmaDw9bCkpcmV0dXJuIGFbZF19cmV0dXJuLTF9KHRoaXMsdC5vZmZzZXRYLHQub2Zmc2V0WSk7X3ModGhpcykuZGF0YUluZGV4PWU+PTA/ZTpudWxsfSksMzAsITEpO2Z1bmN0aW9uIHBTKHQsZSxuKXtpZihOdyhuLCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT1lLHI9bi5nZXRBcmVhKCk7cmV0dXJue3g6dD9pLng6ci54LHk6dD9yLnk6aS55LHdpZHRoOnQ/aS53aWR0aDpyLndpZHRoLGhlaWdodDp0P3IuaGVpZ2h0OmkuaGVpZ2h0fX12YXIgbz1lO3JldHVybntjeDoocj1uLmdldEFyZWEoKSkuY3gsY3k6ci5jeSxyMDp0P3IucjA6by5yMCxyOnQ/ci5yOm8ucixzdGFydEFuZ2xlOnQ/by5zdGFydEFuZ2xlOjAsZW5kQW5nbGU6dD9vLmVuZEFuZ2xlOjIqTWF0aC5QSX19dmFyIGRTPTIqTWF0aC5QSSxmUz1NYXRoLlBJLzE4MDtmdW5jdGlvbiBnUyh0LGUsbil7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9ZS5tYXBEaW1lbnNpb24oInZhbHVlIikscj1mdW5jdGlvbih0LGUpe3JldHVybiBWYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxuKSxvPXQuZ2V0KCJjZW50ZXIiKSxhPXQuZ2V0KCJyYWRpdXMiKTtGKGEpfHwoYT1bMCxhXSksRihvKXx8KG89W28sb10pO3ZhciBzPVppKHIud2lkdGgsbi5nZXRXaWR0aCgpKSxsPVppKHIuaGVpZ2h0LG4uZ2V0SGVpZ2h0KCkpLHU9TWF0aC5taW4ocyxsKSxoPVppKG9bMF0scykrci54LGM9Wmkob1sxXSxsKStyLnkscD1aaShhWzBdLHUvMiksZD1aaShhWzFdLHUvMiksZj0tdC5nZXQoInN0YXJ0QW5nbGUiKSpmUyxnPXQuZ2V0KCJtaW5BbmdsZSIpKmZTLHk9MDtlLmVhY2goaSwoZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZ5Kyt9KSk7dmFyIHY9ZS5nZXRTdW0oaSksbT1NYXRoLlBJLyh2fHx5KSoyLF89dC5nZXQoImNsb2Nrd2lzZSIpLHg9dC5nZXQoInJvc2VUeXBlIiksYj10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLHc9ZS5nZXREYXRhRXh0ZW50KGkpO3dbMF09MDt2YXIgUz1kUyxNPTAsST1mLFQ9Xz8xOi0xO2lmKGUuc2V0TGF5b3V0KHt2aWV3UmVjdDpyLHI6ZH0pLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe3ZhciBpO2lmKGlzTmFOKHQpKWUuc2V0SXRlbUxheW91dChuLHthbmdsZTpOYU4sc3RhcnRBbmdsZTpOYU4sZW5kQW5nbGU6TmFOLGNsb2Nrd2lzZTpfLGN4OmgsY3k6YyxyMDpwLHI6eD9OYU46ZH0pO2Vsc2V7KGk9ImFyZWEiIT09eD8wPT09diYmYj9tOnQqbTpkUy95KTxnPyhpPWcsUy09Zyk6TSs9dDt2YXIgcj1JK1QqaTtlLnNldEl0ZW1MYXlvdXQobix7YW5nbGU6aSxzdGFydEFuZ2xlOkksZW5kQW5nbGU6cixjbG9ja3dpc2U6XyxjeDpoLGN5OmMscjA6cCxyOng/WWkodCx3LFtwLGRdKTpkfSksST1yfX0pKSxTPGRTJiZ5KWlmKFM8PS4wMDEpe3ZhciBDPWRTL3k7ZS5lYWNoKGksKGZ1bmN0aW9uKHQsbil7aWYoIWlzTmFOKHQpKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQobik7aS5hbmdsZT1DLGkuc3RhcnRBbmdsZT1mK1QqbipDLGkuZW5kQW5nbGU9ZitUKihuKzEpKkN9fSkpfWVsc2UgbT1TL00sST1mLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe2lmKCFpc05hTih0KSl7dmFyIGk9ZS5nZXRJdGVtTGF5b3V0KG4pLHI9aS5hbmdsZT09PWc/Zzp0Km07aS5zdGFydEFuZ2xlPUksaS5lbmRBbmdsZT1JK1QqcixJKz1UKnJ9fSkpfSkpfWZ1bmN0aW9uIHlTKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2lmKG4mJm4ubGVuZ3RoKXt2YXIgaT10LmdldERhdGEoKTtpLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pLmdldE5hbWUodCkscj0wO3I8bi5sZW5ndGg7cisrKWlmKCFuW3JdLmlzU2VsZWN0ZWQoZSkpcmV0dXJuITE7cmV0dXJuITB9KSl9fX19dmFyIHZTPU1hdGguUEkvMTgwO2Z1bmN0aW9uIG1TKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCEodC5sZW5ndGg8Mikpe2Zvcih2YXIgaD10Lmxlbmd0aCxjPTA7YzxoO2MrKylpZigib3V0ZXIiPT09dFtjXS5wb3NpdGlvbiYmImxhYmVsTGluZSI9PT10W2NdLmxhYmVsQWxpZ25Ubyl7dmFyIHA9dFtjXS5sYWJlbC54LXU7dFtjXS5saW5lUG9pbnRzWzFdWzBdKz1wLHRbY10ubGFiZWwueD11fVhnKHQsbCxsK2EpJiZmdW5jdGlvbih0KXtmb3IodmFyIG89e2xpc3Q6W10sbWF4WTowfSxhPXtsaXN0OltdLG1heFk6MH0scz0wO3M8dC5sZW5ndGg7cysrKWlmKCJub25lIj09PXRbc10ubGFiZWxBbGlnblRvKXt2YXIgbD10W3NdLHU9bC5sYWJlbC55Pm4/YTpvLGg9TWF0aC5hYnMobC5sYWJlbC55LW4pO2lmKGg+dS5tYXhZKXt2YXIgYz1sLmxhYmVsLngtZS1sLmxlbjIqcixwPWkrbC5sZW4sZj1NYXRoLmFicyhjKTxwP01hdGguc3FydChoKmgvKDEtYypjL3AvcCkpOnA7dS5yQj1mLHUubWF4WT1ofXUubGlzdC5wdXNoKGwpfWQobyksZChhKX0odCl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIG89dC5yQixhPW8qbyxzPTA7czx0Lmxpc3QubGVuZ3RoO3MrKyl7dmFyIGw9dC5saXN0W3NdLHU9TWF0aC5hYnMobC5sYWJlbC55LW4pLGg9aStsLmxlbixjPWgqaCxwPU1hdGguc3FydCgoMS1NYXRoLmFicyh1KnUvYSkpKmMpO2wubGFiZWwueD1lKyhwK2wubGVuMikqcn19fWZ1bmN0aW9uIF9TKHQpe3JldHVybiJjZW50ZXIiPT09dC5wb3NpdGlvbn1mdW5jdGlvbiB4Uyh0KXt2YXIgZSxuLGk9dC5nZXREYXRhKCkscj1bXSxvPSExLGE9KHQuZ2V0KCJtaW5TaG93TGFiZWxBbmdsZSIpfHwwKSp2UyxzPWkuZ2V0TGF5b3V0KCJ2aWV3UmVjdCIpLGw9aS5nZXRMYXlvdXQoInIiKSx1PXMud2lkdGgsaD1zLngsYz1zLnkscD1zLmhlaWdodDtmdW5jdGlvbiBkKHQpe3QuaWdub3JlPSEwfWkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9aS5nZXRJdGVtR3JhcGhpY0VsKHQpLGM9cy5zaGFwZSxwPXMuZ2V0VGV4dENvbnRlbnQoKSxmPXMuZ2V0VGV4dEd1aWRlTGluZSgpLGc9aS5nZXRJdGVtTW9kZWwodCkseT1nLmdldE1vZGVsKCJsYWJlbCIpLHY9eS5nZXQoInBvc2l0aW9uIil8fGcuZ2V0KFsiZW1waGFzaXMiLCJsYWJlbCIsInBvc2l0aW9uIl0pLG09eS5nZXQoImRpc3RhbmNlVG9MYWJlbExpbmUiKSxfPXkuZ2V0KCJhbGlnblRvIikseD1aaSh5LmdldCgiZWRnZURpc3RhbmNlIiksdSksYj15LmdldCgiYmxlZWRNYXJnaW4iKSx3PWcuZ2V0TW9kZWwoImxhYmVsTGluZSIpLFM9dy5nZXQoImxlbmd0aCIpO1M9WmkoUyx1KTt2YXIgTT13LmdldCgibGVuZ3RoMiIpO2lmKE09WmkoTSx1KSxNYXRoLmFicyhjLmVuZEFuZ2xlLWMuc3RhcnRBbmdsZSk8YSlyZXR1cm4gUChwLnN0YXRlcyxkKSx2b2lkKHAuaWdub3JlPSEwKTtpZihmdW5jdGlvbih0KXtpZighdC5pZ25vcmUpcmV0dXJuITA7Zm9yKHZhciBlIGluIHQuc3RhdGVzKWlmKCExPT09dC5zdGF0ZXNbZV0uaWdub3JlKXJldHVybiEwO3JldHVybiExfShwKSl7dmFyIEksVCxDLEQsQT0oYy5zdGFydEFuZ2xlK2MuZW5kQW5nbGUpLzIsTD1NYXRoLmNvcyhBKSxrPU1hdGguc2luKEEpO2U9Yy5jeCxuPWMuY3k7dmFyIE8sUj0iaW5zaWRlIj09PXZ8fCJpbm5lciI9PT12O2lmKCJjZW50ZXIiPT09dilJPWMuY3gsVD1jLmN5LEQ9ImNlbnRlciI7ZWxzZXt2YXIgTj0oUj8oYy5yK2MucjApLzIqTDpjLnIqTCkrZSx6PShSPyhjLnIrYy5yMCkvMiprOmMuciprKStuO2lmKEk9TiszKkwsVD16KzMqaywhUil7dmFyIEU9TitMKihTK2wtYy5yKSxWPXorayooUytsLWMuciksQj1FKyhMPDA/LTE6MSkqTTtJPSJlZGdlIj09PV8/TDwwP2greDpoK3UteDpCKyhMPDA/LW06bSksVD1WLEM9W1tOLHpdLFtFLFZdLFtCLFZdXX1EPVI/ImNlbnRlciI6ImVkZ2UiPT09Xz9MPjA/InJpZ2h0IjoibGVmdCI6TD4wPyJsZWZ0IjoicmlnaHQifXZhciBGPXkuZ2V0KCJyb3RhdGUiKTtpZihPPSJudW1iZXIiPT10eXBlb2YgRj9GKihNYXRoLlBJLzE4MCk6Rj9MPDA/LUErTWF0aC5QSTotQTowLG89ISFPLHAueD1JLHAueT1ULHAucm90YXRpb249TyxwLnNldFN0eWxlKHt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSksUil7cC5zZXRTdHlsZSh7YWxpZ246RH0pO3ZhciBHPXAuc3RhdGVzLnNlbGVjdDtHJiYoRy54Kz1wLngsRy55Kz1wLnkpfWVsc2V7dmFyIEg9cC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO0guYXBwbHlUcmFuc2Zvcm0ocC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpKTt2YXIgVz0ocC5zdHlsZS5tYXJnaW58fDApKzIuMTtILnktPVcvMixILmhlaWdodCs9VyxyLnB1c2goe2xhYmVsOnAsbGFiZWxMaW5lOmYscG9zaXRpb246dixsZW46UyxsZW4yOk0sbWluVHVybkFuZ2xlOncuZ2V0KCJtaW5UdXJuQW5nbGUiKSxtYXhTdXJmYWNlQW5nbGU6dy5nZXQoIm1heFN1cmZhY2VBbmdsZSIpLHN1cmZhY2VOb3JtYWw6bmV3IGFpKEwsayksbGluZVBvaW50czpDLHRleHRBbGlnbjpELGxhYmVsRGlzdGFuY2U6bSxsYWJlbEFsaWduVG86XyxlZGdlRGlzdGFuY2U6eCxibGVlZE1hcmdpbjpiLHJlY3Q6SH0pfXMuc2V0VGV4dENvbmZpZyh7aW5zaWRlOlJ9KX19KSksIW8mJnQuZ2V0KCJhdm9pZExhYmVsT3ZlcmxhcCIpJiZmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD1bXSx1PVtdLGg9TnVtYmVyLk1BWF9WQUxVRSxjPS1OdW1iZXIuTUFYX1ZBTFVFLHA9MDtwPHQubGVuZ3RoO3ArKyl7dmFyIGQ9dFtwXS5sYWJlbDtfUyh0W3BdKXx8KGQueDxlPyhoPU1hdGgubWluKGgsZC54KSxsLnB1c2godFtwXSkpOihjPU1hdGgubWF4KGMsZC54KSx1LnB1c2godFtwXSkpKX1mb3IobVModSxlLG4saSwxLDAsbywwLHMsYyksbVMobCxlLG4saSwtMSwwLG8sMCxzLGgpLHA9MDtwPHQubGVuZ3RoO3ArKyl7dmFyIGY9dFtwXTtpZihkPWYubGFiZWwsIV9TKGYpKXt2YXIgZz1mLmxpbmVQb2ludHM7aWYoZyl7dmFyIHk9ImVkZ2UiPT09Zi5sYWJlbEFsaWduVG8sdj1mLnJlY3Qud2lkdGgsbT12b2lkIDA7KG09eT9kLng8ZT9nWzJdWzBdLWYubGFiZWxEaXN0YW5jZS1hLWYuZWRnZURpc3RhbmNlOmErci1mLmVkZ2VEaXN0YW5jZS1nWzJdWzBdLWYubGFiZWxEaXN0YW5jZTpkLng8ZT9kLngtYS1mLmJsZWVkTWFyZ2luOmErci1kLngtZi5ibGVlZE1hcmdpbik8Zi5yZWN0LndpZHRoJiYoZi5sYWJlbC5zdHlsZS53aWR0aD1tLCJlZGdlIj09PWYubGFiZWxBbGlnblRvJiYodj1tKSk7dmFyIF89Z1sxXVswXS1nWzJdWzBdO3k/ZC54PGU/Z1syXVswXT1hK2YuZWRnZURpc3RhbmNlK3YrZi5sYWJlbERpc3RhbmNlOmdbMl1bMF09YStyLWYuZWRnZURpc3RhbmNlLXYtZi5sYWJlbERpc3RhbmNlOihkLng8ZT9nWzJdWzBdPWQueCtmLmxhYmVsRGlzdGFuY2U6Z1syXVswXT1kLngtZi5sYWJlbERpc3RhbmNlLGdbMV1bMF09Z1syXVswXStfKSxnWzFdWzFdPWdbMl1bMV09ZC55fX19fShyLGUsbixsLHUscCxoLGMpO2Zvcih2YXIgZj0wO2Y8ci5sZW5ndGg7ZisrKXt2YXIgZz1yW2ZdLHk9Zy5sYWJlbCx2PWcubGFiZWxMaW5lLG09aXNOYU4oeS54KXx8aXNOYU4oeS55KTtpZih5KXt5LnNldFN0eWxlKHthbGlnbjpnLnRleHRBbGlnbn0pLG0mJihQKHkuc3RhdGVzLGQpLHkuaWdub3JlPSEwKTt2YXIgXz15LnN0YXRlcy5zZWxlY3Q7XyYmKF8ueCs9eS54LF8ueSs9eS55KX1pZih2KXt2YXIgeD1nLmxpbmVQb2ludHM7bXx8IXg/KFAodi5zdGF0ZXMsZCksdi5pZ25vcmU9ITApOihWZyh4LGcubWluVHVybkFuZ2xlKSxCZyh4LGcuc3VyZmFjZU5vcm1hbCxnLm1heFN1cmZhY2VBbmdsZSksdi5zZXRTaGFwZSh7cG9pbnRzOnh9KSx5Ll9faG9zdFRhcmdldC50ZXh0R3VpZGVMaW5lQ29uZmlnPXthbmNob3I6bmV3IGFpKHhbMF1bMF0seFswXVsxXSl9KX19fWZ1bmN0aW9uIGJTKHQsZSl7dmFyIG49dC5nZXQoImJvcmRlclJhZGl1cyIpO3JldHVybiBudWxsPT1uP251bGw6KEYobil8fChuPVtuLG5dKSx7aW5uZXJDb3JuZXJSYWRpdXM6SWkoblswXSxlLnIwKSxjb3JuZXJSYWRpdXM6SWkoblsxXSxlLnIpfSl9dmFyIHdTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyLnoyPTI7dmFyIG89bmV3IGNzO3JldHVybiByLnNldFRleHRDb250ZW50KG8pLHIudXBkYXRlRGF0YShlLG4saSwhMCkscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcyxhPXQuaG9zdE1vZGVsLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1zLmdldE1vZGVsKCJlbXBoYXNpcyIpLHU9dC5nZXRJdGVtTGF5b3V0KGUpLGg9SShiUyhzLmdldE1vZGVsKCJpdGVtU3R5bGUiKSx1KXx8e30sdSk7aWYoaXNOYU4oaC5zdGFydEFuZ2xlKSlvLnNldFNoYXBlKGgpO2Vsc2V7aWYocilvLnNldFNoYXBlKGgpLCJzY2FsZSI9PT1hLmdldFNoYWxsb3coImFuaW1hdGlvblR5cGUiKT8oby5zaGFwZS5yPXUucjAsV3Uobyx7c2hhcGU6e3I6dS5yfX0sYSxlKSk6bnVsbCE9bj8oby5zZXRTaGFwZSh7c3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm59KSxXdShvLHtzaGFwZTp7c3RhcnRBbmdsZTp1LnN0YXJ0QW5nbGUsZW5kQW5nbGU6dS5lbmRBbmdsZX19LGEsZSkpOihvLnNoYXBlLmVuZEFuZ2xlPXUuc3RhcnRBbmdsZSxIdShvLHtzaGFwZTp7ZW5kQW5nbGU6dS5lbmRBbmdsZX19LGEsZSkpO2Vsc2UgSHUobyx7c2hhcGU6aH0sYSxlKTtvLnVzZVN0eWxlKHQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpKSxjbChvLHMpO3ZhciBjPSh1LnN0YXJ0QW5nbGUrdS5lbmRBbmdsZSkvMixwPWEuZ2V0KCJzZWxlY3RlZE9mZnNldCIpLGQ9TWF0aC5jb3MoYykqcCxmPU1hdGguc2luKGMpKnAsZz1zLmdldFNoYWxsb3coImN1cnNvciIpO2cmJm8uYXR0cigiY3Vyc29yIixnKSx0aGlzLl91cGRhdGVMYWJlbChhLHQsZSksby5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zaGFwZT1pKHtyOnUucisobC5nZXQoInNjYWxlIikmJmwuZ2V0KCJzY2FsZVNpemUiKXx8MCl9LGJTKGwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHUpKSxJKG8uZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmLHNoYXBlOmJTKHMuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSksdSl9KSxJKG8uZW5zdXJlU3RhdGUoImJsdXIiKSx7c2hhcGU6YlMocy5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSksdSl9KTt2YXIgeT1vLmdldFRleHRHdWlkZUxpbmUoKSx2PW8uZ2V0VGV4dENvbnRlbnQoKTt5JiZJKHkuZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmfSksSSh2LmVuc3VyZVN0YXRlKCJzZWxlY3QiKSx7eDpkLHk6Zn0pLHNsKHRoaXMsbC5nZXQoImZvY3VzIiksbC5nZXQoImJsdXJTY29wZSIpKX19LGUucHJvdG90eXBlLl91cGRhdGVMYWJlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPWUuZ2V0SXRlbU1vZGVsKG4pLG89ci5nZXRNb2RlbCgibGFiZWxMaW5lIiksYT1lLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSxzPWEmJmEuZmlsbCxsPWEmJmEub3BhY2l0eTtoaChpLGNoKHIpLHtsYWJlbEZldGNoZXI6ZS5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6bixpbmhlcml0Q29sb3I6cyxkZWZhdWx0T3BhY2l0eTpsLGRlZmF1bHRUZXh0OnQuZ2V0Rm9ybWF0dGVkTGFiZWwobiwibm9ybWFsIil8fGUuZ2V0TmFtZShuKX0pO3ZhciB1PWkuZ2V0VGV4dENvbnRlbnQoKTtpLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOm51bGwscm90YXRpb246bnVsbH0pLHUuYXR0cih7ejI6MTB9KTt2YXIgaD10LmdldChbImxhYmVsIiwicG9zaXRpb24iXSk7aWYoIm91dHNpZGUiIT09aCYmIm91dGVyIiE9PWgpaS5yZW1vdmVUZXh0R3VpZGVMaW5lKCk7ZWxzZXt2YXIgYz10aGlzLmdldFRleHRHdWlkZUxpbmUoKTtjfHwoYz1uZXcgYXUsdGhpcy5zZXRUZXh0R3VpZGVMaW5lKGMpKSxIZyh0aGlzLFdnKHIpLHtzdHJva2U6cyxvcGFjaXR5OmV0KG8uZ2V0KFsibGluZVN0eWxlIiwib3BhY2l0eSJdKSxsLDEpfSl9fSxlfShKbCksU1M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5pZ25vcmVMYWJlbExpbmVVcGRhdGU9ITAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRWk7dGhpcy5fc2VjdG9yR3JvdXA9dH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHM9dGhpcy5ncm91cDtpZighYSYmby5jb3VudCgpPjApe2Zvcih2YXIgbD1vLmdldEl0ZW1MYXlvdXQoMCksdT0xO2lzTmFOKGwmJmwuc3RhcnRBbmdsZSkmJnU8by5jb3VudCgpOysrdSlsPW8uZ2V0SXRlbUxheW91dCh1KTtsJiYocj1sLnN0YXJ0QW5nbGUpfW8uZGlmZihhKS5hZGQoKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3UyhvLHQscik7by5zZXRJdGVtR3JhcGhpY0VsKHQsZSkscy5hZGQoZSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe3ZhciBuPWEuZ2V0SXRlbUdyYXBoaWNFbChlKTtuLnVwZGF0ZURhdGEobyx0LHIpLG4ub2ZmKCJjbGljayIpLHMuYWRkKG4pLG8uc2V0SXRlbUdyYXBoaWNFbCh0LG4pfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7WXUoYS5nZXRJdGVtR3JhcGhpY0VsKGUpLHQsZSl9KSkuZXhlY3V0ZSgpLHhTKHQpLCJleHBhbnNpb24iIT09dC5nZXQoImFuaW1hdGlvblR5cGVVcGRhdGUiKSYmKHRoaXMuX2RhdGE9byl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0RGF0YSgpLmdldEl0ZW1MYXlvdXQoMCk7aWYobil7dmFyIGk9dFswXS1uLmN4LHI9dFsxXS1uLmN5LG89TWF0aC5zcXJ0KGkqaStyKnIpO3JldHVybiBvPD1uLnImJm8+PW4ucjB9fSxlLnR5cGU9InBpZSIsZX0oVGYpO2Z1bmN0aW9uIE1TKHQsZSxuKXtlPUYoZSkmJntjb29yZERpbWVuc2lvbnM6ZX18fEkoe30sZSk7dmFyIGk9dC5nZXRTb3VyY2UoKSxyPU9fKGksZSksbz1uZXcgTF8ocix0KTtyZXR1cm4gby5pbml0RGF0YShpLG4pLG99dmFyIElTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbD10LHRoaXMuX2dldFJhd0RhdGE9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QWxsTmFtZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRSYXdEYXRhKCk7cmV0dXJuIHQubWFwQXJyYXkodC5nZXROYW1lKX0sdC5wcm90b3R5cGUuY29udGFpbk5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldFJhd0RhdGEoKS5pbmRleE9mTmFtZSh0KT49MH0sdC5wcm90b3R5cGUuaW5kZXhPZk5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbCgpLmluZGV4T2ZOYW1lKHQpfSx0LnByb3RvdHlwZS5nZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2dldERhdGFXaXRoRW5jb2RlZFZpc3VhbCgpLmdldEl0ZW1WaXN1YWwodCxlKX0sdH0oKSxUUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YT0hMCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyBJUyhWKHRoaXMuZ2V0RGF0YSx0aGlzKSxWKHRoaXMuZ2V0UmF3RGF0YSx0aGlzKSksdGhpcy5fZGVmYXVsdExhYmVsTGluZShlKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIE1TKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOkIodXAsdGhpcyl9KX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9W107cmV0dXJuIG4uZWFjaChuLm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24odCl7ci5wdXNoKHQpfSkpLGkucGVyY2VudD1RaShyLGUsbi5ob3N0TW9kZWwuZ2V0KCJwZXJjZW50UHJlY2lzaW9uIikpLGkuJHZhcnMucHVzaCgicGVyY2VudCIpLGl9LGUucHJvdG90eXBlLl9kZWZhdWx0TGFiZWxMaW5lPWZ1bmN0aW9uKHQpe2JyKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLG49dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LG4uc2hvdz1uLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZS50eXBlPSJzZXJpZXMucGllIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOlswLCI3NSUiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLG1pblNob3dMYWJlbEFuZ2xlOjAsc2VsZWN0ZWRPZmZzZXQ6MTAscGVyY2VudFByZWNpc2lvbjoyLHN0aWxsU2hvd1plcm9TdW06ITAsbGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxsYWJlbDp7cm90YXRlOjAsc2hvdzohMCxvdmVyZmxvdzoidHJ1bmNhdGUiLHBvc2l0aW9uOiJvdXRlciIsYWxpZ25Ubzoibm9uZSIsZWRnZURpc3RhbmNlOiIyNSUiLGJsZWVkTWFyZ2luOjEwLGRpc3RhbmNlVG9MYWJlbExpbmU6NX0sbGFiZWxMaW5lOntzaG93OiEwLGxlbmd0aDoxNSxsZW5ndGgyOjE1LHNtb290aDohMSxtaW5UdXJuQW5nbGU6OTAsbWF4U3VyZmFjZUFuZ2xlOjkwLGxpbmVTdHlsZTp7d2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjF9LGxhYmVsTGF5b3V0OntoaWRlT3ZlcmxhcDohMH0sZW1waGFzaXM6e3NjYWxlOiEwLHNjYWxlU2l6ZTo1fSxhdm9pZExhYmVsT3ZlcmxhcDohMCxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25UeXBlVXBkYXRlOiJ0cmFuc2l0aW9uIixhbmltYXRpb25FYXNpbmdVcGRhdGU6ImN1YmljSW5PdXQiLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMCxhbmltYXRpb25FYXNpbmc6ImN1YmljSW5PdXQifSxlfShmZik7dmFyIENTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZfKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwfSl9LGUucHJvdG90eXBlLmdldFByb2dyZXNzaXZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24ucHJvZ3Jlc3NpdmU7cmV0dXJuIG51bGw9PXQ/dGhpcy5vcHRpb24ubGFyZ2U/NWUzOnRoaXMuZ2V0KCJwcm9ncmVzc2l2ZSIpOnR9LGUucHJvdG90eXBlLmdldFByb2dyZXNzaXZlVGhyZXNob2xkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24ucHJvZ3Jlc3NpdmVUaHJlc2hvbGQ7cmV0dXJuIG51bGw9PXQ/dGhpcy5vcHRpb24ubGFyZ2U/MWU0OnRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpOnR9LGUucHJvdG90eXBlLmJydXNoU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnBvaW50KGUuZ2V0SXRlbUxheW91dCh0KSl9LGUudHlwZT0ic2VyaWVzLnNjYXR0ZXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIiwiZ2VvIiwic2luZ2xlQXhpcyIsImNhbGVuZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e29wYWNpdHk6Ljh9LGVtcGhhc2lzOntzY2FsZTohMH0sY2xpcDohMCxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX19LGV9KGZmKSxEUz1mdW5jdGlvbigpe30sQVM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERTfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBvaW50cyxpPWUuc2l6ZSxyPXRoaXMuc3ltYm9sUHJveHksbz1yLnNoYXBlLGE9dC5nZXRDb250ZXh0P3QuZ2V0Q29udGV4dCgpOnQ7aWYoYSYmaVswXTw0KXRoaXMuX2N0eD1hO2Vsc2V7dGhpcy5fY3R4PW51bGw7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDspe3ZhciBsPW5bcysrXSx1PW5bcysrXTtpc05hTihsKXx8aXNOYU4odSl8fCh0aGlzLnNvZnRDbGlwU2hhcGUmJiF0aGlzLnNvZnRDbGlwU2hhcGUuY29udGFpbihsLHUpfHwoby54PWwtaVswXS8yLG8ueT11LWlbMV0vMixvLndpZHRoPWlbMF0sby5oZWlnaHQ9aVsxXSxyLmJ1aWxkUGF0aCh0LG8sITApKSl9fX0sZS5wcm90b3R5cGUuYWZ0ZXJCcnVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc2hhcGUsZT10LnBvaW50cyxuPXQuc2l6ZSxpPXRoaXMuX2N0eDtpZihpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KXt2YXIgbz1lW3IrK10sYT1lW3IrK107aXNOYU4obyl8fGlzTmFOKGEpfHwodGhpcy5zb2Z0Q2xpcFNoYXBlJiYhdGhpcy5zb2Z0Q2xpcFNoYXBlLmNvbnRhaW4obyxhKXx8aS5maWxsUmVjdChvLW5bMF0vMixhLW5bMV0vMixuWzBdLG5bMV0pKX19LGUucHJvdG90eXBlLmZpbmREYXRhSW5kZXg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5zaGFwZSxpPW4ucG9pbnRzLHI9bi5zaXplLG89TWF0aC5tYXgoclswXSw0KSxhPU1hdGgubWF4KHJbMV0sNCkscz1pLmxlbmd0aC8yLTE7cz49MDtzLS0pe3ZhciBsPTIqcyx1PWlbbF0tby8yLGg9aVtsKzFdLWEvMjtpZih0Pj11JiZlPj1oJiZ0PD11K28mJmU8PWgrYSlyZXR1cm4gc31yZXR1cm4tMX0sZX0oS2EpLExTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZ3JvdXA9bmV3IEVpfXJldHVybiB0LnByb3RvdHlwZS5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faW5jcmVtZW50YWx9LHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBuPW5ldyBBUyh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtuLnNldFNoYXBlKHtwb2ludHM6dC5nZXRMYXlvdXQoInBvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKG4sdCwhMSxlKSx0aGlzLmdyb3VwLmFkZChuKSx0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2luY3JlbWVudGFsKXt2YXIgZT10LmdldExheW91dCgicG9pbnRzIik7dGhpcy5ncm91cC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQuc3RhcnRJbmRleCl7dmFyIG49MioodC5lbmRJbmRleC10LnN0YXJ0SW5kZXgpLGk9NCp0LnN0YXJ0SW5kZXgqMjtlPW5ldyBGbG9hdDMyQXJyYXkoZS5idWZmZXIsaSxuKX10LnNldFNoYXBlKCJwb2ludHMiLGUpfSkpfX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT4yZTY/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IFR1KHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk7dGhpcy5faW5jcmVtZW50YWw/KGk9bmV3IEFTLHRoaXMuX2luY3JlbWVudGFsLmFkZERpc3BsYXlhYmxlKGksITApKTooKGk9bmV3IEFTKHtyZWN0SG92ZXI6ITAsY3Vyc29yOiJkZWZhdWx0IixzdGFydEluZGV4OnQuc3RhcnQsZW5kSW5kZXg6dC5lbmR9KSkuaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQoaSkpLGkuc2V0U2hhcGUoe3BvaW50czplLmdldExheW91dCgicG9pbnRzIil9KSx0aGlzLl9zZXRDb21tb24oaSxlLCEhdGhpcy5faW5jcmVtZW50YWwsbil9LHQucHJvdG90eXBlLl9zZXRDb21tb249ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZS5ob3N0TW9kZWw7aT1pfHx7fTt2YXIgbz1lLmdldFZpc3VhbCgic3ltYm9sU2l6ZSIpO3Quc2V0U2hhcGUoInNpemUiLG8gaW5zdGFuY2VvZiBBcnJheT9vOltvLG9dKSx0LnNvZnRDbGlwU2hhcGU9aS5jbGlwU2hhcGV8fG51bGwsdC5zeW1ib2xQcm94eT1meShlLmdldFZpc3VhbCgic3ltYm9sIiksMCwwLDAsMCksdC5zZXRDb2xvcj10LnN5bWJvbFByb3h5LnNldENvbG9yO3ZhciBhPXQuc2hhcGUuc2l6ZVswXTw0O3QudXNlU3R5bGUoci5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKGE/WyJjb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciJdOlsiY29sb3IiXSkpO3ZhciBzPWUuZ2V0VmlzdWFsKCJzdHlsZSIpLGw9cyYmcy5maWxsO2lmKGwmJnQuc2V0Q29sb3IobCksIW4pe3ZhciB1PV9zKHQpO3Uuc2VyaWVzSW5kZXg9ci5zZXJpZXNJbmRleCx0Lm9uKCJtb3VzZW1vdmUiLChmdW5jdGlvbihlKXt1LmRhdGFJbmRleD1udWxsO3ZhciBuPXQuZmluZERhdGFJbmRleChlLm9mZnNldFgsZS5vZmZzZXRZKTtuPj0wJiYodS5kYXRhSW5kZXg9bisodC5zdGFydEluZGV4fHwwKSl9KSl9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5fY2xlYXJJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luY3JlbWVudGFsO3QmJnQuY2xlYXJEaXNwbGF5YmxlcygpfSx0fSgpLGtTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlU3ltYm9sRHJhdyhpLHQpLnVwZGF0ZURhdGEoaSx7Y2xpcFNoYXBlOnRoaXMuX2dldENsaXBTaGFwZSh0KX0pLHRoaXMuX2ZpbmlzaGVkPSEwfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcoaSx0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUoaSksdGhpcy5fZmluaXNoZWQ9ITF9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9zeW1ib2xEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkse2NsaXBTaGFwZTp0aGlzLl9nZXRDbGlwU2hhcGUoZSl9KSx0aGlzLl9maW5pc2hlZD10LmVuZD09PWUuZ2V0RGF0YSgpLmNvdW50KCl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCk7aWYodGhpcy5ncm91cC5kaXJ0eSgpLCF0aGlzLl9maW5pc2hlZHx8aS5jb3VudCgpPjFlNHx8IXRoaXMuX3N5bWJvbERyYXcuaXNQZXJzaXN0ZW50KCkpcmV0dXJue3VwZGF0ZTohMH07dmFyIHI9WHcoIiIpLnJlc2V0KHQsZSxuKTtyLnByb2dyZXNzJiZyLnByb2dyZXNzKHtzdGFydDowLGVuZDppLmNvdW50KCksY291bnQ6aS5jb3VudCgpfSxpKSx0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dChpKX0sZS5wcm90b3R5cGUuX2dldENsaXBTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lJiZlLmdldEFyZWEmJmUuZ2V0QXJlYSgpO3JldHVybiB0LmdldCgiY2xpcCIsITApP246bnVsbH0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbERyYXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zeW1ib2xEcmF3LGk9ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIG4mJmk9PT10aGlzLl9pc0xhcmdlRHJhd3x8KG4mJm4ucmVtb3ZlKCksbj10aGlzLl9zeW1ib2xEcmF3PWk/bmV3IExTOm5ldyBtdyx0aGlzLl9pc0xhcmdlRHJhdz1pLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCkpLHRoaXMuZ3JvdXAuYWRkKG4uZ3JvdXApLG59LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKSx0aGlzLl9zeW1ib2xEcmF3PW51bGx9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUudHlwZT0ic2NhdHRlciIsZX0oVGYpLFBTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS50eXBlPSJncmlkIixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiXSxlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OiExLHpsZXZlbDowLHo6MCxsZWZ0OiIxMCUiLHRvcDo2MCxyaWdodDoiMTAlIixib3R0b206NzAsY29udGFpbkxhYmVsOiExLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2NjYyJ9LGV9KFhjKSxPUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJncmlkIixOcikubW9kZWxzWzBdfSxlLnR5cGU9ImNhcnRlc2lhbjJkQXhpcyIsZX0oWGMpO0woT1MsWXgpO3ZhciBSUz17c2hvdzohMCx6bGV2ZWw6MCx6OjAsaW52ZXJzZTohMSxuYW1lOiIiLG5hbWVMb2NhdGlvbjoiZW5kIixuYW1lUm90YXRlOm51bGwsbmFtZVRydW5jYXRlOnttYXhXaWR0aDpudWxsLGVsbGlwc2lzOiIuLi4iLHBsYWNlaG9sZGVyOiIuIn0sbmFtZVRleHRTdHlsZTp7fSxuYW1lR2FwOjE1LHNpbGVudDohMSx0cmlnZ2VyRXZlbnQ6ITEsdG9vbHRpcDp7c2hvdzohMX0sYXhpc1BvaW50ZXI6e30sYXhpc0xpbmU6e3Nob3c6ITAsb25aZXJvOiEwLG9uWmVyb0F4aXNJbmRleDpudWxsLGxpbmVTdHlsZTp7Y29sb3I6IiM2RTcwNzkiLHdpZHRoOjEsdHlwZToic29saWQifSxzeW1ib2w6WyJub25lIiwibm9uZSJdLHN5bWJvbFNpemU6WzEwLDE1XX0sYXhpc1RpY2s6e3Nob3c6ITAsaW5zaWRlOiExLGxlbmd0aDo1LGxpbmVTdHlsZTp7d2lkdGg6MX19LGF4aXNMYWJlbDp7c2hvdzohMCxpbnNpZGU6ITEscm90YXRlOjAsc2hvd01pbkxhYmVsOm51bGwsc2hvd01heExhYmVsOm51bGwsbWFyZ2luOjgsZm9udFNpemU6MTJ9LHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOlsiI0UwRTZGMSJdLHdpZHRoOjEsdHlwZToic29saWQifX0sc3BsaXRBcmVhOntzaG93OiExLGFyZWFTdHlsZTp7Y29sb3I6WyJyZ2JhKDI1MCwyNTAsMjUwLDAuMikiLCJyZ2JhKDIxMCwyMTksMjM4LDAuMikiXX19fSxOUz1TKHtib3VuZGFyeUdhcDohMCxkZWR1cGxpY2F0aW9uOm51bGwsc3BsaXRMaW5lOntzaG93OiExfSxheGlzVGljazp7YWxpZ25XaXRoTGFiZWw6ITEsaW50ZXJ2YWw6ImF1dG8ifSxheGlzTGFiZWw6e2ludGVydmFsOiJhdXRvIn19LFJTKSx6Uz1TKHtib3VuZGFyeUdhcDpbMCwwXSxheGlzTGluZTp7c2hvdzoiYXV0byJ9LGF4aXNUaWNrOntzaG93OiJhdXRvIn0sc3BsaXROdW1iZXI6NSxtaW5vclRpY2s6e3Nob3c6ITEsc3BsaXROdW1iZXI6NSxsZW5ndGg6MyxsaW5lU3R5bGU6e319LG1pbm9yU3BsaXRMaW5lOntzaG93OiExLGxpbmVTdHlsZTp7Y29sb3I6IiNGNEY3RkQiLHdpZHRoOjF9fX0sUlMpLEVTPXtjYXRlZ29yeTpOUyx2YWx1ZTp6Uyx0aW1lOlMoe3NjYWxlOiEwLHNwbGl0TnVtYmVyOjYsYXhpc0xhYmVsOntzaG93TWluTGFiZWw6ITEsc2hvd01heExhYmVsOiExLHJpY2g6e3ByaW1hcnk6e2ZvbnRXZWlnaHQ6ImJvbGQifX19LHNwbGl0TGluZTp7c2hvdzohMX19LHpTKSxsb2c6VCh7c2NhbGU6ITAsbG9nQmFzZToxMH0selMpfSxWUz17dmFsdWU6MSxjYXRlZ29yeToxLHRpbWU6MSxsb2c6MX07ZnVuY3Rpb24gQlModCxlLGkscil7UChWUywoZnVuY3Rpb24obyxhKXt2YXIgcz1TKFMoe30sRVNbYV0sITApLHIsITApLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgbj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgcj10LmFwcGx5KHRoaXMsbil8fHRoaXM7cmV0dXJuIHIudHlwZT1lKyJBeGlzLiIrYSxyfXJldHVybiBuKGksdCksaS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1GYyh0aGlzKSxpPW4/SGModCk6e307Uyh0LGUuZ2V0VGhlbWUoKS5nZXQoYSsiQXhpcyIpKSxTKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLHQudHlwZT1GUyh0KSxuJiZHYyh0LGksbil9LGkucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXsiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT1IXy5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGkucHJvdG90eXBlLmdldENhdGVnb3JpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247aWYoImNhdGVnb3J5Ij09PWUudHlwZSlyZXR1cm4gdD9lLmRhdGE6dGhpcy5fX29yZGluYWxNZXRhLmNhdGVnb3JpZXN9LGkucHJvdG90eXBlLmdldE9yZGluYWxNZXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vcmRpbmFsTWV0YX0saS50eXBlPWUrIkF4aXMuIithLGkuZGVmYXVsdE9wdGlvbj1zLGl9KGkpO3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChsKX0pKSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcihlKyJBeGlzIixGUyl9ZnVuY3Rpb24gRlModCl7cmV0dXJuIHQudHlwZXx8KHQuZGF0YT8iY2F0ZWdvcnkiOiJ2YWx1ZSIpfXZhciBHUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPSJjYXJ0ZXNpYW4iLHRoaXMuX2RpbUxpc3Q9W10sdGhpcy5fYXhlcz17fSx0aGlzLm5hbWU9dHx8IiJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNbdF19LHQucHJvdG90eXBlLmdldEF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzLl9kaW1MaXN0LChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX0pLHRoaXMpfSx0LnByb3RvdHlwZS5nZXRBeGVzQnlTY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCksTih0aGlzLmdldEF4ZXMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NhbGUudHlwZT09PXR9KSl9LHQucHJvdG90eXBlLmFkZEF4aXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5kaW07dGhpcy5fYXhlc1tlXT10LHRoaXMuX2RpbUxpc3QucHVzaChlKX0sdH0oKSxIUz1bIngiLCJ5Il07ZnVuY3Rpb24gV1ModCl7cmV0dXJuImludGVydmFsIj09PXQudHlwZXx8InRpbWUiPT09dC50eXBlfXZhciBVUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImNhcnRlc2lhbjJkIixlLmRpbWVuc2lvbnM9SFMsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNhbGNBZmZpbmVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLl90cmFuc2Zvcm09dGhpcy5faW52VHJhbnNmb3JtPW51bGw7dmFyIHQ9dGhpcy5nZXRBeGlzKCJ4Iikuc2NhbGUsZT10aGlzLmdldEF4aXMoInkiKS5zY2FsZTtpZihXUyh0KSYmV1MoZSkpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1lLmdldEV4dGVudCgpLHI9dGhpcy5kYXRhVG9Qb2ludChbblswXSxpWzBdXSksbz10aGlzLmRhdGFUb1BvaW50KFtuWzFdLGlbMV1dKSxhPW5bMV0tblswXSxzPWlbMV0taVswXTtpZihhJiZzKXt2YXIgbD0ob1swXS1yWzBdKS9hLHU9KG9bMV0tclsxXSkvcyxoPXJbMF0tblswXSpsLGM9clsxXS1pWzBdKnUscD10aGlzLl90cmFuc2Zvcm09W2wsMCwwLHUsaCxjXTt0aGlzLl9pbnZUcmFuc2Zvcm09Wm4oW10scCl9fX0sZS5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdfHx0aGlzLmdldEF4ZXNCeVNjYWxlKCJ0aW1lIilbMF18fHRoaXMuZ2V0QXhpcygieCIpfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCJ4Iiksbj10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4gZS5jb250YWluKGUudG9Mb2NhbENvb3JkKHRbMF0pKSYmbi5jb250YWluKG4udG9Mb2NhbENvb3JkKHRbMV0pKX0sZS5wcm90b3R5cGUuY29udGFpbkRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXhpcygieCIpLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLmdldEF4aXMoInkiKS5jb250YWluRGF0YSh0WzFdKX0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe249bnx8W107dmFyIGk9dFswXSxyPXRbMV07aWYodGhpcy5fdHJhbnNmb3JtJiZudWxsIT1pJiZpc0Zpbml0ZShpKSYmbnVsbCE9ciYmaXNGaW5pdGUocikpcmV0dXJuIFJ0KG4sdCx0aGlzLl90cmFuc2Zvcm0pO3ZhciBvPXRoaXMuZ2V0QXhpcygieCIpLGE9dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuIG5bMF09by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQoaSxlKSksblsxXT1hLnRvR2xvYmFsQ29vcmQoYS5kYXRhVG9Db29yZChyLGUpKSxufSxlLnByb3RvdHlwZS5jbGFtcERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF4aXMoIngiKS5zY2FsZSxpPXRoaXMuZ2V0QXhpcygieSIpLnNjYWxlLHI9bi5nZXRFeHRlbnQoKSxvPWkuZ2V0RXh0ZW50KCksYT1uLnBhcnNlKHRbMF0pLHM9aS5wYXJzZSh0WzFdKTtyZXR1cm4oZT1lfHxbXSlbMF09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4oclswXSxyWzFdKSxhKSxNYXRoLm1heChyWzBdLHJbMV0pKSxlWzFdPU1hdGgubWluKE1hdGgubWF4KE1hdGgubWluKG9bMF0sb1sxXSkscyksTWF0aC5tYXgob1swXSxvWzFdKSksZX0sZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZih0aGlzLl9pbnZUcmFuc2Zvcm0pcmV0dXJuIFJ0KG4sdCx0aGlzLl9pbnZUcmFuc2Zvcm0pO3ZhciBpPXRoaXMuZ2V0QXhpcygieCIpLHI9dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuIG5bMF09aS5jb29yZFRvRGF0YShpLnRvTG9jYWxDb29yZCh0WzBdKSxlKSxuWzFdPXIuY29vcmRUb0RhdGEoci50b0xvY2FsQ29vcmQodFsxXSksZSksbn0sZS5wcm90b3R5cGUuZ2V0T3RoZXJBeGlzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoIngiPT09dC5kaW0/InkiOiJ4Iil9LGUucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF4aXMoIngiKS5nZXRHbG9iYWxFeHRlbnQoKSxlPXRoaXMuZ2V0QXhpcygieSIpLmdldEdsb2JhbEV4dGVudCgpLG49TWF0aC5taW4odFswXSx0WzFdKSxpPU1hdGgubWluKGVbMF0sZVsxXSkscj1NYXRoLm1heCh0WzBdLHRbMV0pLW4sbz1NYXRoLm1heChlWzBdLGVbMV0pLWk7cmV0dXJuIG5ldyBnaShuLGkscixvKX0sZX0oR1MpLFhTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4saSl8fHRoaXM7cmV0dXJuIGEuaW5kZXg9MCxhLnR5cGU9cnx8InZhbHVlIixhLnBvc2l0aW9uPW98fCJib3R0b20iLGF9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uO3JldHVybiJ0b3AiPT09dHx8ImJvdHRvbSI9PT10fSxlLnByb3RvdHlwZS5nZXRHbG9iYWxFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4gZVswXT10aGlzLnRvR2xvYmFsQ29vcmQoZVswXSksZVsxXT10aGlzLnRvR2xvYmFsQ29vcmQoZVsxXSksdCYmZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlfSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9EYXRhKHRoaXMudG9Mb2NhbENvb3JkKHRbIngiPT09dGhpcy5kaW0/MDoxXSksZSl9LGUucHJvdG90eXBlLnNldENhdGVnb3J5U29ydEluZm89ZnVuY3Rpb24odCl7aWYoImNhdGVnb3J5IiE9PXRoaXMudHlwZSlyZXR1cm4hMTt0aGlzLm1vZGVsLm9wdGlvbi5jYXRlZ29yeVNvcnRJbmZvPXQsdGhpcy5zY2FsZS5zZXRTb3J0SW5mbyh0KX0sZX0oaGIpO2Z1bmN0aW9uIFlTKHQsZSxuKXtuPW58fHt9O3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPWUuYXhpcyxvPXt9LGE9ci5nZXRBeGVzT25aZXJvT2YoKVswXSxzPXIucG9zaXRpb24sbD1hPyJvblplcm8iOnMsdT1yLmRpbSxoPWkuZ2V0UmVjdCgpLGM9W2gueCxoLngraC53aWR0aCxoLnksaC55K2guaGVpZ2h0XSxwPXtsZWZ0OjAscmlnaHQ6MSx0b3A6MCxib3R0b206MSxvblplcm86Mn0sZD1lLmdldCgib2Zmc2V0Iil8fDAsZj0ieCI9PT11P1tjWzJdLWQsY1szXStkXTpbY1swXS1kLGNbMV0rZF07aWYoYSl7dmFyIGc9YS50b0dsb2JhbENvb3JkKGEuZGF0YVRvQ29vcmQoMCkpO2ZbcC5vblplcm9dPU1hdGgubWF4KE1hdGgubWluKGcsZlsxXSksZlswXSl9by5wb3NpdGlvbj1bInkiPT09dT9mW3BbbF1dOmNbMF0sIngiPT09dT9mW3BbbF1dOmNbM11dLG8ucm90YXRpb249TWF0aC5QSS8yKigieCI9PT11PzA6MSk7by5sYWJlbERpcmVjdGlvbj1vLnRpY2tEaXJlY3Rpb249by5uYW1lRGlyZWN0aW9uPXt0b3A6LTEsYm90dG9tOjEsbGVmdDotMSxyaWdodDoxfVtzXSxvLmxhYmVsT2Zmc2V0PWE/ZltwW3NdXS1mW3Aub25aZXJvXTowLGUuZ2V0KFsiYXhpc1RpY2siLCJpbnNpZGUiXSkmJihvLnRpY2tEaXJlY3Rpb249LW8udGlja0RpcmVjdGlvbiksUShuLmxhYmVsSW5zaWRlLGUuZ2V0KFsiYXhpc0xhYmVsIiwiaW5zaWRlIl0pKSYmKG8ubGFiZWxEaXJlY3Rpb249LW8ubGFiZWxEaXJlY3Rpb24pO3ZhciB5PWUuZ2V0KFsiYXhpc0xhYmVsIiwicm90YXRlIl0pO3JldHVybiBvLmxhYmVsUm90YXRlPSJ0b3AiPT09bD8teTp5LG8uejI9MSxvfWZ1bmN0aW9uIFpTKHQpe3JldHVybiJjYXJ0ZXNpYW4yZCI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpfWZ1bmN0aW9uIGpTKHQpe3ZhciBlPXt4QXhpc01vZGVsOm51bGwseUF4aXNNb2RlbDpudWxsfTtyZXR1cm4gUChlLChmdW5jdGlvbihuLGkpe3ZhciByPWkucmVwbGFjZSgvTW9kZWwkLywiIiksbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMocixOcikubW9kZWxzWzBdO2VbaV09b30pKSxlfXZhciBxUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0iZ3JpZCIsdGhpcy5fY29vcmRzTWFwPXt9LHRoaXMuX2Nvb3Jkc0xpc3Q9W10sdGhpcy5fYXhlc01hcD17fSx0aGlzLl9heGVzTGlzdD1bXSx0aGlzLmF4aXNQb2ludGVyRW5hYmxlZD0hMCx0aGlzLmRpbWVuc2lvbnM9SFMsdGhpcy5faW5pdENhcnRlc2lhbih0LGUsbiksdGhpcy5tb2RlbD10fXJldHVybiB0LnByb3RvdHlwZS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4ZXNNYXA7dGhpcy5fdXBkYXRlU2NhbGUodCx0aGlzLm1vZGVsKSxQKG4ueCwoZnVuY3Rpb24odCl7VngodC5zY2FsZSx0Lm1vZGVsKX0pKSxQKG4ueSwoZnVuY3Rpb24odCl7VngodC5zY2FsZSx0Lm1vZGVsKX0pKTt2YXIgaT17fTtQKG4ueCwoZnVuY3Rpb24odCl7JFMobiwieSIsdCxpKX0pKSxQKG4ueSwoZnVuY3Rpb24odCl7JFMobiwieCIsdCxpKX0pKSx0aGlzLnJlc2l6ZSh0aGlzLm1vZGVsLGUpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkscj0hbiYmdC5nZXQoImNvbnRhaW5MYWJlbCIpLG89VmMoaSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSk7dGhpcy5fcmVjdD1vO3ZhciBhPXRoaXMuX2F4ZXNMaXN0O2Z1bmN0aW9uIHMoKXtQKGEsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNIb3Jpem9udGFsKCksbj1lP1swLG8ud2lkdGhdOlswLG8uaGVpZ2h0XSxpPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQobltpXSxuWzEtaV0pLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFeHRlbnQoKSxpPW5bMF0rblsxXTt0LnRvR2xvYmFsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQrZX06ZnVuY3Rpb24odCl7cmV0dXJuIGktdCtlfSx0LnRvTG9jYWxDb29yZD0ieCI9PT10LmRpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gaS10K2V9fSh0LGU/by54Om8ueSl9KSl9cygpLHImJihQKGEsKGZ1bmN0aW9uKHQpe2lmKCF0Lm1vZGVsLmdldChbImF4aXNMYWJlbCIsImluc2lkZSJdKSl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5tb2RlbCxuPXQuc2NhbGU7aWYoZS5nZXQoWyJheGlzTGFiZWwiLCJzaG93Il0pJiYhbi5pc0JsYW5rKCkpe3ZhciBpLHIsbz1uLmdldEV4dGVudCgpO3I9biBpbnN0YW5jZW9mICRfP24uY291bnQoKTooaT1uLmdldFRpY2tzKCkpLmxlbmd0aDt2YXIgYSxzPXQuZ2V0TGFiZWxNb2RlbCgpLGw9RngodCksdT0xO3I+NDAmJih1PU1hdGguY2VpbChyLzQwKSk7Zm9yKHZhciBoPTA7aDxyO2grPXUpe3ZhciBjPWwoaT9pW2hdOnt2YWx1ZTpvWzBdK2h9LGgpLHA9SHgocy5nZXRUZXh0UmVjdChjKSxzLmdldCgicm90YXRlIil8fDApO2E/YS51bmlvbihwKTphPXB9cmV0dXJuIGF9fSh0KTtpZihlKXt2YXIgbj10LmlzSG9yaXpvbnRhbCgpPyJoZWlnaHQiOiJ3aWR0aCIsaT10Lm1vZGVsLmdldChbImF4aXNMYWJlbCIsIm1hcmdpbiJdKTtvW25dLT1lW25dK2ksInRvcCI9PT10LnBvc2l0aW9uP28ueSs9ZS5oZWlnaHQraToibGVmdCI9PT10LnBvc2l0aW9uJiYoby54Kz1lLndpZHRoK2kpfX19KSkscygpKSxQKHRoaXMuX2Nvb3Jkc0xpc3QsKGZ1bmN0aW9uKHQpe3QuY2FsY0FmZmluZVRyYW5zZm9ybSgpfSkpfSx0LnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fYXhlc01hcFt0XTtpZihudWxsIT1uKXJldHVybiBuW2V8fDBdfSx0LnByb3RvdHlwZS5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4ZXNMaXN0LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldENhcnRlc2lhbj1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQmJm51bGwhPWUpe3ZhciBuPSJ4Iit0KyJ5IitlO3JldHVybiB0aGlzLl9jb29yZHNNYXBbbl19WCh0KSYmKGU9dC55QXhpc0luZGV4LHQ9dC54QXhpc0luZGV4KTtmb3IodmFyIGk9MCxyPXRoaXMuX2Nvb3Jkc0xpc3Q7aTxyLmxlbmd0aDtpKyspaWYocltpXS5nZXRBeGlzKCJ4IikuaW5kZXg9PT10fHxyW2ldLmdldEF4aXMoInkiKS5pbmRleD09PWUpcmV0dXJuIHJbaV19LHQucHJvdG90eXBlLmdldENhcnRlc2lhbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRzTGlzdC5zbGljZSgpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZmluZENvbnZlcnRUYXJnZXQoZSk7cmV0dXJuIGkuY2FydGVzaWFuP2kuY2FydGVzaWFuLmRhdGFUb1BvaW50KG4pOmkuYXhpcz9pLmF4aXMudG9HbG9iYWxDb29yZChpLmF4aXMuZGF0YVRvQ29vcmQobikpOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KGUpO3JldHVybiBpLmNhcnRlc2lhbj9pLmNhcnRlc2lhbi5wb2ludFRvRGF0YShuKTppLmF4aXM/aS5heGlzLmNvb3JkVG9EYXRhKGkuYXhpcy50b0xvY2FsQ29vcmQobikpOm51bGx9LHQucHJvdG90eXBlLl9maW5kQ29udmVydFRhcmdldD1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dC5zZXJpZXNNb2RlbCxyPXQueEF4aXNNb2RlbHx8aSYmaS5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ4QXhpcyIsTnIpLm1vZGVsc1swXSxvPXQueUF4aXNNb2RlbHx8aSYmaS5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ5QXhpcyIsTnIpLm1vZGVsc1swXSxhPXQuZ3JpZE1vZGVsLHM9dGhpcy5fY29vcmRzTGlzdDtpZihpKUQocyxlPWkuY29vcmRpbmF0ZVN5c3RlbSk8MCYmKGU9bnVsbCk7ZWxzZSBpZihyJiZvKWU9dGhpcy5nZXRDYXJ0ZXNpYW4oci5jb21wb25lbnRJbmRleCxvLmNvbXBvbmVudEluZGV4KTtlbHNlIGlmKHIpbj10aGlzLmdldEF4aXMoIngiLHIuY29tcG9uZW50SW5kZXgpO2Vsc2UgaWYobyluPXRoaXMuZ2V0QXhpcygieSIsby5jb21wb25lbnRJbmRleCk7ZWxzZSBpZihhKXthLmNvb3JkaW5hdGVTeXN0ZW09PT10aGlzJiYoZT10aGlzLl9jb29yZHNMaXN0WzBdKX1yZXR1cm57Y2FydGVzaWFuOmUsYXhpczpufX0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2Nvb3Jkc0xpc3RbMF07aWYoZSlyZXR1cm4gZS5jb250YWluUG9pbnQodCl9LHQucHJvdG90eXBlLl9pbml0Q2FydGVzaWFuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dGhpcyxvPXtsZWZ0OiExLHJpZ2h0OiExLHRvcDohMSxib3R0b206ITF9LGE9e3g6e30seTp7fX0scz17eDowLHk6MH07aWYoZS5lYWNoQ29tcG9uZW50KCJ4QXhpcyIsbCgieCIpLHRoaXMpLGUuZWFjaENvbXBvbmVudCgieUF4aXMiLGwoInkiKSx0aGlzKSwhcy54fHwhcy55KXJldHVybiB0aGlzLl9heGVzTWFwPXt9LHZvaWQodGhpcy5fYXhlc0xpc3Q9W10pO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7aWYoS1Mobix0KSl7dmFyIGw9bi5nZXQoInBvc2l0aW9uIik7IngiPT09ZT8idG9wIiE9PWwmJiJib3R0b20iIT09bCYmKGw9by5ib3R0b20/InRvcCI6ImJvdHRvbSIpOiJsZWZ0IiE9PWwmJiJyaWdodCIhPT1sJiYobD1vLmxlZnQ/InJpZ2h0IjoibGVmdCIpLG9bbF09ITA7dmFyIHU9bmV3IFhTKGUsQngobiksWzAsMF0sbi5nZXQoInR5cGUiKSxsKSxoPSJjYXRlZ29yeSI9PT11LnR5cGU7dS5vbkJhbmQ9aCYmbi5nZXQoImJvdW5kYXJ5R2FwIiksdS5pbnZlcnNlPW4uZ2V0KCJpbnZlcnNlIiksbi5heGlzPXUsdS5tb2RlbD1uLHUuZ3JpZD1yLHUuaW5kZXg9aSxyLl9heGVzTGlzdC5wdXNoKHUpLGFbZV1baV09dSxzW2VdKyt9fX10aGlzLl9heGVzTWFwPWEsUChhLngsKGZ1bmN0aW9uKGUsbil7UChhLnksKGZ1bmN0aW9uKHIsbyl7dmFyIGE9IngiK24rInkiK28scz1uZXcgVVMoYSk7cy5tYXN0ZXI9aSxzLm1vZGVsPXQsaS5fY29vcmRzTWFwW2FdPXMsaS5fY29vcmRzTGlzdC5wdXNoKHMpLHMuYWRkQXhpcyhlKSxzLmFkZEF4aXMocil9KSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVTY2FsZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtQKFh4KHQsZS5kaW0pLChmdW5jdGlvbihuKXtlLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEodCxuKX0pKX1QKHRoaXMuX2F4ZXNMaXN0LChmdW5jdGlvbih0KXtpZih0LnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksImNhdGVnb3J5Ij09PXQudHlwZSl7dmFyIGU9dC5tb2RlbC5nZXQoImNhdGVnb3J5U29ydEluZm8iKTt0LnNjYWxlLnNldFNvcnRJbmZvKGUpfX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKFpTKHQpKXt2YXIgaT1qUyh0KSxyPWkueEF4aXNNb2RlbCxvPWkueUF4aXNNb2RlbDtpZighS1MocixlKXx8IUtTKG8sZSkpcmV0dXJuO3ZhciBhPXRoaXMuZ2V0Q2FydGVzaWFuKHIuY29tcG9uZW50SW5kZXgsby5jb21wb25lbnRJbmRleCkscz10LmdldERhdGEoKSxsPWEuZ2V0QXhpcygieCIpLHU9YS5nZXRBeGlzKCJ5Iik7Imxpc3QiPT09cy50eXBlJiYobihzLGwpLG4ocyx1KSl9fSksdGhpcyl9LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107cmV0dXJuIFAodGhpcy5nZXRDYXJ0ZXNpYW5zKCksKGZ1bmN0aW9uKGkpe3ZhciByPW51bGwhPXQmJiJhdXRvIiE9PXQ/aS5nZXRBeGlzKHQpOmkuZ2V0QmFzZUF4aXMoKSxvPWkuZ2V0T3RoZXJBeGlzKHIpO0QoZSxyKTwwJiZlLnB1c2gociksRChuLG8pPDAmJm4ucHVzaChvKX0pKSx7YmFzZUF4ZXM6ZSxvdGhlckF4ZXM6bn19LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgiZ3JpZCIsKGZ1bmN0aW9uKHIsbyl7dmFyIGE9bmV3IHQocixlLG4pO2EubmFtZT0iZ3JpZF8iK28sYS5yZXNpemUocixuLCEwKSxyLmNvb3JkaW5hdGVTeXN0ZW09YSxpLnB1c2goYSl9KSksZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZihaUyh0KSl7dmFyIGU9alModCksbj1lLnhBeGlzTW9kZWwsaT1lLnlBeGlzTW9kZWwscj1uLmdldENvb3JkU3lzTW9kZWwoKTswO3ZhciBvPXIuY29vcmRpbmF0ZVN5c3RlbTt0LmNvb3JkaW5hdGVTeXN0ZW09by5nZXRDYXJ0ZXNpYW4obi5jb21wb25lbnRJbmRleCxpLmNvbXBvbmVudEluZGV4KX19KSksaX0sdC5kaW1lbnNpb25zPUhTLHR9KCk7ZnVuY3Rpb24gS1ModCxlKXtyZXR1cm4gdC5nZXRDb29yZFN5c01vZGVsKCk9PT1lfWZ1bmN0aW9uICRTKHQsZSxuLGkpe24uZ2V0QXhlc09uWmVyb09mPWZ1bmN0aW9uKCl7cmV0dXJuIHI/W3JdOltdfTt2YXIgcixvPXRbZV0sYT1uLm1vZGVsLHM9YS5nZXQoWyJheGlzTGluZSIsIm9uWmVybyJdKSxsPWEuZ2V0KFsiYXhpc0xpbmUiLCJvblplcm9BeGlzSW5kZXgiXSk7aWYocyl7aWYobnVsbCE9bClKUyhvW2xdKSYmKHI9b1tsXSk7ZWxzZSBmb3IodmFyIHUgaW4gbylpZihvLmhhc093blByb3BlcnR5KHUpJiZKUyhvW3VdKSYmIWlbaChvW3VdKV0pe3I9b1t1XTticmVha31yJiYoaVtoKHIpXT0hMCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5kaW0rIl8iK3QuaW5kZXh9fWZ1bmN0aW9uIEpTKHQpe3JldHVybiB0JiYiY2F0ZWdvcnkiIT09dC50eXBlJiYidGltZSIhPT10LnR5cGUmJmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksbj1lWzBdLGk9ZVsxXTtyZXR1cm4hKG4+MCYmaT4wfHxuPDAmJmk8MCl9KHQpfXZhciBRUz1NYXRoLlBJLHRNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZ3JvdXA9bmV3IEVpLHRoaXMub3B0PWUsdGhpcy5heGlzTW9kZWw9dCxUKGUse2xhYmVsT2Zmc2V0OjAsbmFtZURpcmVjdGlvbjoxLHRpY2tEaXJlY3Rpb246MSxsYWJlbERpcmVjdGlvbjoxLHNpbGVudDohMCxoYW5kbGVBdXRvU2hvd246ZnVuY3Rpb24oKXtyZXR1cm4hMH19KTt2YXIgbj1uZXcgRWkoe3g6ZS5wb3NpdGlvblswXSx5OmUucG9zaXRpb25bMV0scm90YXRpb246ZS5yb3RhdGlvbn0pO24udXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdHJhbnNmb3JtR3JvdXA9bn1yZXR1cm4gdC5wcm90b3R5cGUuaGFzQnVpbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4hIWVNW3RdfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7ZU1bdF0odGhpcy5vcHQsdGhpcy5heGlzTW9kZWwsdGhpcy5ncm91cCx0aGlzLl90cmFuc2Zvcm1Hcm91cCl9LHQucHJvdG90eXBlLmdldEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXB9LHQuaW5uZXJUZXh0TGF5b3V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89bnIoZS10KTtyZXR1cm4gaXIobyk/KHI9bj4wPyJ0b3AiOiJib3R0b20iLGk9ImNlbnRlciIpOmlyKG8tUVMpPyhyPW4+MD8iYm90dG9tIjoidG9wIixpPSJjZW50ZXIiKToocj0ibWlkZGxlIixpPW8+MCYmbzxRUz9uPjA/InJpZ2h0IjoibGVmdCI6bj4wPyJsZWZ0IjoicmlnaHQiKSx7cm90YXRpb246byx0ZXh0QWxpZ246aSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sdC5tYWtlQXhpc0V2ZW50RGF0YUJhc2U9ZnVuY3Rpb24odCl7dmFyIGU9e2NvbXBvbmVudFR5cGU6dC5tYWluVHlwZSxjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4fTtyZXR1cm4gZVt0Lm1haW5UeXBlKyJJbmRleCJdPXQuY29tcG9uZW50SW5kZXgsZX0sdC5pc0xhYmVsU2lsZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJ0b29sdGlwIik7cmV0dXJuIHQuZ2V0KCJzaWxlbnQiKXx8ISh0LmdldCgidHJpZ2dlckV2ZW50Iil8fGUmJmUuc2hvdyl9LHR9KCksZU09e2F4aXNMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KFsiYXhpc0xpbmUiLCJzaG93Il0pO2lmKCJhdXRvIj09PXImJnQuaGFuZGxlQXV0b1Nob3duJiYocj10LmhhbmRsZUF1dG9TaG93bigiYXhpc0xpbmUiKSkscil7dmFyIG89ZS5heGlzLmdldEV4dGVudCgpLGE9aS50cmFuc2Zvcm0scz1bb1swXSwwXSxsPVtvWzFdLDBdO2EmJihSdChzLHMsYSksUnQobCxsLGEpKTt2YXIgdT1JKHtsaW5lQ2FwOiJyb3VuZCJ9LGUuZ2V0TW9kZWwoWyJheGlzTGluZSIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksaD1uZXcgdXUoe3N1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3gxOnNbMF0seTE6c1sxXSx4MjpsWzBdLHkyOmxbMV19LHN0eWxlOnUsc3Ryb2tlQ29udGFpblRocmVzaG9sZDp0LnN0cm9rZUNvbnRhaW5UaHJlc2hvbGR8fDUsc2lsZW50OiEwLHoyOjF9KTtoLmFuaWQ9ImxpbmUiLG4uYWRkKGgpO3ZhciBjPWUuZ2V0KFsiYXhpc0xpbmUiLCJzeW1ib2wiXSkscD1lLmdldChbImF4aXNMaW5lIiwic3ltYm9sU2l6ZSJdKSxkPWUuZ2V0KFsiYXhpc0xpbmUiLCJzeW1ib2xPZmZzZXQiXSl8fDA7aWYoIm51bWJlciI9PXR5cGVvZiBkJiYoZD1bZCxkXSksbnVsbCE9Yyl7InN0cmluZyI9PXR5cGVvZiBjJiYoYz1bYyxjXSksInN0cmluZyIhPXR5cGVvZiBwJiYibnVtYmVyIiE9dHlwZW9mIHB8fChwPVtwLHBdKTt2YXIgZj1wWzBdLGc9cFsxXTtQKFt7cm90YXRlOnQucm90YXRpb24rTWF0aC5QSS8yLG9mZnNldDpkWzBdLHI6MH0se3JvdGF0ZTp0LnJvdGF0aW9uLU1hdGguUEkvMixvZmZzZXQ6ZFsxXSxyOk1hdGguc3FydCgoc1swXS1sWzBdKSooc1swXS1sWzBdKSsoc1sxXS1sWzFdKSooc1sxXS1sWzFdKSl9XSwoZnVuY3Rpb24oZSxpKXtpZigibm9uZSIhPT1jW2ldJiZudWxsIT1jW2ldKXt2YXIgcj1meShjW2ldLC1mLzIsLWcvMixmLGcsdS5zdHJva2UsITApLG89ZS5yK2Uub2Zmc2V0O3IuYXR0cih7cm90YXRpb246ZS5yb3RhdGUseDpzWzBdK28qTWF0aC5jb3ModC5yb3RhdGlvbikseTpzWzFdLW8qTWF0aC5zaW4odC5yb3RhdGlvbiksc2lsZW50OiEwLHoyOjExfSksbi5hZGQocil9fSkpfX19LGF4aXNUaWNrTGFiZWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89bi5nZXRNb2RlbCgiYXhpc1RpY2siKSxhPW8uZ2V0KCJzaG93Iik7ImF1dG8iPT09YSYmaS5oYW5kbGVBdXRvU2hvd24mJihhPWkuaGFuZGxlQXV0b1Nob3duKCJheGlzVGljayIpKTtpZighYXx8ci5zY2FsZS5pc0JsYW5rKCkpcmV0dXJuO2Zvcih2YXIgcz1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPWkudGlja0RpcmVjdGlvbipvLmdldCgibGVuZ3RoIiksdT1vTShyLmdldFRpY2tzQ29vcmRzKCksZS50cmFuc2Zvcm0sbCxUKHMuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTpuLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSl9KSwidGlja3MiKSxoPTA7aDx1Lmxlbmd0aDtoKyspdC5hZGQodVtoXSk7cmV0dXJuIHV9KG4saSxlLHQpLG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFRKGkuYXhpc0xhYmVsU2hvdyxuLmdldChbImF4aXNMYWJlbCIsInNob3ciXSkpfHxyLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47dmFyIG89bi5nZXRNb2RlbCgiYXhpc0xhYmVsIiksYT1vLmdldCgibWFyZ2luIikscz1yLmdldFZpZXdMYWJlbHMoKSxsPShRKGkubGFiZWxSb3RhdGUsby5nZXQoInJvdGF0ZSIpKXx8MCkqUVMvMTgwLHU9dE0uaW5uZXJUZXh0TGF5b3V0KGkucm90YXRpb24sbCxpLmxhYmVsRGlyZWN0aW9uKSxoPW4uZ2V0Q2F0ZWdvcmllcyYmbi5nZXRDYXRlZ29yaWVzKCEwKSxjPVtdLHA9dE0uaXNMYWJlbFNpbGVudChuKSxkPW4uZ2V0KCJ0cmlnZ2VyRXZlbnQiKTtyZXR1cm4gUChzLChmdW5jdGlvbihzLGwpe3ZhciBmPSJvcmRpbmFsIj09PXIuc2NhbGUudHlwZT9yLnNjYWxlLmdldFJhd09yZGluYWxOdW1iZXIocy50aWNrVmFsdWUpOnMudGlja1ZhbHVlLGc9cy5mb3JtYXR0ZWRMYWJlbCx5PXMucmF3TGFiZWwsdj1vO2lmKGgmJmhbZl0pe3ZhciBtPWhbZl07WChtKSYmbS50ZXh0U3R5bGUmJih2PW5ldyBPaChtLnRleHRTdHlsZSxvLG4uZWNNb2RlbCkpfXZhciBfPXYuZ2V0VGV4dENvbG9yKCl8fG4uZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKSx4PXIuZGF0YVRvQ29vcmQoZiksYj1uZXcgY3Moe3g6eCx5OmkubGFiZWxPZmZzZXQraS5sYWJlbERpcmVjdGlvbiphLHJvdGF0aW9uOnUucm90YXRpb24sc2lsZW50OnAsejI6MTAsc3R5bGU6cGgodix7dGV4dDpnLGFsaWduOnYuZ2V0U2hhbGxvdygiYWxpZ24iLCEwKXx8dS50ZXh0QWxpZ24sdmVydGljYWxBbGlnbjp2LmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iLCEwKXx8di5nZXRTaGFsbG93KCJiYXNlbGluZSIsITApfHx1LnRleHRWZXJ0aWNhbEFsaWduLGZpbGw6ImZ1bmN0aW9uIj09dHlwZW9mIF8/XygiY2F0ZWdvcnkiPT09ci50eXBlP3k6InZhbHVlIj09PXIudHlwZT9mKyIiOmYsbCk6X30pfSk7aWYoYi5hbmlkPSJsYWJlbF8iK2YsZCl7dmFyIHc9dE0ubWFrZUF4aXNFdmVudERhdGFCYXNlKG4pO3cudGFyZ2V0VHlwZT0iYXhpc0xhYmVsIix3LnZhbHVlPXksX3MoYikuZXZlbnREYXRhPXd9ZS5hZGQoYiksYi51cGRhdGVUcmFuc2Zvcm0oKSxjLnB1c2goYiksdC5hZGQoYiksYi5kZWNvbXBvc2VUcmFuc2Zvcm0oKX0pKSxjfShuLGksZSx0KTshZnVuY3Rpb24odCxlLG4pe2lmKFV4KHQuYXhpcykpcmV0dXJuO3ZhciBpPXQuZ2V0KFsiYXhpc0xhYmVsIiwic2hvd01pbkxhYmVsIl0pLHI9dC5nZXQoWyJheGlzTGFiZWwiLCJzaG93TWF4TGFiZWwiXSk7bj1ufHxbXTt2YXIgbz0oZT1lfHxbXSlbMF0sYT1lWzFdLHM9ZVtlLmxlbmd0aC0xXSxsPWVbZS5sZW5ndGgtMl0sdT1uWzBdLGg9blsxXSxjPW5bbi5sZW5ndGgtMV0scD1uW24ubGVuZ3RoLTJdOyExPT09aT8obk0obyksbk0odSkpOmlNKG8sYSkmJihpPyhuTShhKSxuTShoKSk6KG5NKG8pLG5NKHUpKSk7ITE9PT1yPyhuTShzKSxuTShjKSk6aU0obCxzKSYmKHI/KG5NKGwpLG5NKHApKToobk0ocyksbk0oYykpKX0oZSxvLHIpLGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcyxvPW4uZ2V0TW9kZWwoIm1pbm9yVGljayIpO2lmKCFvLmdldCgic2hvdyIpfHxyLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47dmFyIGE9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYoIWEubGVuZ3RoKXJldHVybjtmb3IodmFyIHM9by5nZXRNb2RlbCgibGluZVN0eWxlIiksbD1pKm8uZ2V0KCJsZW5ndGgiKSx1PVQocy5nZXRMaW5lU3R5bGUoKSxUKG4uZ2V0TW9kZWwoImF4aXNUaWNrIikuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTpuLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSl9KSksaD0wO2g8YS5sZW5ndGg7aCsrKWZvcih2YXIgYz1vTShhW2hdLGUudHJhbnNmb3JtLGwsdSwibWlub3J0aWNrc18iK2gpLHA9MDtwPGMubGVuZ3RoO3ArKyl0LmFkZChjW3BdKX0obixpLGUsdC50aWNrRGlyZWN0aW9uKX0sYXhpc05hbWU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9USh0LmF4aXNOYW1lLGUuZ2V0KCJuYW1lIikpO2lmKHIpe3ZhciBvLGEscz1lLmdldCgibmFtZUxvY2F0aW9uIiksbD10Lm5hbWVEaXJlY3Rpb24sdT1lLmdldE1vZGVsKCJuYW1lVGV4dFN0eWxlIiksaD1lLmdldCgibmFtZUdhcCIpfHwwLGM9ZS5heGlzLmdldEV4dGVudCgpLHA9Y1swXT5jWzFdPy0xOjEsZD1bInN0YXJ0Ij09PXM/Y1swXS1wKmg6ImVuZCI9PT1zP2NbMV0rcCpoOihjWzBdK2NbMV0pLzIsck0ocyk/dC5sYWJlbE9mZnNldCtsKmg6MF0sZj1lLmdldCgibmFtZVJvdGF0ZSIpO251bGwhPWYmJihmPWYqUVMvMTgwKSxyTShzKT9vPXRNLmlubmVyVGV4dExheW91dCh0LnJvdGF0aW9uLG51bGwhPWY/Zjp0LnJvdGF0aW9uLGwpOihvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG8sYT1ucihuLXQpLHM9aVswXT5pWzFdLGw9InN0YXJ0Ij09PWUmJiFzfHwic3RhcnQiIT09ZSYmcztpcihhLVFTLzIpPyhvPWw/ImJvdHRvbSI6InRvcCIscj0iY2VudGVyIik6aXIoYS0xLjUqUVMpPyhvPWw/InRvcCI6ImJvdHRvbSIscj0iY2VudGVyIik6KG89Im1pZGRsZSIscj1hPDEuNSpRUyYmYT5RUy8yP2w/ImxlZnQiOiJyaWdodCI6bD8icmlnaHQiOiJsZWZ0Iik7cmV0dXJue3JvdGF0aW9uOmEsdGV4dEFsaWduOnIsdGV4dFZlcnRpY2FsQWxpZ246b319KHQucm90YXRpb24scyxmfHwwLGMpLG51bGwhPShhPXQuYXhpc05hbWVBdmFpbGFibGVXaWR0aCkmJihhPU1hdGguYWJzKGEvTWF0aC5zaW4oby5yb3RhdGlvbikpLCFpc0Zpbml0ZShhKSYmKGE9bnVsbCkpKTt2YXIgZz11LmdldEZvbnQoKSx5PWUuZ2V0KCJuYW1lVHJ1bmNhdGUiLCEwKXx8e30sdj15LmVsbGlwc2lzLG09USh0Lm5hbWVUcnVuY2F0ZU1heFdpZHRoLHkubWF4V2lkdGgsYSksXz1uZXcgY3Moe3g6ZFswXSx5OmRbMV0scm90YXRpb246by5yb3RhdGlvbixzaWxlbnQ6dE0uaXNMYWJlbFNpbGVudChlKSxzdHlsZTpwaCh1LHt0ZXh0OnIsZm9udDpnLG92ZXJmbG93OiJ0cnVuY2F0ZSIsd2lkdGg6bSxlbGxpcHNpczp2LGZpbGw6dS5nZXRUZXh0Q29sb3IoKXx8ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLGFsaWduOnUuZ2V0KCJhbGlnbiIpfHxvLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnUuZ2V0KCJ2ZXJ0aWNhbEFsaWduIil8fG8udGV4dFZlcnRpY2FsQWxpZ259KSx6MjoxfSk7aWYob2goe2VsOl8sY29tcG9uZW50TW9kZWw6ZSxpdGVtTmFtZTpyfSksXy5fX2Z1bGxUZXh0PXIsXy5hbmlkPSJuYW1lIixlLmdldCgidHJpZ2dlckV2ZW50Iikpe3ZhciB4PXRNLm1ha2VBeGlzRXZlbnREYXRhQmFzZShlKTt4LnRhcmdldFR5cGU9ImF4aXNOYW1lIix4Lm5hbWU9cixfcyhfKS5ldmVudERhdGE9eH1pLmFkZChfKSxfLnVwZGF0ZVRyYW5zZm9ybSgpLG4uYWRkKF8pLF8uZGVjb21wb3NlVHJhbnNmb3JtKCl9fX07ZnVuY3Rpb24gbk0odCl7dCYmKHQuaWdub3JlPSEwKX1mdW5jdGlvbiBpTSh0LGUpe3ZhciBuPXQmJnQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKSxpPWUmJmUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihuJiZpKXt2YXIgcj1HbihbXSk7cmV0dXJuIFhuKHIsciwtdC5yb3RhdGlvbiksbi5hcHBseVRyYW5zZm9ybShXbihbXSxyLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLGkuYXBwbHlUcmFuc2Zvcm0oV24oW10scixlLmdldExvY2FsVHJhbnNmb3JtKCkpKSxuLmludGVyc2VjdChpKX19ZnVuY3Rpb24gck0odCl7cmV0dXJuIm1pZGRsZSI9PT10fHwiY2VudGVyIj09PXR9ZnVuY3Rpb24gb00odCxlLG4saSxyKXtmb3IodmFyIG89W10sYT1bXSxzPVtdLGw9MDtsPHQubGVuZ3RoO2wrKyl7dmFyIHU9dFtsXS5jb29yZDthWzBdPXUsYVsxXT0wLHNbMF09dSxzWzFdPW4sZSYmKFJ0KGEsYSxlKSxSdChzLHMsZSkpO3ZhciBoPW5ldyB1dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6YVswXSx5MTphWzFdLHgyOnNbMF0seTI6c1sxXX0sc3R5bGU6aSx6MjoyLGF1dG9CYXRjaDohMCxzaWxlbnQ6ITB9KTtoLmFuaWQ9cisiXyIrdFtsXS50aWNrVmFsdWUsby5wdXNoKGgpfXJldHVybiBvfWZ1bmN0aW9uIGFNKHQsZSl7dmFyIG49e2F4ZXNJbmZvOnt9LHNlcmllc0ludm9sdmVkOiExLGNvb3JkU3lzQXhlc0luZm86e30sY29vcmRTeXNNYXA6e319O3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxyPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLG89ci5nZXQoImxpbmsiLCEwKXx8W10sYT1bXTtQKG4uZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSwoZnVuY3Rpb24obil7aWYobi5heGlzUG9pbnRlckVuYWJsZWQpe3ZhciBzPWNNKG4ubW9kZWwpLGw9dC5jb29yZFN5c0F4ZXNJbmZvW3NdPXt9O3QuY29vcmRTeXNNYXBbc109bjt2YXIgdT1uLm1vZGVsLmdldE1vZGVsKCJ0b29sdGlwIixpKTtpZihQKG4uZ2V0QXhlcygpLEIoZCwhMSxudWxsKSksbi5nZXRUb29sdGlwQXhlcyYmaSYmdS5nZXQoInNob3ciKSl7dmFyIGg9ImF4aXMiPT09dS5nZXQoInRyaWdnZXIiKSxjPSJjcm9zcyI9PT11LmdldChbImF4aXNQb2ludGVyIiwidHlwZSJdKSxwPW4uZ2V0VG9vbHRpcEF4ZXModS5nZXQoWyJheGlzUG9pbnRlciIsImF4aXMiXSkpOyhofHxjKSYmUChwLmJhc2VBeGVzLEIoZCwhY3x8ImNyb3NzIixoKSksYyYmUChwLm90aGVyQXhlcyxCKGQsImNyb3NzIiwhMSkpfX1mdW5jdGlvbiBkKGkscyxoKXt2YXIgYz1oLm1vZGVsLmdldE1vZGVsKCJheGlzUG9pbnRlciIscikscD1jLmdldCgic2hvdyIpO2lmKHAmJigiYXV0byIhPT1wfHxpfHxoTShjKSkpe251bGw9PXMmJihzPWMuZ2V0KCJ0cmlnZ2VyVG9vbHRpcCIpKTt2YXIgZD0oYz1pP2Z1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJheGlzUG9pbnRlciIpLHM9e307UChbInR5cGUiLCJzbmFwIiwibGluZVN0eWxlIiwic2hhZG93U3R5bGUiLCJsYWJlbCIsImFuaW1hdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIiwieiJdLChmdW5jdGlvbih0KXtzW3RdPXcoYS5nZXQodCkpfSkpLHMuc25hcD0iY2F0ZWdvcnkiIT09dC50eXBlJiYhIW8sImNyb3NzIj09PWEuZ2V0KCJ0eXBlIikmJihzLnR5cGU9ImxpbmUiKTt2YXIgbD1zLmxhYmVsfHwocy5sYWJlbD17fSk7aWYobnVsbD09bC5zaG93JiYobC5zaG93PSExKSwiY3Jvc3MiPT09cil7dmFyIHU9YS5nZXQoWyJsYWJlbCIsInNob3ciXSk7aWYobC5zaG93PW51bGw9PXV8fHUsIW8pe3ZhciBoPXMubGluZVN0eWxlPWEuZ2V0KCJjcm9zc1N0eWxlIik7aCYmVChsLGgudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixuZXcgT2gocyxuLGkpKX0oaCx1LHIsZSxpLHMpOmMpLmdldCgic25hcCIpLGY9Y00oaC5tb2RlbCksZz1zfHxkfHwiY2F0ZWdvcnkiPT09aC50eXBlLHk9dC5heGVzSW5mb1tmXT17a2V5OmYsYXhpczpoLGNvb3JkU3lzOm4sYXhpc1BvaW50ZXJNb2RlbDpjLHRyaWdnZXJUb29sdGlwOnMsaW52b2x2ZVNlcmllczpnLHNuYXA6ZCx1c2VIYW5kbGU6aE0oYyksc2VyaWVzTW9kZWxzOltdLGxpbmtHcm91cDpudWxsfTtsW2ZdPXksdC5zZXJpZXNJbnZvbHZlZD10LnNlcmllc0ludm9sdmVkfHxnO3ZhciB2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUubW9kZWwsaT1lLmRpbSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl18fHt9O2lmKHNNKG9baSsiQXhpc0lkIl0sbi5pZCl8fHNNKG9baSsiQXhpc0luZGV4Il0sbi5jb21wb25lbnRJbmRleCl8fHNNKG9baSsiQXhpc05hbWUiXSxuLm5hbWUpKXJldHVybiByfX0obyxoKTtpZihudWxsIT12KXt2YXIgbT1hW3ZdfHwoYVt2XT17YXhlc0luZm86e319KTttLmF4ZXNJbmZvW2ZdPXksbS5tYXBwZXI9b1t2XS5tYXBwZXIseS5saW5rR3JvdXA9bX19fX0pKX0obix0LGUpLG4uc2VyaWVzSW52b2x2ZWQmJmZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldChbInRvb2x0aXAiLCJ0cmlnZ2VyIl0sITApLHI9ZS5nZXQoWyJ0b29sdGlwIiwic2hvdyJdLCEwKTtuJiYibm9uZSIhPT1pJiYhMSE9PWkmJiJpdGVtIiE9PWkmJiExIT09ciYmITEhPT1lLmdldChbImF4aXNQb2ludGVyIiwic2hvdyJdLCEwKSYmUCh0LmNvb3JkU3lzQXhlc0luZm9bY00obi5tb2RlbCldLChmdW5jdGlvbih0KXt2YXIgaT10LmF4aXM7bi5nZXRBeGlzKGkuZGltKT09PWkmJih0LnNlcmllc01vZGVscy5wdXNoKGUpLG51bGw9PXQuc2VyaWVzRGF0YUNvdW50JiYodC5zZXJpZXNEYXRhQ291bnQ9MCksdC5zZXJpZXNEYXRhQ291bnQrPWUuZ2V0RGF0YSgpLmNvdW50KCkpfSkpfSkpfShuLHQpLG59ZnVuY3Rpb24gc00odCxlKXtyZXR1cm4iYWxsIj09PXR8fEYodCkmJkQodCxlKT49MHx8dD09PWV9ZnVuY3Rpb24gbE0odCl7dmFyIGU9dU0odCk7aWYoZSl7dmFyIG49ZS5heGlzUG9pbnRlck1vZGVsLGk9ZS5heGlzLnNjYWxlLHI9bi5vcHRpb24sbz1uLmdldCgic3RhdHVzIiksYT1uLmdldCgidmFsdWUiKTtudWxsIT1hJiYoYT1pLnBhcnNlKGEpKTt2YXIgcz1oTShuKTtudWxsPT1vJiYoci5zdGF0dXM9cz8ic2hvdyI6ImhpZGUiKTt2YXIgbD1pLmdldEV4dGVudCgpLnNsaWNlKCk7bFswXT5sWzFdJiZsLnJldmVyc2UoKSwobnVsbD09YXx8YT5sWzFdKSYmKGE9bFsxXSksYTxsWzBdJiYoYT1sWzBdKSxyLnZhbHVlPWEscyYmKHIuc3RhdHVzPWUuYXhpcy5zY2FsZS5pc0JsYW5rKCk/ImhpZGUiOiJzaG93Iil9fWZ1bmN0aW9uIHVNKHQpe3ZhciBlPSh0LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpfHx7fSkuY29vcmRTeXNBeGVzSW5mbztyZXR1cm4gZSYmZS5heGVzSW5mb1tjTSh0KV19ZnVuY3Rpb24gaE0odCl7cmV0dXJuISF0LmdldChbImhhbmRsZSIsInNob3ciXSl9ZnVuY3Rpb24gY00odCl7cmV0dXJuIHQudHlwZSsifHwiK3QuaWR9dmFyIHBNPXt9LGRNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmF4aXNQb2ludGVyQ2xhc3MmJmxNKGUpLHQucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fZG9VcGRhdGVBeGlzUG9pbnRlckNsYXNzKGUsaSwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcyh0LG4sITEpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9heGlzUG9pbnRlcjtuJiZuLnJlbW92ZShlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLG4pe3RoaXMuX2Rpc3Bvc2VBeGlzUG9pbnRlcihuKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZS5nZXRBeGlzUG9pbnRlckNsYXNzKHRoaXMuYXhpc1BvaW50ZXJDbGFzcyk7aWYocil7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9dU0odCk7cmV0dXJuIGUmJmUuYXhpc1BvaW50ZXJNb2RlbH0odCk7bz8odGhpcy5fYXhpc1BvaW50ZXJ8fCh0aGlzLl9heGlzUG9pbnRlcj1uZXcgcikpLnJlbmRlcih0LG8sbixpKTp0aGlzLl9kaXNwb3NlQXhpc1BvaW50ZXIobil9fSxlLnByb3RvdHlwZS5fZGlzcG9zZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2F4aXNQb2ludGVyJiZ0aGlzLl9heGlzUG9pbnRlci5kaXNwb3NlKHQpLHRoaXMuX2F4aXNQb2ludGVyPW51bGx9LGUucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQsZSl7cE1bdF09ZX0sZS5nZXRBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZwTVt0XX0sZS50eXBlPSJheGlzIixlfSh3ZiksZk09a3IoKTtmdW5jdGlvbiBnTSh0LGUsbixpKXt2YXIgcj1uLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1uLmdldE1vZGVsKCJzcGxpdEFyZWEiKSxhPW8uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHM9YS5nZXQoImNvbG9yIiksbD1pLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm8sY2xhbXA6ITB9KTtpZih1Lmxlbmd0aCl7dmFyIGg9cy5sZW5ndGgsYz1mTSh0KS5zcGxpdEFyZWFDb2xvcnMscD1odCgpLGQ9MDtpZihjKWZvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgZz1jLmdldCh1W2ZdLnRpY2tWYWx1ZSk7aWYobnVsbCE9Zyl7ZD0oZysoaC0xKSpmKSVoO2JyZWFrfX12YXIgeT1yLnRvR2xvYmFsQ29vcmQodVswXS5jb29yZCksdj1hLmdldEFyZWFTdHlsZSgpO3M9RihzKT9zOltzXTtmb3IoZj0xO2Y8dS5sZW5ndGg7ZisrKXt2YXIgbT1yLnRvR2xvYmFsQ29vcmQodVtmXS5jb29yZCksXz12b2lkIDAseD12b2lkIDAsYj12b2lkIDAsdz12b2lkIDA7ci5pc0hvcml6b250YWwoKT8oXz15LHg9bC55LGI9bS1fLHc9bC5oZWlnaHQseT1fK2IpOihfPWwueCx4PXksYj1sLndpZHRoLHk9eCsodz1tLXgpKTt2YXIgUz11W2YtMV0udGlja1ZhbHVlO251bGwhPVMmJnAuc2V0KFMsZCksZS5hZGQobmV3IGxzKHthbmlkOm51bGwhPVM/ImFyZWFfIitTOm51bGwsc2hhcGU6e3g6Xyx5Ongsd2lkdGg6YixoZWlnaHQ6d30sc3R5bGU6VCh7ZmlsbDpzW2RdfSx2KSxhdXRvQmF0Y2g6ITAsc2lsZW50OiEwfSkpLGQ9KGQrMSklaH1mTSh0KS5zcGxpdEFyZWFDb2xvcnM9cH19fWZ1bmN0aW9uIHlNKHQpe2ZNKHQpLnNwbGl0QXJlYUNvbG9ycz1udWxsfXZhciB2TT1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sbU09WyJzcGxpdEFyZWEiLCJzcGxpdExpbmUiLCJtaW5vclNwbGl0TGluZSJdLF9NPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBvPXRoaXMuX2F4aXNHcm91cDtpZih0aGlzLl9heGlzR3JvdXA9bmV3IEVpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2F4aXNHcm91cCksZS5nZXQoInNob3ciKSl7dmFyIGE9ZS5nZXRDb29yZFN5c01vZGVsKCkscz1ZUyhhLGUpLGw9bmV3IHRNKGUsSSh7aGFuZGxlQXV0b1Nob3duOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1hLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Q2FydGVzaWFucygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXS5nZXRPdGhlckF4aXMoZS5heGlzKS50eXBlO2lmKCJ2YWx1ZSI9PT1yfHwibG9nIj09PXIpcmV0dXJuITB9cmV0dXJuITF9fSxzKSk7UCh2TSxsLmFkZCxsKSx0aGlzLl9heGlzR3JvdXAuYWRkKGwuZ2V0R3JvdXAoKSksUChtTSwoZnVuY3Rpb24odCl7ZS5nZXQoW3QsInNob3ciXSkmJnhNW3RdKHRoaXMsdGhpcy5fYXhpc0dyb3VwLGUsYSl9KSx0aGlzKSxKdShvLHRoaXMuX2F4aXNHcm91cCxlKSx0LnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLGUsbixpLHIpfX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7eU0odGhpcyl9LGUudHlwZT0iY2FydGVzaWFuQXhpcyIsZX0oZE0pLHhNPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89bi5nZXRNb2RlbCgic3BsaXRMaW5lIiksYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpO3M9RihzKT9zOltzXTtmb3IodmFyIGw9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PXIuaXNIb3Jpem9udGFsKCksaD0wLGM9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm99KSxwPVtdLGQ9W10sZj1hLmdldExpbmVTdHlsZSgpLGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIHk9ci50b0dsb2JhbENvb3JkKGNbZ10uY29vcmQpO3U/KHBbMF09eSxwWzFdPWwueSxkWzBdPXksZFsxXT1sLnkrbC5oZWlnaHQpOihwWzBdPWwueCxwWzFdPXksZFswXT1sLngrbC53aWR0aCxkWzFdPXkpO3ZhciB2PWgrKyVzLmxlbmd0aCxtPWNbZ10udGlja1ZhbHVlO2UuYWRkKG5ldyB1dSh7YW5pZDpudWxsIT1tPyJsaW5lXyIrY1tnXS50aWNrVmFsdWU6bnVsbCxzdWJQaXhlbE9wdGltaXplOiEwLGF1dG9CYXRjaDohMCxzaGFwZTp7eDE6cFswXSx5MTpwWzFdLHgyOmRbMF0seTI6ZFsxXX0sc3R5bGU6VCh7c3Ryb2tlOnNbdl19LGYpLHNpbGVudDohMH0pKX19fSxtaW5vclNwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1uLmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxhPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscz1yLmlzSG9yaXpvbnRhbCgpLGw9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYobC5sZW5ndGgpZm9yKHZhciB1PVtdLGg9W10sYz1vLmdldExpbmVTdHlsZSgpLHA9MDtwPGwubGVuZ3RoO3ArKylmb3IodmFyIGQ9MDtkPGxbcF0ubGVuZ3RoO2QrKyl7dmFyIGY9ci50b0dsb2JhbENvb3JkKGxbcF1bZF0uY29vcmQpO3M/KHVbMF09Zix1WzFdPWEueSxoWzBdPWYsaFsxXT1hLnkrYS5oZWlnaHQpOih1WzBdPWEueCx1WzFdPWYsaFswXT1hLngrYS53aWR0aCxoWzFdPWYpLGUuYWRkKG5ldyB1dSh7YW5pZDoibWlub3JfbGluZV8iK2xbcF1bZF0udGlja1ZhbHVlLHN1YlBpeGVsT3B0aW1pemU6ITAsYXV0b0JhdGNoOiEwLHNoYXBlOnt4MTp1WzBdLHkxOnVbMV0seDI6aFswXSx5MjpoWzFdfSxzdHlsZTpjLHNpbGVudDohMH0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpKXtnTSh0LGUsbixpKX19LGJNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0ieEF4aXMiLGV9KF9NKSx3TT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9Yk0udHlwZSxlfXJldHVybiBuKGUsdCksZS50eXBlPSJ5QXhpcyIsZX0oX00pLFNNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iZ3JpZCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSYmdGhpcy5ncm91cC5hZGQobmV3IGxzKHtzaGFwZTp0LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHN0eWxlOlQoe2ZpbGw6dC5nZXQoImJhY2tncm91bmRDb2xvciIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITAsejI6LTF9KSl9LGUudHlwZT0iZ3JpZCIsZX0od2YpLE1NPXtvZmZzZXQ6MH07ZnVuY3Rpb24gSU0odCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcoU00pLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChQUyksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oImNhcnRlc2lhbjJkIixxUyksQlModCwieCIsT1MsTU0pLEJTKHQsInkiLE9TLE1NKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhiTSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcod00pLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoKGZ1bmN0aW9uKHQpe3QueEF4aXMmJnQueUF4aXMmJiF0LmdyaWQmJih0LmdyaWQ9e30pfSkpfWZ1bmN0aW9uIFRNKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPVtdLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkpe3ZhciByPWkuZ2V0SW5kaWNhdG9yQXhlcygpO1AociwoZnVuY3Rpb24odCxvKXtlLmVhY2goZS5tYXBEaW1lbnNpb24ocltvXS5kaW0pLChmdW5jdGlvbih0LGUpe25bZV09bltlXXx8W107dmFyIHI9aS5kYXRhVG9Qb2ludCh0LG8pO25bZV1bb109Q00ocik/cjpETShpKX0pKX0pKSxlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXooblt0XSwoZnVuY3Rpb24odCl7cmV0dXJuIENNKHQpfSkpfHxETShpKTtuW3RdLnB1c2goci5zbGljZSgpKSxlLnNldEl0ZW1MYXlvdXQodCxuW3RdKX0pKX19KSl9ZnVuY3Rpb24gQ00odCl7cmV0dXJuIWlzTmFOKHRbMF0pJiYhaXNOYU4odFsxXSl9ZnVuY3Rpb24gRE0odCl7cmV0dXJuW3QuY3gsdC5jeV19ZnVuY3Rpb24gQU0odCl7dmFyIGU9dC5wb2xhcjtpZihlKXtGKGUpfHwoZT1bZV0pO3ZhciBuPVtdO1AoZSwoZnVuY3Rpb24oZSxpKXtlLmluZGljYXRvcj8oZS50eXBlJiYhZS5zaGFwZSYmKGUuc2hhcGU9ZS50eXBlKSx0LnJhZGFyPXQucmFkYXJ8fFtdLEYodC5yYWRhcil8fCh0LnJhZGFyPVt0LnJhZGFyXSksdC5yYWRhci5wdXNoKGUpKTpuLnB1c2goZSl9KSksdC5wb2xhcj1ufVAodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3QmJiJyYWRhciI9PT10LnR5cGUmJnQucG9sYXJJbmRleCYmKHQucmFkYXJJbmRleD10LnBvbGFySW5kZXgpfSkpfXZhciBMTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXRoaXMuZ3JvdXAsbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGE7ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKXx8ImNpcmNsZSI7aWYoIm5vbmUiIT09bil7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PVsrdCwrdF0pLHR9KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLHI9ZnkobiwtMSwtMSwyLDIpLG89dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFJvdGF0ZSIpfHwwO3JldHVybiByLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6MjoxMDAsc2NhbGVYOmlbMF0vMixzY2FsZVk6aVsxXS8yLHJvdGF0aW9uOm8qTWF0aC5QSS8xODB8fDB9KSxyfX1mdW5jdGlvbiBsKGUsbixpLHIsbyxhKXtpLnJlbW92ZUFsbCgpO2Zvcih2YXIgbD0wO2w8bi5sZW5ndGgtMTtsKyspe3ZhciB1PXMocixvKTt1JiYodS5fX2RpbUlkeD1sLGVbbF0/KHUuc2V0UG9zaXRpb24oZVtsXSksYWhbYT8iaW5pdFByb3BzIjoidXBkYXRlUHJvcHMiXSh1LHt4Om5bbF1bMF0seTpuW2xdWzFdfSx0LG8pKTp1LnNldFBvc2l0aW9uKG5bbF0pLGkuYWRkKHUpKX19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXtyZXR1cm5baS5jeCxpLmN5XX0pKX1vLmRpZmYoYSkuYWRkKChmdW5jdGlvbihlKXt2YXIgbj1vLmdldEl0ZW1MYXlvdXQoZSk7aWYobil7dmFyIGk9bmV3IHJ1LHI9bmV3IGF1LGE9e3NoYXBlOntwb2ludHM6bn19O2kuc2hhcGUucG9pbnRzPXUobiksci5zaGFwZS5wb2ludHM9dShuKSxXdShpLGEsdCxlKSxXdShyLGEsdCxlKTt2YXIgcz1uZXcgRWksaD1uZXcgRWk7cy5hZGQocikscy5hZGQoaSkscy5hZGQoaCksbChyLnNoYXBlLnBvaW50cyxuLGgsbyxlLCEwKSxvLnNldEl0ZW1HcmFwaGljRWwoZSxzKX19KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciBpPWEuZ2V0SXRlbUdyYXBoaWNFbChuKSxyPWkuY2hpbGRBdCgwKSxzPWkuY2hpbGRBdCgxKSx1PWkuY2hpbGRBdCgyKSxoPXtzaGFwZTp7cG9pbnRzOm8uZ2V0SXRlbUxheW91dChlKX19O2guc2hhcGUucG9pbnRzJiYobChyLnNoYXBlLnBvaW50cyxoLnNoYXBlLnBvaW50cyx1LG8sZSwhMSksSHUocixoLHQpLEh1KHMsaCx0KSxvLnNldEl0ZW1HcmFwaGljRWwoZSxpKSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXtyLnJlbW92ZShhLmdldEl0ZW1HcmFwaGljRWwodCkpfSkpLmV4ZWN1dGUoKSxvLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3ZhciBuPW8uZ2V0SXRlbU1vZGVsKGUpLGk9dC5jaGlsZEF0KDApLGE9dC5jaGlsZEF0KDEpLHM9dC5jaGlsZEF0KDIpLGw9by5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksdT1sLmZpbGw7ci5hZGQodCksaS51c2VTdHlsZShUKG4uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtmaWxsOiJub25lIixzdHJva2U6dX0pKSxjbChpLG4sImxpbmVTdHlsZSIpLGNsKGEsbiwiYXJlYVN0eWxlIik7dmFyIGg9bi5nZXRNb2RlbCgiYXJlYVN0eWxlIiksYz1oLmlzRW1wdHkoKSYmaC5wYXJlbnRNb2RlbC5pc0VtcHR5KCk7YS5pZ25vcmU9YyxQKFsiZW1waGFzaXMiLCJzZWxlY3QiLCJibHVyIl0sKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0TW9kZWwoW3QsImFyZWFTdHlsZSJdKSxpPWUuaXNFbXB0eSgpJiZlLnBhcmVudE1vZGVsLmlzRW1wdHkoKTthLmVuc3VyZVN0YXRlKHQpLmlnbm9yZT1pJiZjfSkpLGEudXNlU3R5bGUoVChoLmdldEFyZWFTdHlsZSgpLHtmaWxsOnUsb3BhY2l0eTouNyxkZWNhbDpsLmRlY2FsfSkpO3ZhciBwPW4uZ2V0TW9kZWwoImVtcGhhc2lzIiksZD1wLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtzLmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGVzKXt2YXIgaT10LnN0eWxlO3QudXNlU3R5bGUoSSh7aW1hZ2U6aS5pbWFnZSx4OmkueCx5OmkueSx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH0sbCkpfWVsc2UgdC51c2VTdHlsZShsKSx0LnNldENvbG9yKHUpO3QuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9dyhkKTt2YXIgcj1vLmdldChvLmRpbWVuc2lvbnNbdC5fX2RpbUlkeF0sZSk7KG51bGw9PXJ8fGlzTmFOKHIpKSYmKHI9IiIpLGhoKHQsY2gobikse2xhYmVsRmV0Y2hlcjpvLmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGxhYmVsRGltSW5kZXg6dC5fX2RpbUlkeCxkZWZhdWx0VGV4dDpyLGluaGVyaXRDb2xvcjp1LGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eX0pfSkpLHNsKHQscC5nZXQoImZvY3VzIikscC5nZXQoImJsdXJTY29wZSIpKX0pKSx0aGlzLl9kYXRhPW99LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9InJhZGFyIixlfShUZiksa009ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YT0hMCxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyBJUyhWKHRoaXMuZ2V0RGF0YSx0aGlzKSxWKHRoaXMuZ2V0UmF3RGF0YSx0aGlzKSl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1TKHRoaXMse2dlbmVyYXRlQ29vcmQ6ImluZGljYXRvcl8iLGdlbmVyYXRlQ29vcmRDb3VudDoxLzB9KX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0SW5kaWNhdG9yQXhlcygpLG89dGhpcy5nZXREYXRhKCkuZ2V0TmFtZSh0KSxhPSIiPT09bz90aGlzLm5hbWU6byxzPWxmKHRoaXMsdCk7cmV0dXJuIHRmKCJzZWN0aW9uIix7aGVhZGVyOmEsc29ydEJsb2NrczohMCxibG9ja3M6TyhyLChmdW5jdGlvbihlKXt2YXIgbj1pLmdldChpLm1hcERpbWVuc2lvbihlLmRpbSksdCk7cmV0dXJuIHRmKCJuYW1lVmFsdWUiLHttYXJrZXJUeXBlOiJzdWJJdGVtIixtYXJrZXJDb2xvcjpzLG5hbWU6ZS5uYW1lLHZhbHVlOm4sc29ydFBhcmFtOm59KX0pKX0pfSxlLnByb3RvdHlwZS5nZXRUb29sdGlwUG9zaXRpb249ZnVuY3Rpb24odCl7aWYobnVsbCE9dClmb3IodmFyIGU9dGhpcy5nZXREYXRhKCksbj10aGlzLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldFZhbHVlcyhPKG4uZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwRGltZW5zaW9uKHQpfSkpLHQpLHI9MCxvPWkubGVuZ3RoO3I8bztyKyspaWYoIWlzTmFOKGlbcl0pKXt2YXIgYT1uLmdldEluZGljYXRvckF4ZXMoKTtyZXR1cm4gbi5jb29yZFRvUG9pbnQoYVtyXS5kYXRhVG9Db29yZChpW3JdKSxyKX19LGUudHlwZT0ic2VyaWVzLnJhZGFyIixlLmRlcGVuZGVuY2llcz1bInJhZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToicmFkYXIiLGxlZ2VuZEhvdmVyTGluazohMCxyYWRhckluZGV4OjAsbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIn0sbGFiZWw6e3Bvc2l0aW9uOiJ0b3AifSxzeW1ib2xTaXplOjh9LGV9KGZmKSxQTT1FUy52YWx1ZTtmdW5jdGlvbiBPTSh0LGUpe3JldHVybiBUKHtzaG93OmV9LHQpfXZhciBSTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImJvdW5kYXJ5R2FwIiksZT10aGlzLmdldCgic3BsaXROdW1iZXIiKSxuPXRoaXMuZ2V0KCJzY2FsZSIpLGk9dGhpcy5nZXQoImF4aXNMaW5lIikscj10aGlzLmdldCgiYXhpc1RpY2siKSxvPXRoaXMuZ2V0KCJheGlzTGFiZWwiKSxhPXRoaXMuZ2V0KCJheGlzTmFtZSIpLHM9dGhpcy5nZXQoWyJheGlzTmFtZSIsInNob3ciXSksbD10aGlzLmdldChbImF4aXNOYW1lIiwiZm9ybWF0dGVyIl0pLHU9dGhpcy5nZXQoImF4aXNOYW1lR2FwIiksaD10aGlzLmdldCgidHJpZ2dlckV2ZW50IiksYz1PKHRoaXMuZ2V0KCJpbmRpY2F0b3IiKXx8W10sKGZ1bmN0aW9uKGMpe251bGwhPWMubWF4JiZjLm1heD4wJiYhYy5taW4/Yy5taW49MDpudWxsIT1jLm1pbiYmYy5taW48MCYmIWMubWF4JiYoYy5tYXg9MCk7dmFyIHA9YTtudWxsIT1jLmNvbG9yJiYocD1UKHtjb2xvcjpjLmNvbG9yfSxhKSk7dmFyIGQ9Uyh3KGMpLHtib3VuZGFyeUdhcDp0LHNwbGl0TnVtYmVyOmUsc2NhbGU6bixheGlzTGluZTppLGF4aXNUaWNrOnIsYXhpc0xhYmVsOm8sbmFtZTpjLnRleHQsbmFtZUxvY2F0aW9uOiJlbmQiLG5hbWVHYXA6dSxuYW1lVGV4dFN0eWxlOnAsdHJpZ2dlckV2ZW50Omh9LCExKTtpZihzfHwoZC5uYW1lPSIiKSwic3RyaW5nIj09dHlwZW9mIGwpe3ZhciBmPWQubmFtZTtkLm5hbWU9bC5yZXBsYWNlKCJ7dmFsdWV9IixudWxsIT1mP2Y6IiIpfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgbCYmKGQubmFtZT1sKGQubmFtZSxkKSk7dmFyIGc9bmV3IE9oKGQsbnVsbCx0aGlzLmVjTW9kZWwpO3JldHVybiBMKGcsWXgucHJvdG90eXBlKSxnLm1haW5UeXBlPSJyYWRhciIsZy5jb21wb25lbnRJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LGd9KSx0aGlzKTt0aGlzLl9pbmRpY2F0b3JNb2RlbHM9Y30sZS5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yTW9kZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGljYXRvck1vZGVsc30sZS50eXBlPSJyYWRhciIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOiI3NSUiLHN0YXJ0QW5nbGU6OTAsYXhpc05hbWU6e3Nob3c6ITB9LGJvdW5kYXJ5R2FwOlswLDBdLHNwbGl0TnVtYmVyOjUsYXhpc05hbWVHYXA6MTUsc2NhbGU6ITEsc2hhcGU6InBvbHlnb24iLGF4aXNMaW5lOlMoe2xpbmVTdHlsZTp7Y29sb3I6IiNiYmIifX0sUE0uYXhpc0xpbmUpLGF4aXNMYWJlbDpPTShQTS5heGlzTGFiZWwsITEpLGF4aXNUaWNrOk9NKFBNLmF4aXNUaWNrLCExKSxzcGxpdExpbmU6T00oUE0uc3BsaXRMaW5lLCEwKSxzcGxpdEFyZWE6T00oUE0uc3BsaXRBcmVhLCEwKSxpbmRpY2F0b3I6W119LGV9KFhjKSxOTT1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sek09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2J1aWxkQXhlcyh0KSx0aGlzLl9idWlsZFNwbGl0TGluZUFuZEFyZWEodCl9LGUucHJvdG90eXBlLl9idWlsZEF4ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO1AoTyhlLmdldEluZGljYXRvckF4ZXMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0TSh0Lm1vZGVsLHtwb3NpdGlvbjpbZS5jeCxlLmN5XSxyb3RhdGlvbjp0LmFuZ2xlLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxfSl9KSksKGZ1bmN0aW9uKHQpe1AoTk0sdC5hZGQsdCksdGhpcy5ncm91cC5hZGQodC5nZXRHcm91cCgpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5fYnVpbGRTcGxpdExpbmVBbmRBcmVhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPWUuZ2V0SW5kaWNhdG9yQXhlcygpO2lmKG4ubGVuZ3RoKXt2YXIgaT10LmdldCgic2hhcGUiKSxyPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLG89dC5nZXRNb2RlbCgic3BsaXRBcmVhIiksYT1yLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPW8uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGw9ci5nZXQoInNob3ciKSx1PW8uZ2V0KCJzaG93IiksaD1hLmdldCgiY29sb3IiKSxjPXMuZ2V0KCJjb2xvciIpLHA9RihoKT9oOltoXSxkPUYoYyk/YzpbY10sZj1bXSxnPVtdO2lmKCJjaXJjbGUiPT09aSlmb3IodmFyIHk9blswXS5nZXRUaWNrc0Nvb3JkcygpLHY9ZS5jeCxtPWUuY3ksXz0wO188eS5sZW5ndGg7XysrKXtpZihsKWZbRChmLHAsXyldLnB1c2gobmV3IE5sKHtzaGFwZTp7Y3g6dixjeTptLHI6eVtfXS5jb29yZH19KSk7aWYodSYmXzx5Lmxlbmd0aC0xKWdbRChnLGQsXyldLnB1c2gobmV3IHR1KHtzaGFwZTp7Y3g6dixjeTptLHIwOnlbX10uY29vcmQscjp5W18rMV0uY29vcmR9fSkpfWVsc2V7dmFyIHgsYj1PKG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9dC5nZXRUaWNrc0Nvb3JkcygpO3JldHVybiB4PW51bGw9PXg/aS5sZW5ndGgtMTpNYXRoLm1pbihpLmxlbmd0aC0xLHgpLE8oaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUuY29vcmRUb1BvaW50KHQuY29vcmQsbil9KSl9KSksdz1bXTtmb3IoXz0wO188PXg7XysrKXtmb3IodmFyIFM9W10sTT0wO008bi5sZW5ndGg7TSsrKVMucHVzaChiW01dW19dKTtpZihTWzBdJiZTLnB1c2goU1swXS5zbGljZSgpKSxsKWZbRChmLHAsXyldLnB1c2gobmV3IGF1KHtzaGFwZTp7cG9pbnRzOlN9fSkpO2lmKHUmJncpZ1tEKGcsZCxfLTEpXS5wdXNoKG5ldyBydSh7c2hhcGU6e3BvaW50czpTLmNvbmNhdCh3KX19KSk7dz1TLnNsaWNlKCkucmV2ZXJzZSgpfX12YXIgST1hLmdldExpbmVTdHlsZSgpLEM9cy5nZXRBcmVhU3R5bGUoKTtQKGcsKGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoVnUodCx7c3R5bGU6VCh7c3Ryb2tlOiJub25lIixmaWxsOmRbZSVkLmxlbmd0aF19LEMpLHNpbGVudDohMH0pKX0pLHRoaXMpLFAoZiwoZnVuY3Rpb24odCxlKXt0aGlzLmdyb3VwLmFkZChWdSh0LHtzdHlsZTpUKHtmaWxsOiJub25lIixzdHJva2U6cFtlJXAubGVuZ3RoXX0sSSksc2lsZW50OiEwfSkpfSksdGhpcyl9ZnVuY3Rpb24gRCh0LGUsbil7dmFyIGk9biVlLmxlbmd0aDtyZXR1cm4gdFtpXT10W2ldfHxbXSxpfX0sZS50eXBlPSJyYWRhciIsZX0od2YpLEVNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gci50eXBlPSJ2YWx1ZSIsci5hbmdsZT0wLHIubmFtZT0iIixyfXJldHVybiBuKGUsdCksZX0oaGIpLFZNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5kaW1lbnNpb25zPVtdLHRoaXMuX21vZGVsPXQsdGhpcy5faW5kaWNhdG9yQXhlcz1PKHQuZ2V0SW5kaWNhdG9yTW9kZWxzKCksKGZ1bmN0aW9uKHQsZSl7dmFyIG49ImluZGljYXRvcl8iK2UsaT1uZXcgRU0obixuZXcgUV8pO3JldHVybiBpLm5hbWU9dC5nZXQoIm5hbWUiKSxpLm1vZGVsPXQsdC5heGlzPWksdGhpcy5kaW1lbnNpb25zLnB1c2gobiksaX0pLHRoaXMpLHRoaXMucmVzaXplKHQsbil9cmV0dXJuIHQucHJvdG90eXBlLmdldEluZGljYXRvckF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kaWNhdG9yQXhlc30sdC5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pbmRpY2F0b3JBeGVzW2VdO3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChuLmRhdGFUb0Nvb3JkKHQpLGUpfSx0LnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pbmRpY2F0b3JBeGVzW2VdLmFuZ2xlO3JldHVyblt0aGlzLmN4K3QqTWF0aC5jb3MobiksdGhpcy5jeS10Kk1hdGguc2luKG4pXX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LG49dFsxXS10aGlzLmN5LGk9TWF0aC5zcXJ0KGUqZStuKm4pO2UvPWksbi89aTtmb3IodmFyIHIsbz1NYXRoLmF0YW4yKC1uLGUpLGE9MS8wLHM9LTEsbD0wO2w8dGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bCsrKXt2YXIgdT10aGlzLl9pbmRpY2F0b3JBeGVzW2xdLGg9TWF0aC5hYnMoby11LmFuZ2xlKTtoPGEmJihyPXUscz1sLGE9aCl9cmV0dXJuW3MsKyhyJiZyLmNvb3JkVG9EYXRhKGkpKV19LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJjZW50ZXIiKSxpPWUuZ2V0V2lkdGgoKSxyPWUuZ2V0SGVpZ2h0KCksbz1NYXRoLm1pbihpLHIpLzI7dGhpcy5jeD1aaShuWzBdLGkpLHRoaXMuY3k9WmkoblsxXSxyKSx0aGlzLnN0YXJ0QW5nbGU9dC5nZXQoInN0YXJ0QW5nbGUiKSpNYXRoLlBJLzE4MDt2YXIgYT10LmdldCgicmFkaXVzIik7InN0cmluZyIhPXR5cGVvZiBhJiYibnVtYmVyIiE9dHlwZW9mIGF8fChhPVswLGFdKSx0aGlzLnIwPVppKGFbMF0sbyksdGhpcy5yPVppKGFbMV0sbyksUCh0aGlzLl9pbmRpY2F0b3JBeGVzLChmdW5jdGlvbih0LGUpe3Quc2V0RXh0ZW50KHRoaXMucjAsdGhpcy5yKTt2YXIgbj10aGlzLnN0YXJ0QW5nbGUrZSpNYXRoLlBJKjIvdGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bj1NYXRoLmF0YW4yKE1hdGguc2luKG4pLE1hdGguY29zKG4pKSx0LmFuZ2xlPW59KSx0aGlzKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlcyxpPXRoaXMuX21vZGVsO1AobiwoZnVuY3Rpb24odCl7dC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApfSkpLHQuZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLChmdW5jdGlvbihlLHIpe2lmKCJyYWRhciI9PT1lLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiZ0LmdldENvbXBvbmVudCgicmFkYXIiLGUuZ2V0KCJyYWRhckluZGV4IikpPT09aSl7dmFyIG89ZS5nZXREYXRhKCk7UChuLChmdW5jdGlvbih0KXt0LnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEobyxvLm1hcERpbWVuc2lvbih0LmRpbSkpfSkpfX0pLHRoaXMpO3ZhciByPWkuZ2V0KCJzcGxpdE51bWJlciIpO2Z1bmN0aW9uIG8odCl7dmFyIGU9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMTApKSxuPXQvZTtyZXR1cm4gMj09PW4/bj01Om4qPTIsbiplfVAobiwoZnVuY3Rpb24odCxlKXt2YXIgbj1FeCh0LnNjYWxlLHQubW9kZWwpLmV4dGVudDtWeCh0LnNjYWxlLHQubW9kZWwpO3ZhciBpPXQubW9kZWwsYT10LnNjYWxlLHM9engoYSxpLmdldCgibWluIiwhMCkpLGw9engoYSxpLmdldCgibWF4IiwhMCkpLHU9YS5nZXRJbnRlcnZhbCgpO2lmKG51bGwhPXMmJm51bGwhPWwpYS5zZXRFeHRlbnQoK3MsK2wpLGEuc2V0SW50ZXJ2YWwoKGwtcykvcik7ZWxzZSBpZihudWxsIT1zKXt2YXIgaD12b2lkIDA7ZG97aD1zK3UqcixhLnNldEV4dGVudCgrcyxoKSxhLnNldEludGVydmFsKHUpLHU9byh1KX13aGlsZShoPG5bMV0mJmlzRmluaXRlKGgpJiZpc0Zpbml0ZShuWzFdKSl9ZWxzZSBpZihudWxsIT1sKXt2YXIgYz12b2lkIDA7ZG97Yz1sLXUqcixhLnNldEV4dGVudChjLCtsKSxhLnNldEludGVydmFsKHUpLHU9byh1KX13aGlsZShjPm5bMF0mJmlzRmluaXRlKGMpJiZpc0Zpbml0ZShuWzBdKSl9ZWxzZXthLmdldFRpY2tzKCkubGVuZ3RoLTE+ciYmKHU9byh1KSk7Yz1qaSgoaD1NYXRoLmNlaWwoblsxXS91KSp1KS11KnIpO2Euc2V0RXh0ZW50KGMsaCksYS5zZXRJbnRlcnZhbCh1KX19KSl9LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJOb3QgaW1wbGVtZW50ZWQuIiksbnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybigiTm90IGltcGxlbWVudGVkLiIpLG51bGx9LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJOb3QgaW1wbGVtZW50ZWQuIiksITF9LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgicmFkYXIiLChmdW5jdGlvbihyKXt2YXIgbz1uZXcgdChyLGUsbik7aS5wdXNoKG8pLHIuY29vcmRpbmF0ZVN5c3RlbT1vfSkpLGUuZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLChmdW5jdGlvbih0KXsicmFkYXIiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KCJyYWRhckluZGV4Iil8fDBdKX0pKSxpfSx0LmRpbWVuc2lvbnM9W10sdH0oKTtmdW5jdGlvbiBCTSh0KXt0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgicmFkYXIiLFZNKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoUk0pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHpNKSx0LnJlZ2lzdGVyVmlzdWFsKHtzZXJpZXNUeXBlOiJyYWRhciIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7ZS5lYWNoKChmdW5jdGlvbih0KXtlLnNldEl0ZW1WaXN1YWwodCwibGVnZW5kSWNvbiIsInJvdW5kUmVjdCIpfSkpLGUuc2V0VmlzdWFsKCJsZWdlbmRJY29uIiwicm91bmRSZWN0Iil9fSl9dmFyIEZNPSJcMF9lY19pbnRlcmFjdGlvbl9tdXRleCI7ZnVuY3Rpb24gR00odCxlKXtyZXR1cm4hIUhNKHQpW2VdfWZ1bmN0aW9uIEhNKHQpe3JldHVybiB0W0ZNXXx8KHRbRk1dPXt9KX1IbSh7dHlwZToidGFrZUdsb2JhbEN1cnNvciIsZXZlbnQ6Imdsb2JhbEN1cnNvclRha2VuIix1cGRhdGU6InVwZGF0ZSJ9LChmdW5jdGlvbigpe30pKTt2YXIgV009ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7bi5fenI9ZTt2YXIgaT1WKG4uX21vdXNlZG93bkhhbmRsZXIsbikscj1WKG4uX21vdXNlbW92ZUhhbmRsZXIsbiksbz1WKG4uX21vdXNldXBIYW5kbGVyLG4pLGE9VihuLl9tb3VzZXdoZWVsSGFuZGxlcixuKSxzPVYobi5fcGluY2hIYW5kbGVyLG4pO3JldHVybiBuLmVuYWJsZT1mdW5jdGlvbih0LG4pe3RoaXMuZGlzYWJsZSgpLHRoaXMuX29wdD1UKHcobil8fHt9LHt6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiExLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfSksbnVsbD09dCYmKHQ9ITApLCEwIT09dCYmIm1vdmUiIT09dCYmInBhbiIhPT10fHwoZS5vbigibW91c2Vkb3duIixpKSxlLm9uKCJtb3VzZW1vdmUiLHIpLGUub24oIm1vdXNldXAiLG8pKSwhMCE9PXQmJiJzY2FsZSIhPT10JiYiem9vbSIhPT10fHwoZS5vbigibW91c2V3aGVlbCIsYSksZS5vbigicGluY2giLHMpKX0sbi5kaXNhYmxlPWZ1bmN0aW9uKCl7ZS5vZmYoIm1vdXNlZG93biIsaSksZS5vZmYoIm1vdXNlbW92ZSIsciksZS5vZmYoIm1vdXNldXAiLG8pLGUub2ZmKCJtb3VzZXdoZWVsIixhKSxlLm9mZigicGluY2giLHMpfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaXNEcmFnZ2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2luZ30sZS5wcm90b3R5cGUuaXNQaW5jaGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waW5jaGluZ30sZS5wcm90b3R5cGUuc2V0UG9pbnRlckNoZWNrZXI9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyQ2hlY2tlcj10fSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlKCl9LGUucHJvdG90eXBlLl9tb3VzZWRvd25IYW5kbGVyPWZ1bmN0aW9uKHQpe2lmKCEobmUodCl8fHQudGFyZ2V0JiZ0LnRhcmdldC5kcmFnZ2FibGUpKXt2YXIgZT10Lm9mZnNldFgsbj10Lm9mZnNldFk7dGhpcy5wb2ludGVyQ2hlY2tlciYmdGhpcy5wb2ludGVyQ2hlY2tlcih0LGUsbikmJih0aGlzLl94PWUsdGhpcy5feT1uLHRoaXMuX2RyYWdnaW5nPSEwKX19LGUucHJvdG90eXBlLl9tb3VzZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RyYWdnaW5nJiZZTSgibW92ZU9uTW91c2VNb3ZlIix0LHRoaXMuX29wdCkmJiJwaW5jaCIhPT10Lmdlc3R1cmVFdmVudCYmIUdNKHRoaXMuX3pyLCJnbG9iYWxQYW4iKSl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZLGk9dGhpcy5feCxyPXRoaXMuX3ksbz1lLWksYT1uLXI7dGhpcy5feD1lLHRoaXMuX3k9bix0aGlzLl9vcHQucHJldmVudERlZmF1bHRNb3VzZU1vdmUmJmVlKHQuZXZlbnQpLFhNKHRoaXMsInBhbiIsIm1vdmVPbk1vdXNlTW92ZSIsdCx7ZHg6byxkeTphLG9sZFg6aSxvbGRZOnIsbmV3WDplLG5ld1k6bixpc0F2YWlsYWJsZUJlaGF2aW9yOm51bGx9KX19LGUucHJvdG90eXBlLl9tb3VzZXVwSGFuZGxlcj1mdW5jdGlvbih0KXtuZSh0KXx8KHRoaXMuX2RyYWdnaW5nPSExKX0sZS5wcm90b3R5cGUuX21vdXNld2hlZWxIYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPVlNKCJ6b29tT25Nb3VzZVdoZWVsIix0LHRoaXMuX29wdCksbj1ZTSgibW92ZU9uTW91c2VXaGVlbCIsdCx0aGlzLl9vcHQpLGk9dC53aGVlbERlbHRhLHI9TWF0aC5hYnMoaSksbz10Lm9mZnNldFgsYT10Lm9mZnNldFk7aWYoMCE9PWkmJihlfHxuKSl7aWYoZSl7dmFyIHM9cj4zPzEuNDpyPjE/MS4yOjEuMTtVTSh0aGlzLCJ6b29tIiwiem9vbU9uTW91c2VXaGVlbCIsdCx7c2NhbGU6aT4wP3M6MS9zLG9yaWdpblg6byxvcmlnaW5ZOmEsaXNBdmFpbGFibGVCZWhhdmlvcjpudWxsfSl9aWYobil7dmFyIGw9TWF0aC5hYnMoaSk7VU0odGhpcywic2Nyb2xsTW92ZSIsIm1vdmVPbk1vdXNlV2hlZWwiLHQse3Njcm9sbERlbHRhOihpPjA/MTotMSkqKGw+Mz8uNDpsPjE/LjE1Oi4wNSksb3JpZ2luWDpvLG9yaWdpblk6YSxpc0F2YWlsYWJsZUJlaGF2aW9yOm51bGx9KX19fSxlLnByb3RvdHlwZS5fcGluY2hIYW5kbGVyPWZ1bmN0aW9uKHQpe0dNKHRoaXMuX3pyLCJnbG9iYWxQYW4iKXx8VU0odGhpcywiem9vbSIsbnVsbCx0LHtzY2FsZTp0LnBpbmNoU2NhbGU+MT8xLjE6MS8xLjEsb3JpZ2luWDp0LnBpbmNoWCxvcmlnaW5ZOnQucGluY2hZLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfSxlfShGdCk7ZnVuY3Rpb24gVU0odCxlLG4saSxyKXt0LnBvaW50ZXJDaGVja2VyJiZ0LnBvaW50ZXJDaGVja2VyKGksci5vcmlnaW5YLHIub3JpZ2luWSkmJihlZShpLmV2ZW50KSxYTSh0LGUsbixpLHIpKX1mdW5jdGlvbiBYTSh0LGUsbixpLHIpe3IuaXNBdmFpbGFibGVCZWhhdmlvcj1WKFlNLG51bGwsbixpKSx0LnRyaWdnZXIoZSxyKX1mdW5jdGlvbiBZTSh0LGUsbil7dmFyIGk9blt0XTtyZXR1cm4hdHx8aSYmKCFIKGkpfHxlLmV2ZW50W2krIktleSJdKX1mdW5jdGlvbiBaTSh0LGUsbil7dmFyIGk9dC50YXJnZXQ7aS54Kz1lLGkueSs9bixpLmRpcnR5KCl9ZnVuY3Rpb24gak0odCxlLG4saSl7dmFyIHI9dC50YXJnZXQsbz10Lnpvb21MaW1pdCxhPXQuem9vbT10Lnpvb218fDE7aWYoYSo9ZSxvKXt2YXIgcz1vLm1pbnx8MCxsPW8ubWF4fHwxLzA7YT1NYXRoLm1heChNYXRoLm1pbihsLGEpLHMpfXZhciB1PWEvdC56b29tO3Quem9vbT1hLHIueC09KG4tci54KSoodS0xKSxyLnktPShpLXIueSkqKHUtMSksci5zY2FsZVgqPXUsci5zY2FsZVkqPXUsci5kaXJ0eSgpfXZhciBxTT17YXhpc1BvaW50ZXI6MSx0b29sdGlwOjEsYnJ1c2g6MX07ZnVuY3Rpb24gS00odCxlLG4pe3ZhciBpPWUuZ2V0Q29tcG9uZW50QnlFbGVtZW50KHQudG9wVGFyZ2V0KSxyPWkmJmkuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gaSYmaSE9PW4mJiFxTS5oYXNPd25Qcm9wZXJ0eShpLm1haW5UeXBlKSYmciYmci5tb2RlbCE9PW59dmFyICRNPVsicmVjdCIsImNpcmNsZSIsImxpbmUiLCJlbGxpcHNlIiwicG9seWdvbiIsInBvbHlsaW5lIiwicGF0aCJdLEpNPWh0KCRNKSxRTT1odCgkTS5jb25jYXQoWyJnIl0pKSx0ST1odCgkTS5jb25jYXQoWyJnIl0pKSxlST1rcigpO2Z1bmN0aW9uIG5JKHQpe3ZhciBlPXQuZ2V0SXRlbVN0eWxlKCksbj10LmdldCgiYXJlYUNvbG9yIik7cmV0dXJuIG51bGwhPW4mJihlLmZpbGw9biksZX12YXIgaUk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPW5ldyBFaTt0aGlzLnVpZD1OaCgiZWNfbWFwX2RyYXciKSx0aGlzLl9jb250cm9sbGVyPW5ldyBXTSh0LmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6ZX0sdGhpcy5ncm91cD1lLGUuYWRkKHRoaXMuX3JlZ2lvbnNHcm91cD1uZXcgRWkpLGUuYWRkKHRoaXMuX3N2Z0dyb3VwPW5ldyBFaSl9cmV0dXJuIHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz0iZ2VvIj09PXQubWFpblR5cGUsYT10LmdldERhdGEmJnQuZ2V0RGF0YSgpO28mJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToibWFwIn0sKGZ1bmN0aW9uKGUpe2F8fGUuZ2V0SG9zdEdlb01vZGVsKCkhPT10fHwoYT1lLmdldERhdGEoKSl9KSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtLGw9dGhpcy5fcmVnaW9uc0dyb3VwLHU9dGhpcy5ncm91cCxoPXMuZ2V0VHJhbnNmb3JtSW5mbygpLGM9aC5yYXcscD1oLnJvYW07IWwuY2hpbGRBdCgwKXx8cj8odS54PXAueCx1Lnk9cC55LHUuc2NhbGVYPXAuc2NhbGVYLHUuc2NhbGVZPXAuc2NhbGVZLHUuZGlydHkoKSk6SHUodSxwLHQpO3ZhciBkPWEmJmEuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIikmJmEuZ2V0VmlzdWFsKCJ2aXN1YWxNZXRhIikubGVuZ3RoPjAsZj17YXBpOm4sZ2VvOnMsbWFwT3JHZW9Nb2RlbDp0LGRhdGE6YSxpc1Zpc3VhbEVuY29kZWRCeVZpc3VhbE1hcDpkLGlzR2VvOm8sdHJhbnNmb3JtSW5mb1JhdzpjfTsiZ2VvSlNPTiI9PT1zLnJlc291cmNlVHlwZT90aGlzLl9idWlsZEdlb0pTT04oZik6Imdlb1NWRyI9PT1zLnJlc291cmNlVHlwZSYmdGhpcy5fYnVpbGRTVkcoZiksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbiksdGhpcy5fdXBkYXRlTWFwU2VsZWN0SGFuZGxlcih0LGwsbixpKX0sdC5wcm90b3R5cGUuX2J1aWxkR2VvSlNPTj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZWdpb25zR3JvdXBCeU5hbWU9aHQoKSxuPWh0KCksaT10aGlzLl9yZWdpb25zR3JvdXAscj10LnRyYW5zZm9ybUluZm9SYXcsbz10Lm1hcE9yR2VvTW9kZWwsYT10LmRhdGEscz1mdW5jdGlvbih0KXtyZXR1cm5bdFswXSpyLnNjYWxlWCtyLngsdFsxXSpyLnNjYWxlWStyLnldfTtpLnJlbW92ZUFsbCgpLFAodC5nZW8ucmVnaW9ucywoZnVuY3Rpb24ocil7dmFyIGw9ci5uYW1lLHU9ZS5nZXQobCksaD1uLmdldChsKXx8e30sYz1oLmRhdGFJZHgscD1oLnJlZ2lvbk1vZGVsO3V8fCh1PWUuc2V0KGwsbmV3IEVpKSxpLmFkZCh1KSxjPWE/YS5pbmRleE9mTmFtZShsKTpudWxsLHA9dC5pc0dlbz9vLmdldFJlZ2lvbk1vZGVsKGwpOmE/YS5nZXRJdGVtTW9kZWwoYyk6bnVsbCxuLnNldChsLHtkYXRhSWR4OmMscmVnaW9uTW9kZWw6cH0pKTt2YXIgZD1uZXcgeXUoe3NlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzaGFwZTp7cGF0aHM6W119fSk7dS5hZGQoZCksUChyLmdlb21ldHJpZXMsKGZ1bmN0aW9uKHQpe2lmKCJwb2x5Z29uIj09PXQudHlwZSl7Zm9yKHZhciBlPVtdLG49MDtuPHQuZXh0ZXJpb3IubGVuZ3RoOysrbillLnB1c2gocyh0LmV4dGVyaW9yW25dKSk7ZC5zaGFwZS5wYXRocy5wdXNoKG5ldyBydSh7c2VnbWVudElnbm9yZVRocmVzaG9sZDoxLHNoYXBlOntwb2ludHM6ZX19KSk7Zm9yKG49MDtuPCh0LmludGVyaW9ycz90LmludGVyaW9ycy5sZW5ndGg6MCk7KytuKXtmb3IodmFyIGk9dC5pbnRlcmlvcnNbbl0scj1bXSxvPTA7bzxpLmxlbmd0aDsrK28pci5wdXNoKHMoaVtvXSkpO2Quc2hhcGUucGF0aHMucHVzaChuZXcgcnUoe3NlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzaGFwZTp7cG9pbnRzOnJ9fSkpfX19KSksckkodCxkLGMscCksZCBpbnN0YW5jZW9mIFNvJiYoZC5jdWxsaW5nPSEwKTt2YXIgZj1zKHIuZ2V0Q2VudGVyKCkpO29JKHQsZCxsLHAsbyxjLGYpfSkpLGUuZWFjaCgoZnVuY3Rpb24oZSxpKXt2YXIgcj1uLmdldChpKSxhPXIuZGF0YUlkeCxzPXIucmVnaW9uTW9kZWw7YUkodCxlLGkscyxvLGEpLHNJKHQsZSxpLHMsbyksbEkodCxlLGkscyxvKX0pLHRoaXMpfSx0LnByb3RvdHlwZS5fYnVpbGRTVkc9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZW8ubWFwLG49dC50cmFuc2Zvcm1JbmZvUmF3O3RoaXMuX3N2Z0dyb3VwLng9bi54LHRoaXMuX3N2Z0dyb3VwLnk9bi55LHRoaXMuX3N2Z0dyb3VwLnNjYWxlWD1uLnNjYWxlWCx0aGlzLl9zdmdHcm91cC5zY2FsZVk9bi5zY2FsZVksdGhpcy5fc3ZnUmVzb3VyY2VDaGFuZ2VkKGUpJiYodGhpcy5fZnJlZVNWRygpLHRoaXMuX3VzZVNWRyhlKSk7dmFyIGk9dGhpcy5fc3ZnRGlzcGF0Y2hlck1hcD1odCgpLHI9ITE7UCh0aGlzLl9zdmdHcmFwaGljUmVjb3JkLm5hbWVkLChmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWUsbz10Lm1hcE9yR2VvTW9kZWwsYT10LmRhdGEscz1lLnN2Z05vZGVUYWdMb3dlcixsPWUuZWwsdT1hP2EuaW5kZXhPZk5hbWUobik6bnVsbCxoPW8uZ2V0UmVnaW9uTW9kZWwobik7KG51bGwhPUpNLmdldChzKSYmbCBpbnN0YW5jZW9mIFNvJiZySSh0LGwsdSxoKSxsIGluc3RhbmNlb2YgU28mJihsLmN1bGxpbmc9ITApLGwuejJFbXBoYXNpc0xpZnQ9MCxlLm5hbWVkRnJvbSl8fChudWxsIT10SS5nZXQocykmJm9JKHQsbCxuLGgsbyx1LG51bGwpLGFJKHQsbCxuLGgsbyx1KSxzSSh0LGwsbixoLG8pLG51bGwhPVFNLmdldChzKSYmKCJzZWxmIj09PWxJKHQsbCxuLGgsbykmJihyPSEwKSwoaS5nZXQobil8fGkuc2V0KG4sW10pKS5wdXNoKGwpKSl9KSx0aGlzKSx0aGlzLl9lbmFibGVCbHVyRW50aXJlU1ZHKHIsdCl9LHQucHJvdG90eXBlLl9lbmFibGVCbHVyRW50aXJlU1ZHPWZ1bmN0aW9uKHQsZSl7aWYodCYmZS5pc0dlbyl7dmFyIG49ZS5tYXBPckdlb01vZGVsLmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKS5vcGFjaXR5O3RoaXMuX3N2Z0dyYXBoaWNSZWNvcmQucm9vdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7aWYoIXQuaXNHcm91cCl7WHModCk7dmFyIGU9dC5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlfHx7fTtudWxsPT1lLm9wYWNpdHkmJm51bGwhPW4mJihlLm9wYWNpdHk9biksdC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKX19KSl9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZWdpb25zR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fcmVnaW9uc0dyb3VwQnlOYW1lPW51bGwsdGhpcy5fc3ZnR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZnJlZVNWRygpLHRoaXMuX2NvbnRyb2xsZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PW51bGx9LHQucHJvdG90eXBlLmZpbmRIaWdoRG93bkRpc3BhdGNoZXJzPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm5bXTt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW07aWYoImdlb0pTT04iPT09bi5yZXNvdXJjZVR5cGUpe3ZhciBpPXRoaXMuX3JlZ2lvbnNHcm91cEJ5TmFtZTtpZihpKXt2YXIgcj1pLmdldCh0KTtyZXR1cm4gcj9bcl06W119fWVsc2UgaWYoImdlb1NWRyI9PT1uLnJlc291cmNlVHlwZSlyZXR1cm4gdGhpcy5fc3ZnRGlzcGF0Y2hlck1hcCYmdGhpcy5fc3ZnRGlzcGF0Y2hlck1hcC5nZXQodCl8fFtdfSx0LnByb3RvdHlwZS5fc3ZnUmVzb3VyY2VDaGFuZ2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdmdNYXBOYW1lIT09dH0sdC5wcm90b3R5cGUuX3VzZVNWRz1mdW5jdGlvbih0KXt2YXIgZT1Mdih0KTtpZihlJiYiZ2VvU1ZHIj09PWUudHlwZSl7dmFyIG49ZS51c2VHcmFwaGljKHRoaXMudWlkKTt0aGlzLl9zdmdHcm91cC5hZGQobi5yb290KSx0aGlzLl9zdmdHcmFwaGljUmVjb3JkPW4sdGhpcy5fc3ZnTWFwTmFtZT10fX0sdC5wcm90b3R5cGUuX2ZyZWVTVkc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdmdNYXBOYW1lO2lmKG51bGwhPXQpe3ZhciBlPUx2KHQpO2UmJiJnZW9TVkciPT09ZS50eXBlJiZlLmZyZWVHcmFwaGljKHRoaXMudWlkKSx0aGlzLl9zdmdHcmFwaGljUmVjb3JkPW51bGwsdGhpcy5fc3ZnRGlzcGF0Y2hlck1hcD1udWxsLHRoaXMuX3N2Z0dyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N2Z01hcE5hbWU9bnVsbH19LHQucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0scj10aGlzLl9jb250cm9sbGVyLG89dGhpcy5fY29udHJvbGxlckhvc3Q7by56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxvLnpvb209aS5nZXRab29tKCksci5lbmFibGUodC5nZXQoInJvYW0iKXx8ITEpO3ZhciBhPXQubWFpblR5cGU7ZnVuY3Rpb24gcygpe3ZhciBlPXt0eXBlOiJnZW9Sb2FtIixjb21wb25lbnRUeXBlOmF9O3JldHVybiBlW2ErIklkIl09dC5pZCxlfXIub2ZmKCJwYW4iKS5vbigicGFuIiwoZnVuY3Rpb24odCl7dGhpcy5fbW91c2VEb3duRmxhZz0hMSxaTShvLHQuZHgsdC5keSksbi5kaXNwYXRjaEFjdGlvbihJKHMoKSx7ZHg6dC5keCxkeTp0LmR5fSkpfSksdGhpcyksci5vZmYoInpvb20iKS5vbigiem9vbSIsKGZ1bmN0aW9uKHQpe3RoaXMuX21vdXNlRG93bkZsYWc9ITEsak0obyx0LnNjYWxlLHQub3JpZ2luWCx0Lm9yaWdpblkpLG4uZGlzcGF0Y2hBY3Rpb24oSShzKCkse3pvb206dC5zY2FsZSxvcmlnaW5YOnQub3JpZ2luWCxvcmlnaW5ZOnQub3JpZ2luWX0pKX0pLHRoaXMpLHIuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKGUscixvKXtyZXR1cm4gaS5jb250YWluUG9pbnQoW3Isb10pJiYhS00oZSxuLHQpfSkpfSx0LnByb3RvdHlwZS5yZXNldEZvckxhYmVsTGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUZXh0Q29udGVudCgpO2UmJihlLmlnbm9yZT1lSShlKS5pZ25vcmUpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlTWFwU2VsZWN0SGFuZGxlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzO2Uub2ZmKCJtb3VzZWRvd24iKSxlLm9mZigiY2xpY2siKSx0LmdldCgic2VsZWN0ZWRNb2RlIikmJihlLm9uKCJtb3VzZWRvd24iLChmdW5jdGlvbigpe3IuX21vdXNlRG93bkZsYWc9ITB9KSksZS5vbigiY2xpY2siLChmdW5jdGlvbih0KXtyLl9tb3VzZURvd25GbGFnJiYoci5fbW91c2VEb3duRmxhZz0hMSl9KSkpfSx0fSgpO2Z1bmN0aW9uIHJJKHQsZSxuLGkpe3ZhciByPWkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG89aS5nZXRNb2RlbChbImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0pLGE9aS5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSkscz1pLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLGw9bkkociksdT1uSShvKSxoPW5JKHMpLGM9bkkoYSkscD10LmRhdGE7aWYocCl7dmFyIGQ9cC5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIiksZj1wLmdldEl0ZW1WaXN1YWwobiwiZGVjYWwiKTt0LmlzVmlzdWFsRW5jb2RlZEJ5VmlzdWFsTWFwJiZkLmZpbGwmJihsLmZpbGw9ZC5maWxsKSxmJiYobC5kZWNhbD1FeShmLHQuYXBpKSl9ZS5zZXRTdHlsZShsKSxlLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsZS5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT11LGUuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPWgsZS5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWMsWHMoZSl9ZnVuY3Rpb24gb0kodCxlLG4saSxyLG8sYSl7dmFyIHM9dC5kYXRhLGw9dC5pc0dlbyx1PXMmJmlzTmFOKHMuZ2V0KHMubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG8pKSxoPXMmJnMuZ2V0SXRlbUxheW91dChvKTtpZihsfHx1fHxoJiZoLnNob3dMYWJlbCl7dmFyIGM9bD9uOm8scD12b2lkIDA7KCFzfHxvPj0wKSYmKHA9cik7dmFyIGQ9YT97bm9ybWFsOnthbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX06bnVsbDtoaChlLGNoKGkpLHtsYWJlbEZldGNoZXI6cCxsYWJlbERhdGFJbmRleDpjLGRlZmF1bHRUZXh0Om59LGQpO3ZhciBmPWUuZ2V0VGV4dENvbnRlbnQoKTtpZihmJiYoZUkoZikuaWdub3JlPWYuaWdub3JlLGUudGV4dENvbmZpZyYmYSkpe3ZhciBnPWUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtlLnRleHRDb25maWcubGF5b3V0UmVjdD1nLGUudGV4dENvbmZpZy5wb3NpdGlvbj1bKGFbMF0tZy54KS9nLndpZHRoKjEwMCsiJSIsKGFbMV0tZy55KS9nLmhlaWdodCoxMDArIiUiXX1lLmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMH1lbHNlIGUucmVtb3ZlVGV4dENvbnRlbnQoKSxlLnJlbW92ZVRleHRDb25maWcoKSxlLmRpc2FibGVMYWJlbEFuaW1hdGlvbj1udWxsfWZ1bmN0aW9uIGFJKHQsZSxuLGkscixvKXt0LmRhdGE/dC5kYXRhLnNldEl0ZW1HcmFwaGljRWwobyxlKTpfcyhlKS5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdlbyIsY29tcG9uZW50SW5kZXg6ci5jb21wb25lbnRJbmRleCxnZW9JbmRleDpyLmNvbXBvbmVudEluZGV4LG5hbWU6bixyZWdpb246aSYmaS5vcHRpb258fHt9fX1mdW5jdGlvbiBzSSh0LGUsbixpLHIpe3QuZGF0YXx8b2goe2VsOmUsY29tcG9uZW50TW9kZWw6cixpdGVtTmFtZTpuLGl0ZW1Ub29sdGlwT3B0aW9uOmkuZ2V0KCJ0b29sdGlwIil9KX1mdW5jdGlvbiBsSSh0LGUsbixpLHIpe2UuaGlnaERvd25TaWxlbnRPblRvdWNoPSEhci5nZXQoInNlbGVjdGVkTW9kZSIpO3ZhciBvPWkuZ2V0TW9kZWwoImVtcGhhc2lzIiksYT1vLmdldCgiZm9jdXMiKTtyZXR1cm4gc2woZSxhLG8uZ2V0KCJibHVyU2NvcGUiKSksdC5pc0dlbyYmZnVuY3Rpb24odCxlLG4pe3ZhciBpPV9zKHQpO2kuY29tcG9uZW50TWFpblR5cGU9ZS5tYWluVHlwZSxpLmNvbXBvbmVudEluZGV4PWUuY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRIaWdoRG93bk5hbWU9bn0oZSxyLG4pLGF9dmFyIHVJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXtpZighaXx8Im1hcFRvZ2dsZVNlbGVjdCIhPT1pLnR5cGV8fGkuZnJvbSE9PXRoaXMudWlkKXt2YXIgcj10aGlzLmdyb3VwO2lmKHIucmVtb3ZlQWxsKCksIXQuZ2V0SG9zdEdlb01vZGVsKCkpe2lmKHRoaXMuX21hcERyYXcmJmkmJiJnZW9Sb2FtIj09PWkudHlwZSYmdGhpcy5fbWFwRHJhdy5yZXNldEZvckxhYmVsTGF5b3V0KCksaSYmImdlb1JvYW0iPT09aS50eXBlJiYic2VyaWVzIj09PWkuY29tcG9uZW50VHlwZSYmaS5zZXJpZXNJZD09PXQuaWQpKG89dGhpcy5fbWFwRHJhdykmJnIuYWRkKG8uZ3JvdXApO2Vsc2UgaWYodC5uZWVkc0RyYXdNYXApe3ZhciBvPXRoaXMuX21hcERyYXd8fG5ldyBpSShuKTtyLmFkZChvLmdyb3VwKSxvLmRyYXcodCxlLG4sdGhpcyxpKSx0aGlzLl9tYXBEcmF3PW99ZWxzZSB0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbDt0LmdldCgic2hvd0xlZ2VuZFN5bWJvbCIpJiZlLmdldENvbXBvbmVudCgibGVnZW5kIikmJnRoaXMuX3JlbmRlclN5bWJvbHModCxlLG4pfX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbH0sZS5wcm90b3R5cGUuX3JlbmRlclN5bWJvbHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQub3JpZ2luYWxEYXRhLHI9dGhpcy5ncm91cDtpLmVhY2goaS5tYXBEaW1lbnNpb24oInZhbHVlIiksKGZ1bmN0aW9uKGUsbil7aWYoIWlzTmFOKGUpKXt2YXIgbz1pLmdldEl0ZW1MYXlvdXQobik7aWYobyYmby5wb2ludCl7dmFyIGE9by5wb2ludCxzPW8ub2Zmc2V0LGw9bmV3IE5sKHtzdHlsZTp7ZmlsbDp0LmdldERhdGEoKS5nZXRWaXN1YWwoInN0eWxlIikuZmlsbH0sc2hhcGU6e2N4OmFbMF0rOSpzLGN5OmFbMV0scjozfSxzaWxlbnQ6ITAsejI6OCsocz8wOjExKX0pO2lmKCFzKXt2YXIgdT10Lm1haW5TZXJpZXMuZ2V0RGF0YSgpLGg9aS5nZXROYW1lKG4pLGM9dS5pbmRleE9mTmFtZShoKSxwPWkuZ2V0SXRlbU1vZGVsKG4pLGQ9cC5nZXRNb2RlbCgibGFiZWwiKSxmPXUuZ2V0SXRlbUdyYXBoaWNFbChjKTtoaChsLGNoKHApLHtsYWJlbEZldGNoZXI6e2dldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0Rm9ybWF0dGVkTGFiZWwoYyxuKX19fSksbC5kaXNhYmxlTGFiZWxBbmltYXRpb249ITAsZC5nZXQoInBvc2l0aW9uIil8fGwuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246ImJvdHRvbSJ9KSxmLm9uSG92ZXJTdGF0ZUNoYW5nZT1mdW5jdGlvbih0KXtXcyhsLHQpfX1yLmFkZChsKX19fSkpfSxlLnR5cGU9Im1hcCIsZX0oVGYpLGhJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5uZWVkc0RyYXdNYXA9ITEsbi5zZXJpZXNHcm91cD1bXSxuLmdldFRvb2x0aXBQb3NpdGlvbj1mdW5jdGlvbih0KXtpZihudWxsIT10KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXROYW1lKHQpLG49dGhpcy5jb29yZGluYXRlU3lzdGVtLGk9bi5nZXRSZWdpb24oZSk7cmV0dXJuIGkmJm4uZGF0YVRvUG9pbnQoaS5nZXRDZW50ZXIoKSl9fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPU1TKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOkIodXAsdGhpcyl9KSxuPWh0KCksaT1bXSxyPTAsbz1lLmNvdW50KCk7cjxvO3IrKyl7dmFyIGE9ZS5nZXROYW1lKHIpO24uc2V0KGEsITApfXJldHVybiBQKFB2KHRoaXMuZ2V0TWFwVHlwZSgpLHRoaXMub3B0aW9uLm5hbWVNYXAsdGhpcy5vcHRpb24ubmFtZVByb3BlcnR5KS5yZWdpb25zLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7bi5nZXQoZSl8fGkucHVzaChlKX0pKSxlLmFwcGVuZFZhbHVlcyhbXSxpKSxlfSxlLnByb3RvdHlwZS5nZXRIb3N0R2VvTW9kZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5nZW9JbmRleDtyZXR1cm4gbnVsbCE9dD90aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJnZW8iLHQpOm51bGx9LGUucHJvdG90eXBlLmdldE1hcFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRIb3N0R2VvTW9kZWwoKXx8dGhpcykub3B0aW9uLm1hcH0sZS5wcm90b3R5cGUuZ2V0UmF3VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0KGUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpfSxlLnByb3RvdHlwZS5nZXRSZWdpb25Nb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKTtyZXR1cm4gZS5nZXRJdGVtTW9kZWwoZS5pbmRleE9mTmFtZSh0KSl9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCksYT10aGlzLnNlcmllc0dyb3VwLHM9W10sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgdT1hW2xdLm9yaWdpbmFsRGF0YS5pbmRleE9mTmFtZShvKSxoPWkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpO2lzTmFOKGFbbF0ub3JpZ2luYWxEYXRhLmdldChoLHUpKXx8cy5wdXNoKGFbbF0ubmFtZSl9cmV0dXJuIHRmKCJzZWN0aW9uIix7aGVhZGVyOnMuam9pbigiLCAiKSxub0hlYWRlcjohcy5sZW5ndGgsYmxvY2tzOlt0ZigibmFtZVZhbHVlIix7bmFtZTpvLHZhbHVlOnJ9KV19KX0sZS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi56b29tPXR9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5jZW50ZXI9dH0sZS5wcm90b3R5cGUuZ2V0TGVnZW5kSWNvbj1mdW5jdGlvbih0KXt2YXIgZT10Lmljb258fCJyb3VuZFJlY3QiLG49ZnkoZSwwLDAsdC5pdGVtV2lkdGgsdC5pdGVtSGVpZ2h0LHQuaXRlbVN0eWxlLmZpbGwpO3JldHVybiBuLnNldFN0eWxlKHQuaXRlbVN0eWxlKSxuLnN0eWxlLnN0cm9rZT0ibm9uZSIsZS5pbmRleE9mKCJlbXB0eSIpPi0xJiYobi5zdHlsZS5zdHJva2U9bi5zdHlsZS5maWxsLG4uc3R5bGUuZmlsbD0iI2ZmZiIsbi5zdHlsZS5saW5lV2lkdGg9Miksbn0sZS50eXBlPSJzZXJpZXMubWFwIixlLmRlcGVuZGVuY2llcz1bImdlbyJdLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJnZW8iLG1hcDoiIixsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixhc3BlY3RTY2FsZTpudWxsLHNob3dMZWdlbmRTeW1ib2w6ITAsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLHNlbGVjdGVkTW9kZTohMCxsYWJlbDp7c2hvdzohMSxjb2xvcjoiIzAwMCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6IiM0NDQiLGFyZWFDb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOnthcmVhQ29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0sc2VsZWN0OntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxuYW1lUHJvcGVydHk6Im5hbWUifSxlfShmZik7ZnVuY3Rpb24gY0kodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldEhvc3RHZW9Nb2RlbCgpLGk9bj8ibyIrbi5pZDoiaSIrdC5nZXRNYXBUeXBlKCk7KGVbaV09ZVtpXXx8W10pLnB1c2godCl9KSksUChlLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz0obj1PKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldERhdGEoKX0pKSxpPXRbMF0uZ2V0KCJtYXBWYWx1ZUNhbGN1bGF0aW9uIikscj17fSxQKG4sKGZ1bmN0aW9uKHQpe3QuZWFjaCh0Lm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24oZSxuKXt2YXIgaT0iZWMtIit0LmdldE5hbWUobik7cltpXT1yW2ldfHxbXSxpc05hTihlKXx8cltpXS5wdXNoKGUpfSkpfSkpLG5bMF0ubWFwKG5bMF0ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbz0iZWMtIituWzBdLmdldE5hbWUoZSksYT0wLHM9MS8wLGw9LTEvMCx1PXJbb10ubGVuZ3RoLGg9MDtoPHU7aCsrKXM9TWF0aC5taW4ocyxyW29dW2hdKSxsPU1hdGgubWF4KGwscltvXVtoXSksYSs9cltvXVtoXTtyZXR1cm4gMD09PXU/TmFOOiJtaW4iPT09aT9zOiJtYXgiPT09aT9sOiJhdmVyYWdlIj09PWk/YS91OmF9KSkpLGE9MDthPHQubGVuZ3RoO2ErKyl0W2FdLm9yaWdpbmFsRGF0YT10W2FdLmdldERhdGEoKTtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0uc2VyaWVzR3JvdXA9dCx0W2FdLm5lZWRzRHJhd01hcD0wPT09YSYmIXRbYV0uZ2V0SG9zdEdlb01vZGVsKCksdFthXS5zZXREYXRhKG8uY2xvbmVTaGFsbG93KCkpLHRbYV0ubWFpblNlcmllcz10WzBdfSkpfWZ1bmN0aW9uIHBJKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgibWFwIiwoZnVuY3Rpb24obil7dmFyIGk9bi5nZXRNYXBUeXBlKCk7aWYoIW4uZ2V0SG9zdEdlb01vZGVsKCkmJiFlW2ldKXt2YXIgcj17fTtQKG4uc2VyaWVzR3JvdXAsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuY29vcmRpbmF0ZVN5c3RlbSxpPWUub3JpZ2luYWxEYXRhO2UuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJnQuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmaS5lYWNoKGkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbih0LGUpe3ZhciBvPWkuZ2V0TmFtZShlKSxhPW4uZ2V0UmVnaW9uKG8pO2lmKGEmJiFpc05hTih0KSl7dmFyIHM9cltvXXx8MCxsPW4uZGF0YVRvUG9pbnQoYS5nZXRDZW50ZXIoKSk7cltvXT1zKzEsaS5zZXRJdGVtTGF5b3V0KGUse3BvaW50Omwsb2Zmc2V0OnN9KX19KSl9KSk7dmFyIG89bi5nZXREYXRhKCk7by5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1vLmdldE5hbWUodCksbj1vLmdldEl0ZW1MYXlvdXQodCl8fHt9O24uc2hvd0xhYmVsPSFyW2VdLG8uc2V0SXRlbUxheW91dCh0LG4pfSkpLGVbaV09ITB9fSkpfXZhciBkST1SdCxmST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50eXBlPSJ2aWV3IixuLmRpbWVuc2lvbnM9WyJ4IiwieSJdLG4uX3JvYW1UcmFuc2Zvcm1hYmxlPW5ldyBvaSxuLl9yYXdUcmFuc2Zvcm1hYmxlPW5ldyBvaSxuLm5hbWU9ZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9yZWN0PW5ldyBnaSh0LGUsbixpKSx0aGlzLl9yZWN0fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sZS5wcm90b3R5cGUuc2V0Vmlld1JlY3Q9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdHJhbnNmb3JtVG8odCxlLG4saSksdGhpcy5fdmlld1JlY3Q9bmV3IGdpKHQsZSxuLGkpfSxlLnByb3RvdHlwZS5fdHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7by50cmFuc2Zvcm09ci5jYWxjdWxhdGVUcmFuc2Zvcm0obmV3IGdpKHQsZSxuLGkpKTt2YXIgYT1vLnBhcmVudDtvLnBhcmVudD1udWxsLG8uZGVjb21wb3NlVHJhbnNmb3JtKCksby5wYXJlbnQ9YSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3QmJih0aGlzLl9jZW50ZXI9dCx0aGlzLl91cGRhdGVDZW50ZXJBbmRab29tKCkpfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgZT10aGlzLnpvb21MaW1pdDtlJiYobnVsbCE9ZS5tYXgmJih0PU1hdGgubWluKGUubWF4LHQpKSxudWxsIT1lLm1pbiYmKHQ9TWF0aC5tYXgoZS5taW4sdCkpKSx0aGlzLl96b29tPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0Q2VudGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm5bdC54K3Qud2lkdGgvMix0LnkrdC5oZWlnaHQvMl19LGUucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ8fHRoaXMuZ2V0RGVmYXVsdENlbnRlcigpfSxlLnByb3RvdHlwZS5nZXRab29tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb218fDF9LGUucHJvdG90eXBlLmdldFJvYW1UcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9hbVRyYW5zZm9ybWFibGUuZ2V0TG9jYWxUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNlbnRlckFuZFpvb209ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCksZT10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxuPXRoaXMuZ2V0RGVmYXVsdENlbnRlcigpLGk9dGhpcy5nZXRDZW50ZXIoKSxyPXRoaXMuZ2V0Wm9vbSgpO2k9UnQoW10saSx0KSxuPVJ0KFtdLG4sdCksZS5vcmlnaW5YPWlbMF0sZS5vcmlnaW5ZPWlbMV0sZS54PW5bMF0taVswXSxlLnk9blsxXS1pWzFdLGUuc2NhbGVYPWUuc2NhbGVZPXIsdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLl91cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7ZS5wYXJlbnQ9dCx0LnVwZGF0ZVRyYW5zZm9ybSgpLGUudXBkYXRlVHJhbnNmb3JtKCksSG4odGhpcy50cmFuc2Zvcm18fCh0aGlzLnRyYW5zZm9ybT1bXSksZS50cmFuc2Zvcm18fFsxLDAsMCwxLDAsMF0pLHRoaXMuX3Jhd1RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fFtdLFpuKHRoaXMuaW52VHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtKSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1JbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZSxlPXRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLG49bmV3IG9pO3JldHVybiBuLnRyYW5zZm9ybT1lLnRyYW5zZm9ybSxuLmRlY29tcG9zZVRyYW5zZm9ybSgpLHtyb2FtOnt4Om4ueCx5Om4ueSxzY2FsZVg6bi5zY2FsZVgsc2NhbGVZOm4uc2NhbGVZfSxyYXc6e3g6dC54LHk6dC55LHNjYWxlWDp0LnNjYWxlWCxzY2FsZVk6dC5zY2FsZVl9fX0sZS5wcm90b3R5cGUuZ2V0Vmlld1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1JlY3R9LGUucHJvdG90eXBlLmdldFZpZXdSZWN0QWZ0ZXJSb2FtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiB0LmFwcGx5VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtKSx0fSxlLnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZT90aGlzLl9yYXdUcmFuc2Zvcm06dGhpcy50cmFuc2Zvcm07cmV0dXJuIG49bnx8W10saT9kSShuLHQsaSk6dnQobix0KX0sZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIGU/ZEkoW10sdCxlKTpbdFswXSx0WzFdXX0sZS5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWdJKGUpO3JldHVybiBpPT09dGhpcz9pLmRhdGFUb1BvaW50KG4pOm51bGx9LGUucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWdJKGUpO3JldHVybiBpPT09dGhpcz9pLnBvaW50VG9EYXRhKG4pOm51bGx9LGUucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRWaWV3UmVjdEFmdGVyUm9hbSgpLmNvbnRhaW4odFswXSx0WzFdKX0sZS5kaW1lbnNpb25zPVsieCIsInkiXSxlfShvaSk7ZnVuY3Rpb24gZ0kodCl7dmFyIGU9dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH12YXIgeUk9e2dlb0pTT046e2FzcGVjdFNjYWxlOi43NSxpbnZlcnRMb25naXR1dGU6ITB9LGdlb1NWRzp7YXNwZWN0U2NhbGU6MSxpbnZlcnRMb25naXR1dGU6ITF9fSx2ST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxlKXx8dGhpcztyLmRpbWVuc2lvbnM9WyJsbmciLCJsYXQiXSxyLnR5cGU9ImdlbyIsci5fbmFtZUNvb3JkTWFwPWh0KCksci5tYXA9bjt2YXIgbz1QdihuLGkubmFtZU1hcCxpLm5hbWVQcm9wZXJ0eSksYT1MdihuKTtyLnJlc291cmNlVHlwZT1hP2EudHlwZTpudWxsO3ZhciBzPXlJW2EudHlwZV07ci5fcmVnaW9uc01hcD1vLnJlZ2lvbnNNYXAsci5faW52ZXJ0TG9uZ2l0dXRlPXMuaW52ZXJ0TG9uZ2l0dXRlLHIucmVnaW9ucz1vLnJlZ2lvbnMsci5hc3BlY3RTY2FsZT10dChpLmFzcGVjdFNjYWxlLHMuYXNwZWN0U2NhbGUpO3ZhciBsPW8uYm91bmRpbmdSZWN0O3JldHVybiByLnNldEJvdW5kaW5nUmVjdChsLngsbC55LGwud2lkdGgsbC5oZWlnaHQpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5fdHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXRoaXMuX2ludmVydExvbmdpdHV0ZTtyPXIuY2xvbmUoKSxvJiYoci55PS1yLnktci5oZWlnaHQpO3ZhciBhPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7YS50cmFuc2Zvcm09ci5jYWxjdWxhdGVUcmFuc2Zvcm0obmV3IGdpKHQsZSxuLGkpKTt2YXIgcz1hLnBhcmVudDthLnBhcmVudD1udWxsLGEuZGVjb21wb3NlVHJhbnNmb3JtKCksYS5wYXJlbnQ9cyxvJiYoYS5zY2FsZVk9LWEuc2NhbGVZKSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWdpb25zTWFwLmdldCh0KX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uQnlDb29yZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWdpb25zLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZigiZ2VvSlNPTiI9PT1pLnR5cGUmJmkuY29udGFpbih0KSlyZXR1cm4gZVtuXX19LGUucHJvdG90eXBlLmFkZEdlb0Nvb3JkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbmFtZUNvb3JkTWFwLnNldCh0LGUpfSxlLnByb3RvdHlwZS5nZXRHZW9Db29yZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZWdpb25zTWFwLmdldCh0KTtyZXR1cm4gdGhpcy5fbmFtZUNvb3JkTWFwLmdldCh0KXx8ZSYmZS5nZXRDZW50ZXIoKX0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5nZXRHZW9Db29yZCh0KSksdClyZXR1cm4gZkkucHJvdG90eXBlLmRhdGFUb1BvaW50LmNhbGwodGhpcyx0LGUsbil9LGUucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1tSShlKTtyZXR1cm4gaT09PXRoaXM/aS5kYXRhVG9Qb2ludChuKTpudWxsfSxlLnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1tSShlKTtyZXR1cm4gaT09PXRoaXM/aS5wb2ludFRvRGF0YShuKTpudWxsfSxlfShmSSk7ZnVuY3Rpb24gbUkodCl7dmFyIGU9dC5nZW9Nb2RlbCxuPXQuc2VyaWVzTW9kZWw7cmV0dXJuIGU/ZS5jb29yZGluYXRlU3lzdGVtOm4/bi5jb29yZGluYXRlU3lzdGVtfHwobi5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJnZW8iLE5yKS5tb2RlbHNbMF18fHt9KS5jb29yZGluYXRlU3lzdGVtOm51bGx9ZnVuY3Rpb24gX0kodCxlKXt2YXIgbj10LmdldCgiYm91bmRpbmdDb29yZHMiKTtpZihudWxsIT1uKXt2YXIgaT1uWzBdLHI9blsxXTtpc05hTihpWzBdKXx8aXNOYU4oaVsxXSl8fGlzTmFOKHJbMF0pfHxpc05hTihyWzFdKXx8dGhpcy5zZXRCb3VuZGluZ1JlY3QoaVswXSxpWzFdLHJbMF0taVswXSxyWzFdLWlbMV0pfXZhciBvLGEscyxsPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdT10LmdldCgibGF5b3V0Q2VudGVyIiksaD10LmdldCgibGF5b3V0U2l6ZSIpLGM9ZS5nZXRXaWR0aCgpLHA9ZS5nZXRIZWlnaHQoKSxkPWwud2lkdGgvbC5oZWlnaHQqdGhpcy5hc3BlY3RTY2FsZSxmPSExO2lmKHUmJmgmJihvPVtaaSh1WzBdLGMpLFppKHVbMV0scCldLGE9WmkoaCxNYXRoLm1pbihjLHApKSxpc05hTihvWzBdKXx8aXNOYU4ob1sxXSl8fGlzTmFOKGEpfHwoZj0hMCkpLGYpcz17fSxkPjE/KHMud2lkdGg9YSxzLmhlaWdodD1hL2QpOihzLmhlaWdodD1hLHMud2lkdGg9YSpkKSxzLnk9b1sxXS1zLmhlaWdodC8yLHMueD1vWzBdLXMud2lkdGgvMjtlbHNle3ZhciBnPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7Zy5hc3BlY3Q9ZCxzPVZjKGcse3dpZHRoOmMsaGVpZ2h0OnB9KX10aGlzLnNldFZpZXdSZWN0KHMueCxzLnkscy53aWR0aCxzLmhlaWdodCksdGhpcy5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSx0aGlzLnNldFpvb20odC5nZXQoInpvb20iKSl9TCh2SSxmSSk7dmFyIHhJPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmRpbWVuc2lvbnM9dkkucHJvdG90eXBlLmRpbWVuc2lvbnN9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3QuZWFjaENvbXBvbmVudCgiZ2VvIiwoZnVuY3Rpb24odCxpKXt2YXIgcj10LmdldCgibWFwIiksbz1uZXcgdkkocitpLHIse25hbWVNYXA6dC5nZXQoIm5hbWVNYXAiKSxuYW1lUHJvcGVydHk6dC5nZXQoIm5hbWVQcm9wZXJ0eSIpLGFzcGVjdFNjYWxlOnQuZ2V0KCJhc3BlY3RTY2FsZSIpfSk7by56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxuLnB1c2gobyksdC5jb29yZGluYXRlU3lzdGVtPW8sby5tb2RlbD10LG8ucmVzaXplPV9JLG8ucmVzaXplKHQsZSl9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZigiZ2VvIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBlPXQuZ2V0KCJnZW9JbmRleCIpfHwwO3QuY29vcmRpbmF0ZVN5c3RlbT1uW2VdfX0pKTt2YXIgaT17fTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLChmdW5jdGlvbih0KXtpZighdC5nZXRIb3N0R2VvTW9kZWwoKSl7dmFyIGU9dC5nZXRNYXBUeXBlKCk7aVtlXT1pW2VdfHxbXSxpW2VdLnB1c2godCl9fSkpLFAoaSwoZnVuY3Rpb24odCxpKXt2YXIgcj1PKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgibmFtZU1hcCIpfSkpLG89bmV3IHZJKGksaSx7bmFtZU1hcDpNKHIpLG5hbWVQcm9wZXJ0eTp0WzBdLmdldCgibmFtZVByb3BlcnR5IiksYXNwZWN0U2NhbGU6dFswXS5nZXQoImFzcGVjdFNjYWxlIil9KTtvLnpvb21MaW1pdD1RLmFwcGx5KG51bGwsTyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInNjYWxlTGltaXQiKX0pKSksbi5wdXNoKG8pLG8ucmVzaXplPV9JLG8ucmVzaXplKHRbMF0sZSksUCh0LChmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVTeXN0ZW09byxmdW5jdGlvbih0LGUpe1AoZS5nZXQoImdlb0Nvb3JkIiksKGZ1bmN0aW9uKGUsbil7dC5hZGRHZW9Db29yZChuLGUpfSkpfShvLHQpfSkpfSkpLG59LHQucHJvdG90eXBlLmdldEZpbGxlZFJlZ2lvbnM9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPSh0fHxbXSkuc2xpY2UoKSxvPWh0KCksYT0wO2E8ci5sZW5ndGg7YSsrKW8uc2V0KHJbYV0ubmFtZSxyW2FdKTtyZXR1cm4gUChQdihlLG4saSkucmVnaW9ucywoZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lOyFvLmdldChlKSYmci5wdXNoKHtuYW1lOmV9KX0pKSxyfSx0fSgpKSxiST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Mdih0Lm1hcCk7aWYoaSYmImdlb0pTT04iPT09aS50eXBlKXt2YXIgcj10Lml0ZW1TdHlsZT10Lml0ZW1TdHlsZXx8e307ImNvbG9yImluIHJ8fChyLmNvbG9yPSIjZWVlIil9dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLGJyKHQsImxhYmVsIixbInNob3ciXSl9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5vcHRpb247ZS5yZWdpb25zPXhJLmdldEZpbGxlZFJlZ2lvbnMoZS5yZWdpb25zLGUubWFwLGUubmFtZU1hcCxlLm5hbWVQcm9wZXJ0eSk7dmFyIG49e307dGhpcy5fb3B0aW9uTW9kZWxNYXA9UihlLnJlZ2lvbnN8fFtdLChmdW5jdGlvbihlLGkpe3ZhciByPWkubmFtZTtyZXR1cm4gciYmKGUuc2V0KHIsbmV3IE9oKGksdCx0LmVjTW9kZWwpKSxpLnNlbGVjdGVkJiYobltyXT0hMCkpLGV9KSxodCgpKSxlLnNlbGVjdGVkTWFwfHwoZS5zZWxlY3RlZE1hcD1uKX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbk1vZGVsTWFwLmdldCh0KXx8bmV3IE9oKG51bGwsdGhpcyx0aGlzLmVjTW9kZWwpfSxlLnByb3RvdHlwZS5nZXRGb3JtYXR0ZWRMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0UmVnaW9uTW9kZWwodCksaT0ibm9ybWFsIj09PWU/bi5nZXQoWyJsYWJlbCIsImZvcm1hdHRlciJdKTpuLmdldChbImVtcGhhc2lzIiwibGFiZWwiLCJmb3JtYXR0ZXIiXSkscj17bmFtZTp0fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgaT8oci5zdGF0dXM9ZSxpKHIpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKCJ7YX0iLG51bGwhPXQ/dDoiIik6dm9pZCAwfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbj1lLnNlbGVjdGVkTW9kZTtuJiYoIm11bHRpcGxlIiE9PW4mJihlLnNlbGVjdGVkTWFwPW51bGwpLChlLnNlbGVjdGVkTWFwfHwoZS5zZWxlY3RlZE1hcD17fSkpW3RdPSEwKX0sZS5wcm90b3R5cGUudW5TZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWRNYXA7ZSYmKGVbdF09ITEpfSxlLnByb3RvdHlwZS50b2dnbGVTZWxlY3RlZD1mdW5jdGlvbih0KXt0aGlzW3RoaXMuaXNTZWxlY3RlZCh0KT8idW5TZWxlY3QiOiJzZWxlY3QiXSh0KX0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtyZXR1cm4hKCFlfHwhZVt0XSl9LGUudHlwZT0iZ2VvIixlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjAsc2hvdzohMCxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixhc3BlY3RTY2FsZTpudWxsLHNpbGVudDohMSxtYXA6IiIsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLGxhYmVsOntzaG93OiExLGNvbG9yOiIjMDAwIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDouNSxib3JkZXJDb2xvcjoiIzQ0NCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxzZWxlY3Q6e2xhYmVsOntzaG93OiEwLGNvbG9yOiJyZ2IoMTAwLDAsMCkifSxpdGVtU3R5bGU6e2NvbG9yOiJyZ2JhKDI1NSwyMTUsMCwwLjgpIn19LHJlZ2lvbnM6W119LGV9KFhjKTtmdW5jdGlvbiB3SSh0LGUsbil7dmFyIGk9dC5nZXRab29tKCkscj10LmdldENlbnRlcigpLG89ZS56b29tLGE9dC5kYXRhVG9Qb2ludChyKTtpZihudWxsIT1lLmR4JiZudWxsIT1lLmR5JiYoYVswXS09ZS5keCxhWzFdLT1lLmR5LHQuc2V0Q2VudGVyKHQucG9pbnRUb0RhdGEoYSkpKSxudWxsIT1vKXtpZihuKXt2YXIgcz1uLm1pbnx8MCxsPW4ubWF4fHwxLzA7bz1NYXRoLm1heChNYXRoLm1pbihpKm8sbCkscykvaX10LnNjYWxlWCo9byx0LnNjYWxlWSo9bzt2YXIgdT0oZS5vcmlnaW5YLXQueCkqKG8tMSksaD0oZS5vcmlnaW5ZLXQueSkqKG8tMSk7dC54LT11LHQueS09aCx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQuc2V0Q2VudGVyKHQucG9pbnRUb0RhdGEoYSkpLHQuc2V0Wm9vbShvKmkpfXJldHVybntjZW50ZXI6dC5nZXRDZW50ZXIoKSx6b29tOnQuZ2V0Wm9vbSgpfX12YXIgU0k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmZvY3VzQmx1ckVuYWJsZWQ9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaUkoZSk7dGhpcy5fbWFwRHJhdz1uLHRoaXMuZ3JvdXAuYWRkKG4uZ3JvdXApLHRoaXMuX2FwaT1lfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5fbWFwRHJhdzt0LmdldCgic2hvdyIpP3IuZHJhdyh0LGUsbix0aGlzLGkpOnRoaXMuX21hcERyYXcuZ3JvdXAucmVtb3ZlQWxsKCksci5ncm91cC5vbigiY2xpY2siLHRoaXMuX2hhbmRsZVJlZ2lvbkNsaWNrLHRoaXMpLHIuZ3JvdXAuc2lsZW50PXQuZ2V0KCJzaWxlbnQiKSx0aGlzLl9tb2RlbD10LHRoaXMudXBkYXRlU2VsZWN0U3RhdHVzKHQsZSxuKX0sZS5wcm90b3R5cGUuX2hhbmRsZVJlZ2lvbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlO2l5KHQudGFyZ2V0LChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9KGU9X3ModCkuZXZlbnREYXRhKX0pLCEwKSxlJiZ0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6Imdlb1RvZ2dsZVNlbGVjdCIsZ2VvSWQ6dGhpcy5fbW9kZWwuaWQsbmFtZTplLm5hbWV9KX0sZS5wcm90b3R5cGUudXBkYXRlU2VsZWN0U3RhdHVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX21hcERyYXcuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3ZhciBlPV9zKHQpLmV2ZW50RGF0YTtpZihlKXJldHVybiBpLl9tb2RlbC5pc1NlbGVjdGVkKGUubmFtZSk/bi5lbnRlclNlbGVjdCh0KTpuLmxlYXZlU2VsZWN0KHQpLCEwfSkpfSxlLnByb3RvdHlwZS5maW5kSGlnaERvd25EaXNwYXRjaGVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5maW5kSGlnaERvd25EaXNwYXRjaGVycyh0LHRoaXMuX21vZGVsKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCl9LGUudHlwZT0iZ2VvIixlfSh3Zik7ZnVuY3Rpb24gTUkodCl7ZnVuY3Rpb24gZShlLG4pe24udXBkYXRlPSJnZW86dXBkYXRlU2VsZWN0U3RhdHVzIix0LnJlZ2lzdGVyQWN0aW9uKG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9e30scj1bXTtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiZ2VvIixxdWVyeTp0fSwoZnVuY3Rpb24obil7bltlXSh0Lm5hbWUpLFAobi5jb29yZGluYXRlU3lzdGVtLnJlZ2lvbnMsKGZ1bmN0aW9uKHQpe2lbdC5uYW1lXT1uLmlzU2VsZWN0ZWQodC5uYW1lKXx8ITF9KSk7dmFyIG89W107UChpLChmdW5jdGlvbih0LGUpe2lbZV0mJm8ucHVzaChlKX0pKSxyLnB1c2goe2dlb0luZGV4Om4uY29tcG9uZW50SW5kZXgsbmFtZTpvfSl9KSkse3NlbGVjdGVkOmksYWxsU2VsZWN0ZWQ6cixuYW1lOnQubmFtZX19KSl9dC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oImdlbyIseEkpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChiSSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoU0kpLGUoInRvZ2dsZVNlbGVjdGVkIix7dHlwZToiZ2VvVG9nZ2xlU2VsZWN0IixldmVudDoiZ2Vvc2VsZWN0Y2hhbmdlZCJ9KSxlKCJzZWxlY3QiLHt0eXBlOiJnZW9TZWxlY3QiLGV2ZW50OiJnZW9zZWxlY3RlZCJ9KSxlKCJ1blNlbGVjdCIse3R5cGU6Imdlb1VuU2VsZWN0IixldmVudDoiZ2VvdW5zZWxlY3RlZCJ9KSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJnZW9Sb2FtIixldmVudDoiZ2VvUm9hbSIsdXBkYXRlOiJ1cGRhdGVUcmFuc2Zvcm0ifSwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbXBvbmVudFR5cGV8fCJzZXJpZXMiO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6bixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIGk9ZS5jb29yZGluYXRlU3lzdGVtO2lmKCJnZW8iPT09aS50eXBlKXt2YXIgcj13SShpLHQsZS5nZXQoInNjYWxlTGltaXQiKSk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKHIuY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShyLnpvb20pLCJzZXJpZXMiPT09biYmUChlLnNlcmllc0dyb3VwLChmdW5jdGlvbih0KXt0LnNldENlbnRlcihyLmNlbnRlciksdC5zZXRab29tKHIuem9vbSl9KSl9fSkpfSkpfWZ1bmN0aW9uIElJKHQsZSl7dmFyIG49dC5pc0V4cGFuZD90LmNoaWxkcmVuOltdLGk9dC5wYXJlbnROb2RlLmNoaWxkcmVuLHI9dC5oaWVyTm9kZS5pP2lbdC5oaWVyTm9kZS5pLTFdOm51bGw7aWYobi5sZW5ndGgpeyFmdW5jdGlvbih0KXt2YXIgZT10LmNoaWxkcmVuLG49ZS5sZW5ndGgsaT0wLHI9MDtmb3IoOy0tbj49MDspe3ZhciBvPWVbbl07by5oaWVyTm9kZS5wcmVsaW0rPWksby5oaWVyTm9kZS5tb2RpZmllcis9aSxyKz1vLmhpZXJOb2RlLmNoYW5nZSxpKz1vLmhpZXJOb2RlLnNoaWZ0K3J9fSh0KTt2YXIgbz0oblswXS5oaWVyTm9kZS5wcmVsaW0rbltuLmxlbmd0aC0xXS5oaWVyTm9kZS5wcmVsaW0pLzI7cj8odC5oaWVyTm9kZS5wcmVsaW09ci5oaWVyTm9kZS5wcmVsaW0rZSh0LHIpLHQuaGllck5vZGUubW9kaWZpZXI9dC5oaWVyTm9kZS5wcmVsaW0tbyk6dC5oaWVyTm9kZS5wcmVsaW09b31lbHNlIHImJih0LmhpZXJOb2RlLnByZWxpbT1yLmhpZXJOb2RlLnByZWxpbStlKHQscikpO3QucGFyZW50Tm9kZS5oaWVyTm9kZS5kZWZhdWx0QW5jZXN0b3I9ZnVuY3Rpb24odCxlLG4saSl7aWYoZSl7Zm9yKHZhciByPXQsbz10LGE9by5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLHM9ZSxsPXIuaGllck5vZGUubW9kaWZpZXIsdT1vLmhpZXJOb2RlLm1vZGlmaWVyLGg9YS5oaWVyTm9kZS5tb2RpZmllcixjPXMuaGllck5vZGUubW9kaWZpZXI7cz1BSShzKSxvPUxJKG8pLHMmJm87KXtyPUFJKHIpLGE9TEkoYSksci5oaWVyTm9kZS5hbmNlc3Rvcj10O3ZhciBwPXMuaGllck5vZGUucHJlbGltK2Mtby5oaWVyTm9kZS5wcmVsaW0tdStpKHMsbyk7cD4wJiYoUEkoa0kocyx0LG4pLHQscCksdSs9cCxsKz1wKSxjKz1zLmhpZXJOb2RlLm1vZGlmaWVyLHUrPW8uaGllck5vZGUubW9kaWZpZXIsbCs9ci5oaWVyTm9kZS5tb2RpZmllcixoKz1hLmhpZXJOb2RlLm1vZGlmaWVyfXMmJiFBSShyKSYmKHIuaGllck5vZGUudGhyZWFkPXMsci5oaWVyTm9kZS5tb2RpZmllcis9Yy1sKSxvJiYhTEkoYSkmJihhLmhpZXJOb2RlLnRocmVhZD1vLGEuaGllck5vZGUubW9kaWZpZXIrPXUtaCxuPXQpfXJldHVybiBufSh0LHIsdC5wYXJlbnROb2RlLmhpZXJOb2RlLmRlZmF1bHRBbmNlc3Rvcnx8aVswXSxlKX1mdW5jdGlvbiBUSSh0KXt2YXIgZT10LmhpZXJOb2RlLnByZWxpbSt0LnBhcmVudE5vZGUuaGllck5vZGUubW9kaWZpZXI7dC5zZXRMYXlvdXQoe3g6ZX0sITApLHQuaGllck5vZGUubW9kaWZpZXIrPXQucGFyZW50Tm9kZS5oaWVyTm9kZS5tb2RpZmllcn1mdW5jdGlvbiBDSSh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90Ok9JfWZ1bmN0aW9uIERJKHQsZSl7cmV0dXJuIHQtPU1hdGguUEkvMix7eDplKk1hdGguY29zKHQpLHk6ZSpNYXRoLnNpbih0KX19ZnVuY3Rpb24gQUkodCl7dmFyIGU9dC5jaGlsZHJlbjtyZXR1cm4gZS5sZW5ndGgmJnQuaXNFeHBhbmQ/ZVtlLmxlbmd0aC0xXTp0LmhpZXJOb2RlLnRocmVhZH1mdW5jdGlvbiBMSSh0KXt2YXIgZT10LmNoaWxkcmVuO3JldHVybiBlLmxlbmd0aCYmdC5pc0V4cGFuZD9lWzBdOnQuaGllck5vZGUudGhyZWFkfWZ1bmN0aW9uIGtJKHQsZSxuKXtyZXR1cm4gdC5oaWVyTm9kZS5hbmNlc3Rvci5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlP3QuaGllck5vZGUuYW5jZXN0b3I6bn1mdW5jdGlvbiBQSSh0LGUsbil7dmFyIGk9bi8oZS5oaWVyTm9kZS5pLXQuaGllck5vZGUuaSk7ZS5oaWVyTm9kZS5jaGFuZ2UtPWksZS5oaWVyTm9kZS5zaGlmdCs9bixlLmhpZXJOb2RlLm1vZGlmaWVyKz1uLGUuaGllck5vZGUucHJlbGltKz1uLHQuaGllck5vZGUuY2hhbmdlKz1pfWZ1bmN0aW9uIE9JKHQsZSl7cmV0dXJuIHQucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT8xOjJ9dmFyIFJJPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnRQb2ludD1bXSx0aGlzLmNoaWxkUG9pbnRzPVtdfSxOST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUkl9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hpbGRQb2ludHMsaT1uLmxlbmd0aCxyPWUucGFyZW50UG9pbnQsbz1uWzBdLGE9bltpLTFdO2lmKDE9PT1pKXJldHVybiB0Lm1vdmVUbyhyWzBdLHJbMV0pLHZvaWQgdC5saW5lVG8ob1swXSxvWzFdKTt2YXIgcz1lLm9yaWVudCxsPSJUQiI9PT1zfHwiQlQiPT09cz8wOjEsdT0xLWwsaD1aaShlLmZvcmtQb3NpdGlvbiwxKSxjPVtdO2NbbF09cltsXSxjW3VdPXJbdV0rKGFbdV0tclt1XSkqaCx0Lm1vdmVUbyhyWzBdLHJbMV0pLHQubGluZVRvKGNbMF0sY1sxXSksdC5tb3ZlVG8ob1swXSxvWzFdKSxjW2xdPW9bbF0sdC5saW5lVG8oY1swXSxjWzFdKSxjW2xdPWFbbF0sdC5saW5lVG8oY1swXSxjWzFdKSx0LmxpbmVUbyhhWzBdLGFbMV0pO2Zvcih2YXIgcD0xO3A8aS0xO3ArKyl7dmFyIGQ9bltwXTt0Lm1vdmVUbyhkWzBdLGRbMV0pLGNbbF09ZFtsXSx0LmxpbmVUbyhjWzBdLGNbMV0pfX0sZX0oS2EpLHpJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fbWFpbkdyb3VwPW5ldyBFaSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuX2NvbnRyb2xsZXI9bmV3IFdNKGUuZ2V0WnIoKSksdGhpcy5fY29udHJvbGxlckhvc3Q9e3RhcmdldDp0aGlzLmdyb3VwfSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9tYWluR3JvdXApfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5sYXlvdXRJbmZvLG89dGhpcy5fbWFpbkdyb3VwOyJyYWRpYWwiPT09dC5nZXQoImxheW91dCIpPyhvLng9ci54K3Iud2lkdGgvMixvLnk9ci55K3IuaGVpZ2h0LzIpOihvLng9ci54LG8ueT1yLnkpLHRoaXMuX3VwZGF0ZVZpZXdDb29yZFN5cyh0KSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuKTt2YXIgYT10aGlzLl9kYXRhO2kuZGlmZihhKS5hZGQoKGZ1bmN0aW9uKGUpe0VJKGksZSkmJlZJKGksZSxudWxsLG8sdCl9KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciByPWEuZ2V0SXRlbUdyYXBoaWNFbChuKTtFSShpLGUpP1ZJKGksZSxyLG8sdCk6ciYmQkkoYSxuLHIsbyx0KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKGUpe3ZhciBuPWEuZ2V0SXRlbUdyYXBoaWNFbChlKTtuJiZCSShhLGUsbixvLHQpfSkpLmV4ZWN1dGUoKSx0aGlzLl9ub2RlU2NhbGVSYXRpbz10LmdldCgibm9kZVNjYWxlUmF0aW8iKSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKHQpLCEwPT09dC5nZXQoImV4cGFuZEFuZENvbGxhcHNlIikmJmkuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsaSl7ZS5vZmYoImNsaWNrIikub24oImNsaWNrIiwoZnVuY3Rpb24oKXtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4Oml9KX0pKX0pKSx0aGlzLl9kYXRhPWl9LGUucHJvdG90eXBlLl91cGRhdGVWaWV3Q29vcmRTeXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbj1bXTtlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0SXRlbUxheW91dCh0KTshaXx8aXNOYU4oaS54KXx8aXNOYU4oaS55KXx8bi5wdXNoKFsraS54LCtpLnldKX0pKTt2YXIgaT1bXSxyPVtdO3JhKG4saSxyKTt2YXIgbz10aGlzLl9taW4sYT10aGlzLl9tYXg7clswXS1pWzBdPT0wJiYoaVswXT1vP29bMF06aVswXS0xLHJbMF09YT9hWzBdOnJbMF0rMSksclsxXS1pWzFdPT0wJiYoaVsxXT1vP29bMV06aVsxXS0xLHJbMV09YT9hWzFdOnJbMV0rMSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtPW5ldyBmSTtzLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLHMuc2V0Qm91bmRpbmdSZWN0KGlbMF0saVsxXSxyWzBdLWlbMF0sclsxXS1pWzFdKSxzLnNldENlbnRlcih0LmdldCgiY2VudGVyIikpLHMuc2V0Wm9vbSh0LmdldCgiem9vbSIpKSx0aGlzLmdyb3VwLmF0dHIoe3g6cy54LHk6cy55LHNjYWxlWDpzLnNjYWxlWCxzY2FsZVk6cy5zY2FsZVl9KSx0aGlzLl9taW49aSx0aGlzLl9tYXg9cn0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10aGlzLl9jb250cm9sbGVyLG89dGhpcy5fY29udHJvbGxlckhvc3QsYT10aGlzLmdyb3VwO3Iuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKGUsaSxyKXt2YXIgbz1hLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiBvLmFwcGx5VHJhbnNmb3JtKGEudHJhbnNmb3JtKSxvLmNvbnRhaW4oaSxyKSYmIUtNKGUsbix0KX0pKSxyLmVuYWJsZSh0LmdldCgicm9hbSIpKSxvLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLG8uem9vbT10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Wm9vbSgpLHIub2ZmKCJwYW4iKS5vZmYoInpvb20iKS5vbigicGFuIiwoZnVuY3Rpb24oZSl7Wk0obyxlLmR4LGUuZHkpLG4uZGlzcGF0Y2hBY3Rpb24oe3Nlcmllc0lkOnQuaWQsdHlwZToidHJlZVJvYW0iLGR4OmUuZHgsZHk6ZS5keX0pfSkpLm9uKCJ6b29tIiwoZnVuY3Rpb24oZSl7ak0obyxlLnNjYWxlLGUub3JpZ2luWCxlLm9yaWdpblkpLG4uZGlzcGF0Y2hBY3Rpb24oe3Nlcmllc0lkOnQuaWQsdHlwZToidHJlZVJvYW0iLHpvb206ZS5zY2FsZSxvcmlnaW5YOmUub3JpZ2luWCxvcmlnaW5ZOmUub3JpZ2luWX0pLGkuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGUodCksbi51cGRhdGVMYWJlbExheW91dCgpfSkpfSxlLnByb3RvdHlwZS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KTtlLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3Quc2V0U3ltYm9sU2NhbGUobil9KSl9LGUucHJvdG90eXBlLl9nZXROb2RlR2xvYmFsU2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCJ2aWV3IiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgbj10aGlzLl9ub2RlU2NhbGVSYXRpbyxpPWUuc2NhbGVYfHwxO3JldHVybigoZS5nZXRab29tKCktMSkqbisxKS9pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9bnVsbH0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fbWFpbkdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPSJ0cmVlIixlfShUZik7ZnVuY3Rpb24gRUkodCxlKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJuIG4mJiFpc05hTihuLngpJiYhaXNOYU4obi55KX1mdW5jdGlvbiBWSSh0LGUsbixpLHIpe3ZhciBvPSFuLGE9dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxzPWEuZ2V0TW9kZWwoKSxsPWEuZ2V0VmlzdWFsKCJzdHlsZSIpLmZpbGwsdT0hMT09PWEuaXNFeHBhbmQmJjAhPT1hLmNoaWxkcmVuLmxlbmd0aD9sOiIjZmZmIixoPXQudHJlZS5yb290LGM9YS5wYXJlbnROb2RlPT09aD9hOmEucGFyZW50Tm9kZXx8YSxwPXQuZ2V0SXRlbUdyYXBoaWNFbChjLmRhdGFJbmRleCksZD1jLmdldExheW91dCgpLGY9cD97eDpwLl9fb2xkWCx5OnAuX19vbGRZLHJhd1g6cC5fX3JhZGlhbE9sZFJhd1gscmF3WTpwLl9fcmFkaWFsT2xkUmF3WX06ZCxnPWEuZ2V0TGF5b3V0KCk7bz8oKG49bmV3IGR3KHQsZSxudWxsLHtzeW1ib2xJbm5lckNvbG9yOnUsdXNlTmFtZUxhYmVsOiEwfSkpLng9Zi54LG4ueT1mLnkpOm4udXBkYXRlRGF0YSh0LGUsbnVsbCx7c3ltYm9sSW5uZXJDb2xvcjp1LHVzZU5hbWVMYWJlbDohMH0pLG4uX19yYWRpYWxPbGRSYXdYPW4uX19yYWRpYWxSYXdYLG4uX19yYWRpYWxPbGRSYXdZPW4uX19yYWRpYWxSYXdZLG4uX19yYWRpYWxSYXdYPWcucmF3WCxuLl9fcmFkaWFsUmF3WT1nLnJhd1ksaS5hZGQobiksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbiksbi5fX29sZFg9bi54LG4uX19vbGRZPW4ueSxIdShuLHt4OmcueCx5OmcueX0scik7dmFyIHk9bi5nZXRTeW1ib2xQYXRoKCk7aWYoInJhZGlhbCI9PT1yLmdldCgibGF5b3V0Iikpe3ZhciB2PWguY2hpbGRyZW5bMF0sbT12LmdldExheW91dCgpLF89di5jaGlsZHJlbi5sZW5ndGgseD12b2lkIDAsYj12b2lkIDA7aWYoZy54PT09bS54JiYhMD09PWEuaXNFeHBhbmQpe3ZhciB3PXt4Oih2LmNoaWxkcmVuWzBdLmdldExheW91dCgpLngrdi5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLngpLzIseToodi5jaGlsZHJlblswXS5nZXRMYXlvdXQoKS55K3YuY2hpbGRyZW5bXy0xXS5nZXRMYXlvdXQoKS55KS8yfTsoeD1NYXRoLmF0YW4yKHcueS1tLnksdy54LW0ueCkpPDAmJih4PTIqTWF0aC5QSSt4KSwoYj13Lng8bS54KSYmKHgtPU1hdGguUEkpfWVsc2UoeD1NYXRoLmF0YW4yKGcueS1tLnksZy54LW0ueCkpPDAmJih4PTIqTWF0aC5QSSt4KSwwPT09YS5jaGlsZHJlbi5sZW5ndGh8fDAhPT1hLmNoaWxkcmVuLmxlbmd0aCYmITE9PT1hLmlzRXhwYW5kPyhiPWcueDxtLngpJiYoeC09TWF0aC5QSSk6KGI9Zy54Pm0ueCl8fCh4LT1NYXRoLlBJKTt2YXIgUz1iPyJsZWZ0IjoicmlnaHQiLE09cy5nZXRNb2RlbCgibGFiZWwiKSxJPU0uZ2V0KCJyb3RhdGUiKSxDPUkqKE1hdGguUEkvMTgwKSxEPXkuZ2V0VGV4dENvbnRlbnQoKTtEJiYoeS5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpNLmdldCgicG9zaXRpb24iKXx8Uyxyb3RhdGlvbjpudWxsPT1JPy14OkMsb3JpZ2luOiJjZW50ZXIifSksRC5zZXRTdHlsZSgidmVydGljYWxBbGlnbiIsIm1pZGRsZSIpKX12YXIgQT1zLmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksTD0iYW5jZXN0b3IiPT09QT9hLmdldEFuY2VzdG9yc0luZGljZXMoKToiZGVzY2VuZGFudCI9PT1BP2EuZ2V0RGVzY2VuZGFudEluZGljZXMoKTpudWxsO0wmJihfcyhuKS5mb2N1cz1MKSxmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe3ZhciBsPWUuZ2V0TW9kZWwoKSx1PXQuZ2V0KCJlZGdlU2hhcGUiKSxoPXQuZ2V0KCJsYXlvdXQiKSxjPXQuZ2V0T3JpZW50KCkscD10LmdldChbImxpbmVTdHlsZSIsImN1cnZlbmVzcyJdKSxkPXQuZ2V0KCJlZGdlRm9ya1Bvc2l0aW9uIiksZj1sLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxnPWkuX19lZGdlO2lmKCJjdXJ2ZSI9PT11KWUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIT09biYmKGd8fChnPWkuX19lZGdlPW5ldyBkdSh7c2hhcGU6RkkoaCxjLHAscixyKX0pKSxIdShnLHtzaGFwZTpGSShoLGMscCxvLGEpfSx0KSk7ZWxzZSBpZigicG9seWxpbmUiPT09dSlpZigib3J0aG9nb25hbCI9PT1oKXtpZihlIT09biYmZS5jaGlsZHJlbiYmMCE9PWUuY2hpbGRyZW4ubGVuZ3RoJiYhMD09PWUuaXNFeHBhbmQpe2Zvcih2YXIgeT1lLmNoaWxkcmVuLHY9W10sbT0wO208eS5sZW5ndGg7bSsrKXt2YXIgXz15W21dLmdldExheW91dCgpO3YucHVzaChbXy54LF8ueV0pfWd8fChnPWkuX19lZGdlPW5ldyBOSSh7c2hhcGU6e3BhcmVudFBvaW50OlthLngsYS55XSxjaGlsZFBvaW50czpbW2EueCxhLnldXSxvcmllbnQ6Yyxmb3JrUG9zaXRpb246ZH19KSksSHUoZyx7c2hhcGU6e3BhcmVudFBvaW50OlthLngsYS55XSxjaGlsZFBvaW50czp2fX0sdCl9fWVsc2UgMDtnJiYoZy51c2VTdHlsZShUKHtzdHJva2VOb1NjYWxlOiEwLGZpbGw6bnVsbH0sZikpLGNsKGcsbCwibGluZVN0eWxlIiksWHMoZykscy5hZGQoZykpfShyLGEsaCxuLGYsZCxnLGkpLG4uX19lZGdlJiYobi5vbkhvdmVyU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7aWYoImJsdXIiIT09ZSl7dmFyIGk9YS5wYXJlbnROb2RlJiZ0LmdldEl0ZW1HcmFwaGljRWwoYS5wYXJlbnROb2RlLmRhdGFJbmRleCk7aSYmMT09PWkuaG92ZXJTdGF0ZXx8V3Mobi5fX2VkZ2UsZSl9fSl9ZnVuY3Rpb24gQkkodCxlLG4saSxyKXtmb3IodmFyIG8sYT10LnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLHM9dC50cmVlLnJvb3QsbD1hLnBhcmVudE5vZGU9PT1zP2E6YS5wYXJlbnROb2RlfHxhO251bGw9PShvPWwuZ2V0TGF5b3V0KCkpOylsPWwucGFyZW50Tm9kZT09PXM/bDpsLnBhcmVudE5vZGV8fGw7dmFyIHU9e2R1cmF0aW9uOnIuZ2V0KCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIpLGVhc2luZzpyLmdldCgiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIil9O1V1KG4se3g6by54KzEseTpvLnkrMX0scix7Y2I6ZnVuY3Rpb24oKXtpLnJlbW92ZShuKSx0LnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKX0scmVtb3ZlT3B0OnV9KSxuLmZhZGVPdXQobnVsbCx7ZmFkZUxhYmVsOiEwLGFuaW1hdGlvbjp1fSk7dmFyIGg9dC5nZXRJdGVtR3JhcGhpY0VsKGwuZGF0YUluZGV4KS5fX2VkZ2UsYz1uLl9fZWRnZXx8KCExPT09bC5pc0V4cGFuZHx8MT09PWwuY2hpbGRyZW4ubGVuZ3RoP2g6dm9pZCAwKSxwPXIuZ2V0KCJlZGdlU2hhcGUiKSxkPXIuZ2V0KCJsYXlvdXQiKSxmPXIuZ2V0KCJvcmllbnQiKSxnPXIuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pO2MmJigiY3VydmUiPT09cD9VdShjLHtzaGFwZTpGSShkLGYsZyxvLG8pLHN0eWxlOntvcGFjaXR5OjB9fSxyLHtjYjpmdW5jdGlvbigpe2kucmVtb3ZlKGMpfSxyZW1vdmVPcHQ6dX0pOiJwb2x5bGluZSI9PT1wJiYib3J0aG9nb25hbCI9PT1yLmdldCgibGF5b3V0IikmJlV1KGMse3NoYXBlOntwYXJlbnRQb2ludDpbby54LG8ueV0sY2hpbGRQb2ludHM6W1tvLngsby55XV19LHN0eWxlOntvcGFjaXR5OjB9fSxyLHtjYjpmdW5jdGlvbigpe2kucmVtb3ZlKGMpfSxyZW1vdmVPcHQ6dX0pKX1mdW5jdGlvbiBGSSh0LGUsbixpLHIpe3ZhciBvLGEscyxsLHUsaCxjLHA7aWYoInJhZGlhbCI9PT10KXt1PWkucmF3WCxjPWkucmF3WSxoPXIucmF3WCxwPXIucmF3WTt2YXIgZD1ESSh1LGMpLGY9REkodSxjKyhwLWMpKm4pLGc9REkoaCxwKyhjLXApKm4pLHk9REkoaCxwKTtyZXR1cm57eDE6ZC54fHwwLHkxOmQueXx8MCx4Mjp5Lnh8fDAseTI6eS55fHwwLGNweDE6Zi54fHwwLGNweTE6Zi55fHwwLGNweDI6Zy54fHwwLGNweTI6Zy55fHwwfX1yZXR1cm4gdT1pLngsYz1pLnksaD1yLngscD1yLnksIkxSIiE9PWUmJiJSTCIhPT1lfHwobz11KyhoLXUpKm4sYT1jLHM9aCsodS1oKSpuLGw9cCksIlRCIiE9PWUmJiJCVCIhPT1lfHwobz11LGE9YysocC1jKSpuLHM9aCxsPXArKGMtcCkqbikse3gxOnUseTE6Yyx4MjpoLHkyOnAsY3B4MTpvLGNweTE6YSxjcHgyOnMsY3B5MjpsfX12YXIgR0k9a3IoKTtmdW5jdGlvbiBISSh0KXt2YXIgZT10Lm1haW5EYXRhLG49dC5kYXRhcztufHwobj17bWFpbjplfSx0LmRhdGFzQXR0cj17bWFpbjoiZGF0YSJ9KSx0LmRhdGFzPXQubWFpbkRhdGE9bnVsbCxqSShlLG4sdCksUChuLChmdW5jdGlvbihuKXtQKGUuVFJBTlNGRVJBQkxFX01FVEhPRFMsKGZ1bmN0aW9uKGUpe24ud3JhcE1ldGhvZChlLEIoV0ksdCkpfSkpfSkpLGUud3JhcE1ldGhvZCgiY2xvbmVTaGFsbG93IixCKFhJLHQpKSxQKGUuQ0hBTkdBQkxFX01FVEhPRFMsKGZ1bmN0aW9uKG4pe2Uud3JhcE1ldGhvZChuLEIoVUksdCkpfSkpLHJ0KG5bZS5kYXRhVHlwZV09PT1lKX1mdW5jdGlvbiBXSSh0LGUpe2lmKEdJKGk9dGhpcykubWFpbkRhdGE9PT1pKXt2YXIgbj1JKHt9LEdJKHRoaXMpLmRhdGFzKTtuW3RoaXMuZGF0YVR5cGVdPWUsakkoZSxuLHQpfWVsc2UgcUkoZSx0aGlzLmRhdGFUeXBlLEdJKHRoaXMpLm1haW5EYXRhLHQpO3ZhciBpO3JldHVybiBlfWZ1bmN0aW9uIFVJKHQsZSl7cmV0dXJuIHQuc3RydWN0JiZ0LnN0cnVjdC51cGRhdGUoKSxlfWZ1bmN0aW9uIFhJKHQsZSl7cmV0dXJuIFAoR0koZSkuZGF0YXMsKGZ1bmN0aW9uKG4saSl7biE9PWUmJnFJKG4uY2xvbmVTaGFsbG93KCksaSxlLHQpfSkpLGV9ZnVuY3Rpb24gWUkodCl7dmFyIGU9R0kodGhpcykubWFpbkRhdGE7cmV0dXJuIG51bGw9PXR8fG51bGw9PWU/ZTpHSShlKS5kYXRhc1t0XX1mdW5jdGlvbiBaSSgpe3ZhciB0PUdJKHRoaXMpLm1haW5EYXRhO3JldHVybiBudWxsPT10P1t7ZGF0YTp0fV06TyhFKEdJKHQpLmRhdGFzKSwoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZSxkYXRhOkdJKHQpLmRhdGFzW2VdfX0pKX1mdW5jdGlvbiBqSSh0LGUsbil7R0kodCkuZGF0YXM9e30sUChlLChmdW5jdGlvbihlLGkpe3FJKGUsaSx0LG4pfSkpfWZ1bmN0aW9uIHFJKHQsZSxuLGkpe0dJKG4pLmRhdGFzW2VdPXQsR0kodCkubWFpbkRhdGE9bix0LmRhdGFUeXBlPWUsaS5zdHJ1Y3QmJih0W2kuc3RydWN0QXR0cl09aS5zdHJ1Y3QsaS5zdHJ1Y3RbaS5kYXRhc0F0dHJbZV1dPXQpLHQuZ2V0TGlua2VkRGF0YT1ZSSx0LmdldExpbmtlZERhdGFBbGw9Wkl9dmFyIEtJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5pc0V4cGFuZD0hMSx0aGlzLm5hbWU9dHx8IiIsdGhpcy5ob3N0VHJlZT1lfXJldHVybiB0LnByb3RvdHlwZS5pc1JlbW92ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhSW5kZXg8MH0sdC5wcm90b3R5cGUuZWFjaE5vZGU9ZnVuY3Rpb24odCxlLG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj1lLGU9dCx0PW51bGwpLEgodD10fHx7fSkmJih0PXtvcmRlcjp0fSk7dmFyIGkscj10Lm9yZGVyfHwicHJlb3JkZXIiLG89dGhpc1t0LmF0dHJ8fCJjaGlsZHJlbiJdOyJwcmVvcmRlciI9PT1yJiYoaT1lLmNhbGwobix0aGlzKSk7Zm9yKHZhciBhPTA7IWkmJmE8by5sZW5ndGg7YSsrKW9bYV0uZWFjaE5vZGUodCxlLG4pOyJwb3N0b3JkZXIiPT09ciYmZS5jYWxsKG4sdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZURlcHRoQW5kSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPTA7dGhpcy5kZXB0aD10O2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmNoaWxkcmVuW25dO2kudXBkYXRlRGVwdGhBbmRIZWlnaHQodCsxKSxpLmhlaWdodD5lJiYoZT1pLmhlaWdodCl9dGhpcy5oZWlnaHQ9ZSsxfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtpZih0aGlzLmdldElkKCk9PT10KXJldHVybiB0aGlzO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uZ2V0Tm9kZUJ5SWQodCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXJldHVybiEwO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uY29udGFpbnModCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmdldEFuY2VzdG9ycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10P3RoaXM6dGhpcy5wYXJlbnROb2RlO247KWUucHVzaChuKSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sdC5wcm90b3R5cGUuZ2V0QW5jZXN0b3JzSW5kaWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXM7ZTspdC5wdXNoKGUuZGF0YUluZGV4KSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuZ2V0RGVzY2VuZGFudEluZGljZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lYWNoTm9kZSgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuZGF0YUluZGV4KX0pKSx0fSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvc3RUcmVlLmRhdGE7cmV0dXJuIGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sdC5wcm90b3R5cGUuc2V0TGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LHQsZSl9LHQucHJvdG90eXBlLmdldExheW91dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpcmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLmdldE1vZGVsKHQpfSx0LnByb3RvdHlwZS5nZXRMZXZlbE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaG9zdFRyZWUubGV2ZWxNb2RlbHN8fFtdKVt0aGlzLmRlcHRoXX0sdC5wcm90b3R5cGUuc2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LHQucHJvdG90eXBlLmdldFZpc3VhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsdCl9LHQucHJvdG90eXBlLmdldFJhd0luZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRSYXdJbmRleCh0aGlzLmRhdGFJbmRleCl9LHQucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRJZCh0aGlzLmRhdGFJbmRleCl9LHQucHJvdG90eXBlLmlzQW5jZXN0b3JPZj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5wYXJlbnROb2RlO2U7KXtpZihlPT09dGhpcylyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX0sdC5wcm90b3R5cGUuaXNEZXNjZW5kYW50T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10aGlzJiZ0LmlzQW5jZXN0b3JPZih0aGlzKX0sdH0oKSwkST1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPSJ0cmVlIix0aGlzLl9ub2Rlcz1bXSx0aGlzLmhvc3RNb2RlbD10fXJldHVybiB0LnByb3RvdHlwZS5lYWNoTm9kZT1mdW5jdGlvbih0LGUsbil7dGhpcy5yb290LmVhY2hOb2RlKHQsZSxuKX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5RGF0YUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5fbm9kZXNbZV19LHQucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3QuZ2V0Tm9kZUJ5SWQodCl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9ub2RlcyxuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWVbbl0uZGF0YUluZGV4PS0xO2ZvcihuPTAsaT10LmNvdW50KCk7bjxpO24rKyllW3QuZ2V0UmF3SW5kZXgobildLmRhdGFJbmRleD1ufSx0LnByb3RvdHlwZS5jbGVhckxheW91dHM9ZnVuY3Rpb24oKXt0aGlzLmRhdGEuY2xlYXJJdGVtTGF5b3V0cygpfSx0LmNyZWF0ZVRyZWU9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPW5ldyB0KG4pLG89W10sYT0xOyFmdW5jdGlvbiB0KGUsbil7dmFyIGk9ZS52YWx1ZTthPU1hdGgubWF4KGEsRihpKT9pLmxlbmd0aDoxKSxvLnB1c2goZSk7dmFyIHM9bmV3IEtJKENyKGUubmFtZSwiIikscik7bj9mdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hpbGRyZW47aWYodC5wYXJlbnROb2RlPT09ZSlyZXR1cm47bi5wdXNoKHQpLHQucGFyZW50Tm9kZT1lfShzLG4pOnIucm9vdD1zLHIuX25vZGVzLnB1c2gocyk7dmFyIGw9ZS5jaGlsZHJlbjtpZihsKWZvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSsrKXQobFt1XSxzKX0oZSksci5yb290LnVwZGF0ZURlcHRoQW5kSGVpZ2h0KDApO3ZhciBzPU9fKG8se2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZGltZW5zaW9uc0NvdW50OmF9KSxsPW5ldyBMXyhzLG4pO3JldHVybiBsLmluaXREYXRhKG8pLGkmJmkobCksSEkoe21haW5EYXRhOmwsc3RydWN0OnIsc3RydWN0QXR0cjoidHJlZSJ9KSxyLnVwZGF0ZSgpLHJ9LHR9KCk7ZnVuY3Rpb24gSkkodCxlLG4pe2lmKHQmJkQoZSx0LnR5cGUpPj0wKXt2YXIgaT1uLmdldERhdGEoKS50cmVlLnJvb3Qscj10LnRhcmdldE5vZGU7aWYoInN0cmluZyI9PXR5cGVvZiByJiYocj1pLmdldE5vZGVCeUlkKHIpKSxyJiZpLmNvbnRhaW5zKHIpKXJldHVybntub2RlOnJ9O3ZhciBvPXQudGFyZ2V0Tm9kZUlkO2lmKG51bGwhPW8mJihyPWkuZ2V0Tm9kZUJ5SWQobykpKXJldHVybntub2RlOnJ9fX1mdW5jdGlvbiBRSSh0KXtmb3IodmFyIGU9W107dDspKHQ9dC5wYXJlbnROb2RlKSYmZS5wdXNoKHQpO3JldHVybiBlLnJldmVyc2UoKX1mdW5jdGlvbiB0VCh0LGUpe3JldHVybiBEKFFJKHQpLGUpPj0wfWZ1bmN0aW9uIGVUKHQsZSl7Zm9yKHZhciBuPVtdO3Q7KXt2YXIgaT10LmRhdGFJbmRleDtuLnB1c2goe25hbWU6dC5uYW1lLGRhdGFJbmRleDppLHZhbHVlOmUuZ2V0UmF3VmFsdWUoaSl9KSx0PXQucGFyZW50Tm9kZX1yZXR1cm4gbi5yZXZlcnNlKCksbn12YXIgblQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5oYXNTeW1ib2xWaXN1YWw9ITAsZS5pZ25vcmVTdHlsZU9uRGF0YT0hMCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dC5uYW1lLGNoaWxkcmVuOnQuZGF0YX0sbj10LmxlYXZlc3x8e30saT1uZXcgT2gobix0aGlzLHRoaXMuZWNNb2RlbCkscj0kSS5jcmVhdGVUcmVlKGUsdGhpcywoZnVuY3Rpb24odCl7dC53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuJiZuLmNoaWxkcmVuLmxlbmd0aCYmbi5pc0V4cGFuZHx8KHQucGFyZW50TW9kZWw9aSksdH0pKX0pKTt2YXIgbz0wO3IuZWFjaE5vZGUoInByZW9yZGVyIiwoZnVuY3Rpb24odCl7dC5kZXB0aD5vJiYobz10LmRlcHRoKX0pKTt2YXIgYT10LmV4cGFuZEFuZENvbGxhcHNlJiZ0LmluaXRpYWxUcmVlRGVwdGg+PTA/dC5pbml0aWFsVHJlZURlcHRoOm87cmV0dXJuIHIucm9vdC5lYWNoTm9kZSgicHJlb3JkZXIiLChmdW5jdGlvbih0KXt2YXIgZT10Lmhvc3RUcmVlLmRhdGEuZ2V0UmF3RGF0YUl0ZW0odC5kYXRhSW5kZXgpO3QuaXNFeHBhbmQ9ZSYmbnVsbCE9ZS5jb2xsYXBzZWQ/IWUuY29sbGFwc2VkOnQuZGVwdGg8PWF9KSksci5kYXRhfSxlLnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgib3JpZW50Iik7cmV0dXJuImhvcml6b250YWwiPT09dD90PSJMUiI6InZlcnRpY2FsIj09PXQmJih0PSJUQiIpLHR9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLmdldERhdGEoKS50cmVlLHI9aS5yb290LmNoaWxkcmVuWzBdLG89aS5nZXROb2RlQnlEYXRhSW5kZXgodCksYT1vLmdldFZhbHVlKCkscz1vLm5hbWU7byYmbyE9PXI7KXM9by5wYXJlbnROb2RlLm5hbWUrIi4iK3Msbz1vLnBhcmVudE5vZGU7cmV0dXJuIHRmKCJuYW1lVmFsdWUiLHtuYW1lOnMsdmFsdWU6YSxub1ZhbHVlOmlzTmFOKGEpfHxudWxsPT1hfSl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIG49dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKTtyZXR1cm4gbi50cmVlQW5jZXN0b3JzPWVUKGksdGhpcyksbn0sZS50eXBlPSJzZXJpZXMudHJlZSIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZnQ6IjEyJSIsdG9wOiIxMiUiLHJpZ2h0OiIxMiUiLGJvdHRvbToiMTIlIixsYXlvdXQ6Im9ydGhvZ29uYWwiLGVkZ2VTaGFwZToiY3VydmUiLGVkZ2VGb3JrUG9zaXRpb246IjUwJSIscm9hbTohMSxub2RlU2NhbGVSYXRpbzouNCxjZW50ZXI6bnVsbCx6b29tOjEsb3JpZW50OiJMUiIsc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo3LGV4cGFuZEFuZENvbGxhcHNlOiEwLGluaXRpYWxUcmVlRGVwdGg6MixsaW5lU3R5bGU6e2NvbG9yOiIjY2NjIix3aWR0aDoxLjUsY3VydmVuZXNzOi41fSxpdGVtU3R5bGU6e2NvbG9yOiJsaWdodHN0ZWVsYmx1ZSIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMH0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjcwMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDB9LGV9KGZmKTtmdW5jdGlvbiBpVCh0LGUpe2Zvcih2YXIgbixpPVt0XTtuPWkucG9wKCk7KWlmKGUobiksbi5pc0V4cGFuZCl7dmFyIHI9bi5jaGlsZHJlbjtpZihyLmxlbmd0aClmb3IodmFyIG89ci5sZW5ndGgtMTtvPj0wO28tLSlpLnB1c2gocltvXSl9fWZ1bmN0aW9uIHJUKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIiwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gVmModC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZSk7dC5sYXlvdXRJbmZvPW47dmFyIGk9dC5nZXQoImxheW91dCIpLHI9MCxvPTAsYT1udWxsOyJyYWRpYWwiPT09aT8ocj0yKk1hdGguUEksbz1NYXRoLm1pbihuLmhlaWdodCxuLndpZHRoKS8yLGE9Q0koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT8xOjIpL3QuZGVwdGh9KSkpOihyPW4ud2lkdGgsbz1uLmhlaWdodCxhPUNJKCkpO3ZhciBzPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxsPXMuY2hpbGRyZW5bMF07aWYobCl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQ7ZS5oaWVyTm9kZT17ZGVmYXVsdEFuY2VzdG9yOm51bGwsYW5jZXN0b3I6ZSxwcmVsaW06MCxtb2RpZmllcjowLGNoYW5nZTowLHNoaWZ0OjAsaTowLHRocmVhZDpudWxsfTtmb3IodmFyIG4saSxyPVtlXTtuPXIucG9wKCk7KWlmKGk9bi5jaGlsZHJlbixuLmlzRXhwYW5kJiZpLmxlbmd0aClmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9aVtvXTthLmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3RvcjphLHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOm8sdGhyZWFkOm51bGx9LHIucHVzaChhKX19KHMpLGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkscj1bdF0sbz1bXTtpPXIucG9wKCk7KWlmKG8ucHVzaChpKSxpLmlzRXhwYW5kKXt2YXIgYT1pLmNoaWxkcmVuO2lmKGEubGVuZ3RoKWZvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXIucHVzaChhW3NdKX1mb3IoO2k9by5wb3AoKTspZShpLG4pfShsLElJLGEpLHMuaGllck5vZGUubW9kaWZpZXI9LWwuaGllck5vZGUucHJlbGltLGlUKGwsVEkpO3ZhciB1PWwsaD1sLGM9bDtpVChsLChmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLng7ZTx1LmdldExheW91dCgpLngmJih1PXQpLGU+aC5nZXRMYXlvdXQoKS54JiYoaD10KSx0LmRlcHRoPmMuZGVwdGgmJihjPXQpfSkpO3ZhciBwPXU9PT1oPzE6YSh1LGgpLzIsZD1wLXUuZ2V0TGF5b3V0KCkueCxmPTAsZz0wLHk9MCx2PTA7aWYoInJhZGlhbCI9PT1pKWY9ci8oaC5nZXRMYXlvdXQoKS54K3ArZCksZz1vLyhjLmRlcHRoLTF8fDEpLGlUKGwsKGZ1bmN0aW9uKHQpe3k9KHQuZ2V0TGF5b3V0KCkueCtkKSpmLHY9KHQuZGVwdGgtMSkqZzt2YXIgZT1ESSh5LHYpO3Quc2V0TGF5b3V0KHt4OmUueCx5OmUueSxyYXdYOnkscmF3WTp2fSwhMCl9KSk7ZWxzZXt2YXIgbT10LmdldE9yaWVudCgpOyJSTCI9PT1tfHwiTFIiPT09bT8oZz1vLyhoLmdldExheW91dCgpLngrcCtkKSxmPXIvKGMuZGVwdGgtMXx8MSksaVQobCwoZnVuY3Rpb24odCl7dj0odC5nZXRMYXlvdXQoKS54K2QpKmcseT0iTFIiPT09bT8odC5kZXB0aC0xKSpmOnItKHQuZGVwdGgtMSkqZix0LnNldExheW91dCh7eDp5LHk6dn0sITApfSkpKToiVEIiIT09bSYmIkJUIiE9PW18fChmPXIvKGguZ2V0TGF5b3V0KCkueCtwK2QpLGc9by8oYy5kZXB0aC0xfHwxKSxpVChsLChmdW5jdGlvbih0KXt5PSh0LmdldExheW91dCgpLngrZCkqZix2PSJUQiI9PT1tPyh0LmRlcHRoLTEpKmc6by0odC5kZXB0aC0xKSpnLHQuc2V0TGF5b3V0KHt4OnkseTp2fSwhMCl9KSkpfX19KHQsZSl9KSl9ZnVuY3Rpb24gb1QodCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7ZS50cmVlLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgbj10LmdldE1vZGVsKCkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO0koZS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQuZGF0YUluZGV4LCJzdHlsZSIpLG4pfSkpfSkpfXZhciBhVD1mdW5jdGlvbigpe30sc1Q9WyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSZW5kZXIiLCJ0cmVlbWFwTW92ZSJdO2Z1bmN0aW9uIGxUKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLnRyZWUsbj17fTtlLmVhY2hOb2RlKChmdW5jdGlvbihlKXtmb3IodmFyIGk9ZTtpJiZpLmRlcHRoPjE7KWk9aS5wYXJlbnROb2RlO3ZhciByPXhwKHQuZWNNb2RlbCxpLm5hbWV8fGkuZGF0YUluZGV4KyIiLG4pO2Uuc2V0VmlzdWFsKCJkZWNhbCIscil9KSl9dmFyIHVUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5wcmV2ZW50VXNpbmdIb3ZlckxheWVyPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9O2hUKG4pO3ZhciBpPXQubGV2ZWxzfHxbXSxyPXRoaXMuZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZT17fSxvPW5ldyBPaCh7aXRlbVN0eWxlOnJ9LHRoaXMsZSksYT1PKChpPXQubGV2ZWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXhyKGUuZ2V0KCJjb2xvciIpKSxvPXhyKGUuZ2V0KFsiYXJpYSIsImRlY2FsIiwiZGVjYWxzIl0pKTtpZighcilyZXR1cm47UCh0PXR8fFtdLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgT2godCkscj1lLmdldCgiY29sb3IiKSxvPWUuZ2V0KCJkZWNhbCIpOyhlLmdldChbIml0ZW1TdHlsZSIsImNvbG9yIl0pfHxyJiYibm9uZSIhPT1yKSYmKG49ITApLChlLmdldChbIml0ZW1TdHlsZSIsImRlY2FsIl0pfHxvJiYibm9uZSIhPT1vKSYmKGk9ITApfSkpO3ZhciBhPXRbMF18fCh0WzBdPXt9KTtufHwoYS5jb2xvcj1yLnNsaWNlKCkpOyFpJiZvJiYoYS5kZWNhbD1vLnNsaWNlKCkpO3JldHVybiB0fShpLGUpKXx8W10sKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgT2godCxvLGUpfSksdGhpcykscz0kSS5jcmVhdGVUcmVlKG4sdGhpcywoZnVuY3Rpb24odCl7dC53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXMuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLGk9bj9hW24uZGVwdGhdOm51bGw7cmV0dXJuIHQucGFyZW50TW9kZWw9aXx8byx0fSkpfSkpO3JldHVybiBzLmRhdGF9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldFJhd1ZhbHVlKHQpO3JldHVybiB0ZigibmFtZVZhbHVlIix7bmFtZTppLmdldE5hbWUodCksdmFsdWU6cn0pfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciBuPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSk7cmV0dXJuIG4udHJlZVBhdGhJbmZvPWVUKGksdGhpcyksbn0sZS5wcm90b3R5cGUuc2V0TGF5b3V0SW5mbz1mdW5jdGlvbih0KXt0aGlzLmxheW91dEluZm89dGhpcy5sYXlvdXRJbmZvfHx7fSxJKHRoaXMubGF5b3V0SW5mbyx0KX0sZS5wcm90b3R5cGUubWFwSWRUb0luZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lkSW5kZXhNYXA7ZXx8KGU9dGhpcy5faWRJbmRleE1hcD1odCgpLHRoaXMuX2lkSW5kZXhNYXBDb3VudD0wKTt2YXIgbj1lLmdldCh0KTtyZXR1cm4gbnVsbD09biYmZS5zZXQodCxuPXRoaXMuX2lkSW5kZXhNYXBDb3VudCsrKSxufSxlLnByb3RvdHlwZS5nZXRWaWV3Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3Um9vdH0sZS5wcm90b3R5cGUucmVzZXRWaWV3Um9vdD1mdW5jdGlvbih0KXt0P3RoaXMuX3ZpZXdSb290PXQ6dD10aGlzLl92aWV3Um9vdDt2YXIgZT10aGlzLmdldFJhd0RhdGEoKS50cmVlLnJvb3Q7dCYmKHQ9PT1lfHxlLmNvbnRhaW5zKHQpKXx8KHRoaXMuX3ZpZXdSb290PWUpfSxlLnByb3RvdHlwZS5lbmFibGVBcmlhRGVjYWw9ZnVuY3Rpb24oKXtsVCh0aGlzKX0sZS50eXBlPSJzZXJpZXMudHJlZW1hcCIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17cHJvZ3Jlc3NpdmU6MCxsZWZ0OiJjZW50ZXIiLHRvcDoibWlkZGxlIix3aWR0aDoiODAlIixoZWlnaHQ6IjgwJSIsc29ydDohMCxjbGlwV2luZG93OiJvcmlnaW4iLHNxdWFyZVJhdGlvOi41KigxK01hdGguc3FydCg1KSksbGVhZkRlcHRoOm51bGwsZHJpbGxEb3duSWNvbjoi4pa2Iix6b29tVG9Ob2RlUmF0aW86LjEwMjQscm9hbTohMCxub2RlQ2xpY2s6Inpvb21Ub05vZGUiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo5MDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQiLGJyZWFkY3J1bWI6e3Nob3c6ITAsaGVpZ2h0OjIyLGxlZnQ6ImNlbnRlciIsdG9wOiJib3R0b20iLGVtcHR5SXRlbVdpZHRoOjI1LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMCwwLDAsMC43KSIsdGV4dFN0eWxlOntjb2xvcjoiI2ZmZiJ9fX0sbGFiZWw6e3Nob3c6ITAsZGlzdGFuY2U6MCxwYWRkaW5nOjUscG9zaXRpb246Imluc2lkZSIsY29sb3I6IiNmZmYiLG92ZXJmbG93OiJ0cnVuY2F0ZSJ9LHVwcGVyTGFiZWw6e3Nob3c6ITEscG9zaXRpb246WzAsIjUwJSJdLGhlaWdodDoyMCxvdmVyZmxvdzoidHJ1bmNhdGUiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LGl0ZW1TdHlsZTp7Y29sb3I6bnVsbCxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsYm9yZGVyV2lkdGg6MCxnYXBXaWR0aDowLGJvcmRlckNvbG9yOiIjZmZmIixib3JkZXJDb2xvclNhdHVyYXRpb246bnVsbH0sZW1waGFzaXM6e3VwcGVyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246WzAsIjUwJSJdLGVsbGlwc2lzOiEwLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSx2aXN1YWxEaW1lbnNpb246MCx2aXN1YWxNaW46bnVsbCx2aXN1YWxNYXg6bnVsbCxjb2xvcjpbXSxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsY29sb3JNYXBwaW5nQnk6ImluZGV4Iix2aXNpYmxlTWluOjEwLGNoaWxkcmVuVmlzaWJsZU1pbjpudWxsLGxldmVsczpbXX0sZX0oZmYpO2Z1bmN0aW9uIGhUKHQpe3ZhciBlPTA7UCh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXtoVCh0KTt2YXIgbj10LnZhbHVlO0YobikmJihuPW5bMF0pLGUrPW59KSk7dmFyIG49dC52YWx1ZTtGKG4pJiYobj1uWzBdKSwobnVsbD09bnx8aXNOYU4obikpJiYobj1lKSxuPDAmJihuPTApLEYodC52YWx1ZSk/dC52YWx1ZVswXT1uOnQudmFsdWU9bn12YXIgY1Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3JvdXA9bmV3IEVpLHQuYWRkKHRoaXMuZ3JvdXApfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgiYnJlYWRjcnVtYiIpLG89dGhpcy5ncm91cDtpZihvLnJlbW92ZUFsbCgpLHIuZ2V0KCJzaG93IikmJm4pe3ZhciBhPXIuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHM9YS5nZXRNb2RlbCgidGV4dFN0eWxlIiksbD17cG9zOntsZWZ0OnIuZ2V0KCJsZWZ0IikscmlnaHQ6ci5nZXQoInJpZ2h0IiksdG9wOnIuZ2V0KCJ0b3AiKSxib3R0b206ci5nZXQoImJvdHRvbSIpfSxib3g6e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sZW1wdHlJdGVtV2lkdGg6ci5nZXQoImVtcHR5SXRlbVdpZHRoIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUobixsLHMpLHRoaXMuX3JlbmRlckNvbnRlbnQodCxsLGEscyxpKSxCYyhvLGwucG9zLGwuYm94KX19LHQucHJvdG90eXBlLl9wcmVwYXJlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dDtpO2k9aS5wYXJlbnROb2RlKXt2YXIgcj1DcihpLmdldE1vZGVsKCkuZ2V0KCJuYW1lIiksIiIpLG89bi5nZXRUZXh0UmVjdChyKSxhPU1hdGgubWF4KG8ud2lkdGgrMTYsZS5lbXB0eUl0ZW1XaWR0aCk7ZS50b3RhbFdpZHRoKz1hKzgsZS5yZW5kZXJMaXN0LnB1c2goe25vZGU6aSx0ZXh0OnIsd2lkdGg6YX0pfX0sdC5wcm90b3R5cGUuX3JlbmRlckNvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIG8sYSxzLGwsdSxoLGMscCxkLGY9MCxnPWUuZW1wdHlJdGVtV2lkdGgseT10LmdldChbImJyZWFkY3J1bWIiLCJoZWlnaHQiXSksdj0obz1lLnBvcyxhPWUuYm94LGw9YS53aWR0aCx1PWEuaGVpZ2h0LGg9Wmkoby5sZWZ0LGwpLGM9Wmkoby50b3AsdSkscD1aaShvLnJpZ2h0LGwpLGQ9Wmkoby5ib3R0b20sdSksKGlzTmFOKGgpfHxpc05hTihwYXJzZUZsb2F0KG8ubGVmdCkpKSYmKGg9MCksKGlzTmFOKHApfHxpc05hTihwYXJzZUZsb2F0KG8ucmlnaHQpKSkmJihwPWwpLChpc05hTihjKXx8aXNOYU4ocGFyc2VGbG9hdChvLnRvcCkpKSYmKGM9MCksKGlzTmFOKGQpfHxpc05hTihwYXJzZUZsb2F0KG8uYm90dG9tKSkpJiYoZD11KSxzPXdjKHN8fDApLHt3aWR0aDpNYXRoLm1heChwLWgtc1sxXS1zWzNdLDApLGhlaWdodDpNYXRoLm1heChkLWMtc1swXS1zWzJdLDApfSksbT1lLnRvdGFsV2lkdGgsXz1lLnJlbmRlckxpc3QseD1fLmxlbmd0aC0xO3g+PTA7eC0tKXt2YXIgYj1fW3hdLHc9Yi5ub2RlLFM9Yi53aWR0aCxNPWIudGV4dDttPnYud2lkdGgmJihtLT1TLWcsUz1nLE09bnVsbCk7dmFyIEk9bmV3IHJ1KHtzaGFwZTp7cG9pbnRzOnBUKGYsMCxTLHkseD09PV8ubGVuZ3RoLTEsMD09PXgpfSxzdHlsZTpUKG4uZ2V0SXRlbVN0eWxlKCkse2xpbmVKb2luOiJiZXZlbCJ9KSx0ZXh0Q29udGVudDpuZXcgY3Moe3N0eWxlOnt0ZXh0Ok0sZmlsbDppLmdldFRleHRDb2xvcigpLGZvbnQ6aS5nZXRGb250KCl9fSksdGV4dENvbmZpZzp7cG9zaXRpb246Imluc2lkZSJ9LHoyOjFlNSxvbmNsaWNrOkIocix3KX0pO0kuZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwLHRoaXMuZ3JvdXAuYWRkKEkpLGRUKEksdCx3KSxmKz1TKzh9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0fSgpO2Z1bmN0aW9uIHBUKHQsZSxuLGkscixvKXt2YXIgYT1bW3I/dDp0LTUsZV0sW3QrbixlXSxbdCtuLGUraV0sW3I/dDp0LTUsZStpXV07cmV0dXJuIW8mJmEuc3BsaWNlKDIsMCxbdCtuKzUsZStpLzJdKSwhciYmYS5wdXNoKFt0LGUraS8yXSksYX1mdW5jdGlvbiBkVCh0LGUsbil7X3ModCkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJzZXJpZXMiLGNvbXBvbmVudFN1YlR5cGU6InRyZWVtYXAiLGNvbXBvbmVudEluZGV4OmUuY29tcG9uZW50SW5kZXgsc2VyaWVzSW5kZXg6ZS5jb21wb25lbnRJbmRleCxzZXJpZXNOYW1lOmUubmFtZSxzZXJpZXNUeXBlOiJ0cmVlbWFwIixzZWxmVHlwZToiYnJlYWRjcnVtYiIsbm9kZURhdGE6e2RhdGFJbmRleDpuJiZuLmRhdGFJbmRleCxuYW1lOm4mJm4ubmFtZX0sdHJlZVBhdGhJbmZvOm4mJmVUKG4sZSl9fXZhciBmVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdG9yYWdlPVtdLHRoaXMuX2VsRXhpc3RzTWFwPXt9fXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4hdGhpcy5fZWxFeGlzdHNNYXBbdC5pZF0mJih0aGlzLl9lbEV4aXN0c01hcFt0LmlkXT0hMCx0aGlzLl9zdG9yYWdlLnB1c2goe2VsOnQsdGFyZ2V0OmUsZHVyYXRpb246bixkZWxheTppLGVhc2luZzpyfSksITApfSx0LnByb3RvdHlwZS5maW5pc2hlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmluaXNoZWRDYWxsYmFjaz10LHRoaXN9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLl9zdG9yYWdlLmxlbmd0aCxuPWZ1bmN0aW9uKCl7LS1lPD0wJiYodC5fc3RvcmFnZS5sZW5ndGg9MCx0Ll9lbEV4aXN0c01hcD17fSx0Ll9maW5pc2hlZENhbGxiYWNrJiZ0Ll9maW5pc2hlZENhbGxiYWNrKCkpfSxpPTAscj10aGlzLl9zdG9yYWdlLmxlbmd0aDtpPHI7aSsrKXt2YXIgbz10aGlzLl9zdG9yYWdlW2ldO28uZWwuYW5pbWF0ZVRvKG8udGFyZ2V0LHtkdXJhdGlvbjpvLmR1cmF0aW9uLGRlbGF5Om8uZGVsYXksZWFzaW5nOm8uZWFzaW5nLHNldFRvRmluYWw6ITAsZG9uZTpuLGFib3J0ZWQ6bn0pfXJldHVybiB0aGlzfSx0fSgpO3ZhciBnVD1FaSx5VD1scyx2VD0ibGFiZWwiLG1UPSJ1cHBlckxhYmVsIixfVD0kcihbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsInN0cm9rZUNvbG9yIl0sWyJsaW5lV2lkdGgiLCJzdHJva2VXaWR0aCJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXV0pLHhUPWZ1bmN0aW9uKHQpe3ZhciBlPV9UKHQpO3JldHVybiBlLnN0cm9rZT1lLmZpbGw9ZS5saW5lV2lkdGg9bnVsbCxlfSxiVD1rcigpLHdUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fc3RhdGU9InJlYWR5IixuLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKCEoRChlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlbWFwIixxdWVyeTppfSksdCk8MCkpe3RoaXMuc2VyaWVzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZWNNb2RlbD1lO3ZhciByPUpJKGksWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sdCksbz1pJiZpLnR5cGUsYT10LmxheW91dEluZm8scz0hdGhpcy5fb2xkVHJlZSxsPXRoaXMuX3N0b3JhZ2UsdT0idHJlZW1hcFJvb3RUb05vZGUiPT09byYmciYmbD97cm9vdE5vZGVHcm91cDpsLm5vZGVHcm91cFtyLm5vZGUuZ2V0UmF3SW5kZXgoKV0sZGlyZWN0aW9uOmkuZGlyZWN0aW9ufTpudWxsLGg9dGhpcy5fZ2l2ZUNvbnRhaW5lckdyb3VwKGEpLGM9dGhpcy5fZG9SZW5kZXIoaCx0LHUpO3N8fG8mJiJ0cmVlbWFwWm9vbVRvTm9kZSIhPT1vJiYidHJlZW1hcFJvb3RUb05vZGUiIT09bz9jLnJlbmRlckZpbmFsbHkoKTp0aGlzLl9kb0FuaW1hdGlvbihoLGMsdCx1KSx0aGlzLl9yZXNldENvbnRyb2xsZXIobiksdGhpcy5fcmVuZGVyQnJlYWRjcnVtYih0LG4scil9fSxlLnByb3RvdHlwZS5fZ2l2ZUNvbnRhaW5lckdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRhaW5lckdyb3VwO3JldHVybiBlfHwoZT10aGlzLl9jb250YWluZXJHcm91cD1uZXcgZ1QsdGhpcy5faW5pdEV2ZW50cyhlKSx0aGlzLmdyb3VwLmFkZChlKSksZS54PXQueCxlLnk9dC55LGV9LGUucHJvdG90eXBlLl9kb1JlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXREYXRhKCkudHJlZSxyPXRoaXMuX29sZFRyZWUsbz17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0sYT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0scz10aGlzLl9zdG9yYWdlLGw9W107ZnVuY3Rpb24gdSh0LGkscix1KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSl7aWYoIWEpcmV0dXJuO3ZhciBoPWEuZ2V0TGF5b3V0KCksYz10LmdldERhdGEoKSxwPWEuZ2V0TW9kZWwoKTtpZihjLnNldEl0ZW1HcmFwaGljRWwoYS5kYXRhSW5kZXgsbnVsbCksIWh8fCFoLmlzSW5WaWV3KXJldHVybjt2YXIgZD1oLndpZHRoLGY9aC5oZWlnaHQsZz1oLmJvcmRlcldpZHRoLHk9aC5pbnZpc2libGUsdj1hLmdldFJhd0luZGV4KCksbT1zJiZzLmdldFJhd0luZGV4KCksXz1hLnZpZXdDaGlsZHJlbix4PWgudXBwZXJIZWlnaHQsYj1fJiZfLmxlbmd0aCx3PXAuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLFM9cC5nZXRNb2RlbChbImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0pLE09cC5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSksVD1wLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLEM9dy5nZXQoImJvcmRlclJhZGl1cyIpfHwwLEQ9Qigibm9kZUdyb3VwIixnVCk7aWYoIUQpcmV0dXJuO2lmKGwuYWRkKEQpLEQueD1oLnh8fDAsRC55PWgueXx8MCxELm1hcmtSZWRyYXcoKSxiVChEKS5ub2RlV2lkdGg9ZCxiVChEKS5ub2RlSGVpZ2h0PWYsaC5pc0Fib3ZlVmlld1Jvb3QpcmV0dXJuIEQ7dmFyIEE9QigiYmFja2dyb3VuZCIseVQsdSwyMCk7QSYmUihELEEsYiYmaC51cHBlckxhYmVsSGVpZ2h0KTt2YXIgTD1wLmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksaz1wLmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pLFA9ImFuY2VzdG9yIj09PUw/YS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6ImRlc2NlbmRhbnQiPT09TD9hLmdldERlc2NlbmRhbnRJbmRpY2VzKCk6TDtpZihiKWRsKEQpJiZwbChELCExKSxBJiYocGwoQSwhMCksYy5zZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4LEEpLGxsKEEsUCxrKSk7ZWxzZXt2YXIgTz1CKCJjb250ZW50Iix5VCx1LDMwKTtPJiZOKEQsTyksQSYmZGwoQSkmJnBsKEEsITEpLHBsKEQsITApLGMuc2V0SXRlbUdyYXBoaWNFbChhLmRhdGFJbmRleCxEKSxsbChELFAsayl9cmV0dXJuIEQ7ZnVuY3Rpb24gUihlLG4saSl7dmFyIHI9X3Mobik7aWYoci5kYXRhSW5kZXg9YS5kYXRhSW5kZXgsci5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LG4uc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6ZCxoZWlnaHQ6ZixyOkN9KSx5KXoobik7ZWxzZXtuLmludmlzaWJsZT0hMTt2YXIgbz1hLmdldFZpc3VhbCgic3R5bGUiKSxzPW8uc3Ryb2tlLGw9eFQodyk7bC5maWxsPXM7dmFyIHU9X1QoUyk7dS5maWxsPVMuZ2V0KCJib3JkZXJDb2xvciIpO3ZhciBoPV9UKE0pO2guZmlsbD1NLmdldCgiYm9yZGVyQ29sb3IiKTt2YXIgYz1fVChUKTtpZihjLmZpbGw9VC5nZXQoImJvcmRlckNvbG9yIiksaSl7dmFyIHA9ZC0yKmc7RShuLHMsby5vcGFjaXR5LHt4OmcseTowLHdpZHRoOnAsaGVpZ2h0Onh9KX1lbHNlIG4ucmVtb3ZlVGV4dENvbnRlbnQoKTtuLnNldFN0eWxlKGwpLG4uZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9dSxuLmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGU9aCxuLmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1jLFhzKG4pfWUuYWRkKG4pfWZ1bmN0aW9uIE4oZSxuKXt2YXIgaT1fcyhuKTtpLmRhdGFJbmRleD1hLmRhdGFJbmRleCxpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXg7dmFyIHI9TWF0aC5tYXgoZC0yKmcsMCksbz1NYXRoLm1heChmLTIqZywwKTtpZihuLmN1bGxpbmc9ITAsbi5zZXRTaGFwZSh7eDpnLHk6Zyx3aWR0aDpyLGhlaWdodDpvLHI6Q30pLHkpeihuKTtlbHNle24uaW52aXNpYmxlPSExO3ZhciBzPWEuZ2V0VmlzdWFsKCJzdHlsZSIpLGw9cy5maWxsLHU9eFQodyk7dS5maWxsPWwsdS5kZWNhbD1zLmRlY2FsO3ZhciBoPV9UKFMpLGM9X1QoTSkscD1fVChUKTtFKG4sbCxzLm9wYWNpdHksbnVsbCksbi5zZXRTdHlsZSh1KSxuLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPWgsbi5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWMsbi5lbnN1cmVTdGF0ZSgic2VsZWN0Iikuc3R5bGU9cCxYcyhuKX1lLmFkZChuKX1mdW5jdGlvbiB6KHQpeyF0LmludmlzaWJsZSYmby5wdXNoKHQpfWZ1bmN0aW9uIEUoZSxuLGkscil7dmFyIG89cC5nZXRNb2RlbChyP21UOnZUKSxzPUNyKHAuZ2V0KCJuYW1lIiksbnVsbCksbD1vLmdldFNoYWxsb3coInNob3ciKTtoaChlLGNoKHAscj9tVDp2VCkse2RlZmF1bHRUZXh0Omw/czpudWxsLGluaGVyaXRDb2xvcjpuLGRlZmF1bHRPcGFjaXR5OmksbGFiZWxGZXRjaGVyOnQsbGFiZWxEYXRhSW5kZXg6YS5kYXRhSW5kZXh9KTt2YXIgdT1lLmdldFRleHRDb250ZW50KCksYz11LnN0eWxlLGQ9aXQoYy5wYWRkaW5nfHwwKTtyJiYoZS5zZXRUZXh0Q29uZmlnKHtsYXlvdXRSZWN0OnJ9KSx1LmRpc2FibGVMYWJlbExheW91dD0hMCksdS5iZWZvcmVVcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLm1heCgocj9yLndpZHRoOmUuc2hhcGUud2lkdGgpLWRbMV0tZFszXSwwKSxuPU1hdGgubWF4KChyP3IuaGVpZ2h0OmUuc2hhcGUuaGVpZ2h0KS1kWzBdLWRbMl0sMCk7Yy53aWR0aD09PXQmJmMuaGVpZ2h0PT09bnx8dS5zZXRTdHlsZSh7d2lkdGg6dCxoZWlnaHQ6bn0pfSxjLnRydW5jYXRlTWluQ2hhcj0yLGMubGluZU92ZXJmbG93PSJ0cnVuY2F0ZSIsVihjLHIsaCk7dmFyIGY9dS5nZXRTdGF0ZSgiZW1waGFzaXMiKTtWKGY/Zi5zdHlsZTpudWxsLHIsaCl9ZnVuY3Rpb24gVihlLG4saSl7dmFyIHI9ZT9lLnRleHQ6bnVsbDtpZighbiYmaS5pc0xlYWZSb290JiZudWxsIT1yKXt2YXIgbz10LmdldCgiZHJpbGxEb3duSWNvbiIsITApO2UudGV4dD1vP28rIiAiK3I6cn19ZnVuY3Rpb24gQih0LGksbyxhKXt2YXIgcz1udWxsIT1tJiZuW3RdW21dLGw9clt0XTtyZXR1cm4gcz8oblt0XVttXT1udWxsLEYobCxzKSk6eXx8KChzPW5ldyBpKWluc3RhbmNlb2YgU28mJihzLnoyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDEwMCp0K2V9KG8sYSkpLEcobCxzKSksZVt0XVt2XT1zfWZ1bmN0aW9uIEYodCxlKXt2YXIgbj10W3ZdPXt9O2UgaW5zdGFuY2VvZiBnVD8obi5vbGRYPWUueCxuLm9sZFk9ZS55KTpuLm9sZFNoYXBlPUkoe30sZS5zaGFwZSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBuPXRbdl09e30sbz1hLnBhcmVudE5vZGUscz1lIGluc3RhbmNlb2YgRWk7aWYobyYmKCFpfHwiZHJpbGxEb3duIj09PWkuZGlyZWN0aW9uKSl7dmFyIGw9MCx1PTAsaD1yLmJhY2tncm91bmRbby5nZXRSYXdJbmRleCgpXTshaSYmaCYmaC5vbGRTaGFwZSYmKGw9aC5vbGRTaGFwZS53aWR0aCx1PWgub2xkU2hhcGUuaGVpZ2h0KSxzPyhuLm9sZFg9MCxuLm9sZFk9dSk6bi5vbGRTaGFwZT17eDpsLHk6dSx3aWR0aDowLGhlaWdodDowfX1uLmZhZGVpbj0hc319KGUsYSxzLG4sbyxsLHQsaSxyLHUpfSFmdW5jdGlvbiB0KGUsbixpLHIsbyl7cj8obj1lLFAoZSwoZnVuY3Rpb24odCxlKXshdC5pc1JlbW92ZWQoKSYmcyhlLGUpfSkpKTpuZXcgbl8obixlLGEsYSkuYWRkKHMpLnVwZGF0ZShzKS5yZW1vdmUoQihzLG51bGwpKS5leGVjdXRlKCk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5nZXRJZCgpfWZ1bmN0aW9uIHMoYSxzKXt2YXIgbD1udWxsIT1hP2VbYV06bnVsbCxoPW51bGwhPXM/bltzXTpudWxsLGM9dShsLGgsaSxvKTtjJiZ0KGwmJmwudmlld0NoaWxkcmVufHxbXSxoJiZoLnZpZXdDaGlsZHJlbnx8W10sYyxyLG8rMSl9fShpLnJvb3Q/W2kucm9vdF06W10sciYmci5yb290P1tyLnJvb3RdOltdLHQsaT09PXJ8fCFyLDApO3ZhciBoPWZ1bmN0aW9uKHQpe3ZhciBlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfTtyZXR1cm4gdCYmUCh0LChmdW5jdGlvbih0LG4pe3ZhciBpPWVbbl07UCh0LChmdW5jdGlvbih0KXt0JiYoaS5wdXNoKHQpLGJUKHQpLndpbGxEZWxldGU9ITApfSkpfSkpLGV9KHMpO3JldHVybiB0aGlzLl9vbGRUcmVlPWksdGhpcy5fc3RvcmFnZT1hLHtsYXN0c0ZvckFuaW1hdGlvbjpvLHdpbGxEZWxldGVFbHM6aCxyZW5kZXJGaW5hbGx5OmZ1bmN0aW9uKCl7UChoLChmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCl9KSl9KSksUChsLChmdW5jdGlvbih0KXt0LmludmlzaWJsZT0hMCx0LmRpcnR5KCl9KSl9fX0sZS5wcm90b3R5cGUuX2RvQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKG4uZ2V0KCJhbmltYXRpb24iKSl7dmFyIHI9bi5nZXQoImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiksbz1uLmdldCgiYW5pbWF0aW9uRWFzaW5nIiksYT0oRyhyKT8wOnIpfHwwLHM9KEcobyk/bnVsbDpvKXx8ImN1YmljT3V0IixsPW5ldyBmVDtQKGUud2lsbERlbGV0ZUVscywoZnVuY3Rpb24odCxlKXtQKHQsKGZ1bmN0aW9uKHQsbil7aWYoIXQuaW52aXNpYmxlKXt2YXIgcixvPXQucGFyZW50LHU9YlQobyk7aWYoaSYmImRyaWxsRG93biI9PT1pLmRpcmVjdGlvbilyPW89PT1pLnJvb3ROb2RlR3JvdXA/e3NoYXBlOnt4OjAseTowLHdpZHRoOnUubm9kZVdpZHRoLGhlaWdodDp1Lm5vZGVIZWlnaHR9LHN0eWxlOntvcGFjaXR5OjB9fTp7c3R5bGU6e29wYWNpdHk6MH19O2Vsc2V7dmFyIGg9MCxjPTA7dS53aWxsRGVsZXRlfHwoaD11Lm5vZGVXaWR0aC8yLGM9dS5ub2RlSGVpZ2h0LzIpLHI9Im5vZGVHcm91cCI9PT1lP3t4OmgseTpjLHN0eWxlOntvcGFjaXR5OjB9fTp7c2hhcGU6e3g6aCx5OmMsd2lkdGg6MCxoZWlnaHQ6MH0sc3R5bGU6e29wYWNpdHk6MH19fXImJmwuYWRkKHQscixhLDAscyl9fSkpfSkpLFAodGhpcy5fc3RvcmFnZSwoZnVuY3Rpb24odCxuKXtQKHQsKGZ1bmN0aW9uKHQsaSl7dmFyIHI9ZS5sYXN0c0ZvckFuaW1hdGlvbltuXVtpXSxvPXt9O3ImJih0IGluc3RhbmNlb2YgRWk/bnVsbCE9ci5vbGRYJiYoby54PXQueCxvLnk9dC55LHQueD1yLm9sZFgsdC55PXIub2xkWSk6KHIub2xkU2hhcGUmJihvLnNoYXBlPUkoe30sdC5zaGFwZSksdC5zZXRTaGFwZShyLm9sZFNoYXBlKSksci5mYWRlaW4/KHQuc2V0U3R5bGUoIm9wYWNpdHkiLDApLG8uc3R5bGU9e29wYWNpdHk6MX0pOjEhPT10LnN0eWxlLm9wYWNpdHkmJihvLnN0eWxlPXtvcGFjaXR5OjF9KSksbC5hZGQodCxvLGEsMCxzKSl9KSl9KSx0aGlzKSx0aGlzLl9zdGF0ZT0iYW5pbWF0aW5nIixsLmZpbmlzaGVkKFYoKGZ1bmN0aW9uKCl7dGhpcy5fc3RhdGU9InJlYWR5IixlLnJlbmRlckZpbmFsbHkoKX0pLHRoaXMpKS5zdGFydCgpfX0sZS5wcm90b3R5cGUuX3Jlc2V0Q29udHJvbGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250cm9sbGVyO2V8fCgoZT10aGlzLl9jb250cm9sbGVyPW5ldyBXTSh0LmdldFpyKCkpKS5lbmFibGUodGhpcy5zZXJpZXNNb2RlbC5nZXQoInJvYW0iKSksZS5vbigicGFuIixWKHRoaXMuX29uUGFuLHRoaXMpKSxlLm9uKCJ6b29tIixWKHRoaXMuX29uWm9vbSx0aGlzKSkpO3ZhciBuPW5ldyBnaSgwLDAsdC5nZXRXaWR0aCgpLHQuZ2V0SGVpZ2h0KCkpO2Uuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5jb250YWluKGUsaSl9KSl9LGUucHJvdG90eXBlLl9jbGVhckNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250cm9sbGVyO3QmJih0LmRpc3Bvc2UoKSx0PW51bGwpfSxlLnByb3RvdHlwZS5fb25QYW49ZnVuY3Rpb24odCl7aWYoImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSYmKE1hdGguYWJzKHQuZHgpPjN8fE1hdGguYWJzKHQuZHkpPjMpKXt2YXIgZT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWUpcmV0dXJuO3ZhciBuPWUuZ2V0TGF5b3V0KCk7aWYoIW4pcmV0dXJuO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwTW92ZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om4ueCt0LmR4LHk6bi55K3QuZHksd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHR9fSl9fSxlLnByb3RvdHlwZS5fb25ab29tPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JpZ2luWCxuPXQub3JpZ2luWTtpZigiYW5pbWF0aW5nIiE9PXRoaXMuX3N0YXRlKXt2YXIgaT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWkpcmV0dXJuO3ZhciByPWkuZ2V0TGF5b3V0KCk7aWYoIXIpcmV0dXJuO3ZhciBvPW5ldyBnaShyLngsci55LHIud2lkdGgsci5oZWlnaHQpLGE9dGhpcy5zZXJpZXNNb2RlbC5sYXlvdXRJbmZvLHM9WzEsMCwwLDEsMCwwXTtVbihzLHMsWy0oZS09YS54KSwtKG4tPWEueSldKSxZbihzLHMsW3Quc2NhbGUsdC5zY2FsZV0pLFVuKHMscyxbZSxuXSksby5hcHBseVRyYW5zZm9ybShzKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJlbmRlciIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KX19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5vbigiY2xpY2siLChmdW5jdGlvbih0KXtpZigicmVhZHkiPT09ZS5fc3RhdGUpe3ZhciBuPWUuc2VyaWVzTW9kZWwuZ2V0KCJub2RlQ2xpY2siLCEwKTtpZihuKXt2YXIgaT1lLmZpbmRUYXJnZXQodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoaSl7dmFyIHI9aS5ub2RlO2lmKHIuZ2V0TGF5b3V0KCkuaXNMZWFmUm9vdCllLl9yb290VG9Ob2RlKGkpO2Vsc2UgaWYoInpvb21Ub05vZGUiPT09billLl96b29tVG9Ob2RlKGkpO2Vsc2UgaWYoImxpbmsiPT09bil7dmFyIG89ci5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbChyLmRhdGFJbmRleCksYT1vLmdldCgibGluayIsITApLHM9by5nZXQoInRhcmdldCIsITApfHwiYmxhbmsiO2EmJlBjKGEscyl9fX19fSksdGhpcyl9LGUucHJvdG90eXBlLl9yZW5kZXJCcmVhZGNydW1iPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO258fChuPW51bGwhPXQuZ2V0KCJsZWFmRGVwdGgiLCEwKT97bm9kZTp0LmdldFZpZXdSb290KCl9OnRoaXMuZmluZFRhcmdldChlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpKXx8KG49e25vZGU6dC5nZXREYXRhKCkudHJlZS5yb290fSksKHRoaXMuX2JyZWFkY3J1bWJ8fCh0aGlzLl9icmVhZGNydW1iPW5ldyBjVCh0aGlzLmdyb3VwKSkpLnJlbmRlcih0LGUsbi5ub2RlLChmdW5jdGlvbihlKXsiYW5pbWF0aW5nIiE9PWkuX3N0YXRlJiYodFQodC5nZXRWaWV3Um9vdCgpLGUpP2kuX3Jvb3RUb05vZGUoe25vZGU6ZX0pOmkuX3pvb21Ub05vZGUoe25vZGU6ZX0pKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJDb250cm9sbGVyKCksdGhpcy5fY29udGFpbmVyR3JvdXAmJnRoaXMuX2NvbnRhaW5lckdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHRoaXMuX3N0YXRlPSJyZWFkeSIsdGhpcy5fYnJlYWRjcnVtYiYmdGhpcy5fYnJlYWRjcnVtYi5yZW1vdmUoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29udHJvbGxlcigpfSxlLnByb3RvdHlwZS5fem9vbVRvTm9kZT1mdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFpvb21Ub05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxlLnByb3RvdHlwZS5fcm9vdFRvTm9kZT1mdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJvb3RUb05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZSh7YXR0cjoidmlld0NoaWxkcmVuIixvcmRlcjoicHJlb3JkZXIifSwoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fc3RvcmFnZS5iYWNrZ3JvdW5kW2kuZ2V0UmF3SW5kZXgoKV07aWYocil7dmFyIG89ci50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxhPXIuc2hhcGU7aWYoIShhLng8PW9bMF0mJm9bMF08PWEueCthLndpZHRoJiZhLnk8PW9bMV0mJm9bMV08PWEueSthLmhlaWdodCkpcmV0dXJuITE7bj17bm9kZTppLG9mZnNldFg6b1swXSxvZmZzZXRZOm9bMV19fX0pLHRoaXMpLG59LGUudHlwZT0idHJlZW1hcCIsZX0oVGYpO3ZhciBTVD1QLE1UPVgsSVQ9LTEsVFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUubWFwcGluZ01ldGhvZCxpPWUudHlwZSxyPXRoaXMub3B0aW9uPXcoZSk7dGhpcy50eXBlPWksdGhpcy5tYXBwaW5nTWV0aG9kPW4sdGhpcy5fbm9ybWFsaXplRGF0YT16VFtuXTt2YXIgbz10LnZpc3VhbEhhbmRsZXJzW2ldO3RoaXMuYXBwbHlWaXN1YWw9by5hcHBseVZpc3VhbCx0aGlzLmdldENvbG9yTWFwcGVyPW8uZ2V0Q29sb3JNYXBwZXIsdGhpcy5fbm9ybWFsaXplZFRvVmlzdWFsPW8uX25vcm1hbGl6ZWRUb1Zpc3VhbFtuXSwicGllY2V3aXNlIj09PW4/KENUKHIpLGZ1bmN0aW9uKHQpe3ZhciBlPXQucGllY2VMaXN0O3QuaGFzU3BlY2lhbFZpc3VhbD0hMSxQKGUsKGZ1bmN0aW9uKGUsbil7ZS5vcmlnaW5JbmRleD1uLG51bGwhPWUudmlzdWFsJiYodC5oYXNTcGVjaWFsVmlzdWFsPSEwKX0pKX0ocikpOiJjYXRlZ29yeSI9PT1uP3IuY2F0ZWdvcmllcz9mdW5jdGlvbih0KXt2YXIgZT10LmNhdGVnb3JpZXMsbj10LmNhdGVnb3J5TWFwPXt9LGk9dC52aXN1YWw7aWYoU1QoZSwoZnVuY3Rpb24odCxlKXtuW3RdPWV9KSksIUYoaSkpe3ZhciByPVtdO1goaSk/U1QoaSwoZnVuY3Rpb24odCxlKXt2YXIgaT1uW2VdO3JbbnVsbCE9aT9pOklUXT10fSkpOnJbLTFdPWksaT1OVCh0LHIpfWZvcih2YXIgbz1lLmxlbmd0aC0xO28+PTA7by0tKW51bGw9PWlbb10mJihkZWxldGUgbltlW29dXSxlLnBvcCgpKX0ocik6Q1QociwhMCk6KHJ0KCJsaW5lYXIiIT09bnx8ci5kYXRhRXh0ZW50KSxDVChyKSl9cmV0dXJuIHQucHJvdG90eXBlLm1hcFZhbHVlVG9WaXN1YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbm9ybWFsaXplRGF0YSh0KTtyZXR1cm4gdGhpcy5fbm9ybWFsaXplZFRvVmlzdWFsKGUsdCl9LHQucHJvdG90eXBlLmdldE5vcm1hbGl6ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gVih0aGlzLl9ub3JtYWxpemVEYXRhLHRoaXMpfSx0Lmxpc3RWaXN1YWxUeXBlcz1mdW5jdGlvbigpe3JldHVybiBFKHQudmlzdWFsSGFuZGxlcnMpfSx0LmlzVmFsaWRUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0LnZpc3VhbEhhbmRsZXJzLmhhc093blByb3BlcnR5KGUpfSx0LmVhY2hWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe1godCk/UCh0LGUsbik6ZS5jYWxsKG4sdCl9LHQubWFwVmlzdWFsPWZ1bmN0aW9uKGUsbixpKXt2YXIgcixvPUYoZSk/W106WChlKT97fToocj0hMCxudWxsKTtyZXR1cm4gdC5lYWNoVmlzdWFsKGUsKGZ1bmN0aW9uKHQsZSl7dmFyIGE9bi5jYWxsKGksdCxlKTtyP289YTpvW2VdPWF9KSksb30sdC5yZXRyaWV2ZVZpc3VhbHM9ZnVuY3Rpb24oZSl7dmFyIG4saT17fTtyZXR1cm4gZSYmU1QodC52aXN1YWxIYW5kbGVycywoZnVuY3Rpb24odCxyKXtlLmhhc093blByb3BlcnR5KHIpJiYoaVtyXT1lW3JdLG49ITApfSkpLG4/aTpudWxsfSx0LnByZXBhcmVWaXN1YWxUeXBlcz1mdW5jdGlvbih0KXtpZihGKHQpKXQ9dC5zbGljZSgpO2Vsc2V7aWYoIU1UKHQpKXJldHVybltdO3ZhciBlPVtdO1NUKHQsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSkpLHQ9ZX1yZXR1cm4gdC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiJjb2xvciI9PT1lJiYiY29sb3IiIT09dCYmMD09PXQuaW5kZXhPZigiY29sb3IiKT8xOi0xfSkpLHR9LHQuZGVwZW5kc09uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuImNvbG9yIj09PWU/ISghdHx8MCE9PXQuaW5kZXhPZihlKSk6dD09PWV9LHQuZmluZFBpZWNlSW5kZXg9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyPTEvMCxvPTAsYT1lLmxlbmd0aDtvPGE7bysrKXt2YXIgcz1lW29dLnZhbHVlO2lmKG51bGwhPXMpe2lmKHM9PT10fHwic3RyaW5nIj09dHlwZW9mIHMmJnM9PT10KyIiKXJldHVybiBvO24mJmMocyxvKX19Zm9yKG89MCxhPWUubGVuZ3RoO288YTtvKyspe3ZhciBsPWVbb10sdT1sLmludGVydmFsLGg9bC5jbG9zZTtpZih1KXtpZih1WzBdPT09LTEvMCl7aWYoRVQoaFsxXSx0LHVbMV0pKXJldHVybiBvfWVsc2UgaWYodVsxXT09PTEvMCl7aWYoRVQoaFswXSx1WzBdLHQpKXJldHVybiBvfWVsc2UgaWYoRVQoaFswXSx1WzBdLHQpJiZFVChoWzFdLHQsdVsxXSkpcmV0dXJuIG87biYmYyh1WzBdLG8pLG4mJmModVsxXSxvKX19aWYobilyZXR1cm4gdD09PTEvMD9lLmxlbmd0aC0xOnQ9PT0tMS8wPzA6aTtmdW5jdGlvbiBjKGUsbil7dmFyIG89TWF0aC5hYnMoZS10KTtvPHImJihyPW8saT1uKX19LHQudmlzdWFsSGFuZGxlcnM9e2NvbG9yOnthcHBseVZpc3VhbDpMVCgiY29sb3IiKSxnZXRDb2xvck1hcHBlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO3JldHVybiBWKCJjYXRlZ29yeSI9PT10Lm1hcHBpbmdNZXRob2Q/ZnVuY3Rpb24odCxlKXtyZXR1cm4hZSYmKHQ9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSksa1QuY2FsbCh0aGlzLHQpfTpmdW5jdGlvbihlLG4saSl7dmFyIHI9ISFpO3JldHVybiFuJiYoZT10aGlzLl9ub3JtYWxpemVEYXRhKGUpKSxpPVllKGUsdC5wYXJzZWRWaXN1YWwsaSkscj9pOkplKGksInJnYmEiKX0sdGhpcyl9LF9ub3JtYWxpemVkVG9WaXN1YWw6e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gSmUoWWUodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIil9LGNhdGVnb3J5OmtULHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBuPVJULmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09biYmKG49SmUoWWUodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIikpLG59LGZpeGVkOlBUfX0sY29sb3JIdWU6RFQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEtlKHQsZSl9KSksY29sb3JTYXR1cmF0aW9uOkRUKChmdW5jdGlvbih0LGUpe3JldHVybiBLZSh0LG51bGwsZSl9KSksY29sb3JMaWdodG5lc3M6RFQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEtlKHQsbnVsbCxudWxsLGUpfSkpLGNvbG9yQWxwaGE6RFQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuICRlKHQsZSl9KSksZGVjYWw6e2FwcGx5VmlzdWFsOkxUKCJkZWNhbCIpLF9ub3JtYWxpemVkVG9WaXN1YWw6e2xpbmVhcjpudWxsLGNhdGVnb3J5OmtULHBpZWNld2lzZTpudWxsLGZpeGVkOm51bGx9fSxvcGFjaXR5OnthcHBseVZpc3VhbDpMVCgib3BhY2l0eSIpLF9ub3JtYWxpemVkVG9WaXN1YWw6T1QoWzAsMV0pfSxsaWZ0Wjp7YXBwbHlWaXN1YWw6TFQoImxpZnRaIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOlBULGNhdGVnb3J5OlBULHBpZWNld2lzZTpQVCxmaXhlZDpQVH19LHN5bWJvbDp7YXBwbHlWaXN1YWw6ZnVuY3Rpb24odCxlLG4pe24oInN5bWJvbCIsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKHQpKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOkFULGNhdGVnb3J5OmtULHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBuPVJULmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09biYmKG49QVQuY2FsbCh0aGlzLHQpKSxufSxmaXhlZDpQVH19LHN5bWJvbFNpemU6e2FwcGx5VmlzdWFsOkxUKCJzeW1ib2xTaXplIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDpPVChbMCwxXSl9fSx0fSgpO2Z1bmN0aW9uIENUKHQsZSl7dmFyIG49dC52aXN1YWwsaT1bXTtYKG4pP1NUKG4sKGZ1bmN0aW9uKHQpe2kucHVzaCh0KX0pKTpudWxsIT1uJiZpLnB1c2gobik7ZXx8MSE9PWkubGVuZ3RofHx7Y29sb3I6MSxzeW1ib2w6MX0uaGFzT3duUHJvcGVydHkodC50eXBlKXx8KGlbMV09aVswXSksTlQodCxpKX1mdW5jdGlvbiBEVCh0KXtyZXR1cm57YXBwbHlWaXN1YWw6ZnVuY3Rpb24oZSxuLGkpe3ZhciByPXRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKTtpKCJjb2xvciIsdChuKCJjb2xvciIpLHIpKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDpPVChbMCwxXSl9fWZ1bmN0aW9uIEFUKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVtNYXRoLnJvdW5kKFlpKHQsWzAsMV0sWzAsZS5sZW5ndGgtMV0sITApKV18fHt9fWZ1bmN0aW9uIExUKHQpe3JldHVybiBmdW5jdGlvbihlLG4saSl7aSh0LHRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKSl9fWZ1bmN0aW9uIGtUKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVt0aGlzLm9wdGlvbi5sb29wJiZ0IT09SVQ/dCVlLmxlbmd0aDp0XX1mdW5jdGlvbiBQVCgpe3JldHVybiB0aGlzLm9wdGlvbi52aXN1YWxbMF19ZnVuY3Rpb24gT1QodCl7cmV0dXJue2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gWWkoZSx0LHRoaXMub3B0aW9uLnZpc3VhbCwhMCl9LGNhdGVnb3J5OmtULHBpZWNld2lzZTpmdW5jdGlvbihlLG4pe3ZhciBpPVJULmNhbGwodGhpcyxuKTtyZXR1cm4gbnVsbD09aSYmKGk9WWkoZSx0LHRoaXMub3B0aW9uLnZpc3VhbCwhMCkpLGl9LGZpeGVkOlBUfX1mdW5jdGlvbiBSVCh0KXt2YXIgZT10aGlzLm9wdGlvbixuPWUucGllY2VMaXN0O2lmKGUuaGFzU3BlY2lhbFZpc3VhbCl7dmFyIGk9bltUVC5maW5kUGllY2VJbmRleCh0LG4pXTtpZihpJiZpLnZpc3VhbClyZXR1cm4gaS52aXN1YWxbdGhpcy50eXBlXX19ZnVuY3Rpb24gTlQodCxlKXtyZXR1cm4gdC52aXN1YWw9ZSwiY29sb3IiPT09dC50eXBlJiYodC5wYXJzZWRWaXN1YWw9TyhlLChmdW5jdGlvbih0KXtyZXR1cm4gSGUodCl9KSkpLGV9dmFyIHpUPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIFlpKHQsdGhpcy5vcHRpb24uZGF0YUV4dGVudCxbMCwxXSwhMCl9LHBpZWNld2lzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5waWVjZUxpc3Qsbj1UVC5maW5kUGllY2VJbmRleCh0LGUsITApO2lmKG51bGwhPW4pcmV0dXJuIFlpKG4sWzAsZS5sZW5ndGgtMV0sWzAsMV0sITApfSxjYXRlZ29yeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5jYXRlZ29yaWVzP3RoaXMub3B0aW9uLmNhdGVnb3J5TWFwW3RdOnQ7cmV0dXJuIG51bGw9PWU/SVQ6ZX0sZml4ZWQ6ZnR9O2Z1bmN0aW9uIEVUKHQsZSxuKXtyZXR1cm4gdD9lPD1uOmU8bn12YXIgVlQ9a3IoKSxCVD17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZS5yb290O2UuaXNSZW1vdmVkKCl8fEZUKGUse30sdC5nZXRWaWV3Um9vdCgpLmdldEFuY2VzdG9ycygpLHQpfX07ZnVuY3Rpb24gRlQodCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgpLG89dC5nZXRMYXlvdXQoKSxhPXQuaG9zdFRyZWUuZGF0YTtpZihvJiYhby5pbnZpc2libGUmJm8uaXNJblZpZXcpe3ZhciBzLGw9ci5nZXRNb2RlbCgiaXRlbVN0eWxlIiksdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9SSh7fSxlKSxyPW4uZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZTtyZXR1cm4gUChbImNvbG9yIiwiY29sb3JBbHBoYSIsImNvbG9yU2F0dXJhdGlvbiJdLChmdW5jdGlvbihuKXtyW25dPWVbbl07dmFyIG89dC5nZXQobik7cltuXT1udWxsLG51bGwhPW8mJihpW25dPW8pfSkpLGl9KGwsZSxpKSxoPWEuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LmRhdGFJbmRleCwic3R5bGUiKSxjPWwuZ2V0KCJib3JkZXJDb2xvciIpLHA9bC5nZXQoImJvcmRlckNvbG9yU2F0dXJhdGlvbiIpO251bGwhPXAmJihjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWU/S2UoZSxudWxsLG51bGwsdCk6bnVsbH0ocCxzPUdUKHUpKSksaC5zdHJva2U9Yzt2YXIgZD10LnZpZXdDaGlsZHJlbjtpZihkJiZkLmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKCFvfHwhby5sZW5ndGgpcmV0dXJuO3ZhciBhPVdUKGUsImNvbG9yIil8fG51bGwhPXIuY29sb3ImJiJub25lIiE9PXIuY29sb3ImJihXVChlLCJjb2xvckFscGhhIil8fFdUKGUsImNvbG9yU2F0dXJhdGlvbiIpKTtpZighYSlyZXR1cm47dmFyIHM9ZS5nZXQoInZpc3VhbE1pbiIpLGw9ZS5nZXQoInZpc3VhbE1heCIpLHU9bi5kYXRhRXh0ZW50LnNsaWNlKCk7bnVsbCE9cyYmczx1WzBdJiYodVswXT1zKSxudWxsIT1sJiZsPnVbMV0mJih1WzFdPWwpO3ZhciBoPWUuZ2V0KCJjb2xvck1hcHBpbmdCeSIpLGM9e3R5cGU6YS5uYW1lLGRhdGFFeHRlbnQ6dSx2aXN1YWw6YS5yYW5nZX07ImNvbG9yIiE9PWMudHlwZXx8ImluZGV4IiE9PWgmJiJpZCIhPT1oP2MubWFwcGluZ01ldGhvZD0ibGluZWFyIjooYy5tYXBwaW5nTWV0aG9kPSJjYXRlZ29yeSIsYy5sb29wPSEwKTt2YXIgcD1uZXcgVFQoYyk7cmV0dXJuIFZUKHApLmRyQ29sb3JNYXBwaW5nQnk9aCxwfSgwLHIsbywwLHUsZCk7UChkLChmdW5jdGlvbih0LGUpe2lmKHQuZGVwdGg+PW4ubGVuZ3RofHx0PT09blt0LmRlcHRoXSl7dmFyIG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPUkoe30sZSk7aWYocil7dmFyIHM9ci50eXBlLGw9ImNvbG9yIj09PXMmJlZUKHIpLmRyQ29sb3JNYXBwaW5nQnksdT0iaW5kZXgiPT09bD9pOiJpZCI9PT1sP28ubWFwSWRUb0luZGV4KG4uZ2V0SWQoKSk6bi5nZXRWYWx1ZSh0LmdldCgidmlzdWFsRGltZW5zaW9uIikpO2Fbc109ci5tYXBWYWx1ZVRvVmlzdWFsKHUpfXJldHVybiBhfShyLHUsdCxlLGYsaSk7RlQodCxvLG4saSl9fSkpfWVsc2Ugcz1HVCh1KSxoLmZpbGw9c319ZnVuY3Rpb24gR1QodCl7dmFyIGU9SFQodCwiY29sb3IiKTtpZihlKXt2YXIgbj1IVCh0LCJjb2xvckFscGhhIiksaT1IVCh0LCJjb2xvclNhdHVyYXRpb24iKTtyZXR1cm4gaSYmKGU9S2UoZSxudWxsLG51bGwsaSkpLG4mJihlPSRlKGUsbikpLGV9fWZ1bmN0aW9uIEhUKHQsZSl7dmFyIG49dFtlXTtpZihudWxsIT1uJiYibm9uZSIhPT1uKXJldHVybiBufWZ1bmN0aW9uIFdUKHQsZSl7dmFyIG49dC5nZXQoZSk7cmV0dXJuIEYobikmJm4ubGVuZ3RoP3tuYW1lOmUscmFuZ2U6bn06bnVsbH12YXIgVVQ9TWF0aC5tYXgsWFQ9TWF0aC5taW4sWVQ9USxaVD1QLGpUPVsiaXRlbVN0eWxlIiwiYm9yZGVyV2lkdGgiXSxxVD1bIml0ZW1TdHlsZSIsImdhcFdpZHRoIl0sS1Q9WyJ1cHBlckxhYmVsIiwic2hvdyJdLCRUPVsidXBwZXJMYWJlbCIsImhlaWdodCJdLEpUPXtzZXJpZXNUeXBlOiJ0cmVlbWFwIixyZXNldDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmdldFdpZHRoKCksbz1uLmdldEhlaWdodCgpLGE9dC5vcHRpb24scz1WYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KSxsPWEuc2l6ZXx8W10sdT1aaShZVChzLndpZHRoLGxbMF0pLHIpLGg9WmkoWVQocy5oZWlnaHQsbFsxXSksbyksYz1pJiZpLnR5cGUscD1KSShpLFsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUm9vdFRvTm9kZSJdLHQpLGQ9InRyZWVtYXBSZW5kZXIiPT09Y3x8InRyZWVtYXBNb3ZlIj09PWM/aS5yb290UmVjdDpudWxsLGY9dC5nZXRWaWV3Um9vdCgpLGc9UUkoZik7aWYoInRyZWVtYXBNb3ZlIiE9PWMpe3ZhciB5PSJ0cmVlbWFwWm9vbVRvTm9kZSI9PT1jP2Z1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYT0oZXx8e30pLm5vZGUscz1baSxyXTtpZighYXx8YT09PW4pcmV0dXJuIHM7dmFyIGw9aSpyLHU9bCp0Lm9wdGlvbi56b29tVG9Ob2RlUmF0aW87Zm9yKDtvPWEucGFyZW50Tm9kZTspe2Zvcih2YXIgaD0wLGM9by5jaGlsZHJlbixwPTAsZD1jLmxlbmd0aDtwPGQ7cCsrKWgrPWNbcF0uZ2V0VmFsdWUoKTt2YXIgZj1hLmdldFZhbHVlKCk7aWYoMD09PWYpcmV0dXJuIHM7dSo9aC9mO3ZhciBnPW8uZ2V0TW9kZWwoKSx5PWcuZ2V0KGpUKTsodSs9NCp5KnkrKDMqeStNYXRoLm1heCh5LGlDKGcpKSkqTWF0aC5wb3codSwuNSkpPmVyJiYodT1lciksYT1vfXU8bCYmKHU9bCk7dmFyIHY9TWF0aC5wb3codS9sLC41KTtyZXR1cm5baSp2LHIqdl19KHQscCxmLHUsaCk6ZD9bZC53aWR0aCxkLmhlaWdodF06W3UsaF0sdj1hLnNvcnQ7diYmImFzYyIhPT12JiYiZGVzYyIhPT12JiYodj0iZGVzYyIpO3ZhciBtPXtzcXVhcmVSYXRpbzphLnNxdWFyZVJhdGlvLHNvcnQ6dixsZWFmRGVwdGg6YS5sZWFmRGVwdGh9O2YuaG9zdFRyZWUuY2xlYXJMYXlvdXRzKCk7dmFyIF89e3g6MCx5OjAsd2lkdGg6eVswXSxoZWlnaHQ6eVsxXSxhcmVhOnlbMF0qeVsxXX07Zi5zZXRMYXlvdXQoXyksUVQoZixtLCExLDApLF89Zi5nZXRMYXlvdXQoKSxaVChnLChmdW5jdGlvbih0LGUpe3ZhciBuPShnW2UrMV18fGYpLmdldFZhbHVlKCk7dC5zZXRMYXlvdXQoSSh7ZGF0YUV4dGVudDpbbixuXSxib3JkZXJXaWR0aDowLHVwcGVySGVpZ2h0OjB9LF8pKX0pKX12YXIgeD10LmdldERhdGEoKS50cmVlLnJvb3Q7eC5zZXRMYXlvdXQoZnVuY3Rpb24odCxlLG4pe2lmKGUpcmV0dXJue3g6ZS54LHk6ZS55fTt2YXIgaT17eDowLHk6MH07aWYoIW4pcmV0dXJuIGk7dmFyIHI9bi5ub2RlLG89ci5nZXRMYXlvdXQoKTtpZighbylyZXR1cm4gaTt2YXIgYT1bby53aWR0aC8yLG8uaGVpZ2h0LzJdLHM9cjtmb3IoO3M7KXt2YXIgbD1zLmdldExheW91dCgpO2FbMF0rPWwueCxhWzFdKz1sLnkscz1zLnBhcmVudE5vZGV9cmV0dXJue3g6dC53aWR0aC8yLWFbMF0seTp0LmhlaWdodC8yLWFbMV19fShzLGQscCksITApLHQuc2V0TGF5b3V0SW5mbyhzKSxuQyh4LG5ldyBnaSgtcy54LC1zLnkscixvKSxnLGYsMCl9fTtmdW5jdGlvbiBRVCh0LGUsbixpKXt2YXIgcixvO2lmKCF0LmlzUmVtb3ZlZCgpKXt2YXIgYT10LmdldExheW91dCgpO3I9YS53aWR0aCxvPWEuaGVpZ2h0O3ZhciBzPXQuZ2V0TW9kZWwoKSxsPXMuZ2V0KGpUKSx1PXMuZ2V0KHFUKS8yLGg9aUMocyksYz1NYXRoLm1heChsLGgpLHA9bC11LGQ9Yy11O3Quc2V0TGF5b3V0KHtib3JkZXJXaWR0aDpsLHVwcGVySGVpZ2h0OmMsdXBwZXJMYWJlbEhlaWdodDpofSwhMCk7dmFyIGY9KHI9VVQoci0yKnAsMCkpKihvPVVUKG8tcC1kLDApKSxnPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10LmNoaWxkcmVufHxbXSxzPWkuc29ydDsiYXNjIiE9PXMmJiJkZXNjIiE9PXMmJihzPW51bGwpO3ZhciBsPW51bGwhPWkubGVhZkRlcHRoJiZpLmxlYWZEZXB0aDw9bztpZihyJiYhbClyZXR1cm4gdC52aWV3Q2hpbGRyZW49W107IWZ1bmN0aW9uKHQsZSl7ZSYmdC5zb3J0KChmdW5jdGlvbih0LG4pe3ZhciBpPSJhc2MiPT09ZT90LmdldFZhbHVlKCktbi5nZXRWYWx1ZSgpOm4uZ2V0VmFsdWUoKS10LmdldFZhbHVlKCk7cmV0dXJuIDA9PT1pPyJhc2MiPT09ZT90LmRhdGFJbmRleC1uLmRhdGFJbmRleDpuLmRhdGFJbmRleC10LmRhdGFJbmRleDppfSkpfShhPU4oYSwoZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNSZW1vdmVkKCl9KSkscyk7dmFyIHU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0wLHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaSs9ZVtyXS5nZXRWYWx1ZSgpO3ZhciBhLHM9dC5nZXQoInZpc3VhbERpbWVuc2lvbiIpO2UmJmUubGVuZ3RoPyJ2YWx1ZSI9PT1zJiZuPyhhPVtlW2UubGVuZ3RoLTFdLmdldFZhbHVlKCksZVswXS5nZXRWYWx1ZSgpXSwiYXNjIj09PW4mJmEucmV2ZXJzZSgpKTooYT1bMS8wLC0xLzBdLFpUKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VmFsdWUocyk7ZTxhWzBdJiYoYVswXT1lKSxlPmFbMV0mJihhWzFdPWUpfSkpKTphPVtOYU4sTmFOXTtyZXR1cm57c3VtOmksZGF0YUV4dGVudDphfX0oZSxhLHMpO2lmKDA9PT11LnN1bSlyZXR1cm4gdC52aWV3Q2hpbGRyZW49W107aWYodS5zdW09ZnVuY3Rpb24odCxlLG4saSxyKXtpZighaSlyZXR1cm4gbjtmb3IodmFyIG89dC5nZXQoInZpc2libGVNaW4iKSxhPXIubGVuZ3RoLHM9YSxsPWEtMTtsPj0wO2wtLSl7dmFyIHU9clsiYXNjIj09PWk/YS1sLTE6bF0uZ2V0VmFsdWUoKTt1L24qZTxvJiYocz1sLG4tPXUpfXJldHVybiJhc2MiPT09aT9yLnNwbGljZSgwLGEtcyk6ci5zcGxpY2UocyxhLXMpLG59KGUsbix1LnN1bSxzLGEpLDA9PT11LnN1bSlyZXR1cm4gdC52aWV3Q2hpbGRyZW49W107Zm9yKHZhciBoPTAsYz1hLmxlbmd0aDtoPGM7aCsrKXt2YXIgcD1hW2hdLmdldFZhbHVlKCkvdS5zdW0qbjthW2hdLnNldExheW91dCh7YXJlYTpwfSl9bCYmKGEubGVuZ3RoJiZ0LnNldExheW91dCh7aXNMZWFmUm9vdDohMH0sITApLGEubGVuZ3RoPTApO3JldHVybiB0LnZpZXdDaGlsZHJlbj1hLHQuc2V0TGF5b3V0KHtkYXRhRXh0ZW50OnUuZGF0YUV4dGVudH0sITApLGF9KHQscyxmLGUsbixpKTtpZihnLmxlbmd0aCl7dmFyIHk9e3g6cCx5OmQsd2lkdGg6cixoZWlnaHQ6b30sdj1YVChyLG8pLG09MS8wLF89W107Xy5hcmVhPTA7Zm9yKHZhciB4PTAsYj1nLmxlbmd0aDt4PGI7KXt2YXIgdz1nW3hdO18ucHVzaCh3KSxfLmFyZWErPXcuZ2V0TGF5b3V0KCkuYXJlYTt2YXIgUz10QyhfLHYsZS5zcXVhcmVSYXRpbyk7Uzw9bT8oeCsrLG09Uyk6KF8uYXJlYS09Xy5wb3AoKS5nZXRMYXlvdXQoKS5hcmVhLGVDKF8sdix5LHUsITEpLHY9WFQoeS53aWR0aCx5LmhlaWdodCksXy5sZW5ndGg9Xy5hcmVhPTAsbT0xLzApfWlmKF8ubGVuZ3RoJiZlQyhfLHYseSx1LCEwKSwhbil7dmFyIE09cy5nZXQoImNoaWxkcmVuVmlzaWJsZU1pbiIpO251bGwhPU0mJmY8TSYmKG49ITApfWZvcih4PTAsYj1nLmxlbmd0aDt4PGI7eCsrKVFUKGdbeF0sZSxuLGkrMSl9fX1mdW5jdGlvbiB0Qyh0LGUsbil7Zm9yKHZhciBpPTAscj0xLzAsbz0wLGE9dm9pZCAwLHM9dC5sZW5ndGg7bzxzO28rKykoYT10W29dLmdldExheW91dCgpLmFyZWEpJiYoYTxyJiYocj1hKSxhPmkmJihpPWEpKTt2YXIgbD10LmFyZWEqdC5hcmVhLHU9ZSplKm47cmV0dXJuIGw/VVQodSppL2wsbC8odSpyKSk6MS8wfWZ1bmN0aW9uIGVDKHQsZSxuLGkscil7dmFyIG89ZT09PW4ud2lkdGg/MDoxLGE9MS1vLHM9WyJ4IiwieSJdLGw9WyJ3aWR0aCIsImhlaWdodCJdLHU9bltzW29dXSxoPWU/dC5hcmVhL2U6MDsocnx8aD5uW2xbYV1dKSYmKGg9bltsW2FdXSk7Zm9yKHZhciBjPTAscD10Lmxlbmd0aDtjPHA7YysrKXt2YXIgZD10W2NdLGY9e30sZz1oP2QuZ2V0TGF5b3V0KCkuYXJlYS9oOjAseT1mW2xbYV1dPVVUKGgtMippLDApLHY9bltzW29dXStuW2xbb11dLXUsbT1jPT09cC0xfHx2PGc/djpnLF89ZltsW29dXT1VVChtLTIqaSwwKTtmW3NbYV1dPW5bc1thXV0rWFQoaSx5LzIpLGZbc1tvXV09dStYVChpLF8vMiksdSs9bSxkLnNldExheW91dChmLCEwKX1uW3NbYV1dKz1oLG5bbFthXV0tPWh9ZnVuY3Rpb24gbkModCxlLG4saSxyKXt2YXIgbz10LmdldExheW91dCgpLGE9bltyXSxzPWEmJmE9PT10O2lmKCEoYSYmIXN8fHI9PT1uLmxlbmd0aCYmdCE9PWkpKXt0LnNldExheW91dCh7aXNJblZpZXc6ITAsaW52aXNpYmxlOiFzJiYhZS5pbnRlcnNlY3QobyksaXNBYm92ZVZpZXdSb290OnN9LCEwKTt2YXIgbD1uZXcgZ2koZS54LW8ueCxlLnktby55LGUud2lkdGgsZS5oZWlnaHQpO1pUKHQudmlld0NoaWxkcmVufHxbXSwoZnVuY3Rpb24odCl7bkModCxsLG4saSxyKzEpfSkpfX1mdW5jdGlvbiBpQyh0KXtyZXR1cm4gdC5nZXQoS1QpP3QuZ2V0KCRUKTowfWZ1bmN0aW9uIHJDKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJsZWdlbmQifSk7ZSYmZS5sZW5ndGgmJnQuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldENhdGVnb3JpZXNEYXRhKCksaT10LmdldEdyYXBoKCkuZGF0YSxyPW4ubWFwQXJyYXkobi5nZXROYW1lKTtpLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe3ZhciBuPWkuZ2V0SXRlbU1vZGVsKHQpLmdldFNoYWxsb3coImNhdGVnb3J5Iik7aWYobnVsbCE9bil7Im51bWJlciI9PXR5cGVvZiBuJiYobj1yW25dKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpZighZVtvXS5pc1NlbGVjdGVkKG4pKXJldHVybiExfXJldHVybiEwfSkpfSkpfWZ1bmN0aW9uIG9DKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldENhdGVnb3JpZXNEYXRhKCksaT10LmdldERhdGEoKSxyPXt9O24uZWFjaCgoZnVuY3Rpb24oaSl7dmFyIG89bi5nZXROYW1lKGkpO3JbImVjLSIrb109aTt2YXIgYT1uLmdldEl0ZW1Nb2RlbChpKSxzPWEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO3MuZmlsbHx8KHMuZmlsbD10LmdldENvbG9yRnJvbVBhbGV0dGUobyxlKSksbi5zZXRJdGVtVmlzdWFsKGksInN0eWxlIixzKTtmb3IodmFyIGw9WyJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCJdLHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIGg9YS5nZXRTaGFsbG93KGxbdV0sITApO251bGwhPWgmJm4uc2V0SXRlbVZpc3VhbChpLGxbdV0saCl9fSkpLG4uY291bnQoKSYmaS5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1pLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KCJjYXRlZ29yeSIpO2lmKG51bGwhPWUpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9clsiZWMtIitlXSk7dmFyIG89bi5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIik7SShpLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwodCwic3R5bGUiKSxvKTtmb3IodmFyIGE9WyJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCJdLHM9MDtzPGEubGVuZ3RoO3MrKylpLnNldEl0ZW1WaXN1YWwodCxhW3NdLG4uZ2V0SXRlbVZpc3VhbChlLGFbc10pKX19KSl9KSl9ZnVuY3Rpb24gYUModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9ZnVuY3Rpb24gc0ModCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGgoKSxuPXQuZ2V0RWRnZURhdGEoKSxpPWFDKHQuZ2V0KCJlZGdlU3ltYm9sIikpLHI9YUModC5nZXQoImVkZ2VTeW1ib2xTaXplIikpO24uc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixpJiZpWzBdKSxuLnNldFZpc3VhbCgidG9TeW1ib2wiLGkmJmlbMV0pLG4uc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsciYmclswXSksbi5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsciYmclsxXSksbi5zZXRWaXN1YWwoInN0eWxlIix0LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksbi5lYWNoKChmdW5jdGlvbih0KXt2YXIgaT1uLmdldEl0ZW1Nb2RlbCh0KSxyPWUuZ2V0RWRnZUJ5SW5kZXgodCksbz1hQyhpLmdldFNoYWxsb3coInN5bWJvbCIsITApKSxhPWFDKGkuZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApKSxzPWkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9bi5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQsInN0eWxlIik7c3dpdGNoKEkobCxzKSxsLnN0cm9rZSl7Y2FzZSJzb3VyY2UiOnZhciB1PXIubm9kZTEuZ2V0VmlzdWFsKCJzdHlsZSIpO2wuc3Ryb2tlPXUmJnUuZmlsbDticmVhaztjYXNlInRhcmdldCI6dT1yLm5vZGUyLmdldFZpc3VhbCgic3R5bGUiKTtsLnN0cm9rZT11JiZ1LmZpbGx9b1swXSYmci5zZXRWaXN1YWwoImZyb21TeW1ib2wiLG9bMF0pLG9bMV0mJnIuc2V0VmlzdWFsKCJ0b1N5bWJvbCIsb1sxXSksYVswXSYmci5zZXRWaXN1YWwoImZyb21TeW1ib2xTaXplIixhWzBdKSxhWzFdJiZyLnNldFZpc3VhbCgidG9TeW1ib2xTaXplIixhWzFdKX0pKX0pKX12YXIgbEM9Ii0tXHgzZSIsdUM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KCJhdXRvQ3VydmVuZXNzIil8fG51bGx9LGhDPWZ1bmN0aW9uKHQsZSl7dmFyIG49dUModCksaT0yMCxyPVtdO2lmKCJudW1iZXIiPT10eXBlb2YgbilpPW47ZWxzZSBpZihGKG4pKXJldHVybiB2b2lkKHQuX19jdXJ2ZW5lc3NMaXN0PW4pO2U+aSYmKGk9ZSk7dmFyIG89aSUyP2krMjppKzM7cj1bXTtmb3IodmFyIGE9MDthPG87YSsrKXIucHVzaCgoYSUyP2ErMTphKS8xMCooYSUyPy0xOjEpKTt0Ll9fY3VydmVuZXNzTGlzdD1yfSxjQz1mdW5jdGlvbih0LGUsbil7dmFyIGk9W3QuaWQsdC5kYXRhSW5kZXhdLmpvaW4oIi4iKSxyPVtlLmlkLGUuZGF0YUluZGV4XS5qb2luKCIuIik7cmV0dXJuW24udWlkLGkscl0uam9pbihsQyl9LHBDPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQobEMpO3JldHVybltlWzBdLGVbMl0sZVsxXV0uam9pbihsQyl9LGRDPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5fX2VkZ2VNYXA7cmV0dXJuIG5bdF0/blt0XS5sZW5ndGg6MH07ZnVuY3Rpb24gZkModCxlLG4saSl7dmFyIHI9dUMoZSksbz1GKHIpO2lmKCFyKXJldHVybiBudWxsO3ZhciBhPWZ1bmN0aW9uKHQsZSl7dmFyIG49Y0ModC5ub2RlMSx0Lm5vZGUyLGUpO3JldHVybiBlLl9fZWRnZU1hcFtuXX0odCxlKTtpZighYSlyZXR1cm4gbnVsbDtmb3IodmFyIHM9LTEsbD0wO2w8YS5sZW5ndGg7bCsrKWlmKGFbbF09PT1uKXtzPWw7YnJlYWt9dmFyIHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZEMoY0ModC5ub2RlMSx0Lm5vZGUyLGUpLGUpK2RDKGNDKHQubm9kZTIsdC5ub2RlMSxlKSxlKX0odCxlKTtoQyhlLHUpLHQubGluZVN0eWxlPXQubGluZVN0eWxlfHx7fTt2YXIgaD1jQyh0Lm5vZGUxLHQubm9kZTIsZSksYz1lLl9fY3VydmVuZXNzTGlzdCxwPW98fHUlMj8wOjE7aWYoYS5pc0ZvcndhcmQpcmV0dXJuIGNbcCtzXTt2YXIgZD1wQyhoKSxmPWRDKGQsZSksZz1jW3MrZitwXTtyZXR1cm4gaT9vP3ImJjA9PT1yWzBdPyhmK3ApJTI/ZzotZzooKGYlMj8wOjEpK3ApJTI/ZzotZzooZitwKSUyP2c6LWc6Y1tzK2YrcF19ZnVuY3Rpb24gZ0ModCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwidmlldyI9PT1lLnR5cGUpe3ZhciBuPXQuZ2V0R3JhcGgoKTtuLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT10LmdldE1vZGVsKCk7dC5zZXRMYXlvdXQoWytlLmdldCgieCIpLCtlLmdldCgieSIpXSl9KSkseUMobix0KX19ZnVuY3Rpb24geUModCxlKXt0LmVhY2hFZGdlKChmdW5jdGlvbih0LG4pe3ZhciBpPWV0KHQuZ2V0TW9kZWwoKS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSksLWZDKHQsZSxuLCEwKSwwKSxyPW10KHQubm9kZTEuZ2V0TGF5b3V0KCkpLG89bXQodC5ub2RlMi5nZXRMYXlvdXQoKSksYT1bcixvXTsraSYmYS5wdXNoKFsoclswXStvWzBdKS8yLShyWzFdLW9bMV0pKmksKHJbMV0rb1sxXSkvMi0ob1swXS1yWzBdKSppXSksdC5zZXRMYXlvdXQoYSl9KSl9ZnVuY3Rpb24gdkModCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImxheW91dCIpLG49dC5jb29yZGluYXRlU3lzdGVtO2lmKG4mJiJ2aWV3IiE9PW4udHlwZSl7dmFyIGk9dC5nZXREYXRhKCkscj1bXTtQKG4uZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cj1yLmNvbmNhdChpLm1hcERpbWVuc2lvbnNBbGwodCkpfSkpO2Zvcih2YXIgbz0wO288aS5jb3VudCgpO28rKyl7Zm9yKHZhciBhPVtdLHM9ITEsbD0wO2w8ci5sZW5ndGg7bCsrKXt2YXIgdT1pLmdldChyW2xdLG8pO2lzTmFOKHUpfHwocz0hMCksYS5wdXNoKHUpfXM/aS5zZXRJdGVtTGF5b3V0KG8sbi5kYXRhVG9Qb2ludChhKSk6aS5zZXRJdGVtTGF5b3V0KG8sW05hTixOYU5dKX15QyhpLmdyYXBoLHQpfWVsc2UgZSYmIm5vbmUiIT09ZXx8Z0ModCl9KSl9ZnVuY3Rpb24gbUModCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCJ2aWV3IiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgbj10Lm9wdGlvbi5ub2RlU2NhbGVSYXRpbyxpPWUuc2NhbGVYO3JldHVybigoZS5nZXRab29tKCktMSkqbisxKS9pfWZ1bmN0aW9uIF9DKHQpe3ZhciBlPXQuZ2V0VmlzdWFsKCJzeW1ib2xTaXplIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheSYmKGU9KGVbMF0rZVsxXSkvMiksK2V9dmFyIHhDPU1hdGguUEksYkM9W107ZnVuY3Rpb24gd0ModCxlKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIW58fCJ2aWV3Ij09PW4udHlwZSl7dmFyIGk9bi5nZXRCb3VuZGluZ1JlY3QoKSxyPXQuZ2V0RGF0YSgpLG89ci5ncmFwaCxhPWkud2lkdGgvMitpLngscz1pLmhlaWdodC8yK2kueSxsPU1hdGgubWluKGkud2lkdGgsaS5oZWlnaHQpLzIsdT1yLmNvdW50KCk7ci5zZXRMYXlvdXQoe2N4OmEsY3k6c30pLHUmJihTQ1tlXSh0LG8scixsLGEscyx1KSxvLmVhY2hFZGdlKChmdW5jdGlvbihlLG4pe3ZhciBpLHI9ZXQoZS5nZXRNb2RlbCgpLmdldChbImxpbmVTdHlsZSIsImN1cnZlbmVzcyJdKSxmQyhlLHQsbiksMCksbz1tdChlLm5vZGUxLmdldExheW91dCgpKSxsPW10KGUubm9kZTIuZ2V0TGF5b3V0KCkpLHU9KG9bMF0rbFswXSkvMixoPShvWzFdK2xbMV0pLzI7K3ImJihpPVthKihyKj0zKSt1KigxLXIpLHMqcitoKigxLXIpXSksZS5zZXRMYXlvdXQoW28sbCxpXSl9KSkpfX12YXIgU0M9e3ZhbHVlOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPTAsbD1uLmdldFN1bSgidmFsdWUiKSx1PTIqTWF0aC5QSS8obHx8YSk7ZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZSgidmFsdWUiKSxuPXUqKGw/ZToxKS8yO3MrPW4sdC5zZXRMYXlvdXQoW2kqTWF0aC5jb3MocykrcixpKk1hdGguc2luKHMpK29dKSxzKz1ufSkpfSxzeW1ib2xTaXplOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPTA7YkMubGVuZ3RoPWE7dmFyIGw9bUModCk7ZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9X0ModCk7aXNOYU4oZSkmJihlPTIpLGU8MCYmKGU9MCksZSo9bDt2YXIgbj1NYXRoLmFzaW4oZS8yL2kpO2lzTmFOKG4pJiYobj14Qy8yKSxiQ1t0LmRhdGFJbmRleF09bixzKz0yKm59KSk7dmFyIHU9KDIqeEMtcykvYS8yLGg9MDtlLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT11K2JDW3QuZGF0YUluZGV4XTtoKz1lLHQuc2V0TGF5b3V0KFtpKk1hdGguY29zKGgpK3IsaSpNYXRoLnNpbihoKStvXSksaCs9ZX0pKX19O2Z1bmN0aW9uIE1DKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXsiY2lyY3VsYXIiPT09dC5nZXQoImxheW91dCIpJiZ3Qyh0LCJzeW1ib2xTaXplIil9KSl9dmFyIElDPWJ0O2Z1bmN0aW9uIFRDKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSlpZigiZm9yY2UiPT09dC5nZXQoImxheW91dCIpKXt2YXIgbj10LnByZXNlcnZlZFBvaW50c3x8e30saT10LmdldEdyYXBoKCkscj1pLmRhdGEsbz1pLmVkZ2VEYXRhLGE9dC5nZXRNb2RlbCgiZm9yY2UiKSxzPWEuZ2V0KCJpbml0TGF5b3V0Iik7dC5wcmVzZXJ2ZWRQb2ludHM/ci5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1yLmdldElkKHQpO3Iuc2V0SXRlbUxheW91dCh0LG5bZV18fFtOYU4sTmFOXSl9KSk6cyYmIm5vbmUiIT09cz8iY2lyY3VsYXIiPT09cyYmd0ModCwidmFsdWUiKTpnQyh0KTt2YXIgbD1yLmdldERhdGFFeHRlbnQoInZhbHVlIiksdT1vLmdldERhdGFFeHRlbnQoInZhbHVlIiksaD1hLmdldCgicmVwdWxzaW9uIiksYz1hLmdldCgiZWRnZUxlbmd0aCIpLHA9RihoKT9oOltoLGhdLGQ9RihjKT9jOltjLGNdO2Q9W2RbMV0sZFswXV07dmFyIGY9ci5tYXBBcnJheSgidmFsdWUiLChmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0SXRlbUxheW91dChlKSxpPVlpKHQsbCxwKTtyZXR1cm4gaXNOYU4oaSkmJihpPShwWzBdK3BbMV0pLzIpLHt3OmkscmVwOmksZml4ZWQ6ci5nZXRJdGVtTW9kZWwoZSkuZ2V0KCJmaXhlZCIpLHA6IW58fGlzTmFOKG5bMF0pfHxpc05hTihuWzFdKT9udWxsOm59fSkpLGc9by5tYXBBcnJheSgidmFsdWUiLChmdW5jdGlvbihlLG4pe3ZhciByPWkuZ2V0RWRnZUJ5SW5kZXgobiksbz1ZaShlLHUsZCk7aXNOYU4obykmJihvPShkWzBdK2RbMV0pLzIpO3ZhciBhPXIuZ2V0TW9kZWwoKSxzPWV0KHIuZ2V0TW9kZWwoKS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSksLWZDKHIsdCxuLCEwKSwwKTtyZXR1cm57bjE6ZltyLm5vZGUxLmRhdGFJbmRleF0sbjI6ZltyLm5vZGUyLmRhdGFJbmRleF0sZDpvLGN1cnZlbmVzczpzLGlnbm9yZUZvcmNlTGF5b3V0OmEuZ2V0KCJpZ25vcmVGb3JjZUxheW91dCIpfX0pKSx5PWUuZ2V0Qm91bmRpbmdSZWN0KCksdj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQscj1lLG89bi5yZWN0LGE9by53aWR0aCxzPW8uaGVpZ2h0LGw9W28ueCthLzIsby55K3MvMl0sdT1udWxsPT1uLmdyYXZpdHk/LjE6bi5ncmF2aXR5LGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIGM9aVtoXTtjLnB8fChjLnA9eXQoYSooTWF0aC5yYW5kb20oKS0uNSkrbFswXSxzKihNYXRoLnJhbmRvbSgpLS41KStsWzFdKSksYy5wcD1tdChjLnApLGMuZWRnZXM9bnVsbH12YXIgcCxkLGY9bnVsbD09bi5mcmljdGlvbj8uNjpuLmZyaWN0aW9uLGc9ZjtyZXR1cm57d2FybVVwOmZ1bmN0aW9uKCl7Zz0uOCpmfSxzZXRGaXhlZDpmdW5jdGlvbih0KXtpW3RdLmZpeGVkPSEwfSxzZXRVbmZpeGVkOmZ1bmN0aW9uKHQpe2lbdF0uZml4ZWQ9ITF9LGJlZm9yZVN0ZXA6ZnVuY3Rpb24odCl7cD10fSxhZnRlclN0ZXA6ZnVuY3Rpb24odCl7ZD10fSxzdGVwOmZ1bmN0aW9uKHQpe3AmJnAoaSxyKTtmb3IodmFyIGU9W10sbj1pLmxlbmd0aCxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPXJbb107aWYoIWEuaWdub3JlRm9yY2VMYXlvdXQpe3ZhciBzPWEubjE7d3QoZSwoeT1hLm4yKS5wLHMucCk7dmFyIGg9U3QoZSktYS5kLGM9eS53LyhzLncreS53KTtpc05hTihjKSYmKGM9MCksRHQoZSxlKSwhcy5maXhlZCYmSUMocy5wLHMucCxlLGMqaCpnKSwheS5maXhlZCYmSUMoeS5wLHkucCxlLC0oMS1jKSpoKmcpfX1mb3Iobz0wO288bjtvKyspKF89aVtvXSkuZml4ZWR8fCh3dChlLGwsXy5wKSxJQyhfLnAsXy5wLGUsdSpnKSk7Zm9yKG89MDtvPG47bysrKXtzPWlbb107Zm9yKHZhciBmPW8rMTtmPG47ZisrKXt2YXIgeTt3dChlLCh5PWlbZl0pLnAscy5wKSwwPT09KGg9U3QoZSkpJiYoX3QoZSxNYXRoLnJhbmRvbSgpLS41LE1hdGgucmFuZG9tKCktLjUpLGg9MSk7dmFyIHY9KHMucmVwK3kucmVwKS9oL2g7IXMuZml4ZWQmJklDKHMucHAscy5wcCxlLHYpLCF5LmZpeGVkJiZJQyh5LnBwLHkucHAsZSwtdil9fXZhciBtPVtdO2ZvcihvPTA7bzxuO28rKyl7dmFyIF87KF89aVtvXSkuZml4ZWR8fCh3dChtLF8ucCxfLnBwKSxJQyhfLnAsXy5wLG0sZyksdnQoXy5wcCxfLnApKX12YXIgeD0oZyo9Ljk5Mik8LjAxO2QmJmQoaSxyLHgpLHQmJnQoeCl9fX0oZixnLHtyZWN0OnksZ3Jhdml0eTphLmdldCgiZ3Jhdml0eSIpLGZyaWN0aW9uOmEuZ2V0KCJmcmljdGlvbiIpfSk7di5iZWZvcmVTdGVwKChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl0W25dLmZpeGVkJiZ2dCh0W25dLnAsaS5nZXROb2RlQnlJbmRleChuKS5nZXRMYXlvdXQoKSl9KSksdi5hZnRlclN0ZXAoKGZ1bmN0aW9uKHQsZSxvKXtmb3IodmFyIGE9MCxzPXQubGVuZ3RoO2E8czthKyspdFthXS5maXhlZHx8aS5nZXROb2RlQnlJbmRleChhKS5zZXRMYXlvdXQodFthXS5wKSxuW3IuZ2V0SWQoYSldPXRbYV0ucDtmb3IoYT0wLHM9ZS5sZW5ndGg7YTxzO2ErKyl7dmFyIGw9ZVthXSx1PWkuZ2V0RWRnZUJ5SW5kZXgoYSksaD1sLm4xLnAsYz1sLm4yLnAscD11LmdldExheW91dCgpOyhwPXA/cC5zbGljZSgpOltdKVswXT1wWzBdfHxbXSxwWzFdPXBbMV18fFtdLHZ0KHBbMF0saCksdnQocFsxXSxjKSwrbC5jdXJ2ZW5lc3MmJihwWzJdPVsoaFswXStjWzBdKS8yLShoWzFdLWNbMV0pKmwuY3VydmVuZXNzLChoWzFdK2NbMV0pLzItKGNbMF0taFswXSkqbC5jdXJ2ZW5lc3NdKSx1LnNldExheW91dChwKX19KSksdC5mb3JjZUxheW91dD12LHQucHJlc2VydmVkUG9pbnRzPW4sdi5zdGVwKCl9ZWxzZSB0LmZvcmNlTGF5b3V0PW51bGx9KSl9ZnVuY3Rpb24gQ0ModCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIik7aWYoIWl8fCJ2aWV3Ij09PWkpe3ZhciByPXQuZ2V0RGF0YSgpLG89W10sYT1bXTtyYShyLm1hcEFycmF5KChmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm5bK2UuZ2V0KCJ4IiksK2UuZ2V0KCJ5IildfSkpLG8sYSksYVswXS1vWzBdPT0wJiYoYVswXSs9MSxvWzBdLT0xKSxhWzFdLW9bMV09PTAmJihhWzFdKz0xLG9bMV0tPTEpO3ZhciBzPShhWzBdLW9bMF0pLyhhWzFdLW9bMV0pLGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBWYyhJKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse2FzcGVjdDpufSkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUscyk7aXNOYU4ocykmJihvPVtsLngsbC55XSxhPVtsLngrbC53aWR0aCxsLnkrbC5oZWlnaHRdKTt2YXIgdT1hWzBdLW9bMF0saD1hWzFdLW9bMV0sYz1sLndpZHRoLHA9bC5oZWlnaHQsZD10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IGZJO2Quem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksZC5zZXRCb3VuZGluZ1JlY3Qob1swXSxvWzFdLHUsaCksZC5zZXRWaWV3UmVjdChsLngsbC55LGMscCksZC5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSxkLnNldFpvb20odC5nZXQoInpvb20iKSksbi5wdXNoKGQpfX0pKSxufXZhciBEQz11dS5wcm90b3R5cGUsQUM9ZHUucHJvdG90eXBlLExDPWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMucGVyY2VudD0xfTshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9bihlLHQpfShMQyk7ZnVuY3Rpb24ga0ModCl7cmV0dXJuIGlzTmFOKCt0LmNweDEpfHxpc05hTigrdC5jcHkxKX12YXIgUEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJlYy1saW5lIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMQ30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7a0MoZSk/REMuYnVpbGRQYXRoLmNhbGwodGhpcyx0LGUpOkFDLmJ1aWxkUGF0aC5jYWxsKHRoaXMsdCxlKX0sZS5wcm90b3R5cGUucG9pbnRBdD1mdW5jdGlvbih0KXtyZXR1cm4ga0ModGhpcy5zaGFwZSk/REMucG9pbnRBdC5jYWxsKHRoaXMsdCk6QUMucG9pbnRBdC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLnRhbmdlbnRBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlLG49a0MoZSk/W2UueDItZS54MSxlLnkyLWUueTFdOkFDLnRhbmdlbnRBdC5jYWxsKHRoaXMsdCk7cmV0dXJuIER0KG4sbil9LGV9KEthKSxPQz1bImZyb21TeW1ib2wiLCJ0b1N5bWJvbCJdO2Z1bmN0aW9uIFJDKHQpe3JldHVybiJfIit0KyJUeXBlIn1mdW5jdGlvbiBOQyh0LGUsbil7dmFyIGk9ZS5nZXRJdGVtVmlzdWFsKG4sdCk7aWYoaSYmIm5vbmUiIT09aSl7dmFyIHI9ZS5nZXRJdGVtVmlzdWFsKG4sdCsiU2l6ZSIpLG89ZS5nZXRJdGVtVmlzdWFsKG4sdCsiUm90YXRlIiksYT1lLmdldEl0ZW1WaXN1YWwobix0KyJPZmZzZXQiKXx8MCxzPWUuZ2V0SXRlbVZpc3VhbChuLHQrIktlZXBBc3BlY3QiKSxsPUYocik/cjpbcixyXSx1PUYoYSk/YTpbYSxhXTt1WzBdPVppKHVbMF0sbFswXSksdVsxXT1aaSh0dCh1WzFdLHVbMF0pLGxbMV0pO3ZhciBoPWZ5KGksLWxbMF0vMit1WzBdLC1sWzFdLzIrdVsxXSxsWzBdLGxbMV0sbnVsbCxzKTtyZXR1cm4gaC5fX3NwZWNpZmllZFJvdGF0aW9uPW51bGw9PW98fGlzTmFOKG8pP3ZvaWQgMDorbypNYXRoLlBJLzE4MHx8MCxoLm5hbWU9dCxofX1mdW5jdGlvbiB6Qyh0LGUpe3QueDE9ZVswXVswXSx0LnkxPWVbMF1bMV0sdC54Mj1lWzFdWzBdLHQueTI9ZVsxXVsxXSx0LnBlcmNlbnQ9MTt2YXIgbj1lWzJdO24/KHQuY3B4MT1uWzBdLHQuY3B5MT1uWzFdKToodC5jcHgxPU5hTix0LmNweTE9TmFOKX12YXIgRUM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9jcmVhdGVMaW5lKGUsbixpKSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2NyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuaG9zdE1vZGVsLHI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFBDKHtuYW1lOiJsaW5lIixzdWJQaXhlbE9wdGltaXplOiEwfSk7cmV0dXJuIHpDKGUuc2hhcGUsdCksZX0odC5nZXRJdGVtTGF5b3V0KGUpKTtyLnNoYXBlLnBlcmNlbnQ9MCxXdShyLHtzaGFwZTp7cGVyY2VudDoxfX0saSxlKSx0aGlzLmFkZChyKSxQKE9DLChmdW5jdGlvbihuKXt2YXIgaT1OQyhuLHQsZSk7dGhpcy5hZGQoaSksdGhpc1tSQyhuKV09dC5nZXRJdGVtVmlzdWFsKGUsbil9KSx0aGlzKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLG4pfSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbCxyPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKSxvPXQuZ2V0SXRlbUxheW91dChlKSxhPXtzaGFwZTp7fX07ekMoYS5zaGFwZSxvKSxIdShyLGEsaSxlKSxQKE9DLChmdW5jdGlvbihuKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSxuKSxyPVJDKG4pO2lmKHRoaXNbcl0hPT1pKXt0aGlzLnJlbW92ZSh0aGlzLmNoaWxkT2ZOYW1lKG4pKTt2YXIgbz1OQyhuLHQsZSk7dGhpcy5hZGQobyl9dGhpc1tyXT1pfSksdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUuZ2V0TGluZVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZEF0KDApfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbCxyPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKSxvPW4mJm4uZW1waGFzaXNMaW5lU3R5bGUsYT1uJiZuLmJsdXJMaW5lU3R5bGUscz1uJiZuLnNlbGVjdExpbmVTdHlsZSxsPW4mJm4ubGFiZWxTdGF0ZXNNb2RlbHM7aWYoIW58fHQuaGFzSXRlbU9wdGlvbil7dmFyIHU9dC5nZXRJdGVtTW9kZWwoZSk7bz11LmdldE1vZGVsKFsiZW1waGFzaXMiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksYT11LmdldE1vZGVsKFsiYmx1ciIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSxzPXUuZ2V0TW9kZWwoWyJzZWxlY3QiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksbD1jaCh1KX12YXIgaD10LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSxjPWguc3Ryb2tlO3IudXNlU3R5bGUoaCksci5zdHlsZS5maWxsPW51bGwsci5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLHIuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9byxyLmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGU9YSxyLmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1zLFAoT0MsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUodCk7aWYoZSl7ZS5zZXRDb2xvcihjKSxlLnN0eWxlLm9wYWNpdHk9aC5vcGFjaXR5O2Zvcih2YXIgbj0wO248U3MubGVuZ3RoO24rKyl7dmFyIGk9U3Nbbl0sbz1yLmdldFN0YXRlKGkpO2lmKG8pe3ZhciBhPW8uc3R5bGV8fHt9LHM9ZS5lbnN1cmVTdGF0ZShpKSxsPXMuc3R5bGV8fChzLnN0eWxlPXt9KTtudWxsIT1hLnN0cm9rZSYmKGxbZS5fX2lzRW1wdHlCcnVzaD8ic3Ryb2tlIjoiZmlsbCJdPWEuc3Ryb2tlKSxudWxsIT1hLm9wYWNpdHkmJihsLm9wYWNpdHk9YS5vcGFjaXR5KX19ZS5tYXJrUmVkcmF3KCl9fSksdGhpcyk7dmFyIHA9aS5nZXRSYXdWYWx1ZShlKTtoaCh0aGlzLGwse2xhYmVsRGF0YUluZGV4OmUsbGFiZWxGZXRjaGVyOntnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbihlLG4pe3JldHVybiBpLmdldEZvcm1hdHRlZExhYmVsKGUsbix0LmRhdGFUeXBlKX19LGluaGVyaXRDb2xvcjpjfHwiIzAwMCIsZGVmYXVsdE9wYWNpdHk6aC5vcGFjaXR5LGRlZmF1bHRUZXh0OihudWxsPT1wP3QuZ2V0TmFtZShlKTppc0Zpbml0ZShwKT9qaShwKTpwKSsiIn0pO3ZhciBkPXRoaXMuZ2V0VGV4dENvbnRlbnQoKTtpZihkKXt2YXIgZj1sLm5vcm1hbDtkLl9fYWxpZ249ZC5zdHlsZS5hbGlnbixkLl9fdmVydGljYWxBbGlnbj1kLnN0eWxlLnZlcnRpY2FsQWxpZ24sZC5fX3Bvc2l0aW9uPWYuZ2V0KCJwb3NpdGlvbiIpfHwibWlkZGxlIjt2YXIgZz1mLmdldCgiZGlzdGFuY2UiKTtGKGcpfHwoZz1bZyxnXSksZC5fX2xhYmVsRGlzdGFuY2U9Z310aGlzLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOm51bGwsbG9jYWw6ITAsaW5zaWRlOiExfSksc2wodGhpcyl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe2pzKHRoaXMpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbigpe3FzKHRoaXMpfSxlLnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldExpbmVQb2ludHModC5nZXRJdGVtTGF5b3V0KGUpKX0sZS5wcm90b3R5cGUuc2V0TGluZVBvaW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIik7ekMoZS5zaGFwZSx0KSxlLmRpcnR5KCl9LGUucHJvdG90eXBlLmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmNoaWxkT2ZOYW1lKCJmcm9tU3ltYm9sIiksbj10LmNoaWxkT2ZOYW1lKCJ0b1N5bWJvbCIpLGk9dC5nZXRUZXh0Q29udGVudCgpO2lmKGV8fG58fGkmJiFpLmlnbm9yZSl7Zm9yKHZhciByPTEsbz10aGlzLnBhcmVudDtvOylvLnNjYWxlWCYmKHIvPW8uc2NhbGVYKSxvPW8ucGFyZW50O3ZhciBhPXQuY2hpbGRPZk5hbWUoImxpbmUiKTtpZih0aGlzLl9fZGlydHl8fGEuX19kaXJ0eSl7dmFyIHM9YS5zaGFwZS5wZXJjZW50LGw9YS5wb2ludEF0KDApLHU9YS5wb2ludEF0KHMpLGg9d3QoW10sdSxsKTtpZihEdChoLGgpLGUmJihlLnNldFBvc2l0aW9uKGwpLFMoZSwwKSxlLnNjYWxlWD1lLnNjYWxlWT1yKnMsZS5tYXJrUmVkcmF3KCkpLG4mJihuLnNldFBvc2l0aW9uKHUpLFMobiwxKSxuLnNjYWxlWD1uLnNjYWxlWT1yKnMsbi5tYXJrUmVkcmF3KCkpLGkmJiFpLmlnbm9yZSl7aS54PWkueT0wLGkub3JpZ2luWD1pLm9yaWdpblk9MDt2YXIgYz12b2lkIDAscD12b2lkIDAsZD1pLl9fbGFiZWxEaXN0YW5jZSxmPWRbMF0qcixnPWRbMV0qcix5PXMvMix2PWEudGFuZ2VudEF0KHkpLG09W3ZbMV0sLXZbMF1dLF89YS5wb2ludEF0KHkpO21bMV0+MCYmKG1bMF09LW1bMF0sbVsxXT0tbVsxXSk7dmFyIHg9dlswXTwwPy0xOjE7aWYoInN0YXJ0IiE9PWkuX19wb3NpdGlvbiYmImVuZCIhPT1pLl9fcG9zaXRpb24pe3ZhciBiPS1NYXRoLmF0YW4yKHZbMV0sdlswXSk7dVswXTxsWzBdJiYoYj1NYXRoLlBJK2IpLGkucm90YXRpb249Yn12YXIgdz12b2lkIDA7c3dpdGNoKGkuX19wb3NpdGlvbil7Y2FzZSJpbnNpZGVTdGFydFRvcCI6Y2FzZSJpbnNpZGVNaWRkbGVUb3AiOmNhc2UiaW5zaWRlRW5kVG9wIjpjYXNlIm1pZGRsZSI6dz0tZyxwPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlU3RhcnRCb3R0b20iOmNhc2UiaW5zaWRlTWlkZGxlQm90dG9tIjpjYXNlImluc2lkZUVuZEJvdHRvbSI6dz1nLHA9InRvcCI7YnJlYWs7ZGVmYXVsdDp3PTAscD0ibWlkZGxlIn1zd2l0Y2goaS5fX3Bvc2l0aW9uKXtjYXNlImVuZCI6aS54PWhbMF0qZit1WzBdLGkueT1oWzFdKmcrdVsxXSxjPWhbMF0+Ljg/ImxlZnQiOmhbMF08LS44PyJyaWdodCI6ImNlbnRlciIscD1oWzFdPi44PyJ0b3AiOmhbMV08LS44PyJib3R0b20iOiJtaWRkbGUiO2JyZWFrO2Nhc2Uic3RhcnQiOmkueD0taFswXSpmK2xbMF0saS55PS1oWzFdKmcrbFsxXSxjPWhbMF0+Ljg/InJpZ2h0IjpoWzBdPC0uOD8ibGVmdCI6ImNlbnRlciIscD1oWzFdPi44PyJib3R0b20iOmhbMV08LS44PyJ0b3AiOiJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlU3RhcnRUb3AiOmNhc2UiaW5zaWRlU3RhcnQiOmNhc2UiaW5zaWRlU3RhcnRCb3R0b20iOmkueD1mKngrbFswXSxpLnk9bFsxXSt3LGM9dlswXTwwPyJyaWdodCI6ImxlZnQiLGkub3JpZ2luWD0tZip4LGkub3JpZ2luWT0tdzticmVhaztjYXNlImluc2lkZU1pZGRsZVRvcCI6Y2FzZSJpbnNpZGVNaWRkbGUiOmNhc2UiaW5zaWRlTWlkZGxlQm90dG9tIjpjYXNlIm1pZGRsZSI6aS54PV9bMF0saS55PV9bMV0rdyxjPSJjZW50ZXIiLGkub3JpZ2luWT0tdzticmVhaztjYXNlImluc2lkZUVuZFRvcCI6Y2FzZSJpbnNpZGVFbmQiOmNhc2UiaW5zaWRlRW5kQm90dG9tIjppLng9LWYqeCt1WzBdLGkueT11WzFdK3csYz12WzBdPj0wPyJyaWdodCI6ImxlZnQiLGkub3JpZ2luWD1mKngsaS5vcmlnaW5ZPS13fWkuc2NhbGVYPWkuc2NhbGVZPXIsaS5zZXRTdHlsZSh7dmVydGljYWxBbGlnbjppLl9fdmVydGljYWxBbGlnbnx8cCxhbGlnbjppLl9fYWxpZ258fGN9KX19fWZ1bmN0aW9uIFModCxlKXt2YXIgbj10Ll9fc3BlY2lmaWVkUm90YXRpb247aWYobnVsbD09bil7dmFyIGk9YS50YW5nZW50QXQoZSk7dC5hdHRyKCJyb3RhdGlvbiIsKDE9PT1lPy0xOjEpKk1hdGguUEkvMi1NYXRoLmF0YW4yKGlbMV0saVswXSkpfWVsc2UgdC5hdHRyKCJyb3RhdGlvbiIsbil9fSxlfShFaSksVkM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3JvdXA9bmV3IEVpLHRoaXMuX0xpbmVDdG9yPXR8fEVDfXJldHVybiB0LnByb3RvdHlwZS5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcyxpPW4uZ3JvdXAscj1uLl9saW5lRGF0YTtuLl9saW5lRGF0YT10LHJ8fGkucmVtb3ZlQWxsKCk7dmFyIG89QkModCk7dC5kaWZmKHIpLmFkZCgoZnVuY3Rpb24obil7ZS5fZG9BZGQodCxuLG8pfSkpLnVwZGF0ZSgoZnVuY3Rpb24obixpKXtlLl9kb1VwZGF0ZShyLHQsaSxuLG8pfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7aS5yZW1vdmUoci5nZXRJdGVtR3JhcGhpY0VsKHQpKX0pKS5leGVjdXRlKCl9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xpbmVEYXRhO3QmJnQuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7ZS51cGRhdGVMYXlvdXQodCxuKX0pLHRoaXMpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc2VyaWVzU2NvcGU9QkModCksdGhpcy5fbGluZURhdGE9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7dC5pc0dyb3VwfHxmdW5jdGlvbih0KXtyZXR1cm4gdC5hbmltYXRvcnMmJnQuYW5pbWF0b3JzLmxlbmd0aD4wfSh0KXx8KHQuaW5jcmVtZW50YWw9ITAsdC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5ob3ZlckxheWVyPSEwKX1mb3IodmFyIGk9dC5zdGFydDtpPHQuZW5kO2krKyl7aWYoR0MoZS5nZXRJdGVtTGF5b3V0KGkpKSl7dmFyIHI9bmV3IHRoaXMuX0xpbmVDdG9yKGUsaSx0aGlzLl9zZXJpZXNTY29wZSk7ci50cmF2ZXJzZShuKSx0aGlzLmdyb3VwLmFkZChyKSxlLnNldEl0ZW1HcmFwaGljRWwoaSxyKX19fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5fZG9BZGQ9ZnVuY3Rpb24odCxlLG4pe2lmKEdDKHQuZ2V0SXRlbUxheW91dChlKSkpe3ZhciBpPW5ldyB0aGlzLl9MaW5lQ3Rvcih0LGUsbik7dC5zZXRJdGVtR3JhcGhpY0VsKGUsaSksdGhpcy5ncm91cC5hZGQoaSl9fSx0LnByb3RvdHlwZS5fZG9VcGRhdGU9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LmdldEl0ZW1HcmFwaGljRWwobik7R0MoZS5nZXRJdGVtTGF5b3V0KGkpKT8obz9vLnVwZGF0ZURhdGEoZSxpLHIpOm89bmV3IHRoaXMuX0xpbmVDdG9yKGUsaSxyKSxlLnNldEl0ZW1HcmFwaGljRWwoaSxvKSx0aGlzLmdyb3VwLmFkZChvKSk6dGhpcy5ncm91cC5yZW1vdmUobyl9LHR9KCk7ZnVuY3Rpb24gQkModCl7dmFyIGU9dC5ob3N0TW9kZWw7cmV0dXJue2xpbmVTdHlsZTplLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxlbXBoYXNpc0xpbmVTdHlsZTplLmdldE1vZGVsKFsiZW1waGFzaXMiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksYmx1ckxpbmVTdHlsZTplLmdldE1vZGVsKFsiYmx1ciIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSxzZWxlY3RMaW5lU3R5bGU6ZS5nZXRNb2RlbChbInNlbGVjdCIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSxsYWJlbFN0YXRlc01vZGVsczpjaChlKX19ZnVuY3Rpb24gRkModCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiBHQyh0KXtyZXR1cm4hRkModFswXSkmJiFGQyh0WzFdKX12YXIgSEM9W10sV0M9W10sVUM9W10sWEM9VW8sWUM9UHQsWkM9TWF0aC5hYnM7ZnVuY3Rpb24gakModCxlLG4pe2Zvcih2YXIgaSxyPXRbMF0sbz10WzFdLGE9dFsyXSxzPTEvMCxsPW4qbix1PS4xLGg9LjE7aDw9Ljk7aCs9LjEpe0hDWzBdPVhDKHJbMF0sb1swXSxhWzBdLGgpLEhDWzFdPVhDKHJbMV0sb1sxXSxhWzFdLGgpLChkPVpDKFlDKEhDLGUpLWwpKTxzJiYocz1kLGk9aCl9Zm9yKHZhciBjPTA7YzwzMjtjKyspe3ZhciBwPWkrdTtXQ1swXT1YQyhyWzBdLG9bMF0sYVswXSxpKSxXQ1sxXT1YQyhyWzFdLG9bMV0sYVsxXSxpKSxVQ1swXT1YQyhyWzBdLG9bMF0sYVswXSxwKSxVQ1sxXT1YQyhyWzFdLG9bMV0sYVsxXSxwKTt2YXIgZD1ZQyhXQyxlKS1sO2lmKFpDKGQpPC4wMSlicmVhazt2YXIgZj1ZQyhVQyxlKS1sO3UvPTIsZDwwP2Y+PTA/aSs9dTppLT11OmY+PTA/aS09dTppKz11fXJldHVybiBpfWZ1bmN0aW9uIHFDKHQsZSl7dmFyIG49W10saT1abyxyPVtbXSxbXSxbXV0sbz1bW10sW11dLGE9W107ZS89Mix0LmVhY2hFZGdlKChmdW5jdGlvbih0LHMpe3ZhciBsPXQuZ2V0TGF5b3V0KCksdT10LmdldFZpc3VhbCgiZnJvbVN5bWJvbCIpLGg9dC5nZXRWaXN1YWwoInRvU3ltYm9sIik7bC5fX29yaWdpbmFsfHwobC5fX29yaWdpbmFsPVttdChsWzBdKSxtdChsWzFdKV0sbFsyXSYmbC5fX29yaWdpbmFsLnB1c2gobXQobFsyXSkpKTt2YXIgYz1sLl9fb3JpZ2luYWw7aWYobnVsbCE9bFsyXSl7aWYodnQoclswXSxjWzBdKSx2dChyWzFdLGNbMl0pLHZ0KHJbMl0sY1sxXSksdSYmIm5vbmUiIT09dSl7dmFyIHA9X0ModC5ub2RlMSksZD1qQyhyLGNbMF0scCplKTtpKHJbMF1bMF0sclsxXVswXSxyWzJdWzBdLGQsbiksclswXVswXT1uWzNdLHJbMV1bMF09bls0XSxpKHJbMF1bMV0sclsxXVsxXSxyWzJdWzFdLGQsbiksclswXVsxXT1uWzNdLHJbMV1bMV09bls0XX1pZihoJiYibm9uZSIhPT1oKXtwPV9DKHQubm9kZTIpLGQ9akMocixjWzFdLHAqZSk7aShyWzBdWzBdLHJbMV1bMF0sclsyXVswXSxkLG4pLHJbMV1bMF09blsxXSxyWzJdWzBdPW5bMl0saShyWzBdWzFdLHJbMV1bMV0sclsyXVsxXSxkLG4pLHJbMV1bMV09blsxXSxyWzJdWzFdPW5bMl19dnQobFswXSxyWzBdKSx2dChsWzFdLHJbMl0pLHZ0KGxbMl0sclsxXSl9ZWxzZXtpZih2dChvWzBdLGNbMF0pLHZ0KG9bMV0sY1sxXSksd3QoYSxvWzFdLG9bMF0pLER0KGEsYSksdSYmIm5vbmUiIT09dSl7cD1fQyh0Lm5vZGUxKTtidChvWzBdLG9bMF0sYSxwKmUpfWlmKGgmJiJub25lIiE9PWgpe3A9X0ModC5ub2RlMik7YnQob1sxXSxvWzFdLGEsLXAqZSl9dnQobFswXSxvWzBdKSx2dChsWzFdLG9bMV0pfX0pKX1mdW5jdGlvbiBLQyh0KXtyZXR1cm4idmlldyI9PT10LnR5cGV9dmFyICRDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbXcsaT1uZXcgVkMscj10aGlzLmdyb3VwO3RoaXMuX2NvbnRyb2xsZXI9bmV3IFdNKGUuZ2V0WnIoKSksdGhpcy5fY29udHJvbGxlckhvc3Q9e3RhcmdldDpyfSxyLmFkZChuLmdyb3VwKSxyLmFkZChpLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PW4sdGhpcy5fbGluZURyYXc9aSx0aGlzLl9maXJzdFJlbmRlcj0hMH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPXQ7dmFyIG89dGhpcy5fc3ltYm9sRHJhdyxhPXRoaXMuX2xpbmVEcmF3LHM9dGhpcy5ncm91cDtpZihLQyhyKSl7dmFyIGw9e3g6ci54LHk6ci55LHNjYWxlWDpyLnNjYWxlWCxzY2FsZVk6ci5zY2FsZVl9O3RoaXMuX2ZpcnN0UmVuZGVyP3MuYXR0cihsKTpIdShzLGwsdCl9cUModC5nZXRHcmFwaCgpLG1DKHQpKTt2YXIgdT10LmdldERhdGEoKTtvLnVwZGF0ZURhdGEodSk7dmFyIGg9dC5nZXRFZGdlRGF0YSgpO2EudXBkYXRlRGF0YShoKSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbiksY2xlYXJUaW1lb3V0KHRoaXMuX2xheW91dFRpbWVvdXQpO3ZhciBjPXQuZm9yY2VMYXlvdXQscD10LmdldChbImZvcmNlIiwibGF5b3V0QW5pbWF0aW9uIl0pO2MmJnRoaXMuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oYyxwKSx1LmdyYXBoLmVhY2hOb2RlKChmdW5jdGlvbih0KXt2YXIgZT10LmRhdGFJbmRleCxuPXQuZ2V0R3JhcGhpY0VsKCkscj10LmdldE1vZGVsKCk7bi5vZmYoImRyYWciKS5vZmYoImRyYWdlbmQiKTt2YXIgbz1yLmdldCgiZHJhZ2dhYmxlIik7byYmbi5vbigiZHJhZyIsKGZ1bmN0aW9uKCl7YyYmKGMud2FybVVwKCksIWkuX2xheW91dGluZyYmaS5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihjLHApLGMuc2V0Rml4ZWQoZSksdS5zZXRJdGVtTGF5b3V0KGUsW24ueCxuLnldKSl9KSkub24oImRyYWdlbmQiLChmdW5jdGlvbigpe2MmJmMuc2V0VW5maXhlZChlKX0pKSxuLnNldERyYWdnYWJsZShvJiYhIWMpLCJhZGphY2VuY3kiPT09ci5nZXQoWyJlbXBoYXNpcyIsImZvY3VzIl0pJiYoX3MobikuZm9jdXM9dC5nZXRBZGphY2VudERhdGFJbmRpY2VzKCkpfSkpLHUuZ3JhcGguZWFjaEVkZ2UoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGhpY0VsKCk7ImFkamFjZW5jeSI9PT10LmdldE1vZGVsKCkuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSYmKF9zKGUpLmZvY3VzPXtlZGdlOlt0LmRhdGFJbmRleF0sbm9kZTpbdC5ub2RlMS5kYXRhSW5kZXgsdC5ub2RlMi5kYXRhSW5kZXhdfSl9KSk7dmFyIGQ9ImNpcmN1bGFyIj09PXQuZ2V0KCJsYXlvdXQiKSYmdC5nZXQoWyJjaXJjdWxhciIsInJvdGF0ZUxhYmVsIl0pLGY9dS5nZXRMYXlvdXQoImN4IiksZz11LmdldExheW91dCgiY3kiKTt1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3ZhciBuPXUuZ2V0SXRlbU1vZGVsKGUpLmdldChbImxhYmVsIiwicm90YXRlIl0pfHwwLGk9dC5nZXRTeW1ib2xQYXRoKCk7aWYoZCl7dmFyIHI9dS5nZXRJdGVtTGF5b3V0KGUpLG89TWF0aC5hdGFuMihyWzFdLWcsclswXS1mKTtvPDAmJihvPTIqTWF0aC5QSStvKTt2YXIgYT1yWzBdPGY7YSYmKG8tPU1hdGguUEkpO3ZhciBzPWE/ImxlZnQiOiJyaWdodCI7aS5zZXRUZXh0Q29uZmlnKHtyb3RhdGlvbjotbyxwb3NpdGlvbjpzLG9yaWdpbjoiY2VudGVyIn0pO3ZhciBsPWkuZW5zdXJlU3RhdGUoImVtcGhhc2lzIik7SShsLnRleHRDb25maWd8fChsLnRleHRDb25maWc9e30pLHtwb3NpdGlvbjpzfSl9ZWxzZSBpLnNldFRleHRDb25maWcoe3JvdGF0aW9uOm4qPU1hdGguUEkvMTgwfSl9KSksdGhpcy5fZmlyc3RSZW5kZXI9ITF9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD1udWxsfSxlLnByb3RvdHlwZS5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uIGkoKXt0LnN0ZXAoKGZ1bmN0aW9uKHQpe24udXBkYXRlTGF5b3V0KG4uX21vZGVsKSwobi5fbGF5b3V0aW5nPSF0KSYmKGU/bi5fbGF5b3V0VGltZW91dD1zZXRUaW1lb3V0KGksMTYpOmkoKSl9KSl9KCl9LGUucHJvdG90eXBlLl91cGRhdGVDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dGhpcy5fY29udHJvbGxlcixvPXRoaXMuX2NvbnRyb2xsZXJIb3N0LGE9dGhpcy5ncm91cDtyLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbihlLGkscil7dmFyIG89YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gby5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksby5jb250YWluKGkscikmJiFLTShlLG4sdCl9KSksS0ModC5jb29yZGluYXRlU3lzdGVtKT8oci5lbmFibGUodC5nZXQoInJvYW0iKSksby56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxvLnpvb209dC5jb29yZGluYXRlU3lzdGVtLmdldFpvb20oKSxyLm9mZigicGFuIikub2ZmKCJ6b29tIikub24oInBhbiIsKGZ1bmN0aW9uKGUpe1pNKG8sZS5keCxlLmR5KSxuLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6ImdyYXBoUm9hbSIsZHg6ZS5keCxkeTplLmR5fSl9KSkub24oInpvb20iLChmdW5jdGlvbihlKXtqTShvLGUuc2NhbGUsZS5vcmlnaW5YLGUub3JpZ2luWSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJncmFwaFJvYW0iLHpvb206ZS5zY2FsZSxvcmlnaW5YOmUub3JpZ2luWCxvcmlnaW5ZOmUub3JpZ2luWX0pLGkuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGUoKSxxQyh0LmdldEdyYXBoKCksbUModCkpLGkuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpLG4udXBkYXRlTGFiZWxMYXlvdXQoKX0pKSk6ci5kaXNhYmxlKCl9LGUucHJvdG90eXBlLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbW9kZWwsZT10LmdldERhdGEoKSxuPW1DKHQpO2UuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dC5zZXRTeW1ib2xTY2FsZShuKX0pKX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQpe3FDKHQuZ2V0R3JhcGgoKSxtQyh0KSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCl9LGUudHlwZT0iZ3JhcGgiLGV9KFRmKTtmdW5jdGlvbiBKQyh0KXtyZXR1cm4iX0VDXyIrdH12YXIgUUM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudHlwZT0iZ3JhcGgiLHRoaXMubm9kZXM9W10sdGhpcy5lZGdlcz1bXSx0aGlzLl9ub2Rlc01hcD17fSx0aGlzLl9lZGdlc01hcD17fSx0aGlzLl9kaXJlY3RlZD10fHwhMX1yZXR1cm4gdC5wcm90b3R5cGUuaXNEaXJlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3RlZH0sdC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbih0LGUpe3Q9bnVsbD09dD8iIitlOiIiK3Q7dmFyIG49dGhpcy5fbm9kZXNNYXA7aWYoIW5bSkModCldKXt2YXIgaT1uZXcgdEQodCxlKTtyZXR1cm4gaS5ob3N0R3JhcGg9dGhpcyx0aGlzLm5vZGVzLnB1c2goaSksbltKQyh0KV09aSxpfX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLm5vZGVzW2VdfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbm9kZXNNYXBbSkModCldfSx0LnByb3RvdHlwZS5hZGRFZGdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9ub2Rlc01hcCxyPXRoaXMuX2VkZ2VzTWFwO2lmKCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9dGhpcy5ub2Rlc1t0XSksIm51bWJlciI9PXR5cGVvZiBlJiYoZT10aGlzLm5vZGVzW2VdKSx0IGluc3RhbmNlb2YgdER8fCh0PWlbSkModCldKSxlIGluc3RhbmNlb2YgdER8fChlPWlbSkMoZSldKSx0JiZlKXt2YXIgbz10LmlkKyItIitlLmlkLGE9bmV3IGVEKHQsZSxuKTtyZXR1cm4gYS5ob3N0R3JhcGg9dGhpcyx0aGlzLl9kaXJlY3RlZCYmKHQub3V0RWRnZXMucHVzaChhKSxlLmluRWRnZXMucHVzaChhKSksdC5lZGdlcy5wdXNoKGEpLHQhPT1lJiZlLmVkZ2VzLnB1c2goYSksdGhpcy5lZGdlcy5wdXNoKGEpLHJbb109YSxhfX0sdC5wcm90b3R5cGUuZ2V0RWRnZUJ5SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lZGdlRGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5lZGdlc1tlXX0sdC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbih0LGUpe3QgaW5zdGFuY2VvZiB0RCYmKHQ9dC5pZCksZSBpbnN0YW5jZW9mIHREJiYoZT1lLmlkKTt2YXIgbj10aGlzLl9lZGdlc01hcDtyZXR1cm4gdGhpcy5fZGlyZWN0ZWQ/blt0KyItIitlXTpuW3QrIi0iK2VdfHxuW2UrIi0iK3RdfSx0LnByb3RvdHlwZS5lYWNoTm9kZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLm5vZGVzLGk9bi5sZW5ndGgscj0wO3I8aTtyKyspbltyXS5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLG5bcl0scil9LHQucHJvdG90eXBlLmVhY2hFZGdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZWRnZXMsaT1uLmxlbmd0aCxyPTA7cjxpO3IrKyluW3JdLmRhdGFJbmRleD49MCYmbltyXS5ub2RlMS5kYXRhSW5kZXg+PTAmJm5bcl0ubm9kZTIuZGF0YUluZGV4Pj0wJiZ0LmNhbGwoZSxuW3JdLHIpfSx0LnByb3RvdHlwZS5icmVhZHRoRmlyc3RUcmF2ZXJzZT1mdW5jdGlvbih0LGUsbixpKXtpZihlIGluc3RhbmNlb2YgdER8fChlPXRoaXMuX25vZGVzTWFwW0pDKGUpXSksZSl7Zm9yKHZhciByPSJvdXQiPT09bj8ib3V0RWRnZXMiOiJpbiI9PT1uPyJpbkVkZ2VzIjoiZWRnZXMiLG89MDtvPHRoaXMubm9kZXMubGVuZ3RoO28rKyl0aGlzLm5vZGVzW29dLl9fdmlzaXRlZD0hMTtpZighdC5jYWxsKGksZSxudWxsKSlmb3IodmFyIGE9W2VdO2EubGVuZ3RoOyl7dmFyIHM9YS5zaGlmdCgpLGw9c1tyXTtmb3Iobz0wO288bC5sZW5ndGg7bysrKXt2YXIgdT1sW29dLGg9dS5ub2RlMT09PXM/dS5ub2RlMjp1Lm5vZGUxO2lmKCFoLl9fdmlzaXRlZCl7aWYodC5jYWxsKGksaCxzKSlyZXR1cm47YS5wdXNoKGgpLGguX192aXNpdGVkPSEwfX19fX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YSxlPXRoaXMuZWRnZURhdGEsbj10aGlzLm5vZGVzLGk9dGhpcy5lZGdlcyxyPTAsbz1uLmxlbmd0aDtyPG87cisrKW5bcl0uZGF0YUluZGV4PS0xO2ZvcihyPTAsbz10LmNvdW50KCk7cjxvO3IrKyluW3QuZ2V0UmF3SW5kZXgocildLmRhdGFJbmRleD1yO2UuZmlsdGVyU2VsZigoZnVuY3Rpb24odCl7dmFyIG49aVtlLmdldFJhd0luZGV4KHQpXTtyZXR1cm4gbi5ub2RlMS5kYXRhSW5kZXg+PTAmJm4ubm9kZTIuZGF0YUluZGV4Pj0wfSkpO2ZvcihyPTAsbz1pLmxlbmd0aDtyPG87cisrKWlbcl0uZGF0YUluZGV4PS0xO2ZvcihyPTAsbz1lLmNvdW50KCk7cjxvO3IrKylpW2UuZ2V0UmF3SW5kZXgocildLmRhdGFJbmRleD1yfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgdCh0aGlzLl9kaXJlY3RlZCksbj10aGlzLm5vZGVzLGk9dGhpcy5lZGdlcyxyPTA7cjxuLmxlbmd0aDtyKyspZS5hZGROb2RlKG5bcl0uaWQsbltyXS5kYXRhSW5kZXgpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07ZS5hZGRFZGdlKG8ubm9kZTEuaWQsby5ub2RlMi5pZCxvLmRhdGFJbmRleCl9cmV0dXJuIGV9LHR9KCksdEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5pbkVkZ2VzPVtdLHRoaXMub3V0RWRnZXM9W10sdGhpcy5lZGdlcz1bXSx0aGlzLmRhdGFJbmRleD0tMSx0aGlzLmlkPW51bGw9PXQ/IiI6dCx0aGlzLmRhdGFJbmRleD1udWxsPT1lPy0xOmV9cmV0dXJuIHQucHJvdG90eXBlLmRlZ3JlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VzLmxlbmd0aH0sdC5wcm90b3R5cGUuaW5EZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbkVkZ2VzLmxlbmd0aH0sdC5wcm90b3R5cGUub3V0RGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0RWRnZXMubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RHcmFwaC5kYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9LHQucHJvdG90eXBlLmdldEFkamFjZW50RGF0YUluZGljZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e2VkZ2U6W10sbm9kZTpbXX0sZT0wO2U8dGhpcy5lZGdlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmVkZ2VzW2VdO24uZGF0YUluZGV4PDB8fCh0LmVkZ2UucHVzaChuLmRhdGFJbmRleCksdC5ub2RlLnB1c2gobi5ub2RlMS5kYXRhSW5kZXgsbi5ub2RlMi5kYXRhSW5kZXgpKX1yZXR1cm4gdH0sdH0oKSxlRD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuZGF0YUluZGV4PS0xLHRoaXMubm9kZTE9dCx0aGlzLm5vZGUyPWUsdGhpcy5kYXRhSW5kZXg9bnVsbD09bj8tMTpufXJldHVybiB0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RHcmFwaC5lZGdlRGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLmdldE1vZGVsKHQpfSx0LnByb3RvdHlwZS5nZXRBZGphY2VudERhdGFJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJue2VkZ2U6W3RoaXMuZGF0YUluZGV4XSxub2RlOlt0aGlzLm5vZGUxLmRhdGFJbmRleCx0aGlzLm5vZGUyLmRhdGFJbmRleF19fSx0fSgpO2Z1bmN0aW9uIG5EKHQsZSl7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXNbdF1bZV07cmV0dXJuIGkuZ2V0KGkuZ2V0RGltZW5zaW9uKG58fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0VmlzdWFsOmZ1bmN0aW9uKG4saSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXNbdF1bZV0uc2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCxuLGkpfSxnZXRWaXN1YWw6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCxuKX0sc2V0TGF5b3V0OmZ1bmN0aW9uKG4saSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXNbdF1bZV0uc2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCxuLGkpfSxnZXRMYXlvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4KX0sZ2V0R3JhcGhpY0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbUdyYXBoaWNFbCh0aGlzLmRhdGFJbmRleCl9LGdldFJhd0luZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfX19ZnVuY3Rpb24gaUQodCxlLG4saSxyKXtmb3IodmFyIG89bmV3IFFDKGkpLGE9MDthPHQubGVuZ3RoO2ErKylvLmFkZE5vZGUoUSh0W2FdLmlkLHRbYV0ubmFtZSxhKSxhKTt2YXIgcz1bXSxsPVtdLHU9MDtmb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaD1lW2FdLGM9aC5zb3VyY2UscD1oLnRhcmdldDtvLmFkZEVkZ2UoYyxwLHUpJiYobC5wdXNoKGgpLHMucHVzaChRKENyKGguaWQsbnVsbCksYysiID4gIitwKSksdSsrKX12YXIgZCxmPW4uZ2V0KCJjb29yZGluYXRlU3lzdGVtIik7aWYoImNhcnRlc2lhbjJkIj09PWZ8fCJwb2xhciI9PT1mKWQ9Rl8odCxuKTtlbHNle3ZhciBnPUFwLmdldChmKSx5PWcmJmcuZGltZW5zaW9uc3x8W107RCh5LCJ2YWx1ZSIpPDAmJnkuY29uY2F0KFsidmFsdWUiXSk7dmFyIHY9T18odCx7Y29vcmREaW1lbnNpb25zOnl9KTsoZD1uZXcgTF8odixuKSkuaW5pdERhdGEodCl9dmFyIG09bmV3IExfKFsidmFsdWUiXSxuKTtyZXR1cm4gbS5pbml0RGF0YShsLHMpLHImJnIoZCxtKSxISSh7bWFpbkRhdGE6ZCxzdHJ1Y3Q6byxzdHJ1Y3RBdHRyOiJncmFwaCIsZGF0YXM6e25vZGU6ZCxlZGdlOm19LGRhdGFzQXR0cjp7bm9kZToiZGF0YSIsZWRnZToiZWRnZURhdGEifX0pLG8udXBkYXRlKCksb31MKHRELG5EKCJob3N0R3JhcGgiLCJkYXRhIikpLEwoZUQsbkQoImhvc3RHcmFwaCIsImVkZ2VEYXRhIikpO3ZhciByRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPXRoaXM7ZnVuY3Rpb24gaSgpe3JldHVybiBuLl9jYXRlZ29yaWVzRGF0YX10aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyBJUyhpLGkpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGJyKGUsImVkZ2VMYWJlbCIsWyJzaG93Il0pfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5lZGdlc3x8dC5saW5rc3x8W10scj10LmRhdGF8fHQubm9kZXN8fFtdLG89dGhpcztpZihyJiZpKXt1QyhuPXRoaXMpJiYobi5fX2N1cnZlbmVzc0xpc3Q9W10sbi5fX2VkZ2VNYXA9e30saEMobikpO3ZhciBhPWlEKHIsaSx0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCl7dmFyIGU9by5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pKTt2YXIgbj1PaC5wcm90b3R5cGUuZ2V0TW9kZWw7ZnVuY3Rpb24gaSh0LGUpe3ZhciBpPW4uY2FsbCh0aGlzLHQsZSk7cmV0dXJuIGkucmVzb2x2ZVBhcmVudFBhdGg9cixpfWZ1bmN0aW9uIHIodCl7aWYodCYmKCJsYWJlbCI9PT10WzBdfHwibGFiZWwiPT09dFsxXSkpe3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4ibGFiZWwiPT09dFswXT9lWzBdPSJlZGdlTGFiZWwiOiJsYWJlbCI9PT10WzFdJiYoZVsxXT0iZWRnZUxhYmVsIiksZX1yZXR1cm4gdH1lLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmVQYXJlbnRQYXRoPXIsdC5nZXRNb2RlbD1pLHR9KSl9KSk7cmV0dXJuIFAoYS5lZGdlcywoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHVDKG4pKXt2YXIgcj1jQyh0LGUsbiksbz1uLl9fZWRnZU1hcCxhPW9bcEMocildO29bcl0mJiFhP29bcl0uaXNGb3J3YXJkPSEwOmEmJm9bcl0mJihhLmlzRm9yd2FyZD0hMCxvW3JdLmlzRm9yd2FyZD0hMSksb1tyXT1vW3JdfHxbXSxvW3JdLnB1c2goaSl9fSh0Lm5vZGUxLHQubm9kZTIsdGhpcyx0LmRhdGFJbmRleCl9KSx0aGlzKSxhLmRhdGF9fSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZS5wcm90b3R5cGUuZ2V0RWRnZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzRGF0YX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7aWYoImVkZ2UiPT09bil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldERhdGFQYXJhbXModCxuKSxvPWkuZ3JhcGguZ2V0RWRnZUJ5SW5kZXgodCksYT1pLmdldE5hbWUoby5ub2RlMS5kYXRhSW5kZXgpLHM9aS5nZXROYW1lKG8ubm9kZTIuZGF0YUluZGV4KSxsPVtdO3JldHVybiBudWxsIT1hJiZsLnB1c2goYSksbnVsbCE9cyYmbC5wdXNoKHMpLHRmKCJuYW1lVmFsdWUiLHtuYW1lOmwuam9pbigiID4gIiksdmFsdWU6ci52YWx1ZSxub1ZhbHVlOm51bGw9PXIudmFsdWV9KX1yZXR1cm4gY2Yoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQudmFsdWU/dDpJKHt2YWx1ZTowfSx0KX0pKSxlPW5ldyBMXyhbInZhbHVlIl0sdGhpcyk7ZS5pbml0RGF0YSh0KSx0aGlzLl9jYXRlZ29yaWVzRGF0YT1lLHRoaXMuX2NhdGVnb3JpZXNNb2RlbHM9ZS5tYXBBcnJheSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQpfSkpfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5pc0FuaW1hdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkLmNhbGwodGhpcykmJiEoImZvcmNlIj09PXRoaXMuZ2V0KCJsYXlvdXQiKSYmdGhpcy5nZXQoWyJmb3JjZSIsImxheW91dEFuaW1hdGlvbiJdKSl9LGUudHlwZT0ic2VyaWVzLmdyYXBoIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjaXJjdWxhcjp7cm90YXRlTGFiZWw6ITF9LGZvcmNlOntpbml0TGF5b3V0Om51bGwscmVwdWxzaW9uOlswLDUwXSxncmF2aXR5Oi4xLGZyaWN0aW9uOi42LGVkZ2VMZW5ndGg6MzAsbGF5b3V0QW5pbWF0aW9uOiEwfSxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMCxlZGdlU3ltYm9sOlsibm9uZSIsIm5vbmUiXSxlZGdlU3ltYm9sU2l6ZToxMCxlZGdlTGFiZWw6e3Bvc2l0aW9uOiJtaWRkbGUiLGRpc3RhbmNlOjV9LGRyYWdnYWJsZTohMSxyb2FtOiExLGNlbnRlcjpudWxsLHpvb206MSxub2RlU2NhbGVSYXRpbzouNixsYWJlbDp7c2hvdzohMSxmb3JtYXR0ZXI6IntifSJ9LGl0ZW1TdHlsZTp7fSxsaW5lU3R5bGU6e2NvbG9yOiIjYWFhIix3aWR0aDoxLG9wYWNpdHk6LjV9LGVtcGhhc2lzOntzY2FsZTohMCxsYWJlbDp7c2hvdzohMH19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oZmYpLG9EPXt0eXBlOiJncmFwaFJvYW0iLGV2ZW50OiJncmFwaFJvYW0iLHVwZGF0ZToibm9uZSJ9O3ZhciBhRD1mdW5jdGlvbigpe3RoaXMuYW5nbGU9MCx0aGlzLndpZHRoPTEwLHRoaXMucj0xMCx0aGlzLng9MCx0aGlzLnk9MH0sc0Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJwb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhRH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MsaT1NYXRoLnNpbixyPWUucixvPWUud2lkdGgsYT1lLmFuZ2xlLHM9ZS54LW4oYSkqbyoobz49ci8zPzE6MiksbD1lLnktaShhKSpvKihvPj1yLzM/MToyKTthPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K24oYSkqbyxlLnkraShhKSpvKSx0LmxpbmVUbyhlLngrbihlLmFuZ2xlKSpyLGUueStpKGUuYW5nbGUpKnIpLHQubGluZVRvKGUueC1uKGEpKm8sZS55LWkoYSkqbyksdC5saW5lVG8ocyxsKX0sZX0oS2EpO2Z1bmN0aW9uIGxEKHQsZSl7dmFyIG49bnVsbD09dD8iIjp0KyIiO3JldHVybiBlJiYoInN0cmluZyI9PXR5cGVvZiBlP249ZS5yZXBsYWNlKCJ7dmFsdWV9IixuKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmKG49ZSh0KSkpLG59dmFyIHVEPTIqTWF0aC5QSSxoRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIGk9dC5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgiY2VudGVyIiksaT1lLmdldFdpZHRoKCkscj1lLmdldEhlaWdodCgpLG89TWF0aC5taW4oaSxyKTtyZXR1cm57Y3g6WmkoblswXSxlLmdldFdpZHRoKCkpLGN5OlppKG5bMV0sZS5nZXRIZWlnaHQoKSkscjpaaSh0LmdldCgicmFkaXVzIiksby8yKX19KHQsbik7dGhpcy5fcmVuZGVyTWFpbih0LGUsbixpLHIpLHRoaXMuX2RhdGE9dC5nZXREYXRhKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9yZW5kZXJNYWluPWZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBvPXRoaXMuZ3JvdXAsYT10LmdldCgiY2xvY2t3aXNlIikscz0tdC5nZXQoInN0YXJ0QW5nbGUiKS8xODAqTWF0aC5QSSxsPS10LmdldCgiZW5kQW5nbGUiKS8xODAqTWF0aC5QSSx1PXQuZ2V0TW9kZWwoImF4aXNMaW5lIiksaD11LmdldCgicm91bmRDYXAiKT9KdzpKbCxjPXUuZ2V0KCJzaG93IikscD11LmdldE1vZGVsKCJsaW5lU3R5bGUiKSxkPXAuZ2V0KCJ3aWR0aCIpLGY9KGwtcykldUR8fGw9PT1zPyhsLXMpJXVEOnVELGc9cyx5PTA7YyYmeTxpLmxlbmd0aDt5Kyspe3ZhciB2PW5ldyBoKHtzaGFwZTp7c3RhcnRBbmdsZTpnLGVuZEFuZ2xlOmw9cytmKk1hdGgubWluKE1hdGgubWF4KGlbeV1bMF0sMCksMSksY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTphLHIwOnIuci1kLHI6ci5yfSxzaWxlbnQ6ITB9KTt2LnNldFN0eWxlKHtmaWxsOmlbeV1bMV19KSx2LnNldFN0eWxlKHAuZ2V0TGluZVN0eWxlKFsiY29sb3IiLCJ3aWR0aCJdKSksby5hZGQodiksZz1sfXZhciBtPWZ1bmN0aW9uKHQpe2lmKHQ8PTApcmV0dXJuIGlbMF1bMV07dmFyIGU7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrKylpZihpW2VdWzBdPj10JiYoMD09PWU/MDppW2UtMV1bMF0pPHQpcmV0dXJuIGlbZV1bMV07cmV0dXJuIGlbZS0xXVsxXX07aWYoIWEpe3ZhciBfPXM7cz1sLGw9X310aGlzLl9yZW5kZXJUaWNrcyh0LGUsbixtLHIscyxsLGEsZCksdGhpcy5fcmVuZGVyVGl0bGVBbmREZXRhaWwodCxlLG4sbSxyKSx0aGlzLl9yZW5kZXJBbmNob3IodCxyKSx0aGlzLl9yZW5kZXJQb2ludGVyKHQsZSxuLG0scixzLGwsYSxkKX0sZS5wcm90b3R5cGUuX3JlbmRlclRpY2tzPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHUsaCxjPXRoaXMuZ3JvdXAscD1yLmN4LGQ9ci5jeSxmPXIucixnPSt0LmdldCgibWluIikseT0rdC5nZXQoIm1heCIpLHY9dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksbT10LmdldE1vZGVsKCJheGlzVGljayIpLF89dC5nZXRNb2RlbCgiYXhpc0xhYmVsIikseD10LmdldCgic3BsaXROdW1iZXIiKSxiPW0uZ2V0KCJzcGxpdE51bWJlciIpLHc9Wmkodi5nZXQoImxlbmd0aCIpLGYpLFM9WmkobS5nZXQoImxlbmd0aCIpLGYpLE09byxJPShhLW8pL3gsVD1JL2IsQz12LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxEPW0uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLEE9di5nZXQoImRpc3RhbmNlIiksTD0wO0w8PXg7TCsrKXtpZih1PU1hdGguY29zKE0pLGg9TWF0aC5zaW4oTSksdi5nZXQoInNob3ciKSl7dmFyIGs9bmV3IHV1KHtzaGFwZTp7eDE6dSooZi0oUD1BP0ErbDpsKSkrcCx5MTpoKihmLVApK2QseDI6dSooZi13LVApK3AseTI6aCooZi13LVApK2R9LHN0eWxlOkMsc2lsZW50OiEwfSk7ImF1dG8iPT09Qy5zdHJva2UmJmsuc2V0U3R5bGUoe3N0cm9rZTppKEwveCl9KSxjLmFkZChrKX1pZihfLmdldCgic2hvdyIpKXt2YXIgUD1fLmdldCgiZGlzdGFuY2UiKStBLE89bEQoamkoTC94Kih5LWcpK2cpLF8uZ2V0KCJmb3JtYXR0ZXIiKSksUj1pKEwveCk7Yy5hZGQobmV3IGNzKHtzdHlsZTpwaChfLHt0ZXh0Ok8seDp1KihmLXctUCkrcCx5OmgqKGYtdy1QKStkLHZlcnRpY2FsQWxpZ246aDwtLjg/InRvcCI6aD4uOD8iYm90dG9tIjoibWlkZGxlIixhbGlnbjp1PC0uND8ibGVmdCI6dT4uND8icmlnaHQiOiJjZW50ZXIifSx7aW5oZXJpdENvbG9yOlJ9KSxzaWxlbnQ6ITB9KSl9aWYobS5nZXQoInNob3ciKSYmTCE9PXgpe1A9KFA9bS5nZXQoImRpc3RhbmNlIikpP1ArbDpsO2Zvcih2YXIgTj0wO048PWI7TisrKXt1PU1hdGguY29zKE0pLGg9TWF0aC5zaW4oTSk7dmFyIHo9bmV3IHV1KHtzaGFwZTp7eDE6dSooZi1QKStwLHkxOmgqKGYtUCkrZCx4Mjp1KihmLVMtUCkrcCx5MjpoKihmLVMtUCkrZH0sc2lsZW50OiEwLHN0eWxlOkR9KTsiYXV0byI9PT1ELnN0cm9rZSYmei5zZXRTdHlsZSh7c3Ryb2tlOmkoKEwrTi9iKS94KX0pLGMuYWRkKHopLE0rPVR9TS09VH1lbHNlIE0rPUl9fSxlLnByb3RvdHlwZS5fcmVuZGVyUG9pbnRlcj1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHU9dGhpcy5ncm91cCxoPXRoaXMuX2RhdGEsYz10aGlzLl9wcm9ncmVzc0VscyxwPVtdLGQ9dC5nZXQoWyJwb2ludGVyIiwic2hvdyJdKSxmPXQuZ2V0TW9kZWwoInByb2dyZXNzIiksZz1mLmdldCgic2hvdyIpLHk9dC5nZXREYXRhKCksdj15Lm1hcERpbWVuc2lvbigidmFsdWUiKSxtPSt0LmdldCgibWluIiksXz0rdC5nZXQoIm1heCIpLHg9W20sX10sYj1bbyxhXTtmdW5jdGlvbiB3KGUsbil7dmFyIGksbz15LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgicG9pbnRlciIpLGE9Wmkoby5nZXQoIndpZHRoIiksci5yKSxzPVppKG8uZ2V0KCJsZW5ndGgiKSxyLnIpLGw9dC5nZXQoWyJwb2ludGVyIiwiaWNvbiJdKSx1PW8uZ2V0KCJvZmZzZXRDZW50ZXIiKSxoPVppKHVbMF0sci5yKSxjPVppKHVbMV0sci5yKSxwPW8uZ2V0KCJrZWVwQXNwZWN0Iik7cmV0dXJuKGk9bD9meShsLGgtYS8yLGMtcyxhLHMsbnVsbCxwKTpuZXcgc0Qoe3NoYXBlOnthbmdsZTotTWF0aC5QSS8yLHdpZHRoOmEscjpzLHg6aCx5OmN9fSkpLnJvdGF0aW9uPS0obitNYXRoLlBJLzIpLGkueD1yLmN4LGkueT1yLmN5LGl9ZnVuY3Rpb24gUyh0LGUpe3ZhciBuPWYuZ2V0KCJyb3VuZENhcCIpP0p3OkpsLGk9Zi5nZXQoIm92ZXJsYXAiKSxhPWk/Zi5nZXQoIndpZHRoIik6bC95LmNvdW50KCksdT1pP3Iuci1hOnIuci0odCsxKSphLGg9aT9yLnI6ci5yLXQqYSxjPW5ldyBuKHtzaGFwZTp7c3RhcnRBbmdsZTpvLGVuZEFuZ2xlOmUsY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTpzLHIwOnUscjpofX0pO3JldHVybiBpJiYoYy56Mj1fLXkuZ2V0KHYsdCklXyksY30oZ3x8ZCkmJih5LmRpZmYoaCkuYWRkKChmdW5jdGlvbihlKXtpZihkKXt2YXIgbj13KGUsbyk7V3Uobix7cm90YXRpb246LShZaSh5LmdldCh2LGUpLHgsYiwhMCkrTWF0aC5QSS8yKX0sdCksdS5hZGQobikseS5zZXRJdGVtR3JhcGhpY0VsKGUsbil9aWYoZyl7dmFyIGk9UyhlLG8pLHI9Zi5nZXQoImNsaXAiKTtXdShpLHtzaGFwZTp7ZW5kQW5nbGU6WWkoeS5nZXQodixlKSx4LGIscil9fSx0KSx1LmFkZChpKSxwW2VdPWl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXtpZihkKXt2YXIgaT1oLmdldEl0ZW1HcmFwaGljRWwobikscj1pP2kucm90YXRpb246byxhPXcoZSxyKTthLnJvdGF0aW9uPXIsSHUoYSx7cm90YXRpb246LShZaSh5LmdldCh2LGUpLHgsYiwhMCkrTWF0aC5QSS8yKX0sdCksdS5hZGQoYSkseS5zZXRJdGVtR3JhcGhpY0VsKGUsYSl9aWYoZyl7dmFyIHM9Y1tuXSxsPVMoZSxzP3Muc2hhcGUuZW5kQW5nbGU6byksbT1mLmdldCgiY2xpcCIpO0h1KGwse3NoYXBlOntlbmRBbmdsZTpZaSh5LmdldCh2LGUpLHgsYixtKX19LHQpLHUuYWRkKGwpLHBbZV09bH19KSkuZXhlY3V0ZSgpLHkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9eS5nZXRJdGVtTW9kZWwodCksbj1lLmdldE1vZGVsKCJlbXBoYXNpcyIpO2lmKGQpe3ZhciByPXkuZ2V0SXRlbUdyYXBoaWNFbCh0KSxvPXkuZ2V0SXRlbVZpc3VhbCh0LCJzdHlsZSIpLGE9by5maWxsO2lmKHIgaW5zdGFuY2VvZiBlcyl7dmFyIHM9ci5zdHlsZTtyLnVzZVN0eWxlKEkoe2ltYWdlOnMuaW1hZ2UseDpzLngseTpzLnksd2lkdGg6cy53aWR0aCxoZWlnaHQ6cy5oZWlnaHR9LG8pKX1lbHNlIHIudXNlU3R5bGUobyksInBvaW50ZXIiIT09ci50eXBlJiZyLnNldENvbG9yKGEpO3Iuc2V0U3R5bGUoZS5nZXRNb2RlbChbInBvaW50ZXIiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkpLCJhdXRvIj09PXIuc3R5bGUuZmlsbCYmci5zZXRTdHlsZSgiZmlsbCIsaShZaSh5LmdldCh2LHQpLHgsWzAsMV0sITApKSksci56MkVtcGhhc2lzTGlmdD0wLGNsKHIsZSksc2wocixuLmdldCgiZm9jdXMiKSxuLmdldCgiYmx1clNjb3BlIikpfWlmKGcpe3ZhciBsPXBbdF07bC51c2VTdHlsZSh5LmdldEl0ZW1WaXN1YWwodCwic3R5bGUiKSksbC5zZXRTdHlsZShlLmdldE1vZGVsKFsicHJvZ3Jlc3MiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkpLGwuejJFbXBoYXNpc0xpZnQ9MCxjbChsLGUpLHNsKGwsbi5nZXQoImZvY3VzIiksbi5nZXQoImJsdXJTY29wZSIpKX19KSksdGhpcy5fcHJvZ3Jlc3NFbHM9cCl9LGUucHJvdG90eXBlLl9yZW5kZXJBbmNob3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1vZGVsKCJhbmNob3IiKTtpZihuLmdldCgic2hvdyIpKXt2YXIgaT1uLmdldCgic2l6ZSIpLHI9bi5nZXQoImljb24iKSxvPW4uZ2V0KCJvZmZzZXRDZW50ZXIiKSxhPW4uZ2V0KCJrZWVwQXNwZWN0Iikscz1meShyLGUuY3gtaS8yK1ppKG9bMF0sZS5yKSxlLmN5LWkvMitaaShvWzFdLGUuciksaSxpLG51bGwsYSk7cy56Mj1uLmdldCgic2hvd0Fib3ZlIik/MTowLHMuc2V0U3R5bGUobi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHRoaXMuZ3JvdXAuYWRkKHMpfX0sZS5wcm90b3R5cGUuX3JlbmRlclRpdGxlQW5kRGV0YWlsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcyxhPXQuZ2V0RGF0YSgpLHM9YS5tYXBEaW1lbnNpb24oInZhbHVlIiksbD0rdC5nZXQoIm1pbiIpLHU9K3QuZ2V0KCJtYXgiKSxoPW5ldyBFaSxjPVtdLHA9W10sZD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpO2EuZGlmZih0aGlzLl9kYXRhKS5hZGQoKGZ1bmN0aW9uKHQpe2NbdF09bmV3IGNzKHtzaWxlbnQ6ITB9KSxwW3RdPW5ldyBjcyh7c2lsZW50OiEwfSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe2NbdF09by5fdGl0bGVFbHNbZV0scFt0XT1vLl9kZXRhaWxFbHNbZV19KSkuZXhlY3V0ZSgpLGEuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksbz1hLmdldChzLGUpLGY9bmV3IEVpLGc9aShZaShvLFtsLHVdLFswLDFdLCEwKSkseT1uLmdldE1vZGVsKCJ0aXRsZSIpO2lmKHkuZ2V0KCJzaG93Iikpe3ZhciB2PXkuZ2V0KCJvZmZzZXRDZW50ZXIiKSxtPXIuY3grWmkodlswXSxyLnIpLF89ci5jeStaaSh2WzFdLHIucik7KEM9Y1tlXSkuYXR0cih7c3R5bGU6cGgoeSx7eDptLHk6Xyx0ZXh0OmEuZ2V0TmFtZShlKSxhbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7aW5oZXJpdENvbG9yOmd9KX0pLGYuYWRkKEMpfXZhciB4PW4uZ2V0TW9kZWwoImRldGFpbCIpO2lmKHguZ2V0KCJzaG93Iikpe3ZhciBiPXguZ2V0KCJvZmZzZXRDZW50ZXIiKSx3PXIuY3grWmkoYlswXSxyLnIpLFM9ci5jeStaaShiWzFdLHIuciksTT1aaSh4LmdldCgid2lkdGgiKSxyLnIpLEk9WmkoeC5nZXQoImhlaWdodCIpLHIuciksVD10LmdldChbInByb2dyZXNzIiwic2hvdyJdKT9hLmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKS5maWxsOmcsQz1wW2VdLEQ9eC5nZXQoImZvcm1hdHRlciIpO0MuYXR0cih7c3R5bGU6cGgoeCx7eDp3LHk6Uyx0ZXh0OmxEKG8sRCksd2lkdGg6aXNOYU4oTSk/bnVsbDpNLGhlaWdodDppc05hTihJKT9udWxsOkksYWxpZ246ImNlbnRlciIsdmVydGljYWxBbGlnbjoibWlkZGxlIn0se2luaGVyaXRDb2xvcjpUfSl9KSx4aChDLHtub3JtYWw6eH0sbywoZnVuY3Rpb24odCl7cmV0dXJuIGxEKHQsRCl9KSksZCYmYmgoQyxlLGEsdCx7Z2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24odCxlLG4saSxyLGEpe3JldHVybiBsRChhP2EuaW50ZXJwb2xhdGVkVmFsdWU6byxEKX19KSxmLmFkZChDKX1oLmFkZChmKX0pKSx0aGlzLmdyb3VwLmFkZChoKSx0aGlzLl90aXRsZUVscz1jLHRoaXMuX2RldGFpbEVscz1wfSxlLnR5cGU9ImdhdWdlIixlfShUZiksY0Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0iaXRlbVN0eWxlIixuLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTVModGhpcyxbInZhbHVlIl0pfSxlLnR5cGU9InNlcmllcy5nYXVnZSIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY2VudGVyOlsiNTAlIiwiNTAlIl0sbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAscm91bmRDYXA6ITEsbGluZVN0eWxlOntjb2xvcjpbWzEsIiNFNkVCRjgiXV0sd2lkdGg6MTB9fSxwcm9ncmVzczp7c2hvdzohMSxvdmVybGFwOiEwLHdpZHRoOjEwLHJvdW5kQ2FwOiExLGNsaXA6ITB9LHNwbGl0TGluZTp7c2hvdzohMCxsZW5ndGg6MTAsZGlzdGFuY2U6MTAsbGluZVN0eWxlOntjb2xvcjoiIzYzNjc3QSIsd2lkdGg6Myx0eXBlOiJzb2xpZCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo2LGRpc3RhbmNlOjEwLGxpbmVTdHlsZTp7Y29sb3I6IiM2MzY3N0EiLHdpZHRoOjEsdHlwZToic29saWQifX0sYXhpc0xhYmVsOntzaG93OiEwLGRpc3RhbmNlOjE1LGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZToxMn0scG9pbnRlcjp7aWNvbjpudWxsLG9mZnNldENlbnRlcjpbMCwwXSxzaG93OiEwLGxlbmd0aDoiNjAlIix3aWR0aDo2LGtlZXBBc3BlY3Q6ITF9LGFuY2hvcjp7c2hvdzohMSxzaG93QWJvdmU6ITEsc2l6ZTo2LGljb246ImNpcmNsZSIsb2Zmc2V0Q2VudGVyOlswLDBdLGtlZXBBc3BlY3Q6ITEsaXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjoiIzU0NzBjNiJ9fSx0aXRsZTp7c2hvdzohMCxvZmZzZXRDZW50ZXI6WzAsIjIwJSJdLGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZToxNix2YWx1ZUFuaW1hdGlvbjohMX0sZGV0YWlsOntzaG93OiEwLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjoiI2NjYyIsd2lkdGg6MTAwLGhlaWdodDpudWxsLHBhZGRpbmc6WzUsMTBdLG9mZnNldENlbnRlcjpbMCwiNDAlIl0sY29sb3I6IiM0NjQ2NDYiLGZvbnRTaXplOjMwLGZvbnRXZWlnaHQ6ImJvbGQiLGxpbmVIZWlnaHQ6MzAsdmFsdWVBbmltYXRpb246ITF9fSxlfShmZik7dmFyIHBEPVsiaXRlbVN0eWxlIiwib3BhY2l0eSJdLGREPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXMscj1pLG89bmV3IGF1LGE9bmV3IGNzO3JldHVybiByLnNldFRleHRDb250ZW50KGEpLGkuc2V0VGV4dEd1aWRlTGluZShvKSxpLnVwZGF0ZURhdGEoZSxuLCEwKSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuaG9zdE1vZGVsLG89dC5nZXRJdGVtTW9kZWwoZSksYT10LmdldEl0ZW1MYXlvdXQoZSkscz1vLmdldE1vZGVsKCJlbXBoYXNpcyIpLGw9by5nZXQocEQpO2w9bnVsbD09bD8xOmwsaS51c2VTdHlsZSh0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSksaS5zdHlsZS5saW5lSm9pbj0icm91bmQiLG4/KGkuc2V0U2hhcGUoe3BvaW50czphLnBvaW50c30pLGkuc3R5bGUub3BhY2l0eT0wLFd1KGkse3N0eWxlOntvcGFjaXR5Omx9fSxyLGUpKTpIdShpLHtzdHlsZTp7b3BhY2l0eTpsfSxzaGFwZTp7cG9pbnRzOmEucG9pbnRzfX0scixlKSxjbChpLG8pLHRoaXMuX3VwZGF0ZUxhYmVsKHQsZSksc2wodGhpcyxzLmdldCgiZm9jdXMiKSxzLmdldCgiYmx1clNjb3BlIikpfSxlLnByb3RvdHlwZS5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5nZXRUZXh0R3VpZGVMaW5lKCkscj1uLmdldFRleHRDb250ZW50KCksbz10Lmhvc3RNb2RlbCxhPXQuZ2V0SXRlbU1vZGVsKGUpLHM9dC5nZXRJdGVtTGF5b3V0KGUpLmxhYmVsLGw9dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksdT1sLmZpbGw7aGgocixjaChhKSx7bGFiZWxGZXRjaGVyOnQuaG9zdE1vZGVsLGxhYmVsRGF0YUluZGV4OmUsZGVmYXVsdE9wYWNpdHk6bC5vcGFjaXR5LGRlZmF1bHRUZXh0OnQuZ2V0TmFtZShlKX0se25vcm1hbDp7YWxpZ246cy50ZXh0QWxpZ24sdmVydGljYWxBbGlnbjpzLnZlcnRpY2FsQWxpZ259fSksbi5zZXRUZXh0Q29uZmlnKHtsb2NhbDohMCxpbnNpZGU6ISFzLmluc2lkZSxpbnNpZGVTdHJva2U6dSxvdXRzaWRlRmlsbDp1fSk7dmFyIGg9cy5saW5lUG9pbnRzO2kuc2V0U2hhcGUoe3BvaW50czpofSksbi50ZXh0R3VpZGVMaW5lQ29uZmlnPXthbmNob3I6aD9uZXcgYWkoaFswXVswXSxoWzBdWzFdKTpudWxsfSxIdShyLHtzdHlsZTp7eDpzLngseTpzLnl9fSxvLGUpLHIuYXR0cih7cm90YXRpb246cy5yb3RhdGlvbixvcmlnaW5YOnMueCxvcmlnaW5ZOnMueSx6MjoxMH0pLEhnKG4sV2coYSkse3N0cm9rZTp1fSl9LGV9KHJ1KSxmRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaWdub3JlTGFiZWxMaW5lVXBkYXRlPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcy5fZGF0YSxvPXRoaXMuZ3JvdXA7aS5kaWZmKHIpLmFkZCgoZnVuY3Rpb24odCl7dmFyIGU9bmV3IGREKGksdCk7aS5zZXRJdGVtR3JhcGhpY0VsKHQsZSksby5hZGQoZSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0SXRlbUdyYXBoaWNFbChlKTtuLnVwZGF0ZURhdGEoaSx0KSxvLmFkZChuKSxpLnNldEl0ZW1HcmFwaGljRWwodCxuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKGUpe1l1KHIuZ2V0SXRlbUdyYXBoaWNFbChlKSx0LGUpfSkpLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPWl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnR5cGU9ImZ1bm5lbCIsZX0oVGYpLGdEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi51c2VDb2xvclBhbGV0dGVPbkRhdGE9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgSVMoVih0aGlzLmdldERhdGEsdGhpcyksVih0aGlzLmdldFJhd0RhdGEsdGhpcykpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUoZSl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1TKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOkIodXAsdGhpcyl9KX0sZS5wcm90b3R5cGUuX2RlZmF1bHRMYWJlbExpbmU9ZnVuY3Rpb24odCl7YnIodCwibGFiZWxMaW5lIixbInNob3ciXSk7dmFyIGU9dC5sYWJlbExpbmUsbj10LmVtcGhhc2lzLmxhYmVsTGluZTtlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLnNob3csbi5zaG93PW4uc2hvdyYmdC5lbXBoYXNpcy5sYWJlbC5zaG93fSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuZ2V0RGF0YSgpLGk9dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5jYWxsKHRoaXMsZSkscj1uLm1hcERpbWVuc2lvbigidmFsdWUiKSxvPW4uZ2V0U3VtKHIpO3JldHVybiBpLnBlcmNlbnQ9bz8rKG4uZ2V0KHIsZSkvbyoxMDApLnRvRml4ZWQoMik6MCxpLiR2YXJzLnB1c2goInBlcmNlbnQiKSxpfSxlLnR5cGU9InNlcmllcy5mdW5uZWwiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbWluU2l6ZToiMCUiLG1heFNpemU6IjEwMCUiLHNvcnQ6ImRlc2NlbmRpbmciLG9yaWVudDoidmVydGljYWwiLGdhcDowLGZ1bm5lbEFsaWduOiJjZW50ZXIiLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJvdXRlciJ9LGxhYmVsTGluZTp7c2hvdzohMCxsZW5ndGg6MjAsbGluZVN0eWxlOnt3aWR0aDoxfX0saXRlbVN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19fSxlfShmZik7ZnVuY3Rpb24geUQodCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoImZ1bm5lbCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9bi5tYXBEaW1lbnNpb24oInZhbHVlIikscj10LmdldCgic29ydCIpLG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gVmModC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9KHQsZSksYT10LmdldCgib3JpZW50Iikscz1vLndpZHRoLGw9by5oZWlnaHQsdT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxpPXQubWFwQXJyYXkobiwoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkscj1bXSxvPSJhc2NlbmRpbmciPT09ZSxhPTAscz10LmNvdW50KCk7YTxzO2ErKylyW2FdPWE7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/ci5zb3J0KGUpOiJub25lIiE9PWUmJnIuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbz9pW3RdLWlbZV06aVtlXS1pW3RdfSkpLHJ9KG4sciksaD1vLngsYz1vLnkscD0iaG9yaXpvbnRhbCI9PT1hP1taaSh0LmdldCgibWluU2l6ZSIpLGwpLFppKHQuZ2V0KCJtYXhTaXplIiksbCldOltaaSh0LmdldCgibWluU2l6ZSIpLHMpLFppKHQuZ2V0KCJtYXhTaXplIikscyldLGQ9bi5nZXREYXRhRXh0ZW50KGkpLGY9dC5nZXQoIm1pbiIpLGc9dC5nZXQoIm1heCIpO251bGw9PWYmJihmPU1hdGgubWluKGRbMF0sMCkpLG51bGw9PWcmJihnPWRbMV0pO3ZhciB5PXQuZ2V0KCJmdW5uZWxBbGlnbiIpLHY9dC5nZXQoImdhcCIpLG09KCgiaG9yaXpvbnRhbCI9PT1hP3M6bCktdioobi5jb3VudCgpLTEpKS9uLmNvdW50KCksXz1mdW5jdGlvbih0LGUpe2lmKCJob3Jpem9udGFsIj09PWEpe3ZhciByPVlpKG4uZ2V0KGksdCl8fDAsW2YsZ10scCwhMCksbz12b2lkIDA7c3dpdGNoKHkpe2Nhc2UidG9wIjpvPWM7YnJlYWs7Y2FzZSJjZW50ZXIiOm89YysobC1yKS8yO2JyZWFrO2Nhc2UiYm90dG9tIjpvPWMrKGwtcil9cmV0dXJuW1tlLG9dLFtlLG8rcl1dfXZhciB1LGQ9WWkobi5nZXQoaSx0KXx8MCxbZixnXSxwLCEwKTtzd2l0Y2goeSl7Y2FzZSJsZWZ0Ijp1PWg7YnJlYWs7Y2FzZSJjZW50ZXIiOnU9aCsocy1kKS8yO2JyZWFrO2Nhc2UicmlnaHQiOnU9aCtzLWR9cmV0dXJuW1t1LGVdLFt1K2QsZV1dfTsiYXNjZW5kaW5nIj09PXImJihtPS1tLHY9LXYsImhvcml6b250YWwiPT09YT9oKz1zOmMrPWwsdT11LnJldmVyc2UoKSk7Zm9yKHZhciB4PTA7eDx1Lmxlbmd0aDt4Kyspe3ZhciBiPXVbeF0sdz11W3grMV0sUz1uLmdldEl0ZW1Nb2RlbChiKTtpZigiaG9yaXpvbnRhbCI9PT1hKXt2YXIgTT1TLmdldChbIml0ZW1TdHlsZSIsIndpZHRoIl0pO251bGw9PU0/TT1tOihNPVppKE0scyksImFzY2VuZGluZyI9PT1yJiYoTT0tTSkpO3ZhciBJPV8oYixoKSxUPV8odyxoK00pO2grPU0rdixuLnNldEl0ZW1MYXlvdXQoYix7cG9pbnRzOkkuY29uY2F0KFQuc2xpY2UoKS5yZXZlcnNlKCkpfSl9ZWxzZXt2YXIgQz1TLmdldChbIml0ZW1TdHlsZSIsImhlaWdodCJdKTtudWxsPT1DP0M9bTooQz1aaShDLGwpLCJhc2NlbmRpbmciPT09ciYmKEM9LUMpKTtJPV8oYixjKSxUPV8odyxjK0MpO2MrPUMrdixuLnNldEl0ZW1MYXlvdXQoYix7cG9pbnRzOkkuY29uY2F0KFQuc2xpY2UoKS5yZXZlcnNlKCkpfSl9fSFmdW5jdGlvbih0KXt2YXIgZT10Lmhvc3RNb2RlbC5nZXQoIm9yaWVudCIpO3QuZWFjaCgoZnVuY3Rpb24obil7dmFyIGkscixvLGEscz10LmdldEl0ZW1Nb2RlbChuKSxsPXMuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJwb3NpdGlvbiIpLHU9cy5nZXRNb2RlbCgibGFiZWxMaW5lIiksaD10LmdldEl0ZW1MYXlvdXQobiksYz1oLnBvaW50cyxwPSJpbm5lciI9PT1sfHwiaW5zaWRlIj09PWx8fCJjZW50ZXIiPT09bHx8Imluc2lkZUxlZnQiPT09bHx8Imluc2lkZVJpZ2h0Ij09PWw7aWYocCkiaW5zaWRlTGVmdCI9PT1sPyhyPShjWzBdWzBdK2NbM11bMF0pLzIrNSxvPShjWzBdWzFdK2NbM11bMV0pLzIsaT0ibGVmdCIpOiJpbnNpZGVSaWdodCI9PT1sPyhyPShjWzFdWzBdK2NbMl1bMF0pLzItNSxvPShjWzFdWzFdK2NbMl1bMV0pLzIsaT0icmlnaHQiKToocj0oY1swXVswXStjWzFdWzBdK2NbMl1bMF0rY1szXVswXSkvNCxvPShjWzBdWzFdK2NbMV1bMV0rY1syXVsxXStjWzNdWzFdKS80LGk9ImNlbnRlciIpLGE9W1tyLG9dLFtyLG9dXTtlbHNle3ZhciBkPXZvaWQgMCxmPXZvaWQgMCxnPXZvaWQgMCx5PXZvaWQgMCx2PXUuZ2V0KCJsZW5ndGgiKTsibGVmdCI9PT1sPyhkPShjWzNdWzBdK2NbMF1bMF0pLzIsZj0oY1szXVsxXStjWzBdWzFdKS8yLHI9KGc9ZC12KS01LGk9InJpZ2h0Iik6InJpZ2h0Ij09PWw/KGQ9KGNbMV1bMF0rY1syXVswXSkvMixmPShjWzFdWzFdK2NbMl1bMV0pLzIscj0oZz1kK3YpKzUsaT0ibGVmdCIpOiJ0b3AiPT09bD8oZD0oY1szXVswXStjWzBdWzBdKS8yLG89KHk9KGY9KGNbM11bMV0rY1swXVsxXSkvMiktdiktNSxpPSJjZW50ZXIiKToiYm90dG9tIj09PWw/KGQ9KGNbMV1bMF0rY1syXVswXSkvMixvPSh5PShmPShjWzFdWzFdK2NbMl1bMV0pLzIpK3YpKzUsaT0iY2VudGVyIik6InJpZ2h0VG9wIj09PWw/KGQ9Imhvcml6b250YWwiPT09ZT9jWzNdWzBdOmNbMV1bMF0sZj0iaG9yaXpvbnRhbCI9PT1lP2NbM11bMV06Y1sxXVsxXSwiaG9yaXpvbnRhbCI9PT1lPyhvPSh5PWYtdiktNSxpPSJjZW50ZXIiKToocj0oZz1kK3YpKzUsaT0idG9wIikpOiJyaWdodEJvdHRvbSI9PT1sPyhkPWNbMl1bMF0sZj1jWzJdWzFdLCJob3Jpem9udGFsIj09PWU/KG89KHk9Zit2KSs1LGk9ImNlbnRlciIpOihyPShnPWQrdikrNSxpPSJib3R0b20iKSk6ImxlZnRUb3AiPT09bD8oZD1jWzBdWzBdLGY9Imhvcml6b250YWwiPT09ZT9jWzBdWzFdOmNbMV1bMV0sImhvcml6b250YWwiPT09ZT8obz0oeT1mLXYpLTUsaT0iY2VudGVyIik6KHI9KGc9ZC12KS01LGk9InJpZ2h0IikpOiJsZWZ0Qm90dG9tIj09PWw/KGQ9Imhvcml6b250YWwiPT09ZT9jWzFdWzBdOmNbM11bMF0sZj0iaG9yaXpvbnRhbCI9PT1lP2NbMV1bMV06Y1syXVsxXSwiaG9yaXpvbnRhbCI9PT1lPyhvPSh5PWYrdikrNSxpPSJjZW50ZXIiKToocj0oZz1kLXYpLTUsaT0icmlnaHQiKSk6KGQ9KGNbMV1bMF0rY1syXVswXSkvMixmPShjWzFdWzFdK2NbMl1bMV0pLzIsImhvcml6b250YWwiPT09ZT8obz0oeT1mK3YpKzUsaT0iY2VudGVyIik6KHI9KGc9ZCt2KSs1LGk9ImxlZnQiKSksImhvcml6b250YWwiPT09ZT9yPWc9ZDpvPXk9ZixhPVtbZCxmXSxbZyx5XV19aC5sYWJlbD17bGluZVBvaW50czphLHg6cix5Om8sdmVydGljYWxBbGlnbjoibWlkZGxlIix0ZXh0QWxpZ246aSxpbnNpZGU6cH19KSl9KG4pfSkpfXZhciB2RD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2RhdGFHcm91cD1uZXcgRWksbi5faW5pdGlhbGl6ZWQ9ITEsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLmFkZCh0aGlzLl9kYXRhR3JvdXApfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5fZGF0YUdyb3VwLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHM9dC5jb29yZGluYXRlU3lzdGVtLGw9cy5kaW1lbnNpb25zLHU9eEQodCk7aWYoby5kaWZmKGEpLmFkZCgoZnVuY3Rpb24odCl7YkQoX0QobyxyLHQsbCxzKSxvLHQsdSl9KSkudXBkYXRlKChmdW5jdGlvbihlLG4pe3ZhciBpPWEuZ2V0SXRlbUdyYXBoaWNFbChuKSxyPW1EKG8sZSxsLHMpO28uc2V0SXRlbUdyYXBoaWNFbChlLGkpLEh1KGkse3NoYXBlOntwb2ludHM6cn19LHQsZSksYkQoaSxvLGUsdSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ci5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLCF0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITA7dmFyIGg9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQubW9kZWwscj10LmdldFJlY3QoKSxvPW5ldyBscyh7c2hhcGU6e3g6ci54LHk6ci55LHdpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fX0pLGE9Imhvcml6b250YWwiPT09aS5nZXQoImxheW91dCIpPyJ3aWR0aCI6ImhlaWdodCI7cmV0dXJuIG8uc2V0U2hhcGUoYSwwKSxXdShvLHtzaGFwZTp7d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9fSxlLG4pLG99KHMsdCwoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IucmVtb3ZlQ2xpcFBhdGgoKX0pKX0pKTtyLnNldENsaXBQYXRoKGgpfXRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9kYXRhPW51bGwsdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPWUuZ2V0RGF0YSgpLHI9ZS5jb29yZGluYXRlU3lzdGVtLG89ci5kaW1lbnNpb25zLGE9eEQoZSkscz10LnN0YXJ0O3M8dC5lbmQ7cysrKXt2YXIgbD1fRChpLHRoaXMuX2RhdGFHcm91cCxzLG8scik7bC5pbmNyZW1lbnRhbD0hMCxiRChsLGkscyxhKX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2RhdGFHcm91cCYmdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPSJwYXJhbGxlbCIsZX0oVGYpO2Z1bmN0aW9uIG1EKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9blthXSxsPXQuZ2V0KHQubWFwRGltZW5zaW9uKHMpLGUpO3I9bCwoImNhdGVnb3J5Ij09PWkuZ2V0QXhpcyhzKS50eXBlP251bGw9PXI6bnVsbD09cnx8aXNOYU4ocikpfHxvLnB1c2goaS5kYXRhVG9Qb2ludChsLHMpKX1yZXR1cm4gb31mdW5jdGlvbiBfRCh0LGUsbixpLHIpe3ZhciBvPW1EKHQsbixpLHIpLGE9bmV3IGF1KHtzaGFwZTp7cG9pbnRzOm99LHoyOjEwfSk7cmV0dXJuIGUuYWRkKGEpLHQuc2V0SXRlbUdyYXBoaWNFbChuLGEpLGF9ZnVuY3Rpb24geEQodCl7dmFyIGU9dC5nZXQoInNtb290aCIsITApO3JldHVybiEwPT09ZSYmKGU9LjMpLEooZT1jcihlKSkmJihlPTApLHtzbW9vdGg6ZX19ZnVuY3Rpb24gYkQodCxlLG4saSl7dC51c2VTdHlsZShlLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSksdC5zdHlsZS5maWxsPW51bGwsdC5zZXRTaGFwZSgic21vb3RoIixpLnNtb290aCk7dmFyIHI9ZS5nZXRJdGVtTW9kZWwobiksbz1yLmdldE1vZGVsKCJlbXBoYXNpcyIpO2NsKHQsciwibGluZVN0eWxlIiksc2wodCxvLmdldCgiZm9jdXMiKSxvLmdldCgiYmx1clNjb3BlIikpfXZhciB3RD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4udmlzdWFsU3R5bGVBY2Nlc3NQYXRoPSJsaW5lU3R5bGUiLG4udmlzdWFsRHJhd1R5cGU9InN0cm9rZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZfKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOlYoU0QsbnVsbCx0aGlzKX0pfSxlLnByb3RvdHlwZS5nZXRSYXdJbmRpY2VzQnlBY3RpdmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj10aGlzLmdldERhdGEoKSxpPVtdO3JldHVybiBlLmVhY2hBY3RpdmVTdGF0ZShuLChmdW5jdGlvbihlLHIpe3Q9PT1lJiZpLnB1c2gobi5nZXRSYXdJbmRleChyKSl9KSksaX0sZS50eXBlPSJzZXJpZXMucGFyYWxsZWwiLGUuZGVwZW5kZW5jaWVzPVsicGFyYWxsZWwiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJwYXJhbGxlbCIscGFyYWxsZWxJbmRleDowLGxhYmVsOntzaG93OiExfSxpbmFjdGl2ZU9wYWNpdHk6LjA1LGFjdGl2ZU9wYWNpdHk6MSxsaW5lU3R5bGU6e3dpZHRoOjEsb3BhY2l0eTouNDUsdHlwZToic29saWQifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITF9fSxwcm9ncmVzc2l2ZTo1MDAsc21vb3RoOiExLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIn0sZX0oZmYpO2Z1bmN0aW9uIFNEKHQpe3ZhciBlPXQuZWNNb2RlbC5nZXRDb21wb25lbnQoInBhcmFsbGVsIix0LmdldCgicGFyYWxsZWxJbmRleCIpKTtpZihlKXt2YXIgbj17fTtyZXR1cm4gUChlLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBlPSt0LnJlcGxhY2UoImRpbSIsIiIpO25bdF09ZX0pKSxufX12YXIgTUQ9WyJsaW5lU3R5bGUiLCJvcGFjaXR5Il0sSUQ9e3Nlcmllc1R5cGU6InBhcmFsbGVsIixyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXtub3JtYWw6dC5nZXQoWyJsaW5lU3R5bGUiLCJvcGFjaXR5Il0pLGFjdGl2ZTp0LmdldCgiYWN0aXZlT3BhY2l0eSIpLGluYWN0aXZlOnQuZ2V0KCJpbmFjdGl2ZU9wYWNpdHkiKX07cmV0dXJue3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7bi5lYWNoQWN0aXZlU3RhdGUoZSwoZnVuY3Rpb24odCxuKXt2YXIgcj1pW3RdO2lmKCJub3JtYWwiPT09dCYmZS5oYXNJdGVtT3B0aW9uKXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChuKS5nZXQoTUQsITApO251bGwhPW8mJihyPW8pfWUuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChuLCJzdHlsZSIpLm9wYWNpdHk9cn0pLHQuc3RhcnQsdC5lbmQpfX19fTtmdW5jdGlvbiBURCh0KXshZnVuY3Rpb24odCl7aWYodC5wYXJhbGxlbClyZXR1cm47dmFyIGU9ITE7UCh0LnNlcmllcywoZnVuY3Rpb24odCl7dCYmInBhcmFsbGVsIj09PXQudHlwZSYmKGU9ITApfSkpLGUmJih0LnBhcmFsbGVsPVt7fV0pfSh0KSxmdW5jdGlvbih0KXtQKHhyKHQucGFyYWxsZWxBeGlzKSwoZnVuY3Rpb24oZSl7aWYoWChlKSl7dmFyIG49ZS5wYXJhbGxlbEluZGV4fHwwLGk9eHIodC5wYXJhbGxlbClbbl07aSYmaS5wYXJhbGxlbEF4aXNEZWZhdWx0JiZTKGUsaS5wYXJhbGxlbEF4aXNEZWZhdWx0LCExKX19KSl9KHQpfXZhciBDRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX21vZGVsPXQsdGhpcy5fYXBpPW4sdGhpcy5faGFuZGxlcnN8fCh0aGlzLl9oYW5kbGVycz17fSxQKERELChmdW5jdGlvbih0LGUpe24uZ2V0WnIoKS5vbihlLHRoaXMuX2hhbmRsZXJzW2VdPVYodCx0aGlzKSl9KSx0aGlzKSksemYodGhpcywiX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kIix0LmdldCgiYXhpc0V4cGFuZFJhdGUiKSwiZml4UmF0ZSIpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7UCh0aGlzLl9oYW5kbGVycywoZnVuY3Rpb24odCxuKXtlLmdldFpyKCkub2ZmKG4sdCl9KSksdGhpcy5faGFuZGxlcnM9bnVsbH0sZS5wcm90b3R5cGUuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kPWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3BhdGNoRXhwYW5kKHQpfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hFeHBhbmQ9ZnVuY3Rpb24odCl7dCYmdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKEkoe3R5cGU6InBhcmFsbGVsQXhpc0V4cGFuZCJ9LHQpKX0sZS50eXBlPSJwYXJhbGxlbCIsZX0od2YpLEREPXttb3VzZWRvd246ZnVuY3Rpb24odCl7QUQodGhpcywiY2xpY2siKSYmKHRoaXMuX21vdXNlRG93blBvaW50PVt0Lm9mZnNldFgsdC5vZmZzZXRZXSl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW91c2VEb3duUG9pbnQ7aWYoQUQodGhpcywiY2xpY2siKSYmZSl7dmFyIG49W3Qub2Zmc2V0WCx0Lm9mZnNldFldO2lmKE1hdGgucG93KGVbMF0tblswXSwyKStNYXRoLnBvdyhlWzFdLW5bMV0sMik+NSlyZXR1cm47dmFyIGk9dGhpcy5fbW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93KFt0Lm9mZnNldFgsdC5vZmZzZXRZXSk7Im5vbmUiIT09aS5iZWhhdmlvciYmdGhpcy5fZGlzcGF0Y2hFeHBhbmQoe2F4aXNFeHBhbmRXaW5kb3c6aS5heGlzRXhwYW5kV2luZG93fSl9dGhpcy5fbW91c2VEb3duUG9pbnQ9bnVsbH0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9tb3VzZURvd25Qb2ludCYmQUQodGhpcywibW91c2Vtb3ZlIikpe3ZhciBlPXRoaXMuX21vZGVsLG49ZS5jb29yZGluYXRlU3lzdGVtLmdldFNsaWRlZEF4aXNFeHBhbmRXaW5kb3coW3Qub2Zmc2V0WCx0Lm9mZnNldFldKSxpPW4uYmVoYXZpb3I7Imp1bXAiPT09aSYmdGhpcy5fdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQuZGVib3VuY2VOZXh0Q2FsbChlLmdldCgiYXhpc0V4cGFuZERlYm91bmNlIikpLHRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kKCJub25lIj09PWk/bnVsbDp7YXhpc0V4cGFuZFdpbmRvdzpuLmF4aXNFeHBhbmRXaW5kb3csYW5pbWF0aW9uOiJqdW1wIj09PWk/bnVsbDp7ZHVyYXRpb246MH19KX19fTtmdW5jdGlvbiBBRCh0LGUpe3ZhciBuPXQuX21vZGVsO3JldHVybiBuLmdldCgiYXhpc0V4cGFuZGFibGUiKSYmbi5nZXQoImF4aXNFeHBhbmRUcmlnZ2VyT24iKT09PWV9dmFyIExEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm1lcmdlT3B0aW9uKHt9KX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247dCYmUyhlLHQsITApLHRoaXMuX2luaXREaW1lbnNpb25zKCl9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoInBhcmFsbGVsSW5kZXgiKTtyZXR1cm4gbnVsbCE9biYmZS5nZXRDb21wb25lbnQoInBhcmFsbGVsIixuKT09PXRoaXN9LGUucHJvdG90eXBlLnNldEF4aXNFeHBhbmQ9ZnVuY3Rpb24odCl7UChbImF4aXNFeHBhbmRhYmxlIiwiYXhpc0V4cGFuZENlbnRlciIsImF4aXNFeHBhbmRDb3VudCIsImF4aXNFeHBhbmRXaWR0aCIsImF4aXNFeHBhbmRXaW5kb3ciXSwoZnVuY3Rpb24oZSl7dC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMub3B0aW9uW2VdPXRbZV0pfSksdGhpcyl9LGUucHJvdG90eXBlLl9pbml0RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGltZW5zaW9ucz1bXSxlPXRoaXMucGFyYWxsZWxBeGlzSW5kZXg9W107UChOKHRoaXMuZWNNb2RlbC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJwYXJhbGxlbEF4aXMifSksKGZ1bmN0aW9uKHQpe3JldHVybih0LmdldCgicGFyYWxsZWxJbmRleCIpfHwwKT09PXRoaXMuY29tcG9uZW50SW5kZXh9KSx0aGlzKSwoZnVuY3Rpb24obil7dC5wdXNoKCJkaW0iK24uZ2V0KCJkaW0iKSksZS5wdXNoKG4uY29tcG9uZW50SW5kZXgpfSkpfSxlLnR5cGU9InBhcmFsbGVsIixlLmRlcGVuZGVuY2llcz1bInBhcmFsbGVsQXhpcyJdLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbGF5b3V0OiJob3Jpem9udGFsIixheGlzRXhwYW5kYWJsZTohMSxheGlzRXhwYW5kQ2VudGVyOm51bGwsYXhpc0V4cGFuZENvdW50OjAsYXhpc0V4cGFuZFdpZHRoOjUwLGF4aXNFeHBhbmRSYXRlOjE3LGF4aXNFeHBhbmREZWJvdW5jZTo1MCxheGlzRXhwYW5kU2xpZGVUcmlnZ2VyQXJlYTpbLS4xNSwuMDUsLjRdLGF4aXNFeHBhbmRUcmlnZ2VyT246ImNsaWNrIixwYXJhbGxlbEF4aXNEZWZhdWx0Om51bGx9LGV9KFhjKSxrRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBhLnR5cGU9cnx8InZhbHVlIixhLmF4aXNJbmRleD1vLGF9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCIhPT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0TW9kZWwoKS5nZXQoImxheW91dCIpfSxlfShoYik7ZnVuY3Rpb24gUEQodCxlLG4saSxyLG8pe3Q9dHx8MDt2YXIgYT1uWzFdLW5bMF07aWYobnVsbCE9ciYmKHI9UkQocixbMCxhXSkpLG51bGwhPW8mJihvPU1hdGgubWF4KG8sbnVsbCE9cj9yOjApKSwiYWxsIj09PWkpe3ZhciBzPU1hdGguYWJzKGVbMV0tZVswXSk7cz1SRChzLFswLGFdKSxyPW89UkQocyxbcixvXSksaT0wfWVbMF09UkQoZVswXSxuKSxlWzFdPVJEKGVbMV0sbik7dmFyIGw9T0QoZSxpKTtlW2ldKz10O3ZhciB1LGg9cnx8MCxjPW4uc2xpY2UoKTtyZXR1cm4gbC5zaWduPDA/Y1swXSs9aDpjWzFdLT1oLGVbaV09UkQoZVtpXSxjKSx1PU9EKGUsaSksbnVsbCE9ciYmKHUuc2lnbiE9PWwuc2lnbnx8dS5zcGFuPHIpJiYoZVsxLWldPWVbaV0rbC5zaWduKnIpLHU9T0QoZSxpKSxudWxsIT1vJiZ1LnNwYW4+byYmKGVbMS1pXT1lW2ldK3Uuc2lnbipvKSxlfWZ1bmN0aW9uIE9EKHQsZSl7dmFyIG49dFtlXS10WzEtZV07cmV0dXJue3NwYW46TWF0aC5hYnMobiksc2lnbjpuPjA/LTE6bjwwPzE6ZT8tMToxfX1mdW5jdGlvbiBSRCh0LGUpe3JldHVybiBNYXRoLm1pbihudWxsIT1lWzFdP2VbMV06MS8wLE1hdGgubWF4KG51bGwhPWVbMF0/ZVswXTotMS8wLHQpKX12YXIgTkQ9UCx6RD1NYXRoLm1pbixFRD1NYXRoLm1heCxWRD1NYXRoLmZsb29yLEJEPU1hdGguY2VpbCxGRD1qaSxHRD1NYXRoLlBJLEhEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy50eXBlPSJwYXJhbGxlbCIsdGhpcy5fYXhlc01hcD1odCgpLHRoaXMuX2F4ZXNMYXlvdXQ9e30sdGhpcy5kaW1lbnNpb25zPXQuZGltZW5zaW9ucyx0aGlzLl9tb2RlbD10LHRoaXMuX2luaXQodCxlLG4pfXJldHVybiB0LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5kaW1lbnNpb25zLHI9dC5wYXJhbGxlbEF4aXNJbmRleDtORChpLChmdW5jdGlvbih0LG4pe3ZhciBpPXJbbl0sbz1lLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIixpKSxhPXRoaXMuX2F4ZXNNYXAuc2V0KHQsbmV3IGtEKHQsQngobyksWzAsMF0sby5nZXQoInR5cGUiKSxpKSkscz0iY2F0ZWdvcnkiPT09YS50eXBlO2Eub25CYW5kPXMmJm8uZ2V0KCJib3VuZGFyeUdhcCIpLGEuaW52ZXJzZT1vLmdldCgiaW52ZXJzZSIpLG8uYXhpcz1hLGEubW9kZWw9byxhLmNvb3JkaW5hdGVTeXN0ZW09by5jb29yZGluYXRlU3lzdGVtPXRoaXN9KSx0aGlzKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdXBkYXRlQXhlc0Zyb21TZXJpZXModGhpcy5fbW9kZWwsdCl9LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYWtlTGF5b3V0SW5mbygpLG49ZS5heGlzQmFzZSxpPWUubGF5b3V0QmFzZSxyPWUucGl4ZWxEaW1JbmRleCxvPXRbMS1yXSxhPXRbcl07cmV0dXJuIG8+PW4mJm88PW4rZS5heGlzTGVuZ3RoJiZhPj1pJiZhPD1pK2UubGF5b3V0TGVuZ3RofSx0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sdC5wcm90b3R5cGUuX3VwZGF0ZUF4ZXNGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihuKXtpZih0LmNvbnRhaW5zKG4sZSkpe3ZhciBpPW4uZ2V0RGF0YSgpO05EKHRoaXMuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc01hcC5nZXQodCk7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGksaS5tYXBEaW1lbnNpb24odCkpLFZ4KGUuc2NhbGUsZS5tb2RlbCl9KSx0aGlzKX19KSx0aGlzKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVjdD1WYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSx0aGlzLl9sYXlvdXRBeGVzKCl9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuX21ha2VMYXlvdXRJbmZvPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9tb2RlbCxuPXRoaXMuX3JlY3QsaT1bIngiLCJ5Il0scj1bIndpZHRoIiwiaGVpZ2h0Il0sbz1lLmdldCgibGF5b3V0IiksYT0iaG9yaXpvbnRhbCI9PT1vPzA6MSxzPW5bclthXV0sbD1bMCxzXSx1PXRoaXMuZGltZW5zaW9ucy5sZW5ndGgsaD1XRChlLmdldCgiYXhpc0V4cGFuZFdpZHRoIiksbCksYz1XRChlLmdldCgiYXhpc0V4cGFuZENvdW50Iil8fDAsWzAsdV0pLHA9ZS5nZXQoImF4aXNFeHBhbmRhYmxlIikmJnU+MyYmdT5jJiZjPjEmJmg+MCYmcz4wLGQ9ZS5nZXQoImF4aXNFeHBhbmRXaW5kb3ciKTtkPyh0PVdEKGRbMV0tZFswXSxsKSxkWzFdPWRbMF0rdCk6KHQ9V0QoaCooYy0xKSxsKSwoZD1baCooZS5nZXQoImF4aXNFeHBhbmRDZW50ZXIiKXx8VkQodS8yKSktdC8yXSlbMV09ZFswXSt0KTt2YXIgZj0ocy10KS8odS1jKTtmPDMmJihmPTApO3ZhciBnPVtWRChGRChkWzBdL2gsMSkpKzEsQkQoRkQoZFsxXS9oLDEpKS0xXSx5PWYvaCpkWzBdO3JldHVybntsYXlvdXQ6byxwaXhlbERpbUluZGV4OmEsbGF5b3V0QmFzZTpuW2lbYV1dLGxheW91dExlbmd0aDpzLGF4aXNCYXNlOm5baVsxLWFdXSxheGlzTGVuZ3RoOm5bclsxLWFdXSxheGlzRXhwYW5kYWJsZTpwLGF4aXNFeHBhbmRXaWR0aDpoLGF4aXNDb2xsYXBzZVdpZHRoOmYsYXhpc0V4cGFuZFdpbmRvdzpkLGF4aXNDb3VudDp1LHdpbklubmVySW5kaWNlczpnLGF4aXNFeHBhbmRXaW5kb3cwUG9zOnl9fSx0LnByb3RvdHlwZS5fbGF5b3V0QXhlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLl9heGVzTWFwLG49dGhpcy5kaW1lbnNpb25zLGk9dGhpcy5fbWFrZUxheW91dEluZm8oKSxyPWkubGF5b3V0O2UuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9WzAsaS5heGlzTGVuZ3RoXSxuPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQoZVtuXSxlWzEtbl0pfSkpLE5EKG4sKGZ1bmN0aW9uKGUsbil7dmFyIG89KGkuYXhpc0V4cGFuZGFibGU/WEQ6VUQpKG4saSksYT17aG9yaXpvbnRhbDp7eDpvLnBvc2l0aW9uLHk6aS5heGlzTGVuZ3RofSx2ZXJ0aWNhbDp7eDowLHk6by5wb3NpdGlvbn19LHM9e2hvcml6b250YWw6R0QvMix2ZXJ0aWNhbDowfSxsPVthW3JdLngrdC54LGFbcl0ueSt0LnldLHU9c1tyXSxoPVsxLDAsMCwxLDAsMF07WG4oaCxoLHUpLFVuKGgsaCxsKSx0aGlzLl9heGVzTGF5b3V0W2VdPXtwb3NpdGlvbjpsLHJvdGF0aW9uOnUsdHJhbnNmb3JtOmgsYXhpc05hbWVBdmFpbGFibGVXaWR0aDpvLmF4aXNOYW1lQXZhaWxhYmxlV2lkdGgsYXhpc0xhYmVsU2hvdzpvLmF4aXNMYWJlbFNob3csbmFtZVRydW5jYXRlTWF4V2lkdGg6by5uYW1lVHJ1bmNhdGVNYXhXaWR0aCx0aWNrRGlyZWN0aW9uOjEsbGFiZWxEaXJlY3Rpb246MX19KSx0aGlzKX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc01hcC5nZXQodCl9LHQucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXhpc0Nvb3JkVG9Qb2ludCh0aGlzLl9heGVzTWFwLmdldChlKS5kYXRhVG9Db29yZCh0KSxlKX0sdC5wcm90b3R5cGUuZWFjaEFjdGl2ZVN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe251bGw9PW4mJihuPTApLG51bGw9PWkmJihpPXQuY291bnQoKSk7dmFyIHI9dGhpcy5fYXhlc01hcCxvPXRoaXMuZGltZW5zaW9ucyxhPVtdLHM9W107UChvLChmdW5jdGlvbihlKXthLnB1c2godC5tYXBEaW1lbnNpb24oZSkpLHMucHVzaChyLmdldChlKS5tb2RlbCl9KSk7Zm9yKHZhciBsPXRoaXMuaGFzQXhpc0JydXNoZWQoKSx1PW47dTxpO3UrKyl7dmFyIGg9dm9pZCAwO2lmKGwpe2g9ImFjdGl2ZSI7Zm9yKHZhciBjPXQuZ2V0VmFsdWVzKGEsdSkscD0wLGQ9by5sZW5ndGg7cDxkO3ArKyl7aWYoImluYWN0aXZlIj09PXNbcF0uZ2V0QWN0aXZlU3RhdGUoY1twXSkpe2g9ImluYWN0aXZlIjticmVha319fWVsc2UgaD0ibm9ybWFsIjtlKGgsdSl9fSx0LnByb3RvdHlwZS5oYXNBeGlzQnJ1c2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRpbWVuc2lvbnMsZT10aGlzLl9heGVzTWFwLG49ITEsaT0wLHI9dC5sZW5ndGg7aTxyO2krKykibm9ybWFsIiE9PWUuZ2V0KHRbaV0pLm1vZGVsLmdldEFjdGl2ZVN0YXRlKCkmJihuPSEwKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuYXhpc0Nvb3JkVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBxdShbdCwwXSx0aGlzLl9heGVzTGF5b3V0W2VdLnRyYW5zZm9ybSl9LHQucHJvdG90eXBlLmdldEF4aXNMYXlvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHcodGhpcy5fYXhlc0xheW91dFt0XSl9LHQucHJvdG90eXBlLmdldFNsaWRlZEF4aXNFeHBhbmRXaW5kb3c9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFrZUxheW91dEluZm8oKSxuPWUucGl4ZWxEaW1JbmRleCxpPWUuYXhpc0V4cGFuZFdpbmRvdy5zbGljZSgpLHI9aVsxXS1pWzBdLG89WzAsZS5heGlzRXhwYW5kV2lkdGgqKGUuYXhpc0NvdW50LTEpXTtpZighdGhpcy5jb250YWluUG9pbnQodCkpcmV0dXJue2JlaGF2aW9yOiJub25lIixheGlzRXhwYW5kV2luZG93Oml9O3ZhciBhLHM9dFtuXS1lLmxheW91dEJhc2UtZS5heGlzRXhwYW5kV2luZG93MFBvcyxsPSJzbGlkZSIsdT1lLmF4aXNDb2xsYXBzZVdpZHRoLGg9dGhpcy5fbW9kZWwuZ2V0KCJheGlzRXhwYW5kU2xpZGVUcmlnZ2VyQXJlYSIpLGM9bnVsbCE9aFswXTtpZih1KWMmJnUmJnM8cipoWzBdPyhsPSJqdW1wIixhPXMtcipoWzJdKTpjJiZ1JiZzPnIqKDEtaFswXSk/KGw9Imp1bXAiLGE9cy1yKigxLWhbMl0pKTooYT1zLXIqaFsxXSk+PTAmJihhPXMtciooMS1oWzFdKSk8PTAmJihhPTApLChhKj1lLmF4aXNFeHBhbmRXaWR0aC91KT9QRChhLGksbywiYWxsIik6bD0ibm9uZSI7ZWxzZXt2YXIgcD1pWzFdLWlbMF07KGk9W0VEKDAsb1sxXSpzL3AtcC8yKV0pWzFdPXpEKG9bMV0saVswXStwKSxpWzBdPWlbMV0tcH1yZXR1cm57YXhpc0V4cGFuZFdpbmRvdzppLGJlaGF2aW9yOmx9fSx0fSgpO2Z1bmN0aW9uIFdEKHQsZSl7cmV0dXJuIHpEKEVEKHQsZVswXSksZVsxXSl9ZnVuY3Rpb24gVUQodCxlKXt2YXIgbj1lLmxheW91dExlbmd0aC8oZS5heGlzQ291bnQtMSk7cmV0dXJue3Bvc2l0aW9uOm4qdCxheGlzTmFtZUF2YWlsYWJsZVdpZHRoOm4sYXhpc0xhYmVsU2hvdzohMH19ZnVuY3Rpb24gWEQodCxlKXt2YXIgbixpLHI9ZS5sYXlvdXRMZW5ndGgsbz1lLmF4aXNFeHBhbmRXaWR0aCxhPWUuYXhpc0NvdW50LHM9ZS5heGlzQ29sbGFwc2VXaWR0aCxsPWUud2luSW5uZXJJbmRpY2VzLHU9cyxoPSExO3JldHVybiB0PGxbMF0/KG49dCpzLGk9cyk6dDw9bFsxXT8obj1lLmF4aXNFeHBhbmRXaW5kb3cwUG9zK3Qqby1lLmF4aXNFeHBhbmRXaW5kb3dbMF0sdT1vLGg9ITApOihuPXItKGEtMS10KSpzLGk9cykse3Bvc2l0aW9uOm4sYXhpc05hbWVBdmFpbGFibGVXaWR0aDp1LGF4aXNMYWJlbFNob3c6aCxuYW1lVHJ1bmNhdGVNYXhXaWR0aDppfX12YXIgWUQ9e2NyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInBhcmFsbGVsIiwoZnVuY3Rpb24oaSxyKXt2YXIgbz1uZXcgSEQoaSx0LGUpO28ubmFtZT0icGFyYWxsZWxfIityLG8ucmVzaXplKGksZSksaS5jb29yZGluYXRlU3lzdGVtPW8sby5tb2RlbD1pLG4ucHVzaChvKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKCJwYXJhbGxlbCI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInBhcmFsbGVsIixOcikubW9kZWxzWzBdO3QuY29vcmRpbmF0ZVN5c3RlbT1lLmNvb3JkaW5hdGVTeXN0ZW19fSkpLG59fSxaRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uYWN0aXZlSW50ZXJ2YWxzPVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRBcmVhU2VsZWN0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gJHIoW1siZmlsbCIsImNvbG9yIl0sWyJsaW5lV2lkdGgiLCJib3JkZXJXaWR0aCJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbIndpZHRoIiwid2lkdGgiXSxbIm9wYWNpdHkiLCJvcGFjaXR5Il1dKSh0aGlzLmdldE1vZGVsKCJhcmVhU2VsZWN0U3R5bGUiKSl9LGUucHJvdG90eXBlLnNldEFjdGl2ZUludGVydmFscz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscz13KHQpO2lmKGUpZm9yKHZhciBuPWUubGVuZ3RoLTE7bj49MDtuLS0pcWkoZVtuXSl9LGUucHJvdG90eXBlLmdldEFjdGl2ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJ2YWxzO2lmKCFlLmxlbmd0aClyZXR1cm4ibm9ybWFsIjtpZihudWxsPT10fHxpc05hTigrdCkpcmV0dXJuImluYWN0aXZlIjtpZigxPT09ZS5sZW5ndGgpe3ZhciBuPWVbMF07aWYoblswXTw9dCYmdDw9blsxXSlyZXR1cm4iYWN0aXZlIn1lbHNlIGZvcih2YXIgaT0wLHI9ZS5sZW5ndGg7aTxyO2krKylpZihlW2ldWzBdPD10JiZ0PD1lW2ldWzFdKXJldHVybiJhY3RpdmUiO3JldHVybiJpbmFjdGl2ZSJ9LGV9KFhjKTtMKFpELFl4KTt2YXIgakQ9ITAscUQ9TWF0aC5taW4sS0Q9TWF0aC5tYXgsJEQ9TWF0aC5wb3csSkQ9Imdsb2JhbFBhbiIsUUQ9e3c6WzAsMF0sZTpbMCwxXSxuOlsxLDBdLHM6WzEsMV19LHRBPXt3OiJldyIsZToiZXciLG46Im5zIixzOiJucyIsbmU6Im5lc3ciLHN3OiJuZXN3IixudzoibndzZSIsc2U6Im53c2UifSxlQT17YnJ1c2hTdHlsZTp7bGluZVdpZHRoOjIsc3Ryb2tlOiJyZ2JhKDIxMCwyMTksMjM4LDAuMykiLGZpbGw6IiNEMkRCRUUifSx0cmFuc2Zvcm1hYmxlOiEwLGJydXNoTW9kZToic2luZ2xlIixyZW1vdmVPbkNsaWNrOiExfSxuQT0wLGlBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl90cmFjaz1bXSxuLl9jb3ZlcnM9W10sbi5faGFuZGxlcnM9e30sbi5fenI9ZSxuLmdyb3VwPW5ldyBFaSxuLl91aWQ9ImJydXNoQ29udHJvbGxlcl8iK25BKyssUChMQSwoZnVuY3Rpb24odCxlKXt0aGlzLl9oYW5kbGVyc1tlXT1WKHQsdGhpcyl9KSxuKSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZW5hYmxlQnJ1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JydXNoVHlwZSYmdGhpcy5fZG9EaXNhYmxlQnJ1c2goKSx0LmJydXNoVHlwZSYmdGhpcy5fZG9FbmFibGVCcnVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5fZG9FbmFibGVCcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl96cjt0aGlzLl9lbmFibGVHbG9iYWxQYW58fGZ1bmN0aW9uKHQsZSxuKXtITSh0KVtlXT1ufShlLEpELHRoaXMuX3VpZCksUCh0aGlzLl9oYW5kbGVycywoZnVuY3Rpb24odCxuKXtlLm9uKG4sdCl9KSksdGhpcy5fYnJ1c2hUeXBlPXQuYnJ1c2hUeXBlLHRoaXMuX2JydXNoT3B0aW9uPVModyhlQSksdCwhMCl9LGUucHJvdG90eXBlLl9kb0Rpc2FibGVCcnVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3pyOyFmdW5jdGlvbih0LGUsbil7dmFyIGk9SE0odCk7aVtlXT09PW4mJihpW2VdPW51bGwpfSh0LEpELHRoaXMuX3VpZCksUCh0aGlzLl9oYW5kbGVycywoZnVuY3Rpb24oZSxuKXt0Lm9mZihuLGUpfSkpLHRoaXMuX2JydXNoVHlwZT10aGlzLl9icnVzaE9wdGlvbj1udWxsfSxlLnByb3RvdHlwZS5zZXRQYW5lbHM9ZnVuY3Rpb24odCl7aWYodCYmdC5sZW5ndGgpe3ZhciBlPXRoaXMuX3BhbmVscz17fTtQKHQsKGZ1bmN0aW9uKHQpe2VbdC5wYW5lbElkXT13KHQpfSkpfWVsc2UgdGhpcy5fcGFuZWxzPW51bGw7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm1vdW50PWZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5fZW5hYmxlR2xvYmFsUGFuPXQuZW5hYmxlR2xvYmFsUGFuO3ZhciBlPXRoaXMuZ3JvdXA7cmV0dXJuIHRoaXMuX3pyLmFkZChlKSxlLmF0dHIoe3g6dC54fHwwLHk6dC55fHwwLHJvdGF0aW9uOnQucm90YXRpb258fDAsc2NhbGVYOnQuc2NhbGVYfHwxLHNjYWxlWTp0LnNjYWxlWXx8MX0pLHRoaXMuX3RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpc30sZS5wcm90b3R5cGUudXBkYXRlQ292ZXJzPWZ1bmN0aW9uKHQpe3Q9Tyh0LChmdW5jdGlvbih0KXtyZXR1cm4gUyh3KGVBKSx0LCEwKX0pKTt2YXIgZT10aGlzLl9jb3ZlcnMsbj10aGlzLl9jb3ZlcnM9W10saT10aGlzLHI9dGhpcy5fY3JlYXRpbmdDb3ZlcjtyZXR1cm4gbmV3IG5fKGUsdCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbyh0Ll9fYnJ1c2hPcHRpb24sZSl9KSxvKS5hZGQoYSkudXBkYXRlKGEpLnJlbW92ZSgoZnVuY3Rpb24odCl7ZVt0XSE9PXImJmkuZ3JvdXAucmVtb3ZlKGVbdF0pfSkpLmV4ZWN1dGUoKSx0aGlzO2Z1bmN0aW9uIG8odCxlKXtyZXR1cm4obnVsbCE9dC5pZD90LmlkOiJcMC1icnVzaC1pbmRleC0iK2UpKyItIit0LmJydXNoVHlwZX1mdW5jdGlvbiBhKG8sYSl7dmFyIHM9dFtvXTtpZihudWxsIT1hJiZlW2FdPT09ciluW29dPWVbYV07ZWxzZXt2YXIgbD1uW29dPW51bGwhPWE/KGVbYV0uX19icnVzaE9wdGlvbj1zLGVbYV0pOm9BKGksckEoaSxzKSk7bEEoaSxsKX19fSxlLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlQnJ1c2goITEpLHBBKHRoaXMpLHRoaXMuX3pyLnJlbW92ZSh0aGlzLmdyb3VwKSx0aGlzfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy51bm1vdW50KCksdGhpcy5vZmYoKX0sZX0oRnQpO2Z1bmN0aW9uIHJBKHQsZSl7dmFyIG49UEFbZS5icnVzaFR5cGVdLmNyZWF0ZUNvdmVyKHQsZSk7cmV0dXJuIG4uX19icnVzaE9wdGlvbj1lLHNBKG4sZSksdC5ncm91cC5hZGQobiksbn1mdW5jdGlvbiBvQSh0LGUpe3ZhciBuPXVBKGUpO3JldHVybiBuLmVuZENyZWF0aW5nJiYobi5lbmRDcmVhdGluZyh0LGUpLHNBKGUsZS5fX2JydXNoT3B0aW9uKSksZX1mdW5jdGlvbiBhQSh0LGUpe3ZhciBuPWUuX19icnVzaE9wdGlvbjt1QShlKS51cGRhdGVDb3ZlclNoYXBlKHQsZSxuLnJhbmdlLG4pfWZ1bmN0aW9uIHNBKHQsZSl7dmFyIG49ZS56O251bGw9PW4mJihuPTFlNCksdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC56PW4sdC56Mj1ufSkpfWZ1bmN0aW9uIGxBKHQsZSl7dUEoZSkudXBkYXRlQ29tbW9uKHQsZSksYUEodCxlKX1mdW5jdGlvbiB1QSh0KXtyZXR1cm4gUEFbdC5fX2JydXNoT3B0aW9uLmJydXNoVHlwZV19ZnVuY3Rpb24gaEEodCxlLG4pe3ZhciBpLHI9dC5fcGFuZWxzO2lmKCFyKXJldHVybiBqRDt2YXIgbz10Ll90cmFuc2Zvcm07cmV0dXJuIFAociwoZnVuY3Rpb24odCl7dC5pc1RhcmdldEJ5Q3Vyc29yKGUsbixvKSYmKGk9dCl9KSksaX1mdW5jdGlvbiBjQSh0LGUpe3ZhciBuPXQuX3BhbmVscztpZighbilyZXR1cm4gakQ7dmFyIGk9ZS5fX2JydXNoT3B0aW9uLnBhbmVsSWQ7cmV0dXJuIG51bGwhPWk/bltpXTpqRH1mdW5jdGlvbiBwQSh0KXt2YXIgZT10Ll9jb3ZlcnMsbj1lLmxlbmd0aDtyZXR1cm4gUChlLChmdW5jdGlvbihlKXt0Lmdyb3VwLnJlbW92ZShlKX0pLHQpLGUubGVuZ3RoPTAsISFufWZ1bmN0aW9uIGRBKHQsZSl7dmFyIG49Tyh0Ll9jb3ZlcnMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuX19icnVzaE9wdGlvbixuPXcoZS5yYW5nZSk7cmV0dXJue2JydXNoVHlwZTplLmJydXNoVHlwZSxwYW5lbElkOmUucGFuZWxJZCxyYW5nZTpufX0pKTt0LnRyaWdnZXIoImJydXNoIix7YXJlYXM6bixpc0VuZDohIWUuaXNFbmQscmVtb3ZlT25DbGljazohIWUucmVtb3ZlT25DbGlja30pfWZ1bmN0aW9uIGZBKHQpe3ZhciBlPXQubGVuZ3RoLTE7cmV0dXJuIGU8MCYmKGU9MCksW3RbMF0sdFtlXV19ZnVuY3Rpb24gZ0EodCxlLG4saSl7dmFyIHI9bmV3IEVpO3JldHVybiByLmFkZChuZXcgbHMoe25hbWU6Im1haW4iLHN0eWxlOl9BKG4pLHNpbGVudDohMCxkcmFnZ2FibGU6ITAsY3Vyc29yOiJtb3ZlIixkcmlmdDpCKHdBLHQsZSxyLFsibiIsInMiLCJ3IiwiZSJdKSxvbmRyYWdlbmQ6QihkQSxlLHtpc0VuZDohMH0pfSkpLFAoaSwoZnVuY3Rpb24obil7ci5hZGQobmV3IGxzKHtuYW1lOm4uam9pbigiIiksc3R5bGU6e29wYWNpdHk6MH0sZHJhZ2dhYmxlOiEwLHNpbGVudDohMCxpbnZpc2libGU6ITAsZHJpZnQ6Qih3QSx0LGUscixuKSxvbmRyYWdlbmQ6QihkQSxlLHtpc0VuZDohMH0pfSkpfSkpLHJ9ZnVuY3Rpb24geUEodCxlLG4saSl7dmFyIHI9aS5icnVzaFN0eWxlLmxpbmVXaWR0aHx8MCxvPUtEKHIsNiksYT1uWzBdWzBdLHM9blsxXVswXSxsPWEtci8yLHU9cy1yLzIsaD1uWzBdWzFdLGM9blsxXVsxXSxwPWgtbytyLzIsZD1jLW8rci8yLGY9aC1hLGc9Yy1zLHk9ZityLHY9ZytyO21BKHQsZSwibWFpbiIsYSxzLGYsZyksaS50cmFuc2Zvcm1hYmxlJiYobUEodCxlLCJ3IixsLHUsbyx2KSxtQSh0LGUsImUiLHAsdSxvLHYpLG1BKHQsZSwibiIsbCx1LHksbyksbUEodCxlLCJzIixsLGQseSxvKSxtQSh0LGUsIm53IixsLHUsbyxvKSxtQSh0LGUsIm5lIixwLHUsbyxvKSxtQSh0LGUsInN3IixsLGQsbyxvKSxtQSh0LGUsInNlIixwLGQsbyxvKSl9ZnVuY3Rpb24gdkEodCxlKXt2YXIgbj1lLl9fYnJ1c2hPcHRpb24saT1uLnRyYW5zZm9ybWFibGUscj1lLmNoaWxkQXQoMCk7ci51c2VTdHlsZShfQShuKSksci5hdHRyKHtzaWxlbnQ6IWksY3Vyc29yOmk/Im1vdmUiOiJkZWZhdWx0In0pLFAoW1sidyJdLFsiZSJdLFsibiJdLFsicyJdLFsicyIsImUiXSxbInMiLCJ3Il0sWyJuIiwiZSJdLFsibiIsInciXV0sKGZ1bmN0aW9uKG4pe3ZhciByPWUuY2hpbGRPZk5hbWUobi5qb2luKCIiKSksbz0xPT09bi5sZW5ndGg/YkEodCxuWzBdKTpmdW5jdGlvbih0LGUpe3ZhciBuPVtiQSh0LGVbMF0pLGJBKHQsZVsxXSldO3JldHVybigiZSI9PT1uWzBdfHwidyI9PT1uWzBdKSYmbi5yZXZlcnNlKCksbi5qb2luKCIiKX0odCxuKTtyJiZyLmF0dHIoe3NpbGVudDohaSxpbnZpc2libGU6IWksY3Vyc29yOmk/dEFbb10rIi1yZXNpemUiOm51bGx9KX0pKX1mdW5jdGlvbiBtQSh0LGUsbixpLHIsbyxhKXt2YXIgcz1lLmNoaWxkT2ZOYW1lKG4pO3MmJnMuc2V0U2hhcGUoZnVuY3Rpb24odCl7dmFyIGU9cUQodFswXVswXSx0WzFdWzBdKSxuPXFEKHRbMF1bMV0sdFsxXVsxXSksaT1LRCh0WzBdWzBdLHRbMV1bMF0pLHI9S0QodFswXVsxXSx0WzFdWzFdKTtyZXR1cm57eDplLHk6bix3aWR0aDppLWUsaGVpZ2h0OnItbn19KElBKHQsZSxbW2kscl0sW2krbyxyK2FdXSkpKX1mdW5jdGlvbiBfQSh0KXtyZXR1cm4gVCh7c3Ryb2tlTm9TY2FsZTohMH0sdC5icnVzaFN0eWxlKX1mdW5jdGlvbiB4QSh0LGUsbixpKXt2YXIgcj1bcUQodCxuKSxxRChlLGkpXSxvPVtLRCh0LG4pLEtEKGUsaSldO3JldHVybltbclswXSxvWzBdXSxbclsxXSxvWzFdXV19ZnVuY3Rpb24gYkEodCxlKXtyZXR1cm57bGVmdDoidyIscmlnaHQ6ImUiLHRvcDoibiIsYm90dG9tOiJzIn1bS3Uoe3c6ImxlZnQiLGU6InJpZ2h0IixuOiJ0b3AiLHM6ImJvdHRvbSJ9W2VdLGZ1bmN0aW9uKHQpe3JldHVybiBqdSh0Lmdyb3VwKX0odCkpXX1mdW5jdGlvbiB3QSh0LGUsbixpLHIsbyl7dmFyIGE9bi5fX2JydXNoT3B0aW9uLHM9dC50b1JlY3RSYW5nZShhLnJhbmdlKSxsPU1BKGUscixvKTtQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPVFEW3RdO3NbZVswXV1bZVsxXV0rPWxbZVswXV19KSksYS5yYW5nZT10LmZyb21SZWN0UmFuZ2UoeEEoc1swXVswXSxzWzFdWzBdLHNbMF1bMV0sc1sxXVsxXSkpLGxBKGUsbiksZEEoZSx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBTQSh0LGUsbixpKXt2YXIgcj1lLl9fYnJ1c2hPcHRpb24ucmFuZ2Usbz1NQSh0LG4saSk7UChyLChmdW5jdGlvbih0KXt0WzBdKz1vWzBdLHRbMV0rPW9bMV19KSksbEEodCxlKSxkQSh0LHtpc0VuZDohMX0pfWZ1bmN0aW9uIE1BKHQsZSxuKXt2YXIgaT10Lmdyb3VwLHI9aS50cmFuc2Zvcm1Db29yZFRvTG9jYWwoZSxuKSxvPWkudHJhbnNmb3JtQ29vcmRUb0xvY2FsKDAsMCk7cmV0dXJuW3JbMF0tb1swXSxyWzFdLW9bMV1dfWZ1bmN0aW9uIElBKHQsZSxuKXt2YXIgaT1jQSh0LGUpO3JldHVybiBpJiZpIT09akQ/aS5jbGlwUGF0aChuLHQuX3RyYW5zZm9ybSk6dyhuKX1mdW5jdGlvbiBUQSh0KXt2YXIgZT10LmV2ZW50O2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBDQSh0LGUsbil7cmV0dXJuIHQuY2hpbGRPZk5hbWUoIm1haW4iKS5jb250YWluKGUsbil9ZnVuY3Rpb24gREEodCxlLG4saSl7dmFyIHIsbz10Ll9jcmVhdGluZ0NvdmVyLGE9dC5fY3JlYXRpbmdQYW5lbCxzPXQuX2JydXNoT3B0aW9uO2lmKHQuX3RyYWNrLnB1c2gobi5zbGljZSgpKSxmdW5jdGlvbih0KXt2YXIgZT10Ll90cmFjaztpZighZS5sZW5ndGgpcmV0dXJuITE7dmFyIG49ZVtlLmxlbmd0aC0xXSxpPWVbMF0scj1uWzBdLWlbMF0sbz1uWzFdLWlbMV07cmV0dXJuICREKHIqcitvKm8sLjUpPjZ9KHQpfHxvKXtpZihhJiYhbyl7InNpbmdsZSI9PT1zLmJydXNoTW9kZSYmcEEodCk7dmFyIGw9dyhzKTtsLmJydXNoVHlwZT1BQShsLmJydXNoVHlwZSxhKSxsLnBhbmVsSWQ9YT09PWpEP251bGw6YS5wYW5lbElkLG89dC5fY3JlYXRpbmdDb3Zlcj1yQSh0LGwpLHQuX2NvdmVycy5wdXNoKG8pfWlmKG8pe3ZhciB1PVBBW0FBKHQuX2JydXNoVHlwZSxhKV07by5fX2JydXNoT3B0aW9uLnJhbmdlPXUuZ2V0Q3JlYXRpbmdSYW5nZShJQSh0LG8sdC5fdHJhY2spKSxpJiYob0EodCxvKSx1LnVwZGF0ZUNvbW1vbih0LG8pKSxhQSh0LG8pLHI9e2lzRW5kOml9fX1lbHNlIGkmJiJzaW5nbGUiPT09cy5icnVzaE1vZGUmJnMucmVtb3ZlT25DbGljayYmaEEodCxlLG4pJiZwQSh0KSYmKHI9e2lzRW5kOmkscmVtb3ZlT25DbGljazohMH0pO3JldHVybiByfWZ1bmN0aW9uIEFBKHQsZSl7cmV0dXJuImF1dG8iPT09dD9lLmRlZmF1bHRCcnVzaFR5cGU6dH12YXIgTEE9e21vdXNlZG93bjpmdW5jdGlvbih0KXtpZih0aGlzLl9kcmFnZ2luZylrQSh0aGlzLHQpO2Vsc2UgaWYoIXQudGFyZ2V0fHwhdC50YXJnZXQuZHJhZ2dhYmxlKXtUQSh0KTt2YXIgZT10aGlzLmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0Lm9mZnNldFgsdC5vZmZzZXRZKTt0aGlzLl9jcmVhdGluZ0NvdmVyPW51bGwsKHRoaXMuX2NyZWF0aW5nUGFuZWw9aEEodGhpcyx0LGUpKSYmKHRoaXMuX2RyYWdnaW5nPSEwLHRoaXMuX3RyYWNrPVtlLnNsaWNlKCldKX19LG1vdXNlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10Lm9mZnNldFgsbj10Lm9mZnNldFksaT10aGlzLmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChlLG4pO2lmKGZ1bmN0aW9uKHQsZSxuKXtpZih0Ll9icnVzaFR5cGUmJiFmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5fenI7cmV0dXJuIGU8MHx8ZT5pLmdldFdpZHRoKCl8fG48MHx8bj5pLmdldEhlaWdodCgpfSh0LGUub2Zmc2V0WCxlLm9mZnNldFkpKXt2YXIgaT10Ll96cixyPXQuX2NvdmVycyxvPWhBKHQsZSxuKTtpZighdC5fZHJhZ2dpbmcpZm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0uX19icnVzaE9wdGlvbjtpZihvJiYobz09PWpEfHxzLnBhbmVsSWQ9PT1vLnBhbmVsSWQpJiZQQVtzLmJydXNoVHlwZV0uY29udGFpbihyW2FdLG5bMF0sblsxXSkpcmV0dXJufW8mJmkuc2V0Q3Vyc29yU3R5bGUoImNyb3NzaGFpciIpfX0odGhpcyx0LGkpLHRoaXMuX2RyYWdnaW5nKXtUQSh0KTt2YXIgcj1EQSh0aGlzLHQsaSwhMSk7ciYmZEEodGhpcyxyKX19LG1vdXNldXA6ZnVuY3Rpb24odCl7a0EodGhpcyx0KX19O2Z1bmN0aW9uIGtBKHQsZSl7aWYodC5fZHJhZ2dpbmcpe1RBKGUpO3ZhciBuPWUub2Zmc2V0WCxpPWUub2Zmc2V0WSxyPXQuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKG4saSksbz1EQSh0LGUsciwhMCk7dC5fZHJhZ2dpbmc9ITEsdC5fdHJhY2s9W10sdC5fY3JlYXRpbmdDb3Zlcj1udWxsLG8mJmRBKHQsbyl9fXZhciBQQT17bGluZVg6T0EoMCksbGluZVk6T0EoMSkscmVjdDp7Y3JlYXRlQ292ZXI6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0fXJldHVybiBnQSh7dG9SZWN0UmFuZ2U6bixmcm9tUmVjdFJhbmdlOm59LHQsZSxbWyJ3Il0sWyJlIl0sWyJuIl0sWyJzIl0sWyJzIiwiZSJdLFsicyIsInciXSxbIm4iLCJlIl0sWyJuIiwidyJdXSl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU9ZkEodCk7cmV0dXJuIHhBKGVbMV1bMF0sZVsxXVsxXSxlWzBdWzBdLGVbMF1bMV0pfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKHQsZSxuLGkpe3lBKHQsZSxuLGkpfSx1cGRhdGVDb21tb246dkEsY29udGFpbjpDQX0scG9seWdvbjp7Y3JlYXRlQ292ZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRWk7cmV0dXJuIG4uYWRkKG5ldyBhdSh7bmFtZToibWFpbiIsc3R5bGU6X0EoZSksc2lsZW50OiEwfSkpLG59LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVuZENyZWF0aW5nOmZ1bmN0aW9uKHQsZSl7ZS5yZW1vdmUoZS5jaGlsZEF0KDApKSxlLmFkZChuZXcgcnUoe25hbWU6Im1haW4iLGRyYWdnYWJsZTohMCxkcmlmdDpCKFNBLHQsZSksb25kcmFnZW5kOkIoZEEsdCx7aXNFbmQ6ITB9KX0pKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsbixpKXtlLmNoaWxkQXQoMCkuc2V0U2hhcGUoe3BvaW50czpJQSh0LGUsbil9KX0sdXBkYXRlQ29tbW9uOnZBLGNvbnRhaW46Q0F9fTtmdW5jdGlvbiBPQSh0KXtyZXR1cm57Y3JlYXRlQ292ZXI6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZ0Eoe3RvUmVjdFJhbmdlOmZ1bmN0aW9uKGUpe3ZhciBuPVtlLFswLDEwMF1dO3JldHVybiB0JiZuLnJldmVyc2UoKSxufSxmcm9tUmVjdFJhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfX0sZSxuLFtbWyJ3Il0sWyJlIl1dLFtbIm4iXSxbInMiXV1dW3RdKX0sZ2V0Q3JlYXRpbmdSYW5nZTpmdW5jdGlvbihlKXt2YXIgbj1mQShlKTtyZXR1cm5bcUQoblswXVt0XSxuWzFdW3RdKSxLRChuWzBdW3RdLG5bMV1bdF0pXX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbihlLG4saSxyKXt2YXIgbyxhPWNBKGUsbik7aWYoYSE9PWpEJiZhLmdldExpbmVhckJydXNoT3RoZXJFeHRlbnQpbz1hLmdldExpbmVhckJydXNoT3RoZXJFeHRlbnQodCk7ZWxzZXt2YXIgcz1lLl96cjtvPVswLFtzLmdldFdpZHRoKCkscy5nZXRIZWlnaHQoKV1bMS10XV19dmFyIGw9W2ksb107dCYmbC5yZXZlcnNlKCkseUEoZSxuLGwscil9LHVwZGF0ZUNvbW1vbjp2QSxjb250YWluOkNBfX1mdW5jdGlvbiBSQSh0KXtyZXR1cm4gdD1FQSh0KSxmdW5jdGlvbihlKXtyZXR1cm4gUXUoZSx0KX19ZnVuY3Rpb24gTkEodCxlKXtyZXR1cm4gdD1FQSh0KSxmdW5jdGlvbihuKXt2YXIgaT1udWxsIT1lP2U6bixyPWk/dC53aWR0aDp0LmhlaWdodCxvPWk/dC54OnQueTtyZXR1cm5bbyxvKyhyfHwwKV19fWZ1bmN0aW9uIHpBKHQsZSxuKXt2YXIgaT1FQSh0KTtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gaS5jb250YWluKHJbMF0sclsxXSkmJiFLTSh0LGUsbil9fWZ1bmN0aW9uIEVBKHQpe3JldHVybiBnaS5jcmVhdGUodCl9dmFyIFZBPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxCQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksKHRoaXMuX2JydXNoQ29udHJvbGxlcj1uZXcgaUEobi5nZXRacigpKSkub24oImJydXNoIixWKHRoaXMuX29uQnJ1c2gsdGhpcykpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYoIWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbiYmImF4aXNBcmVhU2VsZWN0Ij09PW4udHlwZSYmZS5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6InBhcmFsbGVsQXhpcyIscXVlcnk6bn0pWzBdPT09dH0odCxlLGkpKXt0aGlzLmF4aXNNb2RlbD10LHRoaXMuYXBpPW4sdGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgcj10aGlzLl9heGlzR3JvdXA7aWYodGhpcy5fYXhpc0dyb3VwPW5ldyBFaSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9heGlzR3JvdXApLHQuZ2V0KCJzaG93Iikpe3ZhciBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSl9KHQsZSksYT1vLmNvb3JkaW5hdGVTeXN0ZW0scz10LmdldEFyZWFTZWxlY3RTdHlsZSgpLGw9cy53aWR0aCx1PXQuYXhpcy5kaW0saD1JKHtzdHJva2VDb250YWluVGhyZXNob2xkOmx9LGEuZ2V0QXhpc0xheW91dCh1KSksYz1uZXcgdE0odCxoKTtQKFZBLGMuYWRkLGMpLHRoaXMuX2F4aXNHcm91cC5hZGQoYy5nZXRHcm91cCgpKSx0aGlzLl9yZWZyZXNoQnJ1c2hDb250cm9sbGVyKGgscyx0LG8sbCxuKSxKdShyLHRoaXMuX2F4aXNHcm91cCx0KX19fSxlLnByb3RvdHlwZS5fcmVmcmVzaEJydXNoQ29udHJvbGxlcj1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9bi5heGlzLmdldEV4dGVudCgpLHM9YVsxXS1hWzBdLGw9TWF0aC5taW4oMzAsLjEqTWF0aC5hYnMocykpLHU9Z2kuY3JlYXRlKHt4OmFbMF0seTotci8yLHdpZHRoOnMsaGVpZ2h0OnJ9KTt1LngtPWwsdS53aWR0aCs9MipsLHRoaXMuX2JydXNoQ29udHJvbGxlci5tb3VudCh7ZW5hYmxlR2xvYmFsUGFuOiEwLHJvdGF0aW9uOnQucm90YXRpb24seDp0LnBvc2l0aW9uWzBdLHk6dC5wb3NpdGlvblsxXX0pLnNldFBhbmVscyhbe3BhbmVsSWQ6InBsIixjbGlwUGF0aDpSQSh1KSxpc1RhcmdldEJ5Q3Vyc29yOnpBKHUsbyxpKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50Ok5BKHUsMCl9XSkuZW5hYmxlQnJ1c2goe2JydXNoVHlwZToibGluZVgiLGJydXNoU3R5bGU6ZSxyZW1vdmVPbkNsaWNrOiEwfSkudXBkYXRlQ292ZXJzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcztyZXR1cm4gTyh0LmFjdGl2ZUludGVydmFscywoZnVuY3Rpb24odCl7cmV0dXJue2JydXNoVHlwZToibGluZVgiLHBhbmVsSWQ6InBsIixyYW5nZTpbZS5kYXRhVG9Db29yZCh0WzBdLCEwKSxlLmRhdGFUb0Nvb3JkKHRbMV0sITApXX19KSl9KG4pKX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5hcmVhcyxuPXRoaXMuYXhpc01vZGVsLGk9bi5heGlzLHI9TyhlLChmdW5jdGlvbih0KXtyZXR1cm5baS5jb29yZFRvRGF0YSh0LnJhbmdlWzBdLCEwKSxpLmNvb3JkVG9EYXRhKHQucmFuZ2VbMV0sITApXX0pKTsoIW4ub3B0aW9uLnJlYWx0aW1lPT09dC5pc0VuZHx8dC5yZW1vdmVPbkNsaWNrKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImF4aXNBcmVhU2VsZWN0IixwYXJhbGxlbEF4aXNJZDpuLmlkLGludGVydmFsczpyfSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnR5cGU9InBhcmFsbGVsQXhpcyIsZX0od2YpO3ZhciBGQT17dHlwZToiYXhpc0FyZWFTZWxlY3QiLGV2ZW50OiJheGlzQXJlYVNlbGVjdGVkIn07dmFyIEdBPXt0eXBlOiJ2YWx1ZSIsYXJlYVNlbGVjdFN0eWxlOnt3aWR0aDoyMCxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsY29sb3I6InJnYmEoMTYwLDE5NywyMzIpIixvcGFjaXR5Oi4zfSxyZWFsdGltZTohMCx6OjEwfTtmdW5jdGlvbiBIQSh0KXt0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhDRCksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKExEKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgicGFyYWxsZWwiLFlEKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKFREKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoWkQpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEJBKSxCUyh0LCJwYXJhbGxlbCIsWkQsR0EpLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oRkEsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToicGFyYWxsZWxBeGlzIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7ZS5heGlzLm1vZGVsLnNldEFjdGl2ZUludGVydmFscyh0LmludGVydmFscyl9KSl9KSksdC5yZWdpc3RlckFjdGlvbigicGFyYWxsZWxBeGlzRXhwYW5kIiwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJwYXJhbGxlbCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0QXhpc0V4cGFuZCh0KX0pKX0pKX0odCl9dmFyIFdBPWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMuY3B4MT0wLHRoaXMuY3B5MT0wLHRoaXMuY3B4Mj0wLHRoaXMuY3B5Mj0wLHRoaXMuZXh0ZW50PTB9LFVBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXQX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5leHRlbnQ7dC5tb3ZlVG8oZS54MSxlLnkxKSx0LmJlemllckN1cnZlVG8oZS5jcHgxLGUuY3B5MSxlLmNweDIsZS5jcHkyLGUueDIsZS55MiksInZlcnRpY2FsIj09PWUub3JpZW50Pyh0LmxpbmVUbyhlLngyK24sZS55MiksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MituLGUuY3B5MixlLmNweDErbixlLmNweTEsZS54MStuLGUueTEpKToodC5saW5lVG8oZS54MixlLnkyK24pLHQuYmV6aWVyQ3VydmVUbyhlLmNweDIsZS5jcHkyK24sZS5jcHgxLGUuY3B5MStuLGUueDEsZS55MStuKSksdC5jbG9zZVBhdGgoKX0sZS5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7anModGhpcyl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7cXModGhpcyl9LGV9KEthKSxYQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2ZvY3VzQWRqYWNlbmN5RGlzYWJsZWQ9ITEsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuZ2V0R3JhcGgoKSxvPXRoaXMuZ3JvdXAsYT10LmxheW91dEluZm8scz1hLndpZHRoLGw9YS5oZWlnaHQsdT10LmdldERhdGEoKSxoPXQuZ2V0RGF0YSgiZWRnZSIpLGM9dC5nZXQoIm9yaWVudCIpO3RoaXMuX21vZGVsPXQsby5yZW1vdmVBbGwoKSxvLng9YS54LG8ueT1hLnksci5lYWNoRWRnZSgoZnVuY3Rpb24oZSl7dmFyIG49bmV3IFVBLGk9X3Mobik7aS5kYXRhSW5kZXg9ZS5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuZGF0YVR5cGU9ImVkZ2UiO3ZhciByLGEsdSxwLGQsZixnLHksdj1lLmdldE1vZGVsKCksbT12LmdldE1vZGVsKCJsaW5lU3R5bGUiKSxfPW0uZ2V0KCJjdXJ2ZW5lc3MiKSx4PWUubm9kZTEuZ2V0TGF5b3V0KCksYj1lLm5vZGUxLmdldE1vZGVsKCksdz1iLmdldCgibG9jYWxYIiksUz1iLmdldCgibG9jYWxZIiksTT1lLm5vZGUyLmdldExheW91dCgpLEk9ZS5ub2RlMi5nZXRNb2RlbCgpLFQ9SS5nZXQoImxvY2FsWCIpLEM9SS5nZXQoImxvY2FsWSIpLEQ9ZS5nZXRMYXlvdXQoKTtzd2l0Y2gobi5zaGFwZS5leHRlbnQ9TWF0aC5tYXgoMSxELmR5KSxuLnNoYXBlLm9yaWVudD1jLCJ2ZXJ0aWNhbCI9PT1jPyhyPShudWxsIT13P3cqczp4LngpK0Quc3ksYT0obnVsbCE9Uz9TKmw6eC55KSt4LmR5LHU9KG51bGwhPVQ/VCpzOk0ueCkrRC50eSxkPXIsZj1hKigxLV8pKyhwPW51bGwhPUM/QypsOk0ueSkqXyxnPXUseT1hKl8rcCooMS1fKSk6KHI9KG51bGwhPXc/dypzOngueCkreC5keCxhPShudWxsIT1TP1MqbDp4LnkpK0Quc3ksZD1yKigxLV8pKyh1PW51bGwhPVQ/VCpzOk0ueCkqXyxmPWEsZz1yKl8rdSooMS1fKSx5PXA9KG51bGwhPUM/QypsOk0ueSkrRC50eSksbi5zZXRTaGFwZSh7eDE6cix5MTphLHgyOnUseTI6cCxjcHgxOmQsY3B5MTpmLGNweDI6ZyxjcHkyOnl9KSxuLnVzZVN0eWxlKG0uZ2V0SXRlbVN0eWxlKCkpLG4uc3R5bGUuZmlsbCl7Y2FzZSJzb3VyY2UiOm4uc3R5bGUuZmlsbD1lLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKSxuLnN0eWxlLmRlY2FsPWUubm9kZTEuZ2V0VmlzdWFsKCJzdHlsZSIpLmRlY2FsO2JyZWFrO2Nhc2UidGFyZ2V0IjpuLnN0eWxlLmZpbGw9ZS5ub2RlMi5nZXRWaXN1YWwoImNvbG9yIiksbi5zdHlsZS5kZWNhbD1lLm5vZGUyLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbDticmVhaztjYXNlImdyYWRpZW50Ijp2YXIgQT1lLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKSxMPWUubm9kZTIuZ2V0VmlzdWFsKCJjb2xvciIpOyJzdHJpbmciPT10eXBlb2YgQSYmInN0cmluZyI9PXR5cGVvZiBMJiYobi5zdHlsZS5maWxsPW5ldyBtdSgwLDAsMSwwLFt7Y29sb3I6QSxvZmZzZXQ6MH0se2NvbG9yOkwsb2Zmc2V0OjF9XSkpfXZhciBrPXYuZ2V0TW9kZWwoImVtcGhhc2lzIik7Y2wobix2LCJsaW5lU3R5bGUiLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRJdGVtU3R5bGUoKX0pKSxvLmFkZChuKSxoLnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsbik7dmFyIFA9ay5nZXQoImZvY3VzIik7c2wobiwiYWRqYWNlbmN5Ij09PVA/ZS5nZXRBZGphY2VudERhdGFJbmRpY2VzKCk6UCxrLmdldCgiYmx1clNjb3BlIikpLF9zKG4pLmRhdGFUeXBlPSJlZGdlIn0pKSxyLmVhY2hOb2RlKChmdW5jdGlvbihlKXt2YXIgbj1lLmdldExheW91dCgpLGk9ZS5nZXRNb2RlbCgpLHI9aS5nZXQoImxvY2FsWCIpLGE9aS5nZXQoImxvY2FsWSIpLGg9aS5nZXRNb2RlbCgiZW1waGFzaXMiKSxjPW5ldyBscyh7c2hhcGU6e3g6bnVsbCE9cj9yKnM6bi54LHk6bnVsbCE9YT9hKmw6bi55LHdpZHRoOm4uZHgsaGVpZ2h0Om4uZHl9LHN0eWxlOmkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHoyOjEwfSk7aGgoYyxjaChpKSx7bGFiZWxGZXRjaGVyOnQsbGFiZWxEYXRhSW5kZXg6ZS5kYXRhSW5kZXgsZGVmYXVsdFRleHQ6ZS5pZH0pLGMuZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwLGMuc2V0U3R5bGUoImZpbGwiLGUuZ2V0VmlzdWFsKCJjb2xvciIpKSxjLnNldFN0eWxlKCJkZWNhbCIsZS5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWwpLGNsKGMsaSksby5hZGQoYyksdS5zZXRJdGVtR3JhcGhpY0VsKGUuZGF0YUluZGV4LGMpLF9zKGMpLmRhdGFUeXBlPSJub2RlIjt2YXIgcD1oLmdldCgiZm9jdXMiKTtzbChjLCJhZGphY2VuY3kiPT09cD9lLmdldEFkamFjZW50RGF0YUluZGljZXMoKTpwLGguZ2V0KCJibHVyU2NvcGUiKSl9KSksdS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSxyKXt1LmdldEl0ZW1Nb2RlbChyKS5nZXQoImRyYWdnYWJsZSIpJiYoZS5kcmlmdD1mdW5jdGlvbihlLG8pe2kuX2ZvY3VzQWRqYWNlbmN5RGlzYWJsZWQ9ITAsdGhpcy5zaGFwZS54Kz1lLHRoaXMuc2hhcGUueSs9byx0aGlzLmRpcnR5KCksbi5kaXNwYXRjaEFjdGlvbih7dHlwZToiZHJhZ05vZGUiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4OnUuZ2V0UmF3SW5kZXgociksbG9jYWxYOnRoaXMuc2hhcGUueC9zLGxvY2FsWTp0aGlzLnNoYXBlLnkvbH0pfSxlLm9uZHJhZ2VuZD1mdW5jdGlvbigpe2kuX2ZvY3VzQWRqYWNlbmN5RGlzYWJsZWQ9ITF9LGUuZHJhZ2dhYmxlPSEwLGUuY3Vyc29yPSJtb3ZlIil9KSksIXRoaXMuX2RhdGEmJnQuaXNBbmltYXRpb25FbmFibGVkKCkmJm8uc2V0Q2xpcFBhdGgoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5ldyBscyh7c2hhcGU6e3g6dC54LTEwLHk6dC55LTEwLHdpZHRoOjAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0pO3JldHVybiBXdShpLHtzaGFwZTp7d2lkdGg6dC53aWR0aCsyMH19LGUsbiksaX0oby5nZXRCb3VuZGluZ1JlY3QoKSx0LChmdW5jdGlvbigpe28ucmVtb3ZlQ2xpcFBhdGgoKX0pKSksdGhpcy5fZGF0YT10LmdldERhdGEoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS50eXBlPSJzYW5rZXkiLGV9KFRmKTt2YXIgWUE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmVkZ2VzfHx0LmxpbmtzLGk9dC5kYXRhfHx0Lm5vZGVzLHI9dC5sZXZlbHM7dGhpcy5sZXZlbE1vZGVscz1bXTtmb3IodmFyIG89dGhpcy5sZXZlbE1vZGVscyxhPTA7YTxyLmxlbmd0aDthKyspbnVsbCE9clthXS5kZXB0aCYmclthXS5kZXB0aD49MCYmKG9bclthXS5kZXB0aF09bmV3IE9oKHJbYV0sdGhpcyxlKSk7aWYoaSYmbilyZXR1cm4gaUQoaSxuLHRoaXMsITAsKGZ1bmN0aW9uKHQsZSl7dC53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyZW50TW9kZWwsaT1uLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KGUpO2lmKGkpe3ZhciByPWkuZGVwdGgsbz1uLmxldmVsTW9kZWxzW3JdO28mJih0LnBhcmVudE1vZGVsPW8pfXJldHVybiB0fSkpLGUud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCxlKXt2YXIgbj10LnBhcmVudE1vZGVsLGk9bi5nZXRHcmFwaCgpLmdldEVkZ2VCeUluZGV4KGUpLm5vZGUxLmdldExheW91dCgpO2lmKGkpe3ZhciByPWkuZGVwdGgsbz1uLmxldmVsTW9kZWxzW3JdO28mJih0LnBhcmVudE1vZGVsPW8pfXJldHVybiB0fSkpfSkpLmRhdGF9LGUucHJvdG90eXBlLnNldE5vZGVQb3NpdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLmRhdGFbdF07bi5sb2NhbFg9ZVswXSxuLmxvY2FsWT1lWzFdfSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZS5wcm90b3R5cGUuZ2V0RWRnZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3JldHVybiBpc05hTih0KXx8bnVsbD09dH1pZigiZWRnZSI9PT1uKXt2YXIgcj10aGlzLmdldERhdGFQYXJhbXModCxuKSxvPXIuZGF0YSxhPXIudmFsdWU7cmV0dXJuIHRmKCJuYW1lVmFsdWUiLHtuYW1lOm8uc291cmNlKyIgLS0gIitvLnRhcmdldCx2YWx1ZTphLG5vVmFsdWU6aShhKX0pfXZhciBzPXRoaXMuZ2V0R3JhcGgoKS5nZXROb2RlQnlJbmRleCh0KS5nZXRMYXlvdXQoKS52YWx1ZSxsPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pLmRhdGEubmFtZTtyZXR1cm4gdGYoIm5hbWVWYWx1ZSIse25hbWU6bnVsbCE9bD9sKyIiOm51bGwsdmFsdWU6cyxub1ZhbHVlOmkocyl9KX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlLG4pe3ZhciBpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUsbik7aWYobnVsbD09aS52YWx1ZSYmIm5vZGUiPT09bil7dmFyIHI9dGhpcy5nZXRHcmFwaCgpLmdldE5vZGVCeUluZGV4KGUpLmdldExheW91dCgpLnZhbHVlO2kudmFsdWU9cn1yZXR1cm4gaX0sZS50eXBlPSJzZXJpZXMuc2Fua2V5IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJ2aWV3IixsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjIwJSIsYm90dG9tOiI1JSIsb3JpZW50OiJob3Jpem9udGFsIixub2RlV2lkdGg6MjAsbm9kZUdhcDo4LGRyYWdnYWJsZTohMCxsYXlvdXRJdGVyYXRpb25zOjMyLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJyaWdodCIsZm9udFNpemU6MTJ9LGxldmVsczpbXSxub2RlQWxpZ246Imp1c3RpZnkiLGxpbmVTdHlsZTp7Y29sb3I6IiMzMTQ2NTYiLG9wYWNpdHk6LjIsY3VydmVuZXNzOi41fSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9LGxpbmVTdHlsZTp7b3BhY2l0eTouNX19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246MWUzfSxlfShmZik7ZnVuY3Rpb24gWkEodCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInNhbmtleSIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KCJub2RlV2lkdGgiKSxpPXQuZ2V0KCJub2RlR2FwIikscj1mdW5jdGlvbih0LGUpe3JldHVybiBWYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxlKTt0LmxheW91dEluZm89cjt2YXIgbz1yLndpZHRoLGE9ci5oZWlnaHQscz10LmdldEdyYXBoKCksbD1zLm5vZGVzLHU9cy5lZGdlczshZnVuY3Rpb24odCl7UCh0LChmdW5jdGlvbih0KXt2YXIgZT1pTCh0Lm91dEVkZ2VzLG5MKSxuPWlMKHQuaW5FZGdlcyxuTCksaT10LmdldFZhbHVlKCl8fDAscj1NYXRoLm1heChlLG4saSk7dC5zZXRMYXlvdXQoe3ZhbHVlOnJ9LCEwKX0pKX0obCksZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpeyhmdW5jdGlvbih0LGUsbixpLHIsbyxhKXtmb3IodmFyIHM9W10sbD1bXSx1PVtdLGg9W10sYz0wLHA9MDtwPGUubGVuZ3RoO3ArKylzW3BdPTE7Zm9yKHA9MDtwPHQubGVuZ3RoO3ArKylsW3BdPXRbcF0uaW5FZGdlcy5sZW5ndGgsMD09PWxbcF0mJnUucHVzaCh0W3BdKTt2YXIgZD0tMTtmb3IoO3UubGVuZ3RoOyl7Zm9yKHZhciBmPTA7Zjx1Lmxlbmd0aDtmKyspe3ZhciBnPXVbZl0seT1nLmhvc3RHcmFwaC5kYXRhLmdldFJhd0RhdGFJdGVtKGcuZGF0YUluZGV4KSx2PW51bGwhPXkuZGVwdGgmJnkuZGVwdGg+PTA7diYmeS5kZXB0aD5kJiYoZD15LmRlcHRoKSxnLnNldExheW91dCh7ZGVwdGg6dj95LmRlcHRoOmN9LCEwKSwidmVydGljYWwiPT09bz9nLnNldExheW91dCh7ZHk6bn0sITApOmcuc2V0TGF5b3V0KHtkeDpufSwhMCk7Zm9yKHZhciBtPTA7bTxnLm91dEVkZ2VzLmxlbmd0aDttKyspe3ZhciBfPWcub3V0RWRnZXNbbV07c1tlLmluZGV4T2YoXyldPTA7dmFyIHg9Xy5ub2RlMjswPT0tLWxbdC5pbmRleE9mKHgpXSYmaC5pbmRleE9mKHgpPDAmJmgucHVzaCh4KX19KytjLHU9aCxoPVtdfWZvcihwPTA7cDxzLmxlbmd0aDtwKyspaWYoMT09PXNbcF0pdGhyb3cgbmV3IEVycm9yKCJTYW5rZXkgaXMgYSBEQUcsIHRoZSBvcmlnaW5hbCBkYXRhIGhhcyBjeWNsZSEiKTt2YXIgYj1kPmMtMT9kOmMtMTthJiYibGVmdCIhPT1hJiZmdW5jdGlvbih0LGUsbixpKXtpZigicmlnaHQiPT09ZSl7Zm9yKHZhciByPVtdLG89dCxhPTA7by5sZW5ndGg7KXtmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIGw9b1tzXTtsLnNldExheW91dCh7c2tOb2RlSGVpZ2h0OmF9LCEwKTtmb3IodmFyIHU9MDt1PGwuaW5FZGdlcy5sZW5ndGg7dSsrKXt2YXIgaD1sLmluRWRnZXNbdV07ci5pbmRleE9mKGgubm9kZTEpPDAmJnIucHVzaChoLm5vZGUxKX19bz1yLHI9W10sKythfVAodCwoZnVuY3Rpb24odCl7akEodCl8fHQuc2V0TGF5b3V0KHtkZXB0aDpNYXRoLm1heCgwLGktdC5nZXRMYXlvdXQoKS5za05vZGVIZWlnaHQpfSwhMCl9KSl9ZWxzZSJqdXN0aWZ5Ij09PWUmJmZ1bmN0aW9uKHQsZSl7UCh0LChmdW5jdGlvbih0KXtqQSh0KXx8dC5vdXRFZGdlcy5sZW5ndGh8fHQuc2V0TGF5b3V0KHtkZXB0aDplfSwhMCl9KSl9KHQsaSl9KHQsYSwwLGIpOyFmdW5jdGlvbih0LGUsbil7UCh0LChmdW5jdGlvbih0KXt2YXIgaT10LmdldExheW91dCgpLmRlcHRoKmU7InZlcnRpY2FsIj09PW4/dC5zZXRMYXlvdXQoe3k6aX0sITApOnQuc2V0TGF5b3V0KHt4Oml9LCEwKX0pKX0odCwidmVydGljYWwiPT09bz8oci1uKS9iOihpLW4pL2Isbyl9KSh0LGUsbixyLG8scyxsKSxmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdLGk9InZlcnRpY2FsIj09PWU/InkiOiJ4IixyPUJyKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldExheW91dCgpW2ldfSkpO3JldHVybiByLmtleXMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLFAoci5rZXlzLChmdW5jdGlvbih0KXtuLnB1c2goci5idWNrZXRzLmdldCh0KSl9KSksbn0odCxhKTsoZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPTEvMDtQKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLHM9MDtQKHQsKGZ1bmN0aW9uKHQpe3MrPXQuZ2V0TGF5b3V0KCkudmFsdWV9KSk7dmFyIGw9InZlcnRpY2FsIj09PW8/KGktKGUtMSkqcikvczoobi0oZS0xKSpyKS9zO2w8YSYmKGE9bCl9KSksUCh0LChmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRMYXlvdXQoKS52YWx1ZSphOyJ2ZXJ0aWNhbCI9PT1vPyh0LnNldExheW91dCh7eDplfSwhMCksdC5zZXRMYXlvdXQoe2R4Om59LCEwKSk6KHQuc2V0TGF5b3V0KHt5OmV9LCEwKSx0LnNldExheW91dCh7ZHk6bn0sITApKX0pKX0pKSxQKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPSt0LmdldFZhbHVlKCkqYTt0LnNldExheW91dCh7ZHk6ZX0sITApfSkpfSkocyxlLG4saSxyLGEpLHFBKHMscixuLGksYSk7Zm9yKHZhciBsPTE7bz4wO28tLSlLQShzLGwqPS45OSxhKSxxQShzLHIsbixpLGEpLHJMKHMsbCxhKSxxQShzLHIsbixpLGEpfSh0LGUsbyxyLGksYSxzKSxmdW5jdGlvbih0LGUpe3ZhciBuPSJ2ZXJ0aWNhbCI9PT1lPyJ4IjoieSI7UCh0LChmdW5jdGlvbih0KXt0Lm91dEVkZ2VzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubm9kZTIuZ2V0TGF5b3V0KClbbl0tZS5ub2RlMi5nZXRMYXlvdXQoKVtuXX0pKSx0LmluRWRnZXMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ub2RlMS5nZXRMYXlvdXQoKVtuXS1lLm5vZGUxLmdldExheW91dCgpW25dfSkpfSkpLFAodCwoZnVuY3Rpb24odCl7dmFyIGU9MCxuPTA7UCh0Lm91dEVkZ2VzLChmdW5jdGlvbih0KXt0LnNldExheW91dCh7c3k6ZX0sITApLGUrPXQuZ2V0TGF5b3V0KCkuZHl9KSksUCh0LmluRWRnZXMsKGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHt0eTpufSwhMCksbis9dC5nZXRMYXlvdXQoKS5keX0pKX0pKX0odCxzKX0obCx1LG4saSxvLGEsMCE9PU4obCwoZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10LmdldExheW91dCgpLnZhbHVlfSkpLmxlbmd0aD8wOnQuZ2V0KCJsYXlvdXRJdGVyYXRpb25zIiksdC5nZXQoIm9yaWVudCIpLHQuZ2V0KCJub2RlQWxpZ24iKSl9KSl9ZnVuY3Rpb24gakEodCl7dmFyIGU9dC5ob3N0R3JhcGguZGF0YS5nZXRSYXdEYXRhSXRlbSh0LmRhdGFJbmRleCk7cmV0dXJuIG51bGwhPWUuZGVwdGgmJmUuZGVwdGg+PTB9ZnVuY3Rpb24gcUEodCxlLG4saSxyKXt2YXIgbz0idmVydGljYWwiPT09cj8ieCI6InkiO1AodCwoZnVuY3Rpb24odCl7dmFyIGEscyxsO3Quc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRMYXlvdXQoKVtvXS1lLmdldExheW91dCgpW29dfSkpO2Zvcih2YXIgdT0wLGg9dC5sZW5ndGgsYz0idmVydGljYWwiPT09cj8iZHgiOiJkeSIscD0wO3A8aDtwKyspKGw9dS0ocz10W3BdKS5nZXRMYXlvdXQoKVtvXSk+MCYmKGE9cy5nZXRMYXlvdXQoKVtvXStsLCJ2ZXJ0aWNhbCI9PT1yP3Muc2V0TGF5b3V0KHt4OmF9LCEwKTpzLnNldExheW91dCh7eTphfSwhMCkpLHU9cy5nZXRMYXlvdXQoKVtvXStzLmdldExheW91dCgpW2NdK2U7aWYoKGw9dS1lLSgidmVydGljYWwiPT09cj9pOm4pKT4wKXthPXMuZ2V0TGF5b3V0KClbb10tbCwidmVydGljYWwiPT09cj9zLnNldExheW91dCh7eDphfSwhMCk6cy5zZXRMYXlvdXQoe3k6YX0sITApLHU9YTtmb3IocD1oLTI7cD49MDstLXApKGw9KHM9dFtwXSkuZ2V0TGF5b3V0KClbb10rcy5nZXRMYXlvdXQoKVtjXStlLXUpPjAmJihhPXMuZ2V0TGF5b3V0KClbb10tbCwidmVydGljYWwiPT09cj9zLnNldExheW91dCh7eDphfSwhMCk6cy5zZXRMYXlvdXQoe3k6YX0sITApKSx1PXMuZ2V0TGF5b3V0KClbb119fSkpfWZ1bmN0aW9uIEtBKHQsZSxuKXtQKHQuc2xpY2UoKS5yZXZlcnNlKCksKGZ1bmN0aW9uKHQpe1AodCwoZnVuY3Rpb24odCl7aWYodC5vdXRFZGdlcy5sZW5ndGgpe3ZhciBpPWlMKHQub3V0RWRnZXMsJEEsbikvaUwodC5vdXRFZGdlcyxuTCk7aWYoaXNOYU4oaSkpe3ZhciByPXQub3V0RWRnZXMubGVuZ3RoO2k9cj9pTCh0Lm91dEVkZ2VzLEpBLG4pL3I6MH1pZigidmVydGljYWwiPT09bil7dmFyIG89dC5nZXRMYXlvdXQoKS54KyhpLWVMKHQsbikpKmU7dC5zZXRMYXlvdXQoe3g6b30sITApfWVsc2V7dmFyIGE9dC5nZXRMYXlvdXQoKS55KyhpLWVMKHQsbikpKmU7dC5zZXRMYXlvdXQoe3k6YX0sITApfX19KSl9KSl9ZnVuY3Rpb24gJEEodCxlKXtyZXR1cm4gZUwodC5ub2RlMixlKSp0LmdldFZhbHVlKCl9ZnVuY3Rpb24gSkEodCxlKXtyZXR1cm4gZUwodC5ub2RlMixlKX1mdW5jdGlvbiBRQSh0LGUpe3JldHVybiBlTCh0Lm5vZGUxLGUpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiB0TCh0LGUpe3JldHVybiBlTCh0Lm5vZGUxLGUpfWZ1bmN0aW9uIGVMKHQsZSl7cmV0dXJuInZlcnRpY2FsIj09PWU/dC5nZXRMYXlvdXQoKS54K3QuZ2V0TGF5b3V0KCkuZHgvMjp0LmdldExheW91dCgpLnkrdC5nZXRMYXlvdXQoKS5keS8yfWZ1bmN0aW9uIG5MKHQpe3JldHVybiB0LmdldFZhbHVlKCl9ZnVuY3Rpb24gaUwodCxlLG4pe2Zvcih2YXIgaT0wLHI9dC5sZW5ndGgsbz0tMTsrK288cjspe3ZhciBhPStlKHRbb10sbik7aXNOYU4oYSl8fChpKz1hKX1yZXR1cm4gaX1mdW5jdGlvbiByTCh0LGUsbil7UCh0LChmdW5jdGlvbih0KXtQKHQsKGZ1bmN0aW9uKHQpe2lmKHQuaW5FZGdlcy5sZW5ndGgpe3ZhciBpPWlMKHQuaW5FZGdlcyxRQSxuKS9pTCh0LmluRWRnZXMsbkwpO2lmKGlzTmFOKGkpKXt2YXIgcj10LmluRWRnZXMubGVuZ3RoO2k9cj9pTCh0LmluRWRnZXMsdEwsbikvcjowfWlmKCJ2ZXJ0aWNhbCI9PT1uKXt2YXIgbz10LmdldExheW91dCgpLngrKGktZUwodCxuKSkqZTt0LnNldExheW91dCh7eDpvfSwhMCl9ZWxzZXt2YXIgYT10LmdldExheW91dCgpLnkrKGktZUwodCxuKSkqZTt0LnNldExheW91dCh7eTphfSwhMCl9fX0pKX0pKX1mdW5jdGlvbiBvTCh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoInNhbmtleSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGgoKS5ub2RlcztpZihlLmxlbmd0aCl7dmFyIG49MS8wLGk9LTEvMDtQKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGF5b3V0KCkudmFsdWU7ZTxuJiYobj1lKSxlPmkmJihpPWUpfSkpLFAoZSwoZnVuY3Rpb24oZSl7dmFyIHI9bmV3IFRUKHt0eXBlOiJjb2xvciIsbWFwcGluZ01ldGhvZDoibGluZWFyIixkYXRhRXh0ZW50OltuLGldLHZpc3VhbDp0LmdldCgiY29sb3IiKX0pLm1hcFZhbHVlVG9WaXN1YWwoZS5nZXRMYXlvdXQoKS52YWx1ZSksbz1lLmdldE1vZGVsKCkuZ2V0KFsiaXRlbVN0eWxlIiwiY29sb3IiXSk7bnVsbCE9bz8oZS5zZXRWaXN1YWwoImNvbG9yIixvKSxlLnNldFZpc3VhbCgic3R5bGUiLHtmaWxsOm99KSk6KGUuc2V0VmlzdWFsKCJjb2xvciIsciksZS5zZXRWaXN1YWwoInN0eWxlIix7ZmlsbDpyfSkpfSkpfX0pKX12YXIgYUw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj1lLmdldENvbXBvbmVudCgieEF4aXMiLHRoaXMuZ2V0KCJ4QXhpc0luZGV4IikpLG89ZS5nZXRDb21wb25lbnQoInlBeGlzIix0aGlzLmdldCgieUF4aXNJbmRleCIpKSxhPXIuZ2V0KCJ0eXBlIikscz1vLmdldCgidHlwZSIpOyJjYXRlZ29yeSI9PT1hPyh0LmxheW91dD0iaG9yaXpvbnRhbCIsbj1yLmdldE9yZGluYWxNZXRhKCksaT0hMCk6ImNhdGVnb3J5Ij09PXM/KHQubGF5b3V0PSJ2ZXJ0aWNhbCIsbj1vLmdldE9yZGluYWxNZXRhKCksaT0hMCk6dC5sYXlvdXQ9dC5sYXlvdXR8fCJob3Jpem9udGFsIjt2YXIgbD1bIngiLCJ5Il0sdT0iaG9yaXpvbnRhbCI9PT10LmxheW91dD8wOjEsaD10aGlzLl9iYXNlQXhpc0RpbT1sW3VdLGM9bFsxLXVdLHA9W3Isb10sZD1wW3VdLmdldCgidHlwZSIpLGY9cFsxLXVdLmdldCgidHlwZSIpLGc9dC5kYXRhO2lmKGcmJmkpe3ZhciB5PVtdO1AoZywoZnVuY3Rpb24odCxlKXt2YXIgbjtGKHQpPyhuPXQuc2xpY2UoKSx0LnVuc2hpZnQoZSkpOkYodC52YWx1ZSk/KG49dC52YWx1ZS5zbGljZSgpLHQudmFsdWUudW5zaGlmdChlKSk6bj10LHkucHVzaChuKX0pKSx0LmRhdGE9eX12YXIgdj10aGlzLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnMsbT1be25hbWU6aCx0eXBlOnJfKGQpLG9yZGluYWxNZXRhOm4sb3RoZXJEaW1zOnt0b29sdGlwOiExLGl0ZW1OYW1lOjB9LGRpbXNEZWY6WyJiYXNlIl19LHtuYW1lOmMsdHlwZTpyXyhmKSxkaW1zRGVmOnYuc2xpY2UoKX1dO3JldHVybiBNUyh0aGlzLHtjb29yZERpbWVuc2lvbnM6bSxkaW1lbnNpb25zQ291bnQ6di5sZW5ndGgrMSxlbmNvZGVEZWZhdWx0ZXI6QihscCxtLHRoaXMpfSl9LHQucHJvdG90eXBlLmdldEJhc2VBeGlzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmFzZUF4aXNEaW07cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodCsiQXhpcyIsdGhpcy5nZXQodCsiQXhpc0luZGV4IikpLmF4aXN9LHR9KCksc0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnM9W3tuYW1lOiJtaW4iLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiUTEiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToibWVkaWFuIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6IlEzIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6Im1heCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxuLnZpc3VhbERyYXdUeXBlPSJzdHJva2UiLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InNlcmllcy5ib3hwbG90IixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e3NjYWxlOiEwLGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjUsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjIpIn19LGFuaW1hdGlvbkR1cmF0aW9uOjgwMH0sZX0oZmYpO0woc0wsYUwsITApO3ZhciBsTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcy5ncm91cCxvPXRoaXMuX2RhdGE7dGhpcy5fZGF0YXx8ci5yZW1vdmVBbGwoKTt2YXIgYT0iaG9yaXpvbnRhbCI9PT10LmdldCgibGF5b3V0Iik/MTowO2kuZGlmZihvKS5hZGQoKGZ1bmN0aW9uKHQpe2lmKGkuaGFzVmFsdWUodCkpe3ZhciBlPWNMKGkuZ2V0SXRlbUxheW91dCh0KSxpLHQsYSwhMCk7aS5zZXRJdGVtR3JhcGhpY0VsKHQsZSksci5hZGQoZSl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1vLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoaS5oYXNWYWx1ZSh0KSl7dmFyIHM9aS5nZXRJdGVtTGF5b3V0KHQpO24/cEwocyxuLGksdCk6bj1jTChzLGksdCxhKSxyLmFkZChuKSxpLnNldEl0ZW1HcmFwaGljRWwodCxuKX1lbHNlIHIucmVtb3ZlKG4pfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJnIucmVtb3ZlKGUpfSkpLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPWl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTt0aGlzLl9kYXRhPW51bGwsbiYmbi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dCYmZS5yZW1vdmUodCl9KSl9LGUudHlwZT0iYm94cGxvdCIsZX0oVGYpLHVMPWZ1bmN0aW9uKCl7fSxoTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9ImJveHBsb3RCb3hQYXRoIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1TH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT0wO2Zvcih0Lm1vdmVUbyhuW2ldWzBdLG5baV1bMV0pLGkrKztpPDQ7aSsrKXQubGluZVRvKG5baV1bMF0sbltpXVsxXSk7Zm9yKHQuY2xvc2VQYXRoKCk7aTxuLmxlbmd0aDtpKyspdC5tb3ZlVG8obltpXVswXSxuW2ldWzFdKSxpKyssdC5saW5lVG8obltpXVswXSxuW2ldWzFdKX0sZX0oS2EpO2Z1bmN0aW9uIGNMKHQsZSxuLGkscil7dmFyIG89dC5lbmRzLGE9bmV3IGhMKHtzaGFwZTp7cG9pbnRzOnI/ZEwobyxpLHQpOm99fSk7cmV0dXJuIHBMKHQsYSxlLG4sciksYX1mdW5jdGlvbiBwTCh0LGUsbixpLHIpe3ZhciBvPW4uaG9zdE1vZGVsOygwLGFoW3I/ImluaXRQcm9wcyI6InVwZGF0ZVByb3BzIl0pKGUse3NoYXBlOntwb2ludHM6dC5lbmRzfX0sbyxpKSxlLnVzZVN0eWxlKG4uZ2V0SXRlbVZpc3VhbChpLCJzdHlsZSIpKSxlLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsZS56Mj0xMDA7dmFyIGE9bi5nZXRJdGVtTW9kZWwoaSk7Y2woZSxhKSxzbChlLGEuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSxhLmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pKX1mdW5jdGlvbiBkTCh0LGUsbil7cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5zbGljZSgpKVtlXT1uLmluaXRCYXNlbGluZSx0fSkpfWZ1bmN0aW9uIGZMKHQsZSl7fXZhciBnTD1QO2Z1bmN0aW9uIHlMKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiYm94cGxvdCIsKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0QmFzZUF4aXMoKSxyPUQobixpKTtyPDAmJihyPW4ubGVuZ3RoLG5bcl09aSxlW3JdPXtheGlzOmksc2VyaWVzTW9kZWxzOltdfSksZVtyXS5zZXJpZXNNb2RlbHMucHVzaCh0KX0pKSxlfSh0KTtnTChlLChmdW5jdGlvbih0KXt2YXIgZT10LnNlcmllc01vZGVscztlLmxlbmd0aCYmKCFmdW5jdGlvbih0KXt2YXIgZSxuLGk9dC5heGlzLHI9dC5zZXJpZXNNb2RlbHMsbz1yLmxlbmd0aCxhPXQuYm94V2lkdGhMaXN0PVtdLHM9dC5ib3hPZmZzZXRMaXN0PVtdLGw9W107aWYoImNhdGVnb3J5Ij09PWkudHlwZSluPWkuZ2V0QmFuZFdpZHRoKCk7ZWxzZXt2YXIgdT0wO2dMKHIsKGZ1bmN0aW9uKHQpe3U9TWF0aC5tYXgodSx0LmdldERhdGEoKS5jb3VudCgpKX0pKSxlPWkuZ2V0RXh0ZW50KCksTWF0aC5hYnMoZVsxXS1lWzBdKX1nTChyLChmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiYm94V2lkdGgiKTtGKGUpfHwoZT1bZSxlXSksbC5wdXNoKFtaaShlWzBdLG4pfHwwLFppKGVbMV0sbil8fDBdKX0pKTt2YXIgaD0uOCpuLTIsYz1oL28qLjMscD0oaC1jKihvLTEpKS9vLGQ9cC8yLWgvMjtnTChyLChmdW5jdGlvbih0LGUpe3MucHVzaChkKSxkKz1jK3AsYS5wdXNoKE1hdGgubWluKE1hdGgubWF4KHAsbFtlXVswXSksbFtlXVsxXSkpfSkpfSh0KSxnTChlLChmdW5jdGlvbihlLG4peyFmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5nZXREYXRhKCksbz1uLzIsYT0iaG9yaXpvbnRhbCI9PT10LmdldCgibGF5b3V0Iik/MDoxLHM9MS1hLGw9WyJ4IiwieSJdLHU9ci5tYXBEaW1lbnNpb24obFthXSksaD1yLm1hcERpbWVuc2lvbnNBbGwobFtzXSk7aWYobnVsbD09dXx8aC5sZW5ndGg8NSlyZXR1cm47Zm9yKHZhciBjPTA7YzxyLmNvdW50KCk7YysrKXt2YXIgcD1yLmdldCh1LGMpLGQ9XyhwLGhbMl0sYyksZj1fKHAsaFswXSxjKSxnPV8ocCxoWzFdLGMpLHk9XyhwLGhbM10sYyksdj1fKHAsaFs0XSxjKSxtPVtdO3gobSxnLCExKSx4KG0seSwhMCksbS5wdXNoKGYsZyx2LHkpLGIobSxmKSxiKG0sdiksYihtLGQpLHIuc2V0SXRlbUxheW91dChjLHtpbml0QmFzZWxpbmU6ZFtzXSxlbmRzOm19KX1mdW5jdGlvbiBfKHQsbixvKXt2YXIgbCx1PXIuZ2V0KG4sbyksaD1bXTtyZXR1cm4gaFthXT10LGhbc109dSxpc05hTih0KXx8aXNOYU4odSk/bD1bTmFOLE5hTl06KGw9aS5kYXRhVG9Qb2ludChoKSlbYV0rPWUsbH1mdW5jdGlvbiB4KHQsZSxuKXt2YXIgaT1lLnNsaWNlKCkscj1lLnNsaWNlKCk7aVthXSs9byxyW2FdLT1vLG4/dC5wdXNoKGkscik6dC5wdXNoKHIsaSl9ZnVuY3Rpb24gYih0LGUpe3ZhciBuPWUuc2xpY2UoKSxpPWUuc2xpY2UoKTtuW2FdLT1vLGlbYV0rPW8sdC5wdXNoKG4saSl9fShlLHQuYm94T2Zmc2V0TGlzdFtuXSx0LmJveFdpZHRoTGlzdFtuXSl9KSkpfSkpfXZhciB2TD17dHlwZToiZWNoYXJ0czpib3hwbG90Iix0cmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU9dC51cHN0cmVhbTtpZihlLnNvdXJjZUZvcm1hdCE9PSRjKXt2YXIgbj0iIjswLHZyKG4pfXZhciBpPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9W10scj0oZT1lfHx7fSkuYm91bmRJUVIsbz0ibm9uZSI9PT1yfHwwPT09cixhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXFpKHRbYV0uc2xpY2UoKSksbD11cihzLC4yNSksdT11cihzLC41KSxoPXVyKHMsLjc1KSxjPXNbMF0scD1zW3MubGVuZ3RoLTFdLGQ9KG51bGw9PXI/MS41OnIpKihoLWwpLGY9bz9jOk1hdGgubWF4KGMsbC1kKSxnPW8/cDpNYXRoLm1pbihwLGgrZCkseT1lLml0ZW1OYW1lRm9ybWF0dGVyLHY9Ryh5KT95KHt2YWx1ZTphfSk6SCh5KT95LnJlcGxhY2UoInt2YWx1ZX0iLGErIiIpOmErIiI7bi5wdXNoKFt2LGYsbCx1LGgsZ10pO2Zvcih2YXIgbT0wO208cy5sZW5ndGg7bSsrKXt2YXIgXz1zW21dO2lmKF88Znx8Xz5nKXt2YXIgeD1bdixfXTtpLnB1c2goeCl9fX1yZXR1cm57Ym94RGF0YTpuLG91dGxpZXJzOml9fShlLmdldFJhd0RhdGEoKSx0LmNvbmZpZyk7cmV0dXJuW3tkaW1lbnNpb25zOlsiSXRlbU5hbWUiLCJMb3ciLCJRMSIsIlEyIiwiUTMiLCJIaWdoIl0sZGF0YTppLmJveERhdGF9LHtkYXRhOmkub3V0bGllcnN9XX19O3ZhciBtTD1bImNvbG9yIiwiYm9yZGVyQ29sb3IiXSxfTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KSx0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9yZW5kZXJMYXJnZSh0KTp0aGlzLl9yZW5kZXJOb3JtYWwodCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fY2xlYXIoKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5faXNMYXJnZURyYXc/dGhpcy5faW5jcmVtZW50YWxSZW5kZXJMYXJnZSh0LGUpOnRoaXMuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsKHQsZSl9LGUucHJvdG90eXBlLl91cGRhdGVEcmF3TW9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtudWxsIT10aGlzLl9pc0xhcmdlRHJhdyYmZT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sZS5wcm90b3R5cGUuX3JlbmRlck5vcm1hbD1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXRoaXMuX2RhdGEsaT10aGlzLmdyb3VwLHI9ZS5nZXRMYXlvdXQoImlzU2ltcGxlQm94Iiksbz10LmdldCgiY2xpcCIsITApLGE9dC5jb29yZGluYXRlU3lzdGVtLHM9YS5nZXRBcmVhJiZhLmdldEFyZWEoKTt0aGlzLl9kYXRhfHxpLnJlbW92ZUFsbCgpLGUuZGlmZihuKS5hZGQoKGZ1bmN0aW9uKG4pe2lmKGUuaGFzVmFsdWUobikpe3ZhciBhPWUuZ2V0SXRlbUxheW91dChuKTtpZihvJiZTTChzLGEpKXJldHVybjt2YXIgbD13TChhLG4sITApO1d1KGwse3NoYXBlOntwb2ludHM6YS5lbmRzfX0sdCxuKSxNTChsLGUsbixyKSxpLmFkZChsKSxlLnNldEl0ZW1HcmFwaGljRWwobixsKX19KSkudXBkYXRlKChmdW5jdGlvbihhLGwpe3ZhciB1PW4uZ2V0SXRlbUdyYXBoaWNFbChsKTtpZihlLmhhc1ZhbHVlKGEpKXt2YXIgaD1lLmdldEl0ZW1MYXlvdXQoYSk7byYmU0wocyxoKT9pLnJlbW92ZSh1KToodT9IdSh1LHtzaGFwZTp7cG9pbnRzOmguZW5kc319LHQsYSk6dT13TChoKSxNTCh1LGUsYSxyKSxpLmFkZCh1KSxlLnNldEl0ZW1HcmFwaGljRWwoYSx1KSl9ZWxzZSBpLnJlbW92ZSh1KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZpLnJlbW92ZShlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1lfSxlLnByb3RvdHlwZS5fcmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKSxETCh0LHRoaXMuZ3JvdXApO3ZhciBlPXQuZ2V0KCJjbGlwIiwhMCk/UncodC5jb29yZGluYXRlU3lzdGVtLCExLHQpOm51bGw7ZT90aGlzLmdyb3VwLnNldENsaXBQYXRoKGUpOnRoaXMuZ3JvdXAucmVtb3ZlQ2xpcFBhdGgoKX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTm9ybWFsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9ZS5nZXREYXRhKCkscj1pLmdldExheW91dCgiaXNTaW1wbGVCb3giKTtudWxsIT0obj10Lm5leHQoKSk7KXt2YXIgbz13TChpLmdldEl0ZW1MYXlvdXQobikpO01MKG8saSxuLHIpLG8uaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQobyl9fSxlLnByb3RvdHlwZS5faW5jcmVtZW50YWxSZW5kZXJMYXJnZT1mdW5jdGlvbih0LGUpe0RMKGUsdGhpcy5ncm91cCwhMCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9jbGVhcigpfSxlLnByb3RvdHlwZS5fY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS50eXBlPSJjYW5kbGVzdGljayIsZX0oVGYpLHhMPWZ1bmN0aW9uKCl7fSxiTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9Im5vcm1hbENhbmRsZXN0aWNrQm94IixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4TH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHM7dGhpcy5fX3NpbXBsZUJveD8odC5tb3ZlVG8obls0XVswXSxuWzRdWzFdKSx0LmxpbmVUbyhuWzZdWzBdLG5bNl1bMV0pKToodC5tb3ZlVG8oblswXVswXSxuWzBdWzFdKSx0LmxpbmVUbyhuWzFdWzBdLG5bMV1bMV0pLHQubGluZVRvKG5bMl1bMF0sblsyXVsxXSksdC5saW5lVG8oblszXVswXSxuWzNdWzFdKSx0LmNsb3NlUGF0aCgpLHQubW92ZVRvKG5bNF1bMF0sbls0XVsxXSksdC5saW5lVG8obls1XVswXSxuWzVdWzFdKSx0Lm1vdmVUbyhuWzZdWzBdLG5bNl1bMV0pLHQubGluZVRvKG5bN11bMF0sbls3XVsxXSkpfSxlfShLYSk7ZnVuY3Rpb24gd0wodCxlLG4pe3ZhciBpPXQuZW5kcztyZXR1cm4gbmV3IGJMKHtzaGFwZTp7cG9pbnRzOm4/SUwoaSx0KTppfSx6MjoxMDB9KX1mdW5jdGlvbiBTTCh0LGUpe2Zvcih2YXIgbj0hMCxpPTA7aTxlLmVuZHMubGVuZ3RoO2krKylpZih0LmNvbnRhaW4oZS5lbmRzW2ldWzBdLGUuZW5kc1tpXVsxXSkpe249ITE7YnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gTUwodCxlLG4saSl7dmFyIHI9ZS5nZXRJdGVtTW9kZWwobik7dC51c2VTdHlsZShlLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSksdC5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLHQuX19zaW1wbGVCb3g9aSxjbCh0LHIpfWZ1bmN0aW9uIElMKHQsZSl7cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5zbGljZSgpKVsxXT1lLmluaXRCYXNlbGluZSx0fSkpfXZhciBUTD1mdW5jdGlvbigpe30sQ0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJsYXJnZUNhbmRsZXN0aWNrQm94IixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUTH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUucG9pbnRzLGk9MDtpPG4ubGVuZ3RoOylpZih0aGlzLl9fc2lnbj09PW5baSsrXSl7dmFyIHI9bltpKytdO3QubW92ZVRvKHIsbltpKytdKSx0LmxpbmVUbyhyLG5baSsrXSl9ZWxzZSBpKz0zfSxlfShLYSk7ZnVuY3Rpb24gREwodCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLmdldExheW91dCgibGFyZ2VQb2ludHMiKSxyPW5ldyBDTCh7c2hhcGU6e3BvaW50czppfSxfX3NpZ246MX0pO2UuYWRkKHIpO3ZhciBvPW5ldyBDTCh7c2hhcGU6e3BvaW50czppfSxfX3NpZ246LTF9KTtlLmFkZChvKSxBTCgxLHIsdCksQUwoLTEsbyx0KSxuJiYoci5pbmNyZW1lbnRhbD0hMCxvLmluY3JlbWVudGFsPSEwKX1mdW5jdGlvbiBBTCh0LGUsbixpKXt2YXIgcj1uLmdldChbIml0ZW1TdHlsZSIsdD4wPyJib3JkZXJDb2xvciI6ImJvcmRlckNvbG9yMCJdKXx8bi5nZXQoWyJpdGVtU3R5bGUiLHQ+MD8iY29sb3IiOiJjb2xvcjAiXSksbz1uLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUobUwpO2UudXNlU3R5bGUobyksZS5zdHlsZS5maWxsPW51bGwsZS5zdHlsZS5zdHJva2U9cn12YXIgTEw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnM9W3tuYW1lOiJvcGVuIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6ImNsb3NlIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6Imxvd2VzdCIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJoaWdoZXN0IixkZWZhdWx0VG9vbHRpcDohMH1dLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRTaGFkb3dEaW09ZnVuY3Rpb24oKXtyZXR1cm4ib3BlbiJ9LGUucHJvdG90eXBlLmJydXNoU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0SXRlbUxheW91dCh0KTtyZXR1cm4gaSYmbi5yZWN0KGkuYnJ1c2hSZWN0KX0sZS50eXBlPSJzZXJpZXMuY2FuZGxlc3RpY2siLGUuZGVwZW5kZW5jaWVzPVsieEF4aXMiLCJ5QXhpcyIsImdyaWQiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsbGVnZW5kSG92ZXJMaW5rOiEwLGxheW91dDpudWxsLGNsaXA6ITAsaXRlbVN0eWxlOntjb2xvcjoiI2ViNTQ1NCIsY29sb3IwOiIjNDdiMjYyIixib3JkZXJDb2xvcjoiI2ViNTQ1NCIsYm9yZGVyQ29sb3IwOiIjNDdiMjYyIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7c2NhbGU6ITAsaXRlbVN0eWxlOntib3JkZXJXaWR0aDoyfX0sYmFyTWF4V2lkdGg6bnVsbCxiYXJNaW5XaWR0aDpudWxsLGJhcldpZHRoOm51bGwsbGFyZ2U6ITAsbGFyZ2VUaHJlc2hvbGQ6NjAwLHByb2dyZXNzaXZlOjNlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDoxZTQscHJvZ3Jlc3NpdmVDaHVua01vZGU6Im1vZCIsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjMwMH0sZX0oZmYpO2Z1bmN0aW9uIGtMKHQpe3QmJkYodC5zZXJpZXMpJiZQKHQuc2VyaWVzLChmdW5jdGlvbih0KXtYKHQpJiYiayI9PT10LnR5cGUmJih0LnR5cGU9ImNhbmRsZXN0aWNrIil9KSl9TChMTCxhTCwhMCk7dmFyIFBMPVsiaXRlbVN0eWxlIiwiYm9yZGVyQ29sb3IiXSxPTD1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yMCJdLFJMPVsiaXRlbVN0eWxlIiwiY29sb3IiXSxOTD1bIml0ZW1TdHlsZSIsImNvbG9yMCJdLHpMPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjpTZigpLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGUuZ2V0KHQ+MD9STDpOTCl9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiBlLmdldCh0PjA/UEw6T0wpfWlmKCFlLmlzU2VyaWVzRmlsdGVyZWQodCkpcmV0dXJuIXQucGlwZWxpbmVDb250ZXh0LmxhcmdlJiZ7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI7bnVsbCE9KHI9dC5uZXh0KCkpOyl7dmFyIG89ZS5nZXRJdGVtTW9kZWwociksYT1lLmdldEl0ZW1MYXlvdXQocikuc2lnbixzPW8uZ2V0SXRlbVN0eWxlKCk7cy5maWxsPW4oYSxvKSxzLnN0cm9rZT1pKGEsbyl8fHMuZmlsbCxJKGUuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChyLCJzdHlsZSIpLHMpfX19fX0sRUw9InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5LFZMPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjpTZigpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPXQuZ2V0RGF0YSgpLGk9ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0QmFzZUF4aXMoKSxyPSJjYXRlZ29yeSI9PT1pLnR5cGU/aS5nZXRCYW5kV2lkdGgoKToobj1pLmdldEV4dGVudCgpLE1hdGguYWJzKG5bMV0tblswXSkvZS5jb3VudCgpKSxvPVppKHR0KHQuZ2V0KCJiYXJNYXhXaWR0aCIpLHIpLHIpLGE9WmkodHQodC5nZXQoImJhck1pbldpZHRoIiksMSkscikscz10LmdldCgiYmFyV2lkdGgiKTtyZXR1cm4gbnVsbCE9cz9aaShzLHIpOk1hdGgubWF4KE1hdGgubWluKHIvMixvKSxhKX0odCxuKSxyPVsieCIsInkiXSxvPW4ubWFwRGltZW5zaW9uKHJbMF0pLGE9bi5tYXBEaW1lbnNpb25zQWxsKHJbMV0pLHM9YVswXSxsPWFbMV0sdT1hWzJdLGg9YVszXTtpZihuLnNldExheW91dCh7Y2FuZGxlV2lkdGg6aSxpc1NpbXBsZUJveDppPD0xLjN9KSwhKG51bGw9PW98fGEubGVuZ3RoPDQpKXJldHVybntwcm9ncmVzczp0LnBpcGVsaW5lQ29udGV4dC5sYXJnZT9mdW5jdGlvbih0LG4pe3ZhciBpLHIsYT1uZXcgRUwoNCp0LmNvdW50KSxjPTAscD1bXSxkPVtdO2Zvcig7bnVsbCE9KHI9dC5uZXh0KCkpOyl7dmFyIGY9bi5nZXQobyxyKSxnPW4uZ2V0KHMscikseT1uLmdldChsLHIpLHY9bi5nZXQodSxyKSxtPW4uZ2V0KGgscik7aXNOYU4oZil8fGlzTmFOKHYpfHxpc05hTihtKT8oYVtjKytdPU5hTixjKz0zKTooYVtjKytdPUJMKG4scixnLHksbCkscFswXT1mLHBbMV09dixpPWUuZGF0YVRvUG9pbnQocCxudWxsLGQpLGFbYysrXT1pP2lbMF06TmFOLGFbYysrXT1pP2lbMV06TmFOLHBbMV09bSxpPWUuZGF0YVRvUG9pbnQocCxudWxsLGQpLGFbYysrXT1pP2lbMV06TmFOKX1uLnNldExheW91dCgibGFyZ2VQb2ludHMiLGEpfTpmdW5jdGlvbih0LG4pe3ZhciByO2Zvcig7bnVsbCE9KHI9dC5uZXh0KCkpOyl7dmFyIGE9bi5nZXQobyxyKSxjPW4uZ2V0KHMscikscD1uLmdldChsLHIpLGQ9bi5nZXQodSxyKSxmPW4uZ2V0KGgsciksZz1NYXRoLm1pbihjLHApLHk9TWF0aC5tYXgoYyxwKSx2PXcoZyxhKSxtPXcoeSxhKSxfPXcoZCxhKSx4PXcoZixhKSxiPVtdO1MoYixtLDApLFMoYix2LDEpLGIucHVzaChJKHgpLEkobSksSShfKSxJKHYpKSxuLnNldEl0ZW1MYXlvdXQocix7c2lnbjpCTChuLHIsYyxwLGwpLGluaXRCYXNlbGluZTpjPnA/bVsxXTp2WzFdLGVuZHM6YixicnVzaFJlY3Q6TShkLGYsYSl9KX1mdW5jdGlvbiB3KHQsbil7dmFyIGk9W107cmV0dXJuIGlbMF09bixpWzFdPXQsaXNOYU4obil8fGlzTmFOKHQpP1tOYU4sTmFOXTplLmRhdGFUb1BvaW50KGkpfWZ1bmN0aW9uIFModCxlLG4pe3ZhciByPWUuc2xpY2UoKSxvPWUuc2xpY2UoKTtyWzBdPUZ1KHJbMF0raS8yLDEsITEpLG9bMF09RnUob1swXS1pLzIsMSwhMCksbj90LnB1c2gocixvKTp0LnB1c2gobyxyKX1mdW5jdGlvbiBNKHQsZSxuKXt2YXIgcj13KHQsbiksbz13KGUsbik7cmV0dXJuIHJbMF0tPWkvMixvWzBdLT1pLzIse3g6clswXSx5OnJbMV0sd2lkdGg6aSxoZWlnaHQ6b1sxXS1yWzFdfX1mdW5jdGlvbiBJKHQpe3JldHVybiB0WzBdPUZ1KHRbMF0sMSksdH19fX19O2Z1bmN0aW9uIEJMKHQsZSxuLGkscil7cmV0dXJuIG4+aT8tMTpuPGk/MTplPjA/dC5nZXQocixlLTEpPD1pPzE6LTE6MX1mdW5jdGlvbiBGTCh0LGUpe3ZhciBuPWUucmlwcGxlRWZmZWN0Q29sb3J8fGUuY29sb3I7dC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3QuYXR0cih7ejplLnosemxldmVsOmUuemxldmVsLHN0eWxlOntzdHJva2U6InN0cm9rZSI9PT1lLmJydXNoVHlwZT9uOm51bGwsZmlsbDoiZmlsbCI9PT1lLmJydXNoVHlwZT9uOm51bGx9fSl9KSl9dmFyIEdMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXMscj1uZXcgZHcoZSxuKSxvPW5ldyBFaTtyZXR1cm4gaS5hZGQociksaS5hZGQobyksaS51cGRhdGVEYXRhKGUsbiksaX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnN0b3BFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMSkucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLnN0YXJ0RWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnN5bWJvbFR5cGUsbj10LmNvbG9yLGk9dGhpcy5jaGlsZEF0KDEpLHI9MDtyPDM7cisrKXt2YXIgbz1meShlLC0xLC0xLDIsMixuKTtvLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6Mjo5OSxzaWxlbnQ6ITAsc2NhbGVYOi41LHNjYWxlWTouNX0pO3ZhciBhPS1yLzMqdC5wZXJpb2QrdC5lZmZlY3RPZmZzZXQ7by5hbmltYXRlKCIiLCEwKS53aGVuKHQucGVyaW9kLHtzY2FsZVg6dC5yaXBwbGVTY2FsZS8yLHNjYWxlWTp0LnJpcHBsZVNjYWxlLzJ9KS5kZWxheShhKS5zdGFydCgpLG8uYW5pbWF0ZVN0eWxlKCEwKS53aGVuKHQucGVyaW9kLHtvcGFjaXR5OjB9KS5kZWxheShhKS5zdGFydCgpLGkuYWRkKG8pfUZMKGksdCl9LGUucHJvdG90eXBlLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZWZmZWN0Q2ZnLG49dGhpcy5jaGlsZEF0KDEpLGk9WyJzeW1ib2xUeXBlIiwicGVyaW9kIiwicmlwcGxlU2NhbGUiXSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoZVtvXSE9PXRbb10pcmV0dXJuIHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHZvaWQgdGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbih0KX1GTChuLHQpfSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXtqcyh0aGlzKX0sZS5wcm90b3R5cGUuZG93bnBsYXk9ZnVuY3Rpb24oKXtxcyh0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsaT10Lmhvc3RNb2RlbDt0aGlzLmNoaWxkQXQoMCkudXBkYXRlRGF0YSh0LGUpO3ZhciByPXRoaXMuY2hpbGRBdCgxKSxvPXQuZ2V0SXRlbU1vZGVsKGUpLGE9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PVsrdCwrdF0pLHR9KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLGw9dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksdT1sJiZsLmZpbGw7ci5zZXRTY2FsZShzKSxyLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnNldFN0eWxlKCJmaWxsIix1KX0pKTt2YXIgaD10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sT2Zmc2V0Iik7aCYmKEYoaCl8fChoPVtoLGhdKSxyLng9WmkoaFswXSxzWzBdKSxyLnk9WmkodHQoaFsxXSxoWzBdKXx8MCxzWzFdKSk7dmFyIGM9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFJvdGF0ZSIpO3Iucm90YXRpb249KGN8fDApKk1hdGguUEkvMTgwfHwwO3ZhciBwPXt9O3Auc2hvd0VmZmVjdE9uPWkuZ2V0KCJzaG93RWZmZWN0T24iKSxwLnJpcHBsZVNjYWxlPW8uZ2V0KFsicmlwcGxlRWZmZWN0Iiwic2NhbGUiXSkscC5icnVzaFR5cGU9by5nZXQoWyJyaXBwbGVFZmZlY3QiLCJicnVzaFR5cGUiXSkscC5wZXJpb2Q9MWUzKm8uZ2V0KFsicmlwcGxlRWZmZWN0IiwicGVyaW9kIl0pLHAuZWZmZWN0T2Zmc2V0PWUvdC5jb3VudCgpLHAuej1pLmdldFNoYWxsb3coInoiKXx8MCxwLnpsZXZlbD1pLmdldFNoYWxsb3coInpsZXZlbCIpfHwwLHAuc3ltYm9sVHlwZT1hLHAuY29sb3I9dSxwLnJpcHBsZUVmZmVjdENvbG9yPW8uZ2V0KFsicmlwcGxlRWZmZWN0IiwiY29sb3IiXSksdGhpcy5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKSwicmVuZGVyIj09PXAuc2hvd0VmZmVjdE9uPyh0aGlzLl9lZmZlY3RDZmc/dGhpcy51cGRhdGVFZmZlY3RBbmltYXRpb24ocCk6dGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbihwKSx0aGlzLl9lZmZlY3RDZmc9cCk6KHRoaXMuX2VmZmVjdENmZz1udWxsLHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHRoaXMub25Ib3ZlclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKHQpeyJlbXBoYXNpcyI9PT10PyJyZW5kZXIiIT09cC5zaG93RWZmZWN0T24mJm4uc3RhcnRFZmZlY3RBbmltYXRpb24ocCk6Im5vcm1hbCI9PT10JiYicmVuZGVyIiE9PXAuc2hvd0VmZmVjdE9uJiZuLnN0b3BFZmZlY3RBbmltYXRpb24oKX0pLHRoaXMuX2VmZmVjdENmZz1wLHNsKHRoaXMpfSxlLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKHQpe3RoaXMub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0IiksdCYmdCgpfSxlfShFaSksSEw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuX3N5bWJvbERyYXc9bmV3IG13KEdMKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX3N5bWJvbERyYXc7ci51cGRhdGVEYXRhKGkse2NsaXBTaGFwZTp0aGlzLl9nZXRDbGlwU2hhcGUodCl9KSx0aGlzLmdyb3VwLmFkZChyLmdyb3VwKX0sZS5wcm90b3R5cGUuX2dldENsaXBTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lJiZlLmdldEFyZWEmJmUuZ2V0QXJlYSgpO3JldHVybiB0LmdldCgiY2xpcCIsITApP246bnVsbH0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLmdyb3VwLmRpcnR5KCk7dmFyIHI9WHcoIiIpLnJlc2V0KHQsZSxuKTtyLnByb2dyZXNzJiZyLnByb2dyZXNzKHtzdGFydDowLGVuZDppLmNvdW50KCksY291bnQ6aS5jb3VudCgpfSxpKSx0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dCgpfSxlLnByb3RvdHlwZS5fdXBkYXRlR3JvdXBUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2UmJmUuZ2V0Um9hbVRyYW5zZm9ybSYmKHRoaXMuZ3JvdXAudHJhbnNmb3JtPWpuKGUuZ2V0Um9hbVRyYW5zZm9ybSgpKSx0aGlzLmdyb3VwLmRlY29tcG9zZVRyYW5zZm9ybSgpKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApfSxlLnR5cGU9ImVmZmVjdFNjYXR0ZXIiLGV9KFRmKSxXTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBGXyh0aGlzLmdldFNvdXJjZSgpLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5icnVzaFNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5wb2ludChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9InNlcmllcy5lZmZlY3RTY2F0dGVyIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsZWZmZWN0VHlwZToicmlwcGxlIixwcm9ncmVzc2l2ZTowLHNob3dFZmZlY3RPbjoicmVuZGVyIixjbGlwOiEwLHJpcHBsZUVmZmVjdDp7cGVyaW9kOjQsc2NhbGU6Mi41LGJydXNoVHlwZToiZmlsbCJ9LHN5bWJvbFNpemU6MTB9LGV9KGZmKTt2YXIgVUw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmFkZChyLmNyZWF0ZUxpbmUoZSxuLGkpKSxyLl91cGRhdGVFZmZlY3RTeW1ib2woZSxuKSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY3JlYXRlTGluZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBFQyh0LGUsbil9LGUucHJvdG90eXBlLl91cGRhdGVFZmZlY3RTeW1ib2w9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgiZWZmZWN0IiksaT1uLmdldCgic3ltYm9sU2l6ZSIpLHI9bi5nZXQoInN5bWJvbCIpO0YoaSl8fChpPVtpLGldKTt2YXIgbz10LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSxhPW4uZ2V0KCJjb2xvciIpfHxvJiZvLnN0cm9rZSxzPXRoaXMuY2hpbGRBdCgxKTt0aGlzLl9zeW1ib2xUeXBlIT09ciYmKHRoaXMucmVtb3ZlKHMpLChzPWZ5KHIsLS41LC0uNSwxLDEsYSkpLnoyPTEwMCxzLmN1bGxpbmc9ITAsdGhpcy5hZGQocykpLHMmJihzLnNldFN0eWxlKCJzaGFkb3dDb2xvciIsYSkscy5zZXRTdHlsZShuLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pKSxzLnNjYWxlWD1pWzBdLHMuc2NhbGVZPWlbMV0scy5zZXRDb2xvcihhKSx0aGlzLl9zeW1ib2xUeXBlPXIsdGhpcy5fc3ltYm9sU2NhbGU9aSx0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxuLGUpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jaGlsZEF0KDEpO2lmKGkpe3ZhciByPXRoaXMsbz10LmdldEl0ZW1MYXlvdXQobiksYT0xZTMqZS5nZXQoInBlcmlvZCIpLHM9ZS5nZXQoImxvb3AiKSxsPWUuZ2V0KCJjb25zdGFudFNwZWVkIiksdT1RKGUuZ2V0KCJkZWxheSIpLChmdW5jdGlvbihlKXtyZXR1cm4gZS90LmNvdW50KCkqYS8zfSkpO2lmKGkuaWdub3JlPSEwLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblBvaW50cyhpLG8pLGw+MCYmKGE9dGhpcy5fZ2V0TGluZUxlbmd0aChpKS9sKjFlMyksKGEhPT10aGlzLl9wZXJpb2R8fHMhPT10aGlzLl9sb29wKSYmKGkuc3RvcEFuaW1hdGlvbigpLGE+MCkpe3ZhciBoPXZvaWQgMDtoPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3Uobik6dSxpLl9fdD4wJiYoaD0tYSppLl9fdCksaS5fX3Q9MDt2YXIgYz1pLmFuaW1hdGUoIiIscykud2hlbihhLHtfX3Q6MX0pLmRlbGF5KGgpLmR1cmluZygoZnVuY3Rpb24oKXtyLl91cGRhdGVTeW1ib2xQb3NpdGlvbihpKX0pKTtzfHxjLmRvbmUoKGZ1bmN0aW9uKCl7ci5yZW1vdmUoaSl9KSksYy5zdGFydCgpfXRoaXMuX3BlcmlvZD1hLHRoaXMuX2xvb3A9c319LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiBMdCh0Ll9fcDEsdC5fX2NwMSkrTHQodC5fX2NwMSx0Ll9fcDIpfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dC5fX3AxPWVbMF0sdC5fX3AyPWVbMV0sdC5fX2NwMT1lWzJdfHxbKGVbMF1bMF0rZVsxXVswXSkvMiwoZVswXVsxXStlWzFdWzFdKS8yXX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlLG4pLHRoaXMuX3VwZGF0ZUVmZmVjdFN5bWJvbCh0LGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLG49dC5fX3AyLGk9dC5fX2NwMSxyPXQuX190LG89W3QueCx0LnldLGE9by5zbGljZSgpLHM9VW8sbD1YbztvWzBdPXMoZVswXSxpWzBdLG5bMF0sciksb1sxXT1zKGVbMV0saVsxXSxuWzFdLHIpO3ZhciB1PWwoZVswXSxpWzBdLG5bMF0sciksaD1sKGVbMV0saVsxXSxuWzFdLHIpO3Qucm90YXRpb249LU1hdGguYXRhbjIoaCx1KS1NYXRoLlBJLzIsImxpbmUiIT09dGhpcy5fc3ltYm9sVHlwZSYmInJlY3QiIT09dGhpcy5fc3ltYm9sVHlwZSYmInJvdW5kUmVjdCIhPT10aGlzLl9zeW1ib2xUeXBlfHwodm9pZCAwIT09dC5fX2xhc3RUJiZ0Ll9fbGFzdFQ8dC5fX3Q/KHQuc2NhbGVZPTEuMDUqTHQoYSxvKSwxPT09ciYmKG9bMF09YVswXSsob1swXS1hWzBdKS8yLG9bMV09YVsxXSsob1sxXS1hWzFdKS8yKSk6MT09PXQuX19sYXN0VD90LnNjYWxlWT0yKkx0KGUsbyk6dC5zY2FsZVk9dGhpcy5fc3ltYm9sU2NhbGVbMV0pLHQuX19sYXN0VD10Ll9fdCx0Lmlnbm9yZT0hMSx0Lng9b1swXSx0Lnk9b1sxXX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZUxheW91dCh0LGUpO3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKTt0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxuLGUpfSxlfShFaSksWEw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9jcmVhdGVQb2x5bGluZShlLG4saSkscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9jcmVhdGVQb2x5bGluZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpLHI9bmV3IGF1KHtzaGFwZTp7cG9pbnRzOml9fSk7dGhpcy5hZGQociksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWw7SHUodGhpcy5jaGlsZEF0KDApLHtzaGFwZTp7cG9pbnRzOnQuZ2V0SXRlbUxheW91dChlKX19LGksZSksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jaGlsZEF0KDApLHI9dC5nZXRJdGVtTW9kZWwoZSksbz1uJiZuLmVtcGhhc2lzTGluZVN0eWxlO24mJiF0Lmhhc0l0ZW1PcHRpb258fChvPXIuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksaS51c2VTdHlsZSh0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSksaS5zdHlsZS5maWxsPW51bGwsaS5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLGkuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9byxzbCh0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnNldFNoYXBlKCJwb2ludHMiLHQuZ2V0SXRlbUxheW91dChlKSl9LGV9KEVpKSxZTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9sYXN0RnJhbWU9MCxlLl9sYXN0RnJhbWVQZXJjZW50PTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgWEwodCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRzPWU7Zm9yKHZhciBuPVswXSxpPTAscj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3ItMV0sYT1lW3JdO2krPUx0KG8sYSksbi5wdXNoKGkpfWlmKDAhPT1pKXtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKW5bcl0vPWk7dGhpcy5fb2Zmc2V0cz1uLHRoaXMuX2xlbmd0aD1pfWVsc2UgdGhpcy5fbGVuZ3RoPTB9LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190LG49dGhpcy5fcG9pbnRzLGk9dGhpcy5fb2Zmc2V0cyxyPW4ubGVuZ3RoO2lmKGkpe3ZhciBvLGE9dGhpcy5fbGFzdEZyYW1lO2lmKGU8dGhpcy5fbGFzdEZyYW1lUGVyY2VudCl7Zm9yKG89TWF0aC5taW4oYSsxLHItMSk7bz49MCYmIShpW29dPD1lKTtvLS0pO289TWF0aC5taW4obyxyLTIpfWVsc2V7Zm9yKG89YTtvPHImJiEoaVtvXT5lKTtvKyspO289TWF0aC5taW4oby0xLHItMil9dmFyIHM9KGUtaVtvXSkvKGlbbysxXS1pW29dKSxsPW5bb10sdT1uW28rMV07dC54PWxbMF0qKDEtcykrcyp1WzBdLHQueT1sWzFdKigxLXMpK3MqdVsxXTt2YXIgaD11WzBdLWxbMF0sYz11WzFdLWxbMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihjLGgpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9byx0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSxlfShVTCksWkw9ZnVuY3Rpb24oKXt0aGlzLnBvbHlsaW5lPSExLHRoaXMuY3VydmVuZXNzPTAsdGhpcy5zZWdzPVtdfSxqTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgWkx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2VncyxpPWUuY3VydmVuZXNzO2lmKGUucG9seWxpbmUpZm9yKHZhciByPTA7cjxuLmxlbmd0aDspe3ZhciBvPW5bcisrXTtpZihvPjApe3QubW92ZVRvKG5bcisrXSxuW3IrK10pO2Zvcih2YXIgYT0xO2E8bzthKyspdC5saW5lVG8obltyKytdLG5bcisrXSl9fWVsc2UgZm9yKHI9MDtyPG4ubGVuZ3RoOyl7dmFyIHM9bltyKytdLGw9bltyKytdLHU9bltyKytdLGg9bltyKytdO2lmKHQubW92ZVRvKHMsbCksaT4wKXt2YXIgYz0ocyt1KS8yLShsLWgpKmkscD0obCtoKS8yLSh1LXMpKmk7dC5xdWFkcmF0aWNDdXJ2ZVRvKGMscCx1LGgpfWVsc2UgdC5saW5lVG8odSxoKX19LGUucHJvdG90eXBlLmZpbmREYXRhSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNoYXBlLGk9bi5zZWdzLHI9bi5jdXJ2ZW5lc3Msbz10aGlzLnN0eWxlLmxpbmVXaWR0aDtpZihuLnBvbHlsaW5lKWZvcih2YXIgYT0wLHM9MDtzPGkubGVuZ3RoOyl7dmFyIGw9aVtzKytdO2lmKGw+MClmb3IodmFyIHU9aVtzKytdLGg9aVtzKytdLGM9MTtjPGw7YysrKXtpZihrYSh1LGgscD1pW3MrK10sZD1pW3MrK10sbyx0LGUpKXJldHVybiBhfWErK31lbHNlIGZvcihhPTAscz0wO3M8aS5sZW5ndGg7KXt1PWlbcysrXSxoPWlbcysrXTt2YXIgcD1pW3MrK10sZD1pW3MrK107aWYocj4wKXtpZihPYSh1LGgsKHUrcCkvMi0oaC1kKSpyLChoK2QpLzItKHAtdSkqcixwLGQsbyx0LGUpKXJldHVybiBhfWVsc2UgaWYoa2EodSxoLHAsZCxvLHQsZSkpcmV0dXJuIGE7YSsrfXJldHVybi0xfSxlfShLYSkscUw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ncm91cD1uZXcgRWl9cmV0dXJuIHQucHJvdG90eXBlLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBqTCh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT41ZTU/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IFR1KHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBqTDtuLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKG4sZSwhIXRoaXMuX2luY3JlbWVudGFsKSx0aGlzLl9pbmNyZW1lbnRhbD90aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShuLCEwKToobi5yZWN0SG92ZXI9ITAsbi5jdXJzb3I9ImRlZmF1bHQiLG4uX19zdGFydEluZGV4PXQuc3RhcnQsdGhpcy5ncm91cC5hZGQobikpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmhvc3RNb2RlbDt0LnNldFNoYXBlKHtwb2x5bGluZTppLmdldCgicG9seWxpbmUiKSxjdXJ2ZW5lc3M6aS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSl9KSx0LnVzZVN0eWxlKGkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dmFyIHI9ZS5nZXRWaXN1YWwoInN0eWxlIik7aWYociYmci5zdHJva2UmJnQuc2V0U3R5bGUoInN0cm9rZSIsci5zdHJva2UpLHQuc2V0U3R5bGUoImZpbGwiLG51bGwpLCFuKXt2YXIgbz1fcyh0KTtvLnNlcmllc0luZGV4PWkuc2VyaWVzSW5kZXgsdC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7by5kYXRhSW5kZXg9bnVsbDt2YXIgbj10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7bj4wJiYoby5kYXRhSW5kZXg9bit0Ll9fc3RhcnRJbmRleCl9KSl9fSx0LnByb3RvdHlwZS5fY2xlYXJJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luY3JlbWVudGFsO3QmJnQuY2xlYXJEaXNwbGF5YmxlcygpfSx0fSgpLEtMPXtzZXJpZXNUeXBlOiJsaW5lcyIscGxhbjpTZigpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPXQuZ2V0KCJwb2x5bGluZSIpLGk9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJue3Byb2dyZXNzOmZ1bmN0aW9uKHIsbyl7dmFyIGE9W107aWYoaSl7dmFyIHM9dm9pZCAwLGw9ci5lbmQtci5zdGFydDtpZihuKXtmb3IodmFyIHU9MCxoPXIuc3RhcnQ7aDxyLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSg0KmwpO3ZhciBjPTAscD1bXTtmb3IoaD1yLnN0YXJ0O2g8ci5lbmQ7aCsrKXt2YXIgZD10LmdldExpbmVDb29yZHMoaCxhKTtuJiYoc1tjKytdPWQpO2Zvcih2YXIgZj0wO2Y8ZDtmKyspcD1lLmRhdGFUb1BvaW50KGFbZl0sITEscCksc1tjKytdPXBbMF0sc1tjKytdPXBbMV19by5zZXRMYXlvdXQoImxpbmVzUG9pbnRzIixzKX1lbHNlIGZvcihoPXIuc3RhcnQ7aDxyLmVuZDtoKyspe3ZhciBnPW8uZ2V0SXRlbU1vZGVsKGgpLHk9KGQ9dC5nZXRMaW5lQ29vcmRzKGgsYSksW10pO2lmKG4pZm9yKHZhciB2PTA7djxkO3YrKyl5LnB1c2goZS5kYXRhVG9Qb2ludChhW3ZdKSk7ZWxzZXt5WzBdPWUuZGF0YVRvUG9pbnQoYVswXSkseVsxXT1lLmRhdGFUb1BvaW50KGFbMV0pO3ZhciBtPWcuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pOyttJiYoeVsyXT1bKHlbMF1bMF0reVsxXVswXSkvMi0oeVswXVsxXS15WzFdWzFdKSptLCh5WzBdWzFdK3lbMV1bMV0pLzItKHlbMV1bMF0teVswXVswXSkqbV0pfW8uc2V0SXRlbUxheW91dChoLHkpfX19fX0sJEw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX3VwZGF0ZUxpbmVEcmF3KGksdCksbz10LmdldCgiemxldmVsIiksYT10LmdldChbImVmZmVjdCIsInRyYWlsTGVuZ3RoIl0pLHM9bi5nZXRacigpLGw9InN2ZyI9PT1zLnBhaW50ZXIuZ2V0VHlwZSgpOyhsfHxzLnBhaW50ZXIuZ2V0TGF5ZXIobykuY2xlYXIoITApLG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGx8fHMuY29uZmlnTGF5ZXIodGhpcy5fbGFzdFpsZXZlbCx7bW90aW9uQmx1cjohMX0pLHRoaXMuX3Nob3dFZmZlY3QodCkmJmEpJiYobHx8cy5jb25maWdMYXllcihvLHttb3Rpb25CbHVyOiEwLGxhc3RGcmFtZUFscGhhOk1hdGgubWF4KE1hdGgubWluKGEvMTArLjksMSksMCl9KSk7ci51cGRhdGVEYXRhKGkpO3ZhciB1PXQuZ2V0KCJjbGlwIiwhMCkmJlJ3KHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTt1P3RoaXMuZ3JvdXAuc2V0Q2xpcFBhdGgodSk6dGhpcy5ncm91cC5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2xhc3RabGV2ZWw9byx0aGlzLl9maW5pc2hlZD0hMH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLl91cGRhdGVMaW5lRHJhdyhpLHQpLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZShpKSx0aGlzLl9jbGVhckxheWVyKG4pLHRoaXMuX2ZpbmlzaGVkPSExfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fbGluZURyYXcuaW5jcmVtZW50YWxVcGRhdGUodCxlLmdldERhdGEoKSksdGhpcy5fZmluaXNoZWQ9dC5lbmQ9PT1lLmdldERhdGEoKS5jb3VudCgpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5waXBlbGluZUNvbnRleHQ7aWYoIXRoaXMuX2ZpbmlzaGVkfHxyLmxhcmdlfHxyLnByb2dyZXNzaXZlUmVuZGVyKXJldHVybnt1cGRhdGU6ITB9O3ZhciBvPUtMLnJlc2V0KHQsZSxuKTtvLnByb2dyZXNzJiZvLnByb2dyZXNzKHtzdGFydDowLGVuZDppLmNvdW50KCksY291bnQ6aS5jb3VudCgpfSxpKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9jbGVhckxheWVyKG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlTGluZURyYXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9saW5lRHJhdyxpPXRoaXMuX3Nob3dFZmZlY3QoZSkscj0hIWUuZ2V0KCJwb2x5bGluZSIpLG89ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIG4mJmk9PT10aGlzLl9oYXNFZmZldCYmcj09PXRoaXMuX2lzUG9seWxpbmUmJm89PT10aGlzLl9pc0xhcmdlRHJhd3x8KG4mJm4ucmVtb3ZlKCksbj10aGlzLl9saW5lRHJhdz1vP25ldyBxTDpuZXcgVkMocj9pP1lMOlhMOmk/VUw6RUMpLHRoaXMuX2hhc0VmZmV0PWksdGhpcy5faXNQb2x5bGluZT1yLHRoaXMuX2lzTGFyZ2VEcmF3PW8sdGhpcy5ncm91cC5yZW1vdmVBbGwoKSksdGhpcy5ncm91cC5hZGQobi5ncm91cCksbn0sZS5wcm90b3R5cGUuX3Nob3dFZmZlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmdldChbImVmZmVjdCIsInNob3ciXSl9LGUucHJvdG90eXBlLl9jbGVhckxheWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0WnIoKTsic3ZnIj09PWUucGFpbnRlci5nZXRUeXBlKCl8fG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGUucGFpbnRlci5nZXRMYXllcih0aGlzLl9sYXN0WmxldmVsKS5jbGVhcighMCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdz1udWxsLHRoaXMuX2NsZWFyTGF5ZXIoZSl9LGUudHlwZT0ibGluZXMiLGV9KFRmKSxKTD0idW5kZWZpbmVkIj09dHlwZW9mIFVpbnQzMkFycmF5P0FycmF5OlVpbnQzMkFycmF5LFFMPSJ1bmRlZmluZWQiPT10eXBlb2YgRmxvYXQ2NEFycmF5P0FycmF5OkZsb2F0NjRBcnJheTtmdW5jdGlvbiB0ayh0KXt2YXIgZT10LmRhdGE7ZSYmZVswXSYmZVswXVswXSYmZVswXVswXS5jb29yZCYmKHQuZGF0YT1PKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXtjb29yZHM6W3RbMF0uY29vcmQsdFsxXS5jb29yZF19O3JldHVybiB0WzBdLm5hbWUmJihlLmZyb21OYW1lPXRbMF0ubmFtZSksdFsxXS5uYW1lJiYoZS50b05hbWU9dFsxXS5uYW1lKSxNKFtlLHRbMF0sdFsxXV0pfSkpKX12YXIgZWs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0ibGluZVN0eWxlIixuLnZpc3VhbERyYXdUeXBlPSJzdHJva2UiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe2UuZGF0YT1lLmRhdGF8fFtdLHRrKGUpO3ZhciBuPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkoZS5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPW4uZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PW4uZmxhdENvb3Jkc09mZnNldCxuLmZsYXRDb29yZHMmJihlLmRhdGE9bmV3IEZsb2F0MzJBcnJheShuLmNvdW50KSksdC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUpe2lmKHRrKGUpLGUuZGF0YSl7dmFyIG49dGhpcy5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheShlLmRhdGEpO3RoaXMuX2ZsYXRDb29yZHM9bi5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9bi5mbGF0Q29vcmRzT2Zmc2V0LG4uZmxhdENvb3JkcyYmKGUuZGF0YT1uZXcgRmxvYXQzMkFycmF5KG4uY291bnQpKX10LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheSh0LmRhdGEpO2UuZmxhdENvb3JkcyYmKHRoaXMuX2ZsYXRDb29yZHM/KHRoaXMuX2ZsYXRDb29yZHM9Y3QodGhpcy5fZmxhdENvb3JkcyxlLmZsYXRDb29yZHMpLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9Y3QodGhpcy5fZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHNPZmZzZXQpKToodGhpcy5fZmxhdENvb3Jkcz1lLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1lLmZsYXRDb29yZHNPZmZzZXQpLHQuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuY291bnQpKSx0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LGUucHJvdG90eXBlLl9nZXRDb29yZHNGcm9tSXRlbU1vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbCh0KSxuPWUub3B0aW9uIGluc3RhbmNlb2YgQXJyYXk/ZS5vcHRpb246ZS5nZXRTaGFsbG93KCJjb29yZHMiKTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0TGluZUNvb3Jkc0NvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0P3RoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdOnRoaXMuX2dldENvb3Jkc0Zyb21JdGVtTW9kZWwodCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRMaW5lQ29vcmRzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZmxhdENvb3Jkc09mZnNldCl7Zm9yKHZhciBuPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0XSxpPXRoaXMuX2ZsYXRDb29yZHNPZmZzZXRbMip0KzFdLHI9MDtyPGk7cisrKWVbcl09ZVtyXXx8W10sZVtyXVswXT10aGlzLl9mbGF0Q29vcmRzW24rMipyXSxlW3JdWzFdPXRoaXMuX2ZsYXRDb29yZHNbbisyKnIrMV07cmV0dXJuIGl9dmFyIG89dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKWVbcl09ZVtyXXx8W10sZVtyXVswXT1vW3JdWzBdLGVbcl1bMV09b1tyXVsxXTtyZXR1cm4gby5sZW5ndGh9LGUucHJvdG90eXBlLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPTA7aWYodGhpcy5fZmxhdENvb3JkcyYmKGU9dGhpcy5fZmxhdENvb3Jkcy5sZW5ndGgpLCJudW1iZXIiPT10eXBlb2YgdFswXSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9bmV3IEpMKG4pLHI9bmV3IFFMKG4pLG89MCxhPTAscz0wLGw9MDtsPG47KXtzKys7dmFyIHU9dFtsKytdO2lbYSsrXT1vK2UsaVthKytdPXU7Zm9yKHZhciBoPTA7aDx1O2grKyl7dmFyIGM9dFtsKytdLHA9dFtsKytdO3JbbysrXT1jLHJbbysrXT1wfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpuZXcgVWludDMyQXJyYXkoaS5idWZmZXIsMCxhKSxmbGF0Q29vcmRzOnIsY291bnQ6c319cmV0dXJue2ZsYXRDb29yZHNPZmZzZXQ6bnVsbCxmbGF0Q29vcmRzOm51bGwsY291bnQ6dC5sZW5ndGh9fSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBMXyhbInZhbHVlIl0sdGhpcyk7cmV0dXJuIG4uaGFzSXRlbU9wdGlvbj0hMSxuLmluaXREYXRhKHQuZGF0YSxbXSwoZnVuY3Rpb24odCxlLGkscil7aWYodCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBOYU47bi5oYXNJdGVtT3B0aW9uPSEwO3ZhciBvPXQudmFsdWU7cmV0dXJuIG51bGwhPW8/byBpbnN0YW5jZW9mIEFycmF5P29bcl06bzp2b2lkIDB9KSksbn0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCkuZ2V0SXRlbU1vZGVsKHQpLHI9aS5nZXQoIm5hbWUiKTtpZihyKXJldHVybiByO3ZhciBvPWkuZ2V0KCJmcm9tTmFtZSIpLGE9aS5nZXQoInRvTmFtZSIpLHM9W107cmV0dXJuIG51bGwhPW8mJnMucHVzaChvKSxudWxsIT1hJiZzLnB1c2goYSksdGYoIm5hbWVWYWx1ZSIse25hbWU6cy5qb2luKCIgPiAiKX0pfSxlLnByb3RvdHlwZS5wcmV2ZW50SW5jcmVtZW50YWw9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZ2V0KFsiZWZmZWN0Iiwic2hvdyJdKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8yZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZS50eXBlPSJzZXJpZXMubGluZXMiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIiwiZ2VvIiwiY2FsZW5kYXIiXSxlLmRlZmF1bHRPcHRpb249e2Nvb3JkaW5hdGVTeXN0ZW06ImdlbyIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCx4QXhpc0luZGV4OjAseUF4aXNJbmRleDowLHN5bWJvbDpbIm5vbmUiLCJub25lIl0sc3ltYm9sU2l6ZTpbMTAsMTBdLGdlb0luZGV4OjAsZWZmZWN0OntzaG93OiExLHBlcmlvZDo0LGNvbnN0YW50U3BlZWQ6MCxzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZTozLGxvb3A6ITAsdHJhaWxMZW5ndGg6LjJ9LGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxwb2x5bGluZTohMSxjbGlwOiEwLGxhYmVsOntzaG93OiExLHBvc2l0aW9uOiJlbmQifSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fSxlfShmZik7ZnVuY3Rpb24gbmsodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9dmFyIGlrPXtzZXJpZXNUeXBlOiJsaW5lcyIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9bmsodC5nZXQoInN5bWJvbCIpKSxuPW5rKHQuZ2V0KCJzeW1ib2xTaXplIikpLGk9dC5nZXREYXRhKCk7cmV0dXJuIGkuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixlJiZlWzBdKSxpLnNldFZpc3VhbCgidG9TeW1ib2wiLGUmJmVbMV0pLGkuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsbiYmblswXSksaS5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsbiYmblsxXSkse2RhdGFFYWNoOmkuaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpLGk9bmsobi5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSkscj1uayhuLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSk7aVswXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2wiLGlbMF0pLGlbMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbCIsaVsxXSksclswXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2xTaXplIixyWzBdKSxyWzFdJiZ0LnNldEl0ZW1WaXN1YWwoZSwidG9TeW1ib2xTaXplIixyWzFdKX06bnVsbH19fTt2YXIgcms9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ibHVyU2l6ZT0zMCx0aGlzLnBvaW50U2l6ZT0yMCx0aGlzLm1heE9wYWNpdHk9MSx0aGlzLm1pbk9wYWNpdHk9MCx0aGlzLl9ncmFkaWVudFBpeGVscz17aW5SYW5nZTpudWxsLG91dE9mUmFuZ2U6bnVsbH07dmFyIHQ9QygpO3RoaXMuY2FudmFzPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dGhpcy5fZ2V0QnJ1c2goKSxzPXRoaXMuX2dldEdyYWRpZW50KHIsImluUmFuZ2UiKSxsPXRoaXMuX2dldEdyYWRpZW50KHIsIm91dE9mUmFuZ2UiKSx1PXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsaD10aGlzLmNhbnZhcyxjPWguZ2V0Q29udGV4dCgiMmQiKSxwPXQubGVuZ3RoO2gud2lkdGg9ZSxoLmhlaWdodD1uO2Zvcih2YXIgZD0wO2Q8cDsrK2Qpe3ZhciBmPXRbZF0sZz1mWzBdLHk9ZlsxXSx2PWkoZlsyXSk7Yy5nbG9iYWxBbHBoYT12LGMuZHJhd0ltYWdlKGEsZy11LHktdSl9aWYoIWgud2lkdGh8fCFoLmhlaWdodClyZXR1cm4gaDtmb3IodmFyIG09Yy5nZXRJbWFnZURhdGEoMCwwLGgud2lkdGgsaC5oZWlnaHQpLF89bS5kYXRhLHg9MCxiPV8ubGVuZ3RoLHc9dGhpcy5taW5PcGFjaXR5LFM9dGhpcy5tYXhPcGFjaXR5LXc7eDxiOyl7dj1fW3grM10vMjU2O3ZhciBNPTQqTWF0aC5mbG9vcigyNTUqdik7aWYodj4wKXt2YXIgST1vKHYpP3M6bDt2PjAmJih2PXYqUyt3KSxfW3grK109SVtNXSxfW3grK109SVtNKzFdLF9beCsrXT1JW00rMl0sX1t4KytdPUlbTSszXSp2KjI1Nn1lbHNlIHgrPTR9cmV0dXJuIGMucHV0SW1hZ2VEYXRhKG0sMCwwKSxofSx0LnByb3RvdHlwZS5fZ2V0QnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9icnVzaENhbnZhc3x8KHRoaXMuX2JydXNoQ2FudmFzPUMoKSksZT10aGlzLnBvaW50U2l6ZSt0aGlzLmJsdXJTaXplLG49MiplO3Qud2lkdGg9bix0LmhlaWdodD1uO3ZhciBpPXQuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gaS5jbGVhclJlY3QoMCwwLG4sbiksaS5zaGFkb3dPZmZzZXRYPW4saS5zaGFkb3dCbHVyPXRoaXMuYmx1clNpemUsaS5zaGFkb3dDb2xvcj0iIzAwMCIsaS5iZWdpblBhdGgoKSxpLmFyYygtZSxlLHRoaXMucG9pbnRTaXplLDAsMipNYXRoLlBJLCEwKSxpLmNsb3NlUGF0aCgpLGkuZmlsbCgpLHR9LHQucHJvdG90eXBlLl9nZXRHcmFkaWVudD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9ncmFkaWVudFBpeGVscyxpPW5bZV18fChuW2VdPW5ldyBVaW50OENsYW1wZWRBcnJheSgxMDI0KSkscj1bMCwwLDAsMF0sbz0wLGE9MDthPDI1NjthKyspdFtlXShhLzI1NSwhMCxyKSxpW28rK109clswXSxpW28rK109clsxXSxpW28rK109clsyXSxpW28rK109clszXTtyZXR1cm4gaX0sdH0oKTtmdW5jdGlvbiBvayh0KXt2YXIgZT10LmRpbWVuc2lvbnM7cmV0dXJuImxuZyI9PT1lWzBdJiYibGF0Ij09PWVbMV19dmFyIGFrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk7ZS5lYWNoQ29tcG9uZW50KCJ2aXN1YWxNYXAiLChmdW5jdGlvbihlKXtlLmVhY2hUYXJnZXRTZXJpZXMoKGZ1bmN0aW9uKG4pe249PT10JiYoaT1lKX0pKX0pKSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2luY3JlbWVudGFsRGlzcGxheWFibGU9bnVsbDt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07ImNhcnRlc2lhbjJkIj09PXIudHlwZXx8ImNhbGVuZGFyIj09PXIudHlwZT90aGlzLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyKHQsbiwwLHQuZ2V0RGF0YSgpLmNvdW50KCkpOm9rKHIpJiZ0aGlzLl9yZW5kZXJPbkdlbyhyLHQsaSxuKX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmNvb3JkaW5hdGVTeXN0ZW07ciYmKG9rKHIpP3RoaXMucmVuZGVyKGUsbixpKTp0aGlzLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyKGUsaSx0LnN0YXJ0LHQuZW5kLCEwKSl9LGUucHJvdG90eXBlLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYSxzLGwsdT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoTncodSwiY2FydGVzaWFuMmQiKSl7dmFyIGg9dS5nZXRBeGlzKCJ4IiksYz11LmdldEF4aXMoInkiKTswLG89aC5nZXRCYW5kV2lkdGgoKSxhPWMuZ2V0QmFuZFdpZHRoKCkscz1oLnNjYWxlLmdldEV4dGVudCgpLGw9Yy5zY2FsZS5nZXRFeHRlbnQoKX1mb3IodmFyIHA9dGhpcy5ncm91cCxkPXQuZ2V0RGF0YSgpLGY9dC5nZXRNb2RlbChbImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGc9dC5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkseT10LmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHY9Y2godCksbT10LmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksXz10LmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pLHg9TncodSwiY2FydGVzaWFuMmQiKT9bZC5tYXBEaW1lbnNpb24oIngiKSxkLm1hcERpbWVuc2lvbigieSIpLGQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpXTpbZC5tYXBEaW1lbnNpb24oInRpbWUiKSxkLm1hcERpbWVuc2lvbigidmFsdWUiKV0sYj1uO2I8aTtiKyspe3ZhciB3PXZvaWQgMCxTPWQuZ2V0SXRlbVZpc3VhbChiLCJzdHlsZSIpO2lmKE53KHUsImNhcnRlc2lhbjJkIikpe3ZhciBNPWQuZ2V0KHhbMF0sYiksST1kLmdldCh4WzFdLGIpO2lmKGlzTmFOKGQuZ2V0KHhbMl0sYikpfHxNPHNbMF18fE0+c1sxXXx8STxsWzBdfHxJPmxbMV0pY29udGludWU7dmFyIFQ9dS5kYXRhVG9Qb2ludChbTSxJXSk7dz1uZXcgbHMoe3NoYXBlOnt4Ok1hdGguZmxvb3IoTWF0aC5yb3VuZChUWzBdKS1vLzIpLHk6TWF0aC5mbG9vcihNYXRoLnJvdW5kKFRbMV0pLWEvMiksd2lkdGg6TWF0aC5jZWlsKG8pLGhlaWdodDpNYXRoLmNlaWwoYSl9LHN0eWxlOlN9KX1lbHNle2lmKGlzTmFOKGQuZ2V0KHhbMV0sYikpKWNvbnRpbnVlO3c9bmV3IGxzKHt6MjoxLHNoYXBlOnUuZGF0YVRvUmVjdChbZC5nZXQoeFswXSxiKV0pLmNvbnRlbnRTaGFwZSxzdHlsZTpTfSl9dmFyIEM9ZC5nZXRJdGVtTW9kZWwoYik7aWYoZC5oYXNJdGVtT3B0aW9uKXt2YXIgRD1DLmdldE1vZGVsKCJlbXBoYXNpcyIpO2Y9RC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksZz1DLmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSx5PUMuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksbT1ELmdldCgiZm9jdXMiKSxfPUQuZ2V0KCJibHVyU2NvcGUiKSx2PWNoKEMpfXZhciBBPXQuZ2V0UmF3VmFsdWUoYiksTD0iLSI7QSYmbnVsbCE9QVsyXSYmKEw9QVsyXSsiIiksaGgodyx2LHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDpiLGRlZmF1bHRPcGFjaXR5OlMub3BhY2l0eSxkZWZhdWx0VGV4dDpMfSksdy5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1mLHcuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1nLHcuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPXksc2wodyxtLF8pLHcuaW5jcmVtZW50YWw9cixyJiYody5zdGF0ZXMuZW1waGFzaXMuaG92ZXJMYXllcj0hMCkscC5hZGQodyksZC5zZXRJdGVtR3JhcGhpY0VsKGIsdyl9fSxlLnByb3RvdHlwZS5fcmVuZGVyT25HZW89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi50YXJnZXRWaXN1YWxzLmluUmFuZ2Usbz1uLnRhcmdldFZpc3VhbHMub3V0T2ZSYW5nZSxhPWUuZ2V0RGF0YSgpLHM9dGhpcy5faG1MYXllcnx8dGhpcy5faG1MYXllcnx8bmV3IHJrO3MuYmx1clNpemU9ZS5nZXQoImJsdXJTaXplIikscy5wb2ludFNpemU9ZS5nZXQoInBvaW50U2l6ZSIpLHMubWluT3BhY2l0eT1lLmdldCgibWluT3BhY2l0eSIpLHMubWF4T3BhY2l0eT1lLmdldCgibWF4T3BhY2l0eSIpO3ZhciBsPXQuZ2V0Vmlld1JlY3QoKS5jbG9uZSgpLHU9dC5nZXRSb2FtVHJhbnNmb3JtKCk7bC5hcHBseVRyYW5zZm9ybSh1KTt2YXIgaD1NYXRoLm1heChsLngsMCksYz1NYXRoLm1heChsLnksMCkscD1NYXRoLm1pbihsLndpZHRoK2wueCxpLmdldFdpZHRoKCkpLGQ9TWF0aC5taW4obC5oZWlnaHQrbC55LGkuZ2V0SGVpZ2h0KCkpLGY9cC1oLGc9ZC1jLHk9W2EubWFwRGltZW5zaW9uKCJsbmciKSxhLm1hcERpbWVuc2lvbigibGF0IiksYS5tYXBEaW1lbnNpb24oInZhbHVlIildLHY9YS5tYXBBcnJheSh5LChmdW5jdGlvbihlLG4saSl7dmFyIHI9dC5kYXRhVG9Qb2ludChbZSxuXSk7cmV0dXJuIHJbMF0tPWgsclsxXS09YyxyLnB1c2goaSkscn0pKSxtPW4uZ2V0RXh0ZW50KCksXz0idmlzdWFsTWFwLmNvbnRpbnVvdXMiPT09bi50eXBlP2Z1bmN0aW9uKHQsZSl7dmFyIG49dFsxXS10WzBdO3JldHVybiBlPVsoZVswXS10WzBdKS9uLChlWzFdLXRbMF0pL25dLGZ1bmN0aW9uKHQpe3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfX0obSxuLm9wdGlvbi5yYW5nZSk6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbMV0tdFswXSxyPShlPU8oZSwoZnVuY3Rpb24oZSl7cmV0dXJue2ludGVydmFsOlsoZS5pbnRlcnZhbFswXS10WzBdKS9pLChlLmludGVydmFsWzFdLXRbMF0pL2ldfX0pKSkubGVuZ3RoLG89MDtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk7Zm9yKGk9bztpPHI7aSsrKWlmKChhPWVbaV0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1hWzFdKXtvPWk7YnJlYWt9aWYoaT09PXIpZm9yKGk9by0xO2k+PTA7aS0tKXt2YXIgYTtpZigoYT1lW2ldLmludGVydmFsKVswXTw9dCYmdDw9YVsxXSl7bz1pO2JyZWFrfX1yZXR1cm4gaT49MCYmaTxyJiZuW2ldfX0obSxuLmdldFBpZWNlTGlzdCgpLG4ub3B0aW9uLnNlbGVjdGVkKTtzLnVwZGF0ZSh2LGYsZyxyLmNvbG9yLmdldE5vcm1hbGl6ZXIoKSx7aW5SYW5nZTpyLmNvbG9yLmdldENvbG9yTWFwcGVyKCksb3V0T2ZSYW5nZTpvLmNvbG9yLmdldENvbG9yTWFwcGVyKCl9LF8pO3ZhciB4PW5ldyBlcyh7c3R5bGU6e3dpZHRoOmYsaGVpZ2h0OmcseDpoLHk6YyxpbWFnZTpzLmNhbnZhc30sc2lsZW50OiEwfSk7dGhpcy5ncm91cC5hZGQoeCl9LGUudHlwZT0iaGVhdG1hcCIsZX0oVGYpLHNrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZfKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7Z2VuZXJhdGVDb29yZDoidmFsdWUifSl9LGUucHJvdG90eXBlLnByZXZlbnRJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PUFwLmdldCh0aGlzLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKTtpZih0JiZ0LmRpbWVuc2lvbnMpcmV0dXJuImxuZyI9PT10LmRpbWVuc2lvbnNbMF0mJiJsYXQiPT09dC5kaW1lbnNpb25zWzFdfSxlLnR5cGU9InNlcmllcy5oZWF0bWFwIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJnZW8iLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixnZW9JbmRleDowLGJsdXJTaXplOjMwLHBvaW50U2l6ZToyMCxtYXhPcGFjaXR5OjEsbWluT3BhY2l0eTowLHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oZmYpO3ZhciBsaz1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0sdWs9W3t4eToieCIsd2g6IndpZHRoIixpbmRleDowLHBvc0Rlc2M6WyJsZWZ0IiwicmlnaHQiXX0se3h5OiJ5Iix3aDoiaGVpZ2h0IixpbmRleDoxLHBvc0Rlc2M6WyJ0b3AiLCJib3R0b20iXX1dLGhrPW5ldyBObCxjaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ3JvdXAscj10LmdldERhdGEoKSxvPXRoaXMuX2RhdGEsYT10LmNvb3JkaW5hdGVTeXN0ZW0scz1hLmdldEJhc2VBeGlzKCkuaXNIb3Jpem9udGFsKCksbD1hLm1hc3Rlci5nZXRSZWN0KCksdT17ZWNTaXplOnt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LHNlcmllc01vZGVsOnQsY29vcmRTeXM6YSxjb29yZFN5c0V4dGVudDpbW2wueCxsLngrbC53aWR0aF0sW2wueSxsLnkrbC5oZWlnaHRdXSxpc0hvcml6b250YWw6cyx2YWx1ZURpbTp1a1src10sY2F0ZWdvcnlEaW06dWtbMS0rc119O3JldHVybiByLmRpZmYobykuYWRkKChmdW5jdGlvbih0KXtpZihyLmhhc1ZhbHVlKHQpKXt2YXIgZT1fayhyLHQpLG49cGsocix0LGUsdSksbz13ayhyLHUsbik7ci5zZXRJdGVtR3JhcGhpY0VsKHQsbyksaS5hZGQobyksQ2sobyx1LG4pfX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsZSl7dmFyIG49by5nZXRJdGVtR3JhcGhpY0VsKGUpO2lmKHIuaGFzVmFsdWUodCkpe3ZhciBhPV9rKHIsdCkscz1wayhyLHQsYSx1KSxsPU1rKHIscyk7biYmbCE9PW4uX19waWN0b3JpYWxTaGFwZVN0ciYmKGkucmVtb3ZlKG4pLHIuc2V0SXRlbUdyYXBoaWNFbCh0LG51bGwpLG49bnVsbCksbj9mdW5jdGlvbih0LGUsbil7dmFyIGk9bi5hbmltYXRpb25Nb2RlbCxyPW4uZGF0YUluZGV4O0h1KHQuX19waWN0b3JpYWxCdW5kbGUse3g6bi5idW5kbGVQb3NpdGlvblswXSx5Om4uYnVuZGxlUG9zaXRpb25bMV19LGksciksbi5zeW1ib2xSZXBlYXQ/Z2sodCxlLG4sITApOnlrKHQsZSxuLCEwKTt2ayh0LG4sITApLG1rKHQsZSxuLCEwKX0obix1LHMpOm49d2socix1LHMsITApLHIuc2V0SXRlbUdyYXBoaWNFbCh0LG4pLG4uX19waWN0b3JpYWxTeW1ib2xNZXRhPXMsaS5hZGQobiksQ2sobix1LHMpfWVsc2UgaS5yZW1vdmUobil9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmU2sobyx0LGUuX19waWN0b3JpYWxTeW1ib2xNZXRhLmFuaW1hdGlvbk1vZGVsLGUpfSkpLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPXIsdGhpcy5ncm91cH0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7dC5nZXQoImFuaW1hdGlvbiIpP2kmJmkuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUpe1NrKGksX3MoZSkuZGF0YUluZGV4LHQsZSl9KSk6bi5yZW1vdmVBbGwoKX0sZS50eXBlPSJwaWN0b3JpYWxCYXIiLGV9KFRmKTtmdW5jdGlvbiBwayh0LGUsbixpKXt2YXIgcj10LmdldEl0ZW1MYXlvdXQoZSksbz1uLmdldCgic3ltYm9sUmVwZWF0IiksYT1uLmdldCgic3ltYm9sQ2xpcCIpLHM9bi5nZXQoInN5bWJvbFBvc2l0aW9uIil8fCJzdGFydCIsbD0obi5nZXQoInN5bWJvbFJvdGF0ZSIpfHwwKSpNYXRoLlBJLzE4MHx8MCx1PW4uZ2V0KCJzeW1ib2xQYXR0ZXJuU2l6ZSIpfHwyLGg9bi5pc0FuaW1hdGlvbkVuYWJsZWQoKSxjPXtkYXRhSW5kZXg6ZSxsYXlvdXQ6cixpdGVtTW9kZWw6bixzeW1ib2xUeXBlOnQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKXx8ImNpcmNsZSIsc3R5bGU6dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksc3ltYm9sQ2xpcDphLHN5bWJvbFJlcGVhdDpvLHN5bWJvbFJlcGVhdERpcmVjdGlvbjpuLmdldCgic3ltYm9sUmVwZWF0RGlyZWN0aW9uIiksc3ltYm9sUGF0dGVyblNpemU6dSxyb3RhdGlvbjpsLGFuaW1hdGlvbk1vZGVsOmg/bjpudWxsLGhvdmVyU2NhbGU6aCYmbi5nZXQoWyJlbXBoYXNpcyIsInNjYWxlIl0pLHoyOm4uZ2V0U2hhbGxvdygieiIsITApfHwwfTshZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbyxhPWkudmFsdWVEaW0scz10LmdldCgic3ltYm9sQm91bmRpbmdEYXRhIiksbD1pLmNvb3JkU3lzLmdldE90aGVyQXhpcyhpLmNvb3JkU3lzLmdldEJhc2VBeGlzKCkpLHU9bC50b0dsb2JhbENvb3JkKGwuZGF0YVRvQ29vcmQoMCkpLGg9MS0rKG5bYS53aF08PTApO2lmKEYocykpe3ZhciBjPVtkayhsLHNbMF0pLXUsZGsobCxzWzFdKS11XTtjWzFdPGNbMF0mJmMucmV2ZXJzZSgpLG89Y1toXX1lbHNlIG89bnVsbCE9cz9kayhsLHMpLXU6ZT9pLmNvb3JkU3lzRXh0ZW50W2EuaW5kZXhdW2hdLXU6blthLndoXTtyLmJvdW5kaW5nTGVuZ3RoPW8sZSYmKHIucmVwZWF0Q3V0TGVuZ3RoPW5bYS53aF0pO3IucHhTaWduPW8+MD8xOm88MD8tMTowfShuLG8scixpLGMpLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe3ZhciBoLGM9bC52YWx1ZURpbSxwPWwuY2F0ZWdvcnlEaW0sZD1NYXRoLmFicyhuW3Aud2hdKSxmPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIik7aD1GKGYpP2Yuc2xpY2UoKTpudWxsPT1mP1siMTAwJSIsIjEwMCUiXTpbZixmXTtoW3AuaW5kZXhdPVppKGhbcC5pbmRleF0sZCksaFtjLmluZGV4XT1aaShoW2MuaW5kZXhdLGk/ZDpNYXRoLmFicyhvKSksdS5zeW1ib2xTaXplPWgsKHUuc3ltYm9sU2NhbGU9W2hbMF0vcyxoWzFdL3NdKVtjLmluZGV4XSo9KGwuaXNIb3Jpem9udGFsPy0xOjEpKmF9KHQsZSxyLG8sMCxjLmJvdW5kaW5nTGVuZ3RoLGMucHhTaWduLHUsaSxjKSxmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0KGxrKXx8MDtvJiYoaGsuYXR0cih7c2NhbGVYOmVbMF0sc2NhbGVZOmVbMV0scm90YXRpb246bn0pLGhrLnVwZGF0ZVRyYW5zZm9ybSgpLG8vPWhrLmdldExpbmVTY2FsZSgpLG8qPWVbaS52YWx1ZURpbS5pbmRleF0pO3IudmFsdWVMaW5lV2lkdGg9b30obixjLnN5bWJvbFNjYWxlLGwsaSxjKTt2YXIgcD1jLnN5bWJvbFNpemUsZD1uLmdldCgic3ltYm9sT2Zmc2V0Iik7cmV0dXJuIEYoZCkmJihkPVtaaShkWzBdLHBbMF0pLFppKGRbMV0scFsxXSldKSxmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCx1LGgsYyl7dmFyIHA9aC5jYXRlZ29yeURpbSxkPWgudmFsdWVEaW0sZj1jLnB4U2lnbixnPU1hdGgubWF4KGVbZC5pbmRleF0rcywwKSx5PWc7aWYoaSl7dmFyIHY9TWF0aC5hYnMobCksbT1RKHQuZ2V0KCJzeW1ib2xNYXJnaW4iKSwiMTUlIikrIiIsXz0hMTttLmxhc3RJbmRleE9mKCIhIik9PT1tLmxlbmd0aC0xJiYoXz0hMCxtPW0uc2xpY2UoMCxtLmxlbmd0aC0xKSk7dmFyIHg9WmkobSxlW2QuaW5kZXhdKSxiPU1hdGgubWF4KGcrMip4LDApLHc9Xz8wOjIqeCxTPXByKGkpLE09Uz9pOkRrKCh2K3cpL2IpO2I9ZysyKih4PSh2LU0qZykvMi8oXz9NOk0tMSkpLHc9Xz8wOjIqeCxTfHwiZml4ZWQiPT09aXx8KE09dT9EaygoTWF0aC5hYnModSkrdykvYik6MCkseT1NKmItdyxjLnJlcGVhdFRpbWVzPU0sYy5zeW1ib2xNYXJnaW49eH12YXIgVD1mKih5LzIpLEM9Yy5wYXRoUG9zaXRpb249W107Q1twLmluZGV4XT1uW3Aud2hdLzIsQ1tkLmluZGV4XT0ic3RhcnQiPT09YT9UOiJlbmQiPT09YT9sLVQ6bC8yLG8mJihDWzBdKz1vWzBdLENbMV0rPW9bMV0pO3ZhciBEPWMuYnVuZGxlUG9zaXRpb249W107RFtwLmluZGV4XT1uW3AueHldLERbZC5pbmRleF09bltkLnh5XTt2YXIgQT1jLmJhclJlY3RTaGFwZT1JKHt9LG4pO0FbZC53aF09ZipNYXRoLm1heChNYXRoLmFicyhuW2Qud2hdKSxNYXRoLmFicyhDW2QuaW5kZXhdK1QpKSxBW3Aud2hdPW5bcC53aF07dmFyIEw9Yy5jbGlwU2hhcGU9e307TFtwLnh5XT0tbltwLnh5XSxMW3Aud2hdPWguZWNTaXplW3Aud2hdLExbZC54eV09MCxMW2Qud2hdPW5bZC53aF19KG4scCxyLG8sMCxkLHMsYy52YWx1ZUxpbmVXaWR0aCxjLmJvdW5kaW5nTGVuZ3RoLGMucmVwZWF0Q3V0TGVuZ3RoLGksYyksY31mdW5jdGlvbiBkayh0LGUpe3JldHVybiB0LnRvR2xvYmFsQ29vcmQodC5kYXRhVG9Db29yZCh0LnNjYWxlLnBhcnNlKGUpKSl9ZnVuY3Rpb24gZmsodCl7dmFyIGU9dC5zeW1ib2xQYXR0ZXJuU2l6ZSxuPWZ5KHQuc3ltYm9sVHlwZSwtZS8yLC1lLzIsZSxlKTtyZXR1cm4gbi5hdHRyKHtjdWxsaW5nOiEwfSksImltYWdlIiE9PW4udHlwZSYmbi5zZXRTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMH0pLG59ZnVuY3Rpb24gZ2sodCxlLG4saSl7dmFyIHI9dC5fX3BpY3RvcmlhbEJ1bmRsZSxvPW4uc3ltYm9sU2l6ZSxhPW4udmFsdWVMaW5lV2lkdGgscz1uLnBhdGhQb3NpdGlvbixsPWUudmFsdWVEaW0sdT1uLnJlcGVhdFRpbWVzfHwwLGg9MCxjPW9bZS52YWx1ZURpbS5pbmRleF0rYSsyKm4uc3ltYm9sTWFyZ2luO2ZvcihJayh0LChmdW5jdGlvbih0KXt0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXg9aCx0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXM9dSxoPHU/VGsodCxudWxsLGYoaCksbixpKTpUayh0LG51bGwse3NjYWxlWDowLHNjYWxlWTowfSxuLGksKGZ1bmN0aW9uKCl7ci5yZW1vdmUodCl9KSksaCsrfSkpO2g8dTtoKyspe3ZhciBwPWZrKG4pO3AuX19waWN0b3JpYWxBbmltYXRpb25JbmRleD1oLHAuX19waWN0b3JpYWxSZXBlYXRUaW1lcz11LHIuYWRkKHApO3ZhciBkPWYoaCk7VGsocCx7eDpkLngseTpkLnksc2NhbGVYOjAsc2NhbGVZOjB9LHtzY2FsZVg6ZC5zY2FsZVgsc2NhbGVZOmQuc2NhbGVZLHJvdGF0aW9uOmQucm90YXRpb259LG4saSl9ZnVuY3Rpb24gZih0KXt2YXIgZT1zLnNsaWNlKCksaT1uLnB4U2lnbixyPXQ7cmV0dXJuKCJzdGFydCI9PT1uLnN5bWJvbFJlcGVhdERpcmVjdGlvbj9pPjA6aTwwKSYmKHI9dS0xLXQpLGVbbC5pbmRleF09Yyooci11LzIrLjUpK3NbbC5pbmRleF0se3g6ZVswXSx5OmVbMV0sc2NhbGVYOm4uc3ltYm9sU2NhbGVbMF0sc2NhbGVZOm4uc3ltYm9sU2NhbGVbMV0scm90YXRpb246bi5yb3RhdGlvbn19fWZ1bmN0aW9uIHlrKHQsZSxuLGkpe3ZhciByPXQuX19waWN0b3JpYWxCdW5kbGUsbz10Ll9fcGljdG9yaWFsTWFpblBhdGg7bz9UayhvLG51bGwse3g6bi5wYXRoUG9zaXRpb25bMF0seTpuLnBhdGhQb3NpdGlvblsxXSxzY2FsZVg6bi5zeW1ib2xTY2FsZVswXSxzY2FsZVk6bi5zeW1ib2xTY2FsZVsxXSxyb3RhdGlvbjpuLnJvdGF0aW9ufSxuLGkpOihvPXQuX19waWN0b3JpYWxNYWluUGF0aD1mayhuKSxyLmFkZChvKSxUayhvLHt4Om4ucGF0aFBvc2l0aW9uWzBdLHk6bi5wYXRoUG9zaXRpb25bMV0sc2NhbGVYOjAsc2NhbGVZOjAscm90YXRpb246bi5yb3RhdGlvbn0se3NjYWxlWDpuLnN5bWJvbFNjYWxlWzBdLHNjYWxlWTpuLnN5bWJvbFNjYWxlWzFdfSxuLGkpKX1mdW5jdGlvbiB2ayh0LGUsbil7dmFyIGk9SSh7fSxlLmJhclJlY3RTaGFwZSkscj10Ll9fcGljdG9yaWFsQmFyUmVjdDtyP1RrKHIsbnVsbCx7c2hhcGU6aX0sZSxuKToocj10Ll9fcGljdG9yaWFsQmFyUmVjdD1uZXcgbHMoe3oyOjIsc2hhcGU6aSxzaWxlbnQ6ITAsc3R5bGU6e3N0cm9rZToidHJhbnNwYXJlbnQiLGZpbGw6InRyYW5zcGFyZW50IixsaW5lV2lkdGg6MH19KSx0LmFkZChyKSl9ZnVuY3Rpb24gbWsodCxlLG4saSl7aWYobi5zeW1ib2xDbGlwKXt2YXIgcj10Ll9fcGljdG9yaWFsQ2xpcFBhdGgsbz1JKHt9LG4uY2xpcFNoYXBlKSxhPWUudmFsdWVEaW0scz1uLmFuaW1hdGlvbk1vZGVsLGw9bi5kYXRhSW5kZXg7aWYocilIdShyLHtzaGFwZTpvfSxzLGwpO2Vsc2V7b1thLndoXT0wLHI9bmV3IGxzKHtzaGFwZTpvfSksdC5fX3BpY3RvcmlhbEJ1bmRsZS5zZXRDbGlwUGF0aChyKSx0Ll9fcGljdG9yaWFsQ2xpcFBhdGg9cjt2YXIgdT17fTt1W2Eud2hdPW4uY2xpcFNoYXBlW2Eud2hdLGFoW2k/InVwZGF0ZVByb3BzIjoiaW5pdFByb3BzIl0ocix7c2hhcGU6dX0scyxsKX19fWZ1bmN0aW9uIF9rKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSk7cmV0dXJuIG4uZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXM9eGssbi5pc0FuaW1hdGlvbkVuYWJsZWQ9Ymssbn1mdW5jdGlvbiB4ayh0KXtyZXR1cm57aW5kZXg6dC5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4LGNvdW50OnQuX19waWN0b3JpYWxSZXBlYXRUaW1lc319ZnVuY3Rpb24gYmsoKXtyZXR1cm4gdGhpcy5wYXJlbnRNb2RlbC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmISF0aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpfWZ1bmN0aW9uIHdrKHQsZSxuLGkpe3ZhciByPW5ldyBFaSxvPW5ldyBFaTtyZXR1cm4gci5hZGQobyksci5fX3BpY3RvcmlhbEJ1bmRsZT1vLG8ueD1uLmJ1bmRsZVBvc2l0aW9uWzBdLG8ueT1uLmJ1bmRsZVBvc2l0aW9uWzFdLG4uc3ltYm9sUmVwZWF0P2drKHIsZSxuKTp5ayhyLDAsbiksdmsocixuLGkpLG1rKHIsZSxuLGkpLHIuX19waWN0b3JpYWxTaGFwZVN0cj1Nayh0LG4pLHIuX19waWN0b3JpYWxTeW1ib2xNZXRhPW4scn1mdW5jdGlvbiBTayh0LGUsbixpKXt2YXIgcj1pLl9fcGljdG9yaWFsQmFyUmVjdDtyJiZyLnJlbW92ZVRleHRDb250ZW50KCk7dmFyIG89W107SWsoaSwoZnVuY3Rpb24odCl7by5wdXNoKHQpfSkpLGkuX19waWN0b3JpYWxNYWluUGF0aCYmby5wdXNoKGkuX19waWN0b3JpYWxNYWluUGF0aCksaS5fX3BpY3RvcmlhbENsaXBQYXRoJiYobj1udWxsKSxQKG8sKGZ1bmN0aW9uKHQpe1V1KHQse3NjYWxlWDowLHNjYWxlWTowfSxuLGUsKGZ1bmN0aW9uKCl7aS5wYXJlbnQmJmkucGFyZW50LnJlbW92ZShpKX0pKX0pKSx0LnNldEl0ZW1HcmFwaGljRWwoZSxudWxsKX1mdW5jdGlvbiBNayh0LGUpe3JldHVyblt0LmdldEl0ZW1WaXN1YWwoZS5kYXRhSW5kZXgsInN5bWJvbCIpfHwibm9uZSIsISFlLnN5bWJvbFJlcGVhdCwhIWUuc3ltYm9sQ2xpcF0uam9pbigiOiIpfWZ1bmN0aW9uIElrKHQsZSxuKXtQKHQuX19waWN0b3JpYWxCdW5kbGUuY2hpbGRyZW4oKSwoZnVuY3Rpb24oaSl7aSE9PXQuX19waWN0b3JpYWxCYXJSZWN0JiZlLmNhbGwobixpKX0pKX1mdW5jdGlvbiBUayh0LGUsbixpLHIsbyl7ZSYmdC5hdHRyKGUpLGkuc3ltYm9sQ2xpcCYmIXI/biYmdC5hdHRyKG4pOm4mJmFoW3I/InVwZGF0ZVByb3BzIjoiaW5pdFByb3BzIl0odCxuLGkuYW5pbWF0aW9uTW9kZWwsaS5kYXRhSW5kZXgsbyl9ZnVuY3Rpb24gQ2sodCxlLG4pe3ZhciBpPW4uZGF0YUluZGV4LHI9bi5pdGVtTW9kZWwsbz1yLmdldE1vZGVsKCJlbXBoYXNpcyIpLGE9by5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkscz1yLmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxsPXIuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksdT1yLmdldFNoYWxsb3coImN1cnNvciIpLGg9by5nZXQoImZvY3VzIiksYz1vLmdldCgiYmx1clNjb3BlIikscD1vLmdldCgic2NhbGUiKTtJayh0LChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZXMpe3ZhciBlPXQuc3R5bGU7dC51c2VTdHlsZShJKHtpbWFnZTplLmltYWdlLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxuLnN0eWxlKSl9ZWxzZSB0LnVzZVN0eWxlKG4uc3R5bGUpO3ZhciBpPXQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIik7aS5zdHlsZT1hLHAmJihpLnNjYWxlWD0xLjEqdC5zY2FsZVgsaS5zY2FsZVk9MS4xKnQuc2NhbGVZKSx0LmVuc3VyZVN0YXRlKCJibHVyIikuc3R5bGU9cyx0LmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1sLHUmJih0LmN1cnNvcj11KSx0LnoyPW4uejJ9KSk7dmFyIGQ9ZS52YWx1ZURpbS5wb3NEZXNjWysobi5ib3VuZGluZ0xlbmd0aD4wKV07aGgodC5fX3BpY3RvcmlhbEJhclJlY3QsY2gocikse2xhYmVsRmV0Y2hlcjplLnNlcmllc01vZGVsLGxhYmVsRGF0YUluZGV4OmksZGVmYXVsdFRleHQ6Y3coZS5zZXJpZXNNb2RlbC5nZXREYXRhKCksaSksaW5oZXJpdENvbG9yOm4uc3R5bGUuZmlsbCxkZWZhdWx0T3BhY2l0eTpuLnN0eWxlLm9wYWNpdHksZGVmYXVsdE91dHNpZGVQb3NpdGlvbjpkfSksc2wodCxoLGMpfWZ1bmN0aW9uIERrKHQpe3ZhciBlPU1hdGgucm91bmQodCk7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtND9lOk1hdGguY2VpbCh0KX12YXIgQWs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxuLmRlZmF1bHRTeW1ib2w9InJvdW5kUmVjdCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YWNrPW51bGwsdC5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnR5cGU9InNlcmllcy5waWN0b3JpYWxCYXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCJdLGUuZGVmYXVsdE9wdGlvbj16aChxdy5kZWZhdWx0T3B0aW9uLHtzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZTpudWxsLHN5bWJvbFJvdGF0ZTpudWxsLHN5bWJvbFBvc2l0aW9uOm51bGwsc3ltYm9sT2Zmc2V0Om51bGwsc3ltYm9sTWFyZ2luOm51bGwsc3ltYm9sUmVwZWF0OiExLHN5bWJvbFJlcGVhdERpcmVjdGlvbjoiZW5kIixzeW1ib2xDbGlwOiExLHN5bWJvbEJvdW5kaW5nRGF0YTpudWxsLHN5bWJvbFBhdHRlcm5TaXplOjQwMCxiYXJHYXA6Ii0xMDAlIixwcm9ncmVzc2l2ZTowLGVtcGhhc2lzOntzY2FsZTohMX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19fSksZX0ocXcpO3ZhciBMaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2xheWVycz1bXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMsbz10aGlzLmdyb3VwLGE9dC5nZXRMYXllclNlcmllcygpLHM9aS5nZXRMYXlvdXQoImxheW91dEluZm8iKSxsPXMucmVjdCx1PXMuYm91bmRhcnlHYXA7ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5uYW1lfW8ueD0wLG8ueT1sLnkrdVswXTt2YXIgYz1uZXcgbl8odGhpcy5fbGF5ZXJzU2VyaWVzfHxbXSxhLGgsaCkscD1bXTtmdW5jdGlvbiBkKGUsbixzKXt2YXIgbD1yLl9sYXllcnM7aWYoInJlbW92ZSIhPT1lKXtmb3IodmFyIHUsaCxjPVtdLGQ9W10sZj1hW25dLmluZGljZXMsZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgeT1pLmdldEl0ZW1MYXlvdXQoZltnXSksdj15LngsbT15LnkwLF89eS55O2MucHVzaCh2LG0pLGQucHVzaCh2LG0rXyksdT1pLmdldEl0ZW1WaXN1YWwoZltnXSwic3R5bGUiKX12YXIgeD1pLmdldEl0ZW1MYXlvdXQoZlswXSksYj10LmdldE1vZGVsKCJsYWJlbCIpLmdldCgibWFyZ2luIiksdz10LmdldE1vZGVsKCJlbXBoYXNpcyIpO2lmKCJhZGQiPT09ZSl7dmFyIFM9cFtuXT1uZXcgRWk7aD1uZXcga3coe3NoYXBlOntwb2ludHM6YyxzdGFja2VkT25Qb2ludHM6ZCxzbW9vdGg6LjQsc3RhY2tlZE9uU21vb3RoOi40LHNtb290aENvbnN0cmFpbnQ6ITF9LHoyOjB9KSxTLmFkZChoKSxvLmFkZChTKSx0LmlzQW5pbWF0aW9uRW5hYmxlZCgpJiZoLnNldENsaXBQYXRoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgbHMoe3NoYXBlOnt4OnQueC0xMCx5OnQueS0xMCx3aWR0aDowLGhlaWdodDp0LmhlaWdodCsyMH19KTtyZXR1cm4gV3UoaSx7c2hhcGU6e3g6dC54LTUwLHdpZHRoOnQud2lkdGgrMTAwLGhlaWdodDp0LmhlaWdodCsyMH19LGUsbiksaX0oaC5nZXRCb3VuZGluZ1JlY3QoKSx0LChmdW5jdGlvbigpe2gucmVtb3ZlQ2xpcFBhdGgoKX0pKSl9ZWxzZXtTPWxbc107aD1TLmNoaWxkQXQoMCksby5hZGQoUykscFtuXT1TLEh1KGgse3NoYXBlOntwb2ludHM6YyxzdGFja2VkT25Qb2ludHM6ZH19LHQpfWhoKGgsY2godCkse2xhYmVsRGF0YUluZGV4OmZbZy0xXSxkZWZhdWx0VGV4dDppLmdldE5hbWUoZltnLTFdKSxpbmhlcml0Q29sb3I6dS5maWxsfSx7bm9ybWFsOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX0pLGguc2V0VGV4dENvbmZpZyh7cG9zaXRpb246bnVsbCxsb2NhbDohMH0pO3ZhciBNPWguZ2V0VGV4dENvbnRlbnQoKTtNJiYoTS54PXgueC1iLE0ueT14LnkwK3gueS8yKSxoLnVzZVN0eWxlKHUpLGkuc2V0SXRlbUdyYXBoaWNFbChuLGgpLGNsKGgsdCksc2woaCx3LmdldCgiZm9jdXMiKSx3LmdldCgiYmx1clNjb3BlIikpfWVsc2Ugby5yZW1vdmUobFtuXSl9Yy5hZGQoVihkLHRoaXMsImFkZCIpKS51cGRhdGUoVihkLHRoaXMsInVwZGF0ZSIpKS5yZW1vdmUoVihkLHRoaXMsInJlbW92ZSIpKS5leGVjdXRlKCksdGhpcy5fbGF5ZXJzU2VyaWVzPWEsdGhpcy5fbGF5ZXJzPXB9LGUudHlwZT0idGhlbWVSaXZlciIsZX0oVGYpO3ZhciBraz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4udXNlQ29sb3JQYWxldHRlT25EYXRhPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IElTKFYodGhpcy5nZXREYXRhLHRoaXMpLFYodGhpcy5nZXRSYXdEYXRhLHRoaXMpKX0sZS5wcm90b3R5cGUuZml4RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPXt9LGk9QnIodCwoZnVuY3Rpb24odCl7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkodFswXSsiIil8fChuW3RbMF0rIiJdPS0xKSx0WzJdfSkpLHI9W107aS5idWNrZXRzLmVhY2goKGZ1bmN0aW9uKHQsZSl7ci5wdXNoKHtuYW1lOmUsZGF0YUxpc3Q6dH0pfSkpO2Zvcih2YXIgbz1yLmxlbmd0aCxhPTA7YTxvOysrYSl7Zm9yKHZhciBzPXJbYV0ubmFtZSxsPTA7bDxyW2FdLmRhdGFMaXN0Lmxlbmd0aDsrK2wpe3ZhciB1PXJbYV0uZGF0YUxpc3RbbF1bMF0rIiI7blt1XT1hfWZvcih2YXIgdSBpbiBuKW4uaGFzT3duUHJvcGVydHkodSkmJm5bdV0hPT1hJiYoblt1XT1hLHRbZV09W3UsMCxzXSxlKyspfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMoInNpbmdsZUF4aXMiLE5yKS5tb2RlbHNbMF0uZ2V0KCJ0eXBlIiksaT1OKHQuZGF0YSwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRbMl19KSkscj10aGlzLmZpeERhdGEoaXx8W10pLG89W10sYT10aGlzLm5hbWVNYXA9aHQoKSxzPTAsbD0wO2w8ci5sZW5ndGg7KytsKW8ucHVzaChyW2xdWzJdKSxhLmdldChyW2xdWzJdKXx8KGEuc2V0KHJbbF1bMl0scykscysrKTt2YXIgdT1PXyhyLHtjb29yZERpbWVuc2lvbnM6WyJzaW5nbGUiXSxkaW1lbnNpb25zRGVmaW5lOlt7bmFtZToidGltZSIsdHlwZTpyXyhuKX0se25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9LHtuYW1lOiJuYW1lIix0eXBlOiJvcmRpbmFsIn1dLGVuY29kZURlZmluZTp7c2luZ2xlOjAsdmFsdWU6MSxpdGVtTmFtZToyfX0pLGg9bmV3IExfKHUsdGhpcyk7cmV0dXJuIGguaW5pdERhdGEociksaH0sZS5wcm90b3R5cGUuZ2V0TGF5ZXJTZXJpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXREYXRhKCksZT10LmNvdW50KCksbj1bXSxpPTA7aTxlOysraSluW2ldPWk7dmFyIHI9dC5tYXBEaW1lbnNpb24oInNpbmdsZSIpLG89QnIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KCJuYW1lIixlKX0pKSxhPVtdO3JldHVybiBvLmJ1Y2tldHMuZWFjaCgoZnVuY3Rpb24oZSxuKXtlLnNvcnQoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0KHIsZSktdC5nZXQocixuKX0pKSxhLnB1c2goe25hbWU6bixpbmRpY2VzOmV9KX0pKSxhfSxlLnByb3RvdHlwZS5nZXRBeGlzVG9vbHRpcERhdGE9ZnVuY3Rpb24odCxlLG4pe0YodCl8fCh0PXQ/W3RdOltdKTtmb3IodmFyIGkscj10aGlzLmdldERhdGEoKSxvPXRoaXMuZ2V0TGF5ZXJTZXJpZXMoKSxhPVtdLHM9by5sZW5ndGgsbD0wO2w8czsrK2wpe2Zvcih2YXIgdT1OdW1iZXIuTUFYX1ZBTFVFLGg9LTEsYz1vW2xdLmluZGljZXMubGVuZ3RoLHA9MDtwPGM7KytwKXt2YXIgZD1yLmdldCh0WzBdLG9bbF0uaW5kaWNlc1twXSksZj1NYXRoLmFicyhkLWUpO2Y8PXUmJihpPWQsdT1mLGg9b1tsXS5pbmRpY2VzW3BdKX1hLnB1c2goaCl9cmV0dXJue2RhdGFJbmRpY2VzOmEsbmVzdGVzdFZhbHVlOml9fSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKTtyZXR1cm4gdGYoIm5hbWVWYWx1ZSIse25hbWU6aS5nZXROYW1lKHQpLHZhbHVlOmkuZ2V0KGkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpfSl9LGUudHlwZT0ic2VyaWVzLnRoZW1lUml2ZXIiLGUuZGVwZW5kZW5jaWVzPVsic2luZ2xlQXhpcyJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InNpbmdsZUF4aXMiLGJvdW5kYXJ5R2FwOlsiMTAlIiwiMTAlIl0sc2luZ2xlQXhpc0luZGV4OjAsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGxhYmVsOnttYXJnaW46NCxzaG93OiEwLHBvc2l0aW9uOiJsZWZ0Iixmb250U2l6ZToxMX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19LGV9KGZmKTtmdW5jdGlvbiBQayh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgidGhlbWVSaXZlciIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dC5jb29yZGluYXRlU3lzdGVtLGk9e30scj1uLmdldFJlY3QoKTtpLnJlY3Q9cjt2YXIgbz10LmdldCgiYm91bmRhcnlHYXAiKSxhPW4uZ2V0QXhpcygpOyhpLmJvdW5kYXJ5R2FwPW8sImhvcml6b250YWwiPT09YS5vcmllbnQpPyhvWzBdPVppKG9bMF0sci5oZWlnaHQpLG9bMV09Wmkob1sxXSxyLmhlaWdodCksT2soZSx0LHIuaGVpZ2h0LW9bMF0tb1sxXSkpOihvWzBdPVppKG9bMF0sci53aWR0aCksb1sxXT1aaShvWzFdLHIud2lkdGgpLE9rKGUsdCxyLndpZHRoLW9bMF0tb1sxXSkpO2Uuc2V0TGF5b3V0KCJsYXlvdXRJbmZvIixpKX0pKX1mdW5jdGlvbiBPayh0LGUsbil7aWYodC5jb3VudCgpKWZvcih2YXIgaSxyPWUuY29vcmRpbmF0ZVN5c3RlbSxvPWUuZ2V0TGF5ZXJTZXJpZXMoKSxhPXQubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxzPXQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGw9TyhvLChmdW5jdGlvbihlKXtyZXR1cm4gTyhlLmluZGljZXMsKGZ1bmN0aW9uKGUpe3ZhciBuPXIuZGF0YVRvUG9pbnQodC5nZXQoYSxlKSk7cmV0dXJuIG5bMV09dC5nZXQocyxlKSxufSkpfSkpLHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLG49dFswXS5sZW5ndGgsaT1bXSxyPVtdLG89MCxhPTA7YTxuOysrYSl7Zm9yKHZhciBzPTAsbD0wO2w8ZTsrK2wpcys9dFtsXVthXVsxXTtzPm8mJihvPXMpLGkucHVzaChzKX1mb3IodmFyIHU9MDt1PG47Kyt1KXJbdV09KG8taVt1XSkvMjtvPTA7Zm9yKHZhciBoPTA7aDxuOysraCl7dmFyIGM9aVtoXStyW2hdO2M+byYmKG89Yyl9cmV0dXJue3kwOnIsbWF4Om99fShsKSxoPXUueTAsYz1uL3UubWF4LHA9by5sZW5ndGgsZD1vWzBdLmluZGljZXMubGVuZ3RoLGY9MDtmPGQ7KytmKXtpPWhbZl0qYyx0LnNldEl0ZW1MYXlvdXQob1swXS5pbmRpY2VzW2ZdLHtsYXllckluZGV4OjAseDpsWzBdW2ZdWzBdLHkwOmkseTpsWzBdW2ZdWzFdKmN9KTtmb3IodmFyIGc9MTtnPHA7KytnKWkrPWxbZy0xXVtmXVsxXSpjLHQuc2V0SXRlbUxheW91dChvW2ddLmluZGljZXNbZl0se2xheWVySW5kZXg6Zyx4OmxbZ11bZl1bMF0seTA6aSx5OmxbZ11bZl1bMV0qY30pfX12YXIgUms9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7by56Mj0yLG8udGV4dENvbmZpZz17aW5zaWRlOiEwfSxfcyhvKS5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4O3ZhciBhPW5ldyBjcyh7ejI6NCxzaWxlbnQ6ZS5nZXRNb2RlbCgpLmdldChbImxhYmVsIiwic2lsZW50Il0pfSk7cmV0dXJuIG8uc2V0VGV4dENvbnRlbnQoYSksby51cGRhdGVEYXRhKCEwLGUsbixpLHIpLG99cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuLGkscil7dGhpcy5ub2RlPWUsZS5waWVjZT10aGlzLG49bnx8dGhpcy5fc2VyaWVzTW9kZWwsaT1pfHx0aGlzLl9lY01vZGVsO3ZhciBvPXRoaXM7X3MobykuZGF0YUluZGV4PWUuZGF0YUluZGV4O3ZhciBhPWUuZ2V0TW9kZWwoKSxzPWEuZ2V0TW9kZWwoImVtcGhhc2lzIiksbD1lLmdldExheW91dCgpLHU9SSh7fSxsKTt1LmxhYmVsPW51bGw7dmFyIGg9ZS5nZXRWaXN1YWwoInN0eWxlIik7aC5saW5lSm9pbj0iYmV2ZWwiO3ZhciBjPWUuZ2V0VmlzdWFsKCJkZWNhbCIpO2MmJihoLmRlY2FsPUV5KGMscikpO3ZhciBwPWJTKGEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHUpO0kodSxwKSxQKFNzLChmdW5jdGlvbih0KXt2YXIgZT1vLmVuc3VyZVN0YXRlKHQpLG49YS5nZXRNb2RlbChbdCwiaXRlbVN0eWxlIl0pO2Uuc3R5bGU9bi5nZXRJdGVtU3R5bGUoKTt2YXIgaT1iUyhuLHUpO2kmJihlLnNoYXBlPWkpfSkpLHQ/KG8uc2V0U2hhcGUodSksby5zaGFwZS5yPWwucjAsSHUobyx7c2hhcGU6e3I6bC5yfX0sbixlLmRhdGFJbmRleCkpOkh1KG8se3NoYXBlOnV9LG4pLG8udXNlU3R5bGUoaCksdGhpcy5fdXBkYXRlTGFiZWwobik7dmFyIGQ9YS5nZXRTaGFsbG93KCJjdXJzb3IiKTtkJiZvLmF0dHIoImN1cnNvciIsZCksdGhpcy5fc2VyaWVzTW9kZWw9bnx8dGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5fZWNNb2RlbD1pfHx0aGlzLl9lY01vZGVsO3ZhciBmPXMuZ2V0KCJmb2N1cyIpO3NsKHRoaXMsImFuY2VzdG9yIj09PWY/ZS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6ImRlc2NlbmRhbnQiPT09Zj9lLmdldERlc2NlbmRhbnRJbmRpY2VzKCk6ZixzLmdldCgiYmx1clNjb3BlIikpfSxlLnByb3RvdHlwZS5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMubm9kZS5nZXRNb2RlbCgpLGk9bi5nZXRNb2RlbCgibGFiZWwiKSxyPXRoaXMubm9kZS5nZXRMYXlvdXQoKSxvPXIuZW5kQW5nbGUtci5zdGFydEFuZ2xlLGE9KHIuc3RhcnRBbmdsZStyLmVuZEFuZ2xlKS8yLHM9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihhKSx1PXRoaXMsaD11LmdldFRleHRDb250ZW50KCksYz10aGlzLm5vZGUuZGF0YUluZGV4LHA9aS5nZXQoIm1pbkFuZ2xlIikvMTgwKk1hdGguUEksZD1pLmdldCgic2hvdyIpJiYhKG51bGwhPXAmJk1hdGguYWJzKG8pPHApO2Z1bmN0aW9uIGYodCxlKXt2YXIgbj10LmdldChlKTtyZXR1cm4gbnVsbD09bj9pLmdldChlKTpufWguaWdub3JlPSFkLFAoTXMsKGZ1bmN0aW9uKGkpe3ZhciBvPSJub3JtYWwiPT09aT9uLmdldE1vZGVsKCJsYWJlbCIpOm4uZ2V0TW9kZWwoW2ksImxhYmVsIl0pLHA9Im5vcm1hbCI9PT1pLGQ9cD9oOmguZW5zdXJlU3RhdGUoaSksZz10LmdldEZvcm1hdHRlZExhYmVsKGMsaSk7cCYmKGc9Z3x8ZS5ub2RlLm5hbWUpLGQuc3R5bGU9cGgobyx7fSxudWxsLCJub3JtYWwiIT09aSwhMCksZyYmKGQuc3R5bGUudGV4dD1nKTt2YXIgeT1vLmdldCgic2hvdyIpO251bGw9PXl8fHB8fChkLmlnbm9yZT0heSk7dmFyIHYsbT1mKG8sInBvc2l0aW9uIiksXz1wP3U6dS5zdGF0ZXNbaV0seD1fLnN0eWxlLmZpbGw7Xy50ZXh0Q29uZmlnPXtvdXRzaWRlRmlsbDoiaW5oZXJpdCI9PT1vLmdldCgiY29sb3IiKT94Om51bGwsaW5zaWRlOiJvdXRzaWRlIiE9PW19O3ZhciBiPWYobywiZGlzdGFuY2UiKXx8MCx3PWYobywiYWxpZ24iKTsib3V0c2lkZSI9PT1tPyh2PXIucitiLHc9YT5NYXRoLlBJLzI/InJpZ2h0IjoibGVmdCIpOncmJiJjZW50ZXIiIT09dz8ibGVmdCI9PT13Pyh2PXIucjArYixhPk1hdGguUEkvMiYmKHc9InJpZ2h0IikpOiJyaWdodCI9PT13JiYodj1yLnItYixhPk1hdGguUEkvMiYmKHc9ImxlZnQiKSk6KHY9KHIucityLnIwKS8yLHc9ImNlbnRlciIpLGQuc3R5bGUuYWxpZ249dyxkLnN0eWxlLnZlcnRpY2FsQWxpZ249ZihvLCJ2ZXJ0aWNhbEFsaWduIil8fCJtaWRkbGUiLGQueD12KnMrci5jeCxkLnk9dipsK3IuY3k7dmFyIFM9ZihvLCJyb3RhdGUiKSxNPTA7InJhZGlhbCI9PT1TPyhNPS1hKTwtTWF0aC5QSS8yJiYoTSs9TWF0aC5QSSk6InRhbmdlbnRpYWwiPT09Uz8oTT1NYXRoLlBJLzItYSk+TWF0aC5QSS8yP00tPU1hdGguUEk6TTwtTWF0aC5QSS8yJiYoTSs9TWF0aC5QSSk6Im51bWJlciI9PXR5cGVvZiBTJiYoTT1TKk1hdGguUEkvMTgwKSxkLnJvdGF0aW9uPU19KSksaC5kaXJ0eVN0eWxlKCl9LGV9KEpsKSxOaz0ic3VuYnVyc3RSb290VG9Ob2RlIix6az0ic3VuYnVyc3RIaWdobGlnaHQiO3ZhciBFaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9bix0aGlzLmVjTW9kZWw9ZTt2YXIgbz10LmdldERhdGEoKSxhPW8udHJlZS5yb290LHM9dC5nZXRWaWV3Um9vdCgpLGw9dGhpcy5ncm91cCx1PXQuZ2V0KCJyZW5kZXJMYWJlbEZvclplcm9EYXRhIiksaD1bXTtzLmVhY2hOb2RlKChmdW5jdGlvbih0KXtoLnB1c2godCl9KSk7dmFyIGM9dGhpcy5fb2xkQ2hpbGRyZW58fFtdOyFmdW5jdGlvbihpLHIpe2lmKDA9PT1pLmxlbmd0aCYmMD09PXIubGVuZ3RoKXJldHVybjtmdW5jdGlvbiBzKHQpe3JldHVybiB0LmdldElkKCl9ZnVuY3Rpb24gaChzLGgpeyFmdW5jdGlvbihpLHIpe3V8fCFpfHxpLmdldFZhbHVlKCl8fChpPW51bGwpO2lmKGkhPT1hJiZyIT09YSlpZihyJiZyLnBpZWNlKWk/KHIucGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKSxvLnNldEl0ZW1HcmFwaGljRWwoaS5kYXRhSW5kZXgsci5waWVjZSkpOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybjt0LnBpZWNlJiYobC5yZW1vdmUodC5waWVjZSksdC5waWVjZT1udWxsKX0ocik7ZWxzZSBpZihpKXt2YXIgcz1uZXcgUmsoaSx0LGUsbik7bC5hZGQocyksby5zZXRJdGVtR3JhcGhpY0VsKGkuZGF0YUluZGV4LHMpfX0obnVsbD09cz9udWxsOmlbc10sbnVsbD09aD9udWxsOnJbaF0pfW5ldyBuXyhyLGkscyxzKS5hZGQoaCkudXBkYXRlKGgpLnJlbW92ZShCKGgsbnVsbCkpLmV4ZWN1dGUoKX0oaCxjKSxmdW5jdGlvbihpLG8pe28uZGVwdGg+MD8oci52aXJ0dWFsUGllY2U/ci52aXJ0dWFsUGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKTooci52aXJ0dWFsUGllY2U9bmV3IFJrKGksdCxlLG4pLGwuYWRkKHIudmlydHVhbFBpZWNlKSksby5waWVjZS5vZmYoImNsaWNrIiksci52aXJ0dWFsUGllY2Uub24oImNsaWNrIiwoZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShvLnBhcmVudE5vZGUpfSkpKTpyLnZpcnR1YWxQaWVjZSYmKGwucmVtb3ZlKHIudmlydHVhbFBpZWNlKSxyLnZpcnR1YWxQaWVjZT1udWxsKX0oYSxzKSx0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49aH0sZS5wcm90b3R5cGUuX2luaXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ3JvdXAub2ZmKCJjbGljayIpLHRoaXMuZ3JvdXAub24oImNsaWNrIiwoZnVuY3Rpb24oZSl7dmFyIG49ITE7dC5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKChmdW5jdGlvbihpKXtpZighbiYmaS5waWVjZSYmaS5waWVjZT09PWUudGFyZ2V0KXt2YXIgcj1pLmdldE1vZGVsKCkuZ2V0KCJub2RlQ2xpY2siKTtpZigicm9vdFRvTm9kZSI9PT1yKXQuX3Jvb3RUb05vZGUoaSk7ZWxzZSBpZigibGluayI9PT1yKXt2YXIgbz1pLmdldE1vZGVsKCksYT1vLmdldCgibGluayIpO2lmKGEpUGMoYSxvLmdldCgidGFyZ2V0IiwhMCl8fCJfYmxhbmsiKX1uPSEwfX0pKX0pKX0sZS5wcm90b3R5cGUuX3Jvb3RUb05vZGU9ZnVuY3Rpb24odCl7dCE9PXRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6TmssZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dH0pfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KDApO2lmKG4pe3ZhciBpPXRbMF0tbi5jeCxyPXRbMV0tbi5jeSxvPU1hdGguc3FydChpKmkrcipyKTtyZXR1cm4gbzw9bi5yJiZvPj1uLnIwfX0sZS50eXBlPSJzdW5idXJzdCIsZX0oVGYpLFZrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5pZ25vcmVTdHlsZU9uRGF0YT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTtCayhuKTt2YXIgaT1PKHQubGV2ZWxzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBPaCh0LHRoaXMsZSl9KSx0aGlzKSxyPSRJLmNyZWF0ZVRyZWUobix0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ci5nZXROb2RlQnlEYXRhSW5kZXgoZSksbz1pW24uZGVwdGhdO3JldHVybiBvJiYodC5wYXJlbnRNb2RlbD1vKSx0fSkpfSkpO3JldHVybiByLmRhdGF9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuLnRyZWVQYXRoSW5mbz1lVChpLHRoaXMpLG59LGUucHJvdG90eXBlLmdldFZpZXdSb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdSb290fSxlLnByb3RvdHlwZS5yZXNldFZpZXdSb290PWZ1bmN0aW9uKHQpe3Q/dGhpcy5fdmlld1Jvb3Q9dDp0PXRoaXMuX3ZpZXdSb290O3ZhciBlPXRoaXMuZ2V0UmF3RGF0YSgpLnRyZWUucm9vdDt0JiYodD09PWV8fGUuY29udGFpbnModCkpfHwodGhpcy5fdmlld1Jvb3Q9ZSl9LGUucHJvdG90eXBlLmVuYWJsZUFyaWFEZWNhbD1mdW5jdGlvbigpe2xUKHRoaXMpfSxlLnR5cGU9InNlcmllcy5zdW5idXJzdCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOlswLCI3NSUiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLHN0aWxsU2hvd1plcm9TdW06ITAsbm9kZUNsaWNrOiJyb290VG9Ob2RlIixyZW5kZXJMYWJlbEZvclplcm9EYXRhOiExLGxhYmVsOntyb3RhdGU6InJhZGlhbCIsc2hvdzohMCxvcGFjaXR5OjEsYWxpZ246ImNlbnRlciIscG9zaXRpb246Imluc2lkZSIsZGlzdGFuY2U6NSxzaWxlbnQ6ITB9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoid2hpdGUiLGJvcmRlclR5cGU6InNvbGlkIixzaGFkb3dCbHVyOjAsc2hhZG93Q29sb3I6InJnYmEoMCwgMCwgMCwgMC4yKSIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxvcGFjaXR5OjF9LGVtcGhhc2lzOntmb2N1czoiZGVzY2VuZGFudCJ9LGJsdXI6e2l0ZW1TdHlsZTp7b3BhY2l0eTouMn0sbGFiZWw6e29wYWNpdHk6LjF9fSxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDAsZGF0YTpbXSxsZXZlbHM6W10sc29ydDoiZGVzYyJ9LGV9KGZmKTtmdW5jdGlvbiBCayh0KXt2YXIgZT0wO1AodC5jaGlsZHJlbiwoZnVuY3Rpb24odCl7QmsodCk7dmFyIG49dC52YWx1ZTtGKG4pJiYobj1uWzBdKSxlKz1ufSkpO3ZhciBuPXQudmFsdWU7RihuKSYmKG49blswXSksKG51bGw9PW58fGlzTmFOKG4pKSYmKG49ZSksbjwwJiYobj0wKSxGKHQudmFsdWUpP3QudmFsdWVbMF09bjp0LnZhbHVlPW59dmFyIEZrPU1hdGguUEkvMTgwO2Z1bmN0aW9uIEdrKHQsZSxuKXtlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImNlbnRlciIpLGk9dC5nZXQoInJhZGl1cyIpO0YoaSl8fChpPVswLGldKSxGKGUpfHwoZT1bZSxlXSk7dmFyIHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKSxhPU1hdGgubWluKHIsbykscz1aaShlWzBdLHIpLGw9WmkoZVsxXSxvKSx1PVppKGlbMF0sYS8yKSxoPVppKGlbMV0sYS8yKSxjPS10LmdldCgic3RhcnRBbmdsZSIpKkZrLHA9dC5nZXQoIm1pbkFuZ2xlIikqRmssZD10LmdldERhdGEoKS50cmVlLnJvb3QsZj10LmdldFZpZXdSb290KCksZz1mLmRlcHRoLHk9dC5nZXQoInNvcnQiKTtudWxsIT15JiZIayhmLHkpO3ZhciB2PTA7UChmLmNoaWxkcmVuLChmdW5jdGlvbih0KXshaXNOYU4odC5nZXRWYWx1ZSgpKSYmdisrfSkpO3ZhciBtPWYuZ2V0VmFsdWUoKSxfPU1hdGguUEkvKG18fHYpKjIseD1mLmRlcHRoPjAsYj1mLmhlaWdodC0oeD8tMToxKSx3PShoLXUpLyhifHwxKSxTPXQuZ2V0KCJjbG9ja3dpc2UiKSxNPXQuZ2V0KCJzdGlsbFNob3daZXJvU3VtIiksST1TPzE6LTEsVD1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBuPWU7aWYodCE9PWQpe3ZhciBpPXQuZ2V0VmFsdWUoKSxyPTA9PT1tJiZNP186aSpfO3I8cCYmKHI9cCksbj1lK0kqcjt2YXIgbz10LmRlcHRoLWctKHg/LTE6MSksaD11K3cqbyxjPXUrdyoobysxKSxmPXQuZ2V0TW9kZWwoKTtudWxsIT1mLmdldCgicjAiKSYmKGg9WmkoZi5nZXQoInIwIiksYS8yKSksbnVsbCE9Zi5nZXQoInIiKSYmKGM9WmkoZi5nZXQoInIiKSxhLzIpKSx0LnNldExheW91dCh7YW5nbGU6cixzdGFydEFuZ2xlOmUsZW5kQW5nbGU6bixjbG9ja3dpc2U6UyxjeDpzLGN5OmwscjA6aCxyOmN9KX1pZih0LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLmxlbmd0aCl7dmFyIHk9MDtQKHQuY2hpbGRyZW4sKGZ1bmN0aW9uKHQpe3krPVQodCxlK3kpfSkpfXJldHVybiBuLWV9fTtpZih4KXt2YXIgQz11LEQ9dSt3LEE9MipNYXRoLlBJO2Quc2V0TGF5b3V0KHthbmdsZTpBLHN0YXJ0QW5nbGU6YyxlbmRBbmdsZTpjK0EsY2xvY2t3aXNlOlMsY3g6cyxjeTpsLHIwOkMscjpEfSl9VChmLGMpfSkpfWZ1bmN0aW9uIEhrKHQsZSl7dmFyIG49dC5jaGlsZHJlbnx8W107dC5jaGlsZHJlbj1mdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXt2YXIgbj1PKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRWYWx1ZSgpO3JldHVybntwYXJhbXM6e2RlcHRoOnQuZGVwdGgsaGVpZ2h0OnQuaGVpZ2h0LGRhdGFJbmRleDp0LmRhdGFJbmRleCxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBufX0saW5kZXg6ZX19KSk7cmV0dXJuIG4uc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LnBhcmFtcyxuLnBhcmFtcyl9KSksTyhuLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlLmluZGV4XX0pKX12YXIgaT0iYXNjIj09PWU7cmV0dXJuIHQuc29ydCgoZnVuY3Rpb24odCxlKXt2YXIgbj0odC5nZXRWYWx1ZSgpLWUuZ2V0VmFsdWUoKSkqKGk/MTotMSk7cmV0dXJuIDA9PT1uPyh0LmRhdGFJbmRleC1lLmRhdGFJbmRleCkqKGk/LTE6MSk6bn0pKX0obixlKSxuLmxlbmd0aCYmUCh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXtIayh0LGUpfSkpfWZ1bmN0aW9uIFdrKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgic3VuYnVyc3QiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPW4udHJlZTtpLmVhY2hOb2RlKChmdW5jdGlvbihyKXt2YXIgbz1yLmdldE1vZGVsKCkuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO28uZmlsbHx8KG8uZmlsbD1mdW5jdGlvbih0LG4saSl7Zm9yKHZhciByPXQ7ciYmci5kZXB0aD4xOylyPXIucGFyZW50Tm9kZTt2YXIgbz1uLmdldENvbG9yRnJvbVBhbGV0dGUoci5uYW1lfHxyLmRhdGFJbmRleCsiIixlKTtyZXR1cm4gdC5kZXB0aD4xJiYic3RyaW5nIj09dHlwZW9mIG8mJihvPVVlKG8sKHQuZGVwdGgtMSkvKGktMSkqLjUpKSxvfShyLHQsaS5yb290LmhlaWdodCkpLEkobi5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHIuZGF0YUluZGV4LCJzdHlsZSIpLG8pfSkpfSkpfWZ1bmN0aW9uIFVrKHQsZSl7cmV0dXJuIGU9ZXx8WzAsMF0sTyhbIngiLCJ5Il0sKGZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcy5nZXRBeGlzKG4pLG89ZVtpXSxhPXRbaV0vMjtyZXR1cm4iY2F0ZWdvcnkiPT09ci50eXBlP3IuZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoci5kYXRhVG9Db29yZChvLWEpLXIuZGF0YVRvQ29vcmQobythKSl9KSx0aGlzKX1mdW5jdGlvbiBYayh0LGUpe3JldHVybiBlPWV8fFswLDBdLE8oWzAsMV0sKGZ1bmN0aW9uKG4pe3ZhciBpPWVbbl0scj10W25dLzIsbz1bXSxhPVtdO3JldHVybiBvW25dPWktcixhW25dPWkrcixvWzEtbl09YVsxLW5dPWVbMS1uXSxNYXRoLmFicyh0aGlzLmRhdGFUb1BvaW50KG8pW25dLXRoaXMuZGF0YVRvUG9pbnQoYSlbbl0pfSksdGhpcyl9ZnVuY3Rpb24gWWsodCxlKXt2YXIgbj10aGlzLmdldEF4aXMoKSxpPWUgaW5zdGFuY2VvZiBBcnJheT9lWzBdOmUscj0odCBpbnN0YW5jZW9mIEFycmF5P3RbMF06dCkvMjtyZXR1cm4iY2F0ZWdvcnkiPT09bi50eXBlP24uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMobi5kYXRhVG9Db29yZChpLXIpLW4uZGF0YVRvQ29vcmQoaStyKSl9ZnVuY3Rpb24gWmsodCxlKXtyZXR1cm4gZT1lfHxbMCwwXSxPKFsiUmFkaXVzIiwiQW5nbGUiXSwoZnVuY3Rpb24obixpKXt2YXIgcj10aGlzWyJnZXQiK24rIkF4aXMiXSgpLG89ZVtpXSxhPXRbaV0vMixzPSJjYXRlZ29yeSI9PT1yLnR5cGU/ci5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhyLmRhdGFUb0Nvb3JkKG8tYSktci5kYXRhVG9Db29yZChvK2EpKTtyZXR1cm4iQW5nbGUiPT09biYmKHM9cypNYXRoLlBJLzE4MCksc30pLHRoaXMpfWZ1bmN0aW9uIGprKHQsZSxuLGkpe3JldHVybiB0JiYodC5sZWdhY3l8fCExIT09dC5sZWdhY3kmJiFuJiYhaSYmInRzcGFuIiE9PWUmJigidGV4dCI9PT1lfHxkdCh0LCJ0ZXh0IikpKX1mdW5jdGlvbiBxayh0LGUsbil7dmFyIGkscixvLGE9dDtpZigidGV4dCI9PT1lKW89YTtlbHNle289e30sZHQoYSwidGV4dCIpJiYoby50ZXh0PWEudGV4dCksZHQoYSwicmljaCIpJiYoby5yaWNoPWEucmljaCksZHQoYSwidGV4dEZpbGwiKSYmKG8uZmlsbD1hLnRleHRGaWxsKSxkdChhLCJ0ZXh0U3Ryb2tlIikmJihvLnN0cm9rZT1hLnRleHRTdHJva2UpLHI9e3R5cGU6InRleHQiLHN0eWxlOm8sc2lsZW50OiEwfSxpPXt9O3ZhciBzPWR0KGEsInRleHRQb3NpdGlvbiIpO24/aS5wb3NpdGlvbj1zP2EudGV4dFBvc2l0aW9uOiJpbnNpZGUiOnMmJihpLnBvc2l0aW9uPWEudGV4dFBvc2l0aW9uKSxkdChhLCJ0ZXh0UG9zaXRpb24iKSYmKGkucG9zaXRpb249YS50ZXh0UG9zaXRpb24pLGR0KGEsInRleHRPZmZzZXQiKSYmKGkub2Zmc2V0PWEudGV4dE9mZnNldCksZHQoYSwidGV4dFJvdGF0aW9uIikmJihpLnJvdGF0aW9uPWEudGV4dFJvdGF0aW9uKSxkdChhLCJ0ZXh0RGlzdGFuY2UiKSYmKGkuZGlzdGFuY2U9YS50ZXh0RGlzdGFuY2UpfXJldHVybiBLayhvLHQpLFAoby5yaWNoLChmdW5jdGlvbih0KXtLayh0LHQpfSkpLHt0ZXh0Q29uZmlnOmksdGV4dENvbnRlbnQ6cn19ZnVuY3Rpb24gS2sodCxlKXtlJiYoZS5mb250PWUudGV4dEZvbnR8fGUuZm9udCxkdChlLCJ0ZXh0U3Ryb2tlV2lkdGgiKSYmKHQubGluZVdpZHRoPWUudGV4dFN0cm9rZVdpZHRoKSxkdChlLCJ0ZXh0QWxpZ24iKSYmKHQuYWxpZ249ZS50ZXh0QWxpZ24pLGR0KGUsInRleHRWZXJ0aWNhbEFsaWduIikmJih0LnZlcnRpY2FsQWxpZ249ZS50ZXh0VmVydGljYWxBbGlnbiksZHQoZSwidGV4dExpbmVIZWlnaHQiKSYmKHQubGluZUhlaWdodD1lLnRleHRMaW5lSGVpZ2h0KSxkdChlLCJ0ZXh0V2lkdGgiKSYmKHQud2lkdGg9ZS50ZXh0V2lkdGgpLGR0KGUsInRleHRIZWlnaHQiKSYmKHQuaGVpZ2h0PWUudGV4dEhlaWdodCksZHQoZSwidGV4dEJhY2tncm91bmRDb2xvciIpJiYodC5iYWNrZ3JvdW5kQ29sb3I9ZS50ZXh0QmFja2dyb3VuZENvbG9yKSxkdChlLCJ0ZXh0UGFkZGluZyIpJiYodC5wYWRkaW5nPWUudGV4dFBhZGRpbmcpLGR0KGUsInRleHRCb3JkZXJDb2xvciIpJiYodC5ib3JkZXJDb2xvcj1lLnRleHRCb3JkZXJDb2xvciksZHQoZSwidGV4dEJvcmRlcldpZHRoIikmJih0LmJvcmRlcldpZHRoPWUudGV4dEJvcmRlcldpZHRoKSxkdChlLCJ0ZXh0Qm9yZGVyUmFkaXVzIikmJih0LmJvcmRlclJhZGl1cz1lLnRleHRCb3JkZXJSYWRpdXMpLGR0KGUsInRleHRCb3hTaGFkb3dDb2xvciIpJiYodC5zaGFkb3dDb2xvcj1lLnRleHRCb3hTaGFkb3dDb2xvciksZHQoZSwidGV4dEJveFNoYWRvd0JsdXIiKSYmKHQuc2hhZG93Qmx1cj1lLnRleHRCb3hTaGFkb3dCbHVyKSxkdChlLCJ0ZXh0Qm94U2hhZG93T2Zmc2V0WCIpJiYodC5zaGFkb3dPZmZzZXRYPWUudGV4dEJveFNoYWRvd09mZnNldFgpLGR0KGUsInRleHRCb3hTaGFkb3dPZmZzZXRZIikmJih0LnNoYWRvd09mZnNldFk9ZS50ZXh0Qm94U2hhZG93T2Zmc2V0WSkpfWZ1bmN0aW9uICRrKHQsZSxuKXt2YXIgaT10O2kudGV4dFBvc2l0aW9uPWkudGV4dFBvc2l0aW9ufHxuLnBvc2l0aW9ufHwiaW5zaWRlIixudWxsIT1uLm9mZnNldCYmKGkudGV4dE9mZnNldD1uLm9mZnNldCksbnVsbCE9bi5yb3RhdGlvbiYmKGkudGV4dFJvdGF0aW9uPW4ucm90YXRpb24pLG51bGwhPW4uZGlzdGFuY2UmJihpLnRleHREaXN0YW5jZT1uLmRpc3RhbmNlKTt2YXIgcj1pLnRleHRQb3NpdGlvbi5pbmRleE9mKCJpbnNpZGUiKT49MCxvPXQuZmlsbHx8IiMwMDAiO0prKGksZSk7dmFyIGE9bnVsbD09aS50ZXh0RmlsbDtyZXR1cm4gcj9hJiYoaS50ZXh0RmlsbD1uLmluc2lkZUZpbGx8fCIjZmZmIiwhaS50ZXh0U3Ryb2tlJiZuLmluc2lkZVN0cm9rZSYmKGkudGV4dFN0cm9rZT1uLmluc2lkZVN0cm9rZSksIWkudGV4dFN0cm9rZSYmKGkudGV4dFN0cm9rZT1vKSxudWxsPT1pLnRleHRTdHJva2VXaWR0aCYmKGkudGV4dFN0cm9rZVdpZHRoPTIpKTooYSYmKGkudGV4dEZpbGw9dC5maWxsfHxuLm91dHNpZGVGaWxsfHwiIzAwMCIpLCFpLnRleHRTdHJva2UmJm4ub3V0c2lkZVN0cm9rZSYmKGkudGV4dFN0cm9rZT1uLm91dHNpZGVTdHJva2UpKSxpLnRleHQ9ZS50ZXh0LGkucmljaD1lLnJpY2gsUChlLnJpY2gsKGZ1bmN0aW9uKHQpe0prKHQsdCl9KSksaX1mdW5jdGlvbiBKayh0LGUpe2UmJihkdChlLCJmaWxsIikmJih0LnRleHRGaWxsPWUuZmlsbCksZHQoZSwic3Ryb2tlIikmJih0LnRleHRTdHJva2U9ZS5maWxsKSxkdChlLCJsaW5lV2lkdGgiKSYmKHQudGV4dFN0cm9rZVdpZHRoPWUubGluZVdpZHRoKSxkdChlLCJmb250IikmJih0LmZvbnQ9ZS5mb250KSxkdChlLCJmb250U3R5bGUiKSYmKHQuZm9udFN0eWxlPWUuZm9udFN0eWxlKSxkdChlLCJmb250V2VpZ2h0IikmJih0LmZvbnRXZWlnaHQ9ZS5mb250V2VpZ2h0KSxkdChlLCJmb250U2l6ZSIpJiYodC5mb250U2l6ZT1lLmZvbnRTaXplKSxkdChlLCJmb250RmFtaWx5IikmJih0LmZvbnRGYW1pbHk9ZS5mb250RmFtaWx5KSxkdChlLCJhbGlnbiIpJiYodC50ZXh0QWxpZ249ZS5hbGlnbiksZHQoZSwidmVydGljYWxBbGlnbiIpJiYodC50ZXh0VmVydGljYWxBbGlnbj1lLnZlcnRpY2FsQWxpZ24pLGR0KGUsImxpbmVIZWlnaHQiKSYmKHQudGV4dExpbmVIZWlnaHQ9ZS5saW5lSGVpZ2h0KSxkdChlLCJ3aWR0aCIpJiYodC50ZXh0V2lkdGg9ZS53aWR0aCksZHQoZSwiaGVpZ2h0IikmJih0LnRleHRIZWlnaHQ9ZS5oZWlnaHQpLGR0KGUsImJhY2tncm91bmRDb2xvciIpJiYodC50ZXh0QmFja2dyb3VuZENvbG9yPWUuYmFja2dyb3VuZENvbG9yKSxkdChlLCJwYWRkaW5nIikmJih0LnRleHRQYWRkaW5nPWUucGFkZGluZyksZHQoZSwiYm9yZGVyQ29sb3IiKSYmKHQudGV4dEJvcmRlckNvbG9yPWUuYm9yZGVyQ29sb3IpLGR0KGUsImJvcmRlcldpZHRoIikmJih0LnRleHRCb3JkZXJXaWR0aD1lLmJvcmRlcldpZHRoKSxkdChlLCJib3JkZXJSYWRpdXMiKSYmKHQudGV4dEJvcmRlclJhZGl1cz1lLmJvcmRlclJhZGl1cyksZHQoZSwic2hhZG93Q29sb3IiKSYmKHQudGV4dEJveFNoYWRvd0NvbG9yPWUuc2hhZG93Q29sb3IpLGR0KGUsInNoYWRvd0JsdXIiKSYmKHQudGV4dEJveFNoYWRvd0JsdXI9ZS5zaGFkb3dCbHVyKSxkdChlLCJzaGFkb3dPZmZzZXRYIikmJih0LnRleHRCb3hTaGFkb3dPZmZzZXRYPWUuc2hhZG93T2Zmc2V0WCksZHQoZSwic2hhZG93T2Zmc2V0WSIpJiYodC50ZXh0Qm94U2hhZG93T2Zmc2V0WT1lLnNoYWRvd09mZnNldFkpLGR0KGUsInRleHRTaGFkb3dDb2xvciIpJiYodC50ZXh0U2hhZG93Q29sb3I9ZS50ZXh0U2hhZG93Q29sb3IpLGR0KGUsInRleHRTaGFkb3dCbHVyIikmJih0LnRleHRTaGFkb3dCbHVyPWUudGV4dFNoYWRvd0JsdXIpLGR0KGUsInRleHRTaGFkb3dPZmZzZXRYIikmJih0LnRleHRTaGFkb3dPZmZzZXRYPWUudGV4dFNoYWRvd09mZnNldFgpLGR0KGUsInRleHRTaGFkb3dPZmZzZXRZIikmJih0LnRleHRTaGFkb3dPZmZzZXRZPWUudGV4dFNoYWRvd09mZnNldFkpKX12YXIgUWs9TGEuQ01ELHRQPTIqTWF0aC5QSSxlUD1bIngiLCJ5Il0sblA9WyJ3aWR0aCIsImhlaWdodCJdLGlQPVtdO2Z1bmN0aW9uIHJQKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtNX1mdW5jdGlvbiBvUCh0KXt2YXIgZSxuLGkscixvLGE9dC5kYXRhLHM9dC5sZW4oKSxsPVtdLHU9MCxoPTAsYz0wLHA9MDtmdW5jdGlvbiBkKHQsbil7ZSYmZS5sZW5ndGg+MiYmbC5wdXNoKGUpLGU9W3Qsbl19ZnVuY3Rpb24gZih0LG4saSxyKXtyUCh0LGkpJiZyUChuLHIpfHxlLnB1c2godCxuLGkscixpLHIpfWZ1bmN0aW9uIGcodCxuLGkscixvLGEpe3ZhciBzPU1hdGguYWJzKG4tdCksbD00Kk1hdGgudGFuKHMvNCkvMyx1PW48dD8tMToxLGg9TWF0aC5jb3ModCksYz1NYXRoLnNpbih0KSxwPU1hdGguY29zKG4pLGQ9TWF0aC5zaW4obiksZj1oKm8raSxnPWMqYStyLHk9cCpvK2ksdj1kKmErcixtPW8qbCp1LF89YSpsKnU7ZS5wdXNoKGYtbSpjLGcrXypoLHkrbSpkLHYtXypwLHksdil9Zm9yKHZhciB5PTA7eTxzOyl7dmFyIHY9YVt5KytdLG09MT09PXk7c3dpdGNoKG0mJihjPXU9YVt5XSxwPWg9YVt5KzFdLHYhPT1Ray5MJiZ2IT09UWsuQyYmdiE9PVFrLlF8fChlPVtjLHBdKSksdil7Y2FzZSBRay5NOnU9Yz1hW3krK10saD1wPWFbeSsrXSxkKGMscCk7YnJlYWs7Y2FzZSBRay5MOmYodSxoLG49YVt5KytdLGk9YVt5KytdKSx1PW4saD1pO2JyZWFrO2Nhc2UgUWsuQzplLnB1c2goYVt5KytdLGFbeSsrXSxhW3krK10sYVt5KytdLHU9YVt5KytdLGg9YVt5KytdKTticmVhaztjYXNlIFFrLlE6bj1hW3krK10saT1hW3krK10scj1hW3krK10sbz1hW3krK10sZS5wdXNoKHUrMi8zKihuLXUpLGgrMi8zKihpLWgpLHIrMi8zKihuLXIpLG8rMi8zKihpLW8pLHIsbyksdT1yLGg9bzticmVhaztjYXNlIFFrLkE6dmFyIF89YVt5KytdLHg9YVt5KytdLGI9YVt5KytdLHc9YVt5KytdLFM9YVt5KytdLE09YVt5KytdK1M7eSs9MTt2YXIgST0hYVt5KytdO249TWF0aC5jb3MoUykqYitfLGk9TWF0aC5zaW4oUykqdyt4LG0/ZChjPW4scD1pKTpmKHUsaCxuLGkpLHU9TWF0aC5jb3MoTSkqYitfLGg9TWF0aC5zaW4oTSkqdyt4O2Zvcih2YXIgVD0oST8tMToxKSpNYXRoLlBJLzIsQz1TO0k/Qz5NOkM8TTtDKz1UKXtnKEMsST9NYXRoLm1heChDK1QsTSk6TWF0aC5taW4oQytULE0pLF8seCxiLHcpfWJyZWFrO2Nhc2UgUWsuUjpjPXU9YVt5KytdLHA9aD1hW3krK10sbj1jK2FbeSsrXSxpPXArYVt5KytdLGQobixwKSxmKG4scCxuLGkpLGYobixpLGMsaSksZihjLGksYyxwKSxmKGMscCxuLHApO2JyZWFrO2Nhc2UgUWsuWjplJiZmKHUsaCxjLHApLHU9YyxoPXB9fXJldHVybiBlJiZlLmxlbmd0aD4yJiZsLnB1c2goZSksbH1mdW5jdGlvbiBhUCh0LGUpe3ZhciBuPXQubGVuZ3RoLGk9ZS5sZW5ndGg7aWYobj09PWkpcmV0dXJuW3QsZV07Zm9yKHZhciByPW48aT90OmUsbz1NYXRoLm1pbihuLGkpLGE9TWF0aC5hYnMoaS1uKS82LHM9KG8tMikvNixsPU1hdGguY2VpbChhL3MpKzEsdT1bclswXSxyWzFdXSxoPWEsYz1bXSxwPVtdLGQ9MjtkPG87KXt2YXIgZj1yW2QtMl0sZz1yW2QtMV0seT1yW2QrK10sdj1yW2QrK10sbT1yW2QrK10sXz1yW2QrK10seD1yW2QrK10sYj1yW2QrK107aWYoaDw9MCl1LnB1c2goeSx2LG0sXyx4LGIpO2Vsc2V7Zm9yKHZhciB3PU1hdGgubWluKGgsbC0xKSsxLFM9MTtTPD13O1MrKyl7dmFyIE09Uy93O0dvKGYseSxtLHgsTSxjKSxHbyhnLHYsXyxiLE0scCksZj1jWzNdLGc9cFszXSx1LnB1c2goY1sxXSxwWzFdLGNbMl0scFsyXSxmLGcpLHk9Y1s1XSx2PXBbNV0sbT1jWzZdLF89cFs2XX1oLT13LTF9fXJldHVybiByPT09dD9bdSxlXTpbdCx1XX1mdW5jdGlvbiBzUCh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPXRbbi0yXSxyPXRbbi0xXSxvPVtdLGE9MDthPGUubGVuZ3RoOylvW2ErK109aSxvW2ErK109cjtyZXR1cm4gb31mdW5jdGlvbiBsUCh0KXtmb3IodmFyIGU9MCxuPTAsaT0wLHI9dC5sZW5ndGgsbz0wLGE9ci0yO288cjthPW8sbys9Mil7dmFyIHM9dFthXSxsPXRbYSsxXSx1PXRbb10saD10W28rMV0sYz1zKmgtdSpsO2UrPWMsbis9KHMrdSkqYyxpKz0obCtoKSpjfXJldHVybiAwPT09ZT9bdFswXXx8MCx0WzFdfHwwXTpbbi9lLzMsaS9lLzMsZV19ZnVuY3Rpb24gdVAodCxlLG4saSl7Zm9yKHZhciByPSh0Lmxlbmd0aC0yKS82LG89MS8wLGE9MCxzPXQubGVuZ3RoLGw9cy0yLHU9MDt1PHI7dSsrKXtmb3IodmFyIGg9Nip1LGM9MCxwPTA7cDxzO3ArPTIpe3ZhciBkPTA9PT1wP2g6KGgrcC0yKSVsKzIsZj10W2RdLW5bMF0sZz10W2QrMV0tblsxXSx5PWVbcF0taVswXS1mLHY9ZVtwKzFdLWlbMV0tZztjKz15Knkrdip2fWM8byYmKG89YyxhPXUpfXJldHVybiBhfWZ1bmN0aW9uIGhQKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLGk9MDtpPG47aSs9MillW2ldPXRbbi1pLTJdLGVbaSsxXT10W24taS0xXTtyZXR1cm4gZX1mdW5jdGlvbiBjUCh0LGUsbil7dmFyIGkscjtpZighdHx8IWUpcmV0dXJuIGU7IXQucGF0aCYmdC5jcmVhdGVQYXRoUHJveHkoKSwoaT10LnBhdGgpLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKGksdC5zaGFwZSksIWUucGF0aCYmZS5jcmVhdGVQYXRoUHJveHkoKSwocj1lLnBhdGgpPT09aSYmKHI9bmV3IExhKCExKSksci5iZWdpblBhdGgoKSxmUChlKT9lLl9fb2xkQnVpbGRQYXRoKHIsZS5zaGFwZSk6ZS5idWlsZFBhdGgocixlLnNoYXBlKTt2YXIgbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz1bXSxhPVtdLHM9MDtzPE1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKTtzKyspe3ZhciBsPXRbc10sdT1lW3NdLGg9dm9pZCAwLGM9dm9pZCAwO2w/dT8oaT1oPShuPWFQKGwsdSkpWzBdLHI9Yz1uWzFdKTooYz1zUChyfHxsLGwpLGg9bCk6KGg9c1AoaXx8dSx1KSxjPXUpLG8ucHVzaChoKSxhLnB1c2goYyl9cmV0dXJuW28sYV19KG9QKGkpLG9QKHIpKSxhPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXSxsPWVbYV0sdT1sUChzKSxoPWxQKGwpO251bGw9PXImJihyPXVbMl08MCE9aFsyXTwwKTt2YXIgYz1bXSxwPVtdLGQ9MCxmPTEvMCxnPVtdLHk9cy5sZW5ndGg7ciYmKHM9aFAocykpO2Zvcih2YXIgdj02KnVQKHMsbCx1LGgpLG09eS0yLF89MDtfPG07Xys9Mil7dmFyIHg9KHYrXyklbSsyO2NbXysyXT1zW3hdLXVbMF0sY1tfKzNdPXNbeCsxXS11WzFdfWlmKGNbMF09c1t2XS11WzBdLGNbMV09c1t2KzFdLXVbMV0sbj4wKWZvcih2YXIgYj1pL24sdz0taS8yO3c8PWkvMjt3Kz1iKXt2YXIgUz1NYXRoLnNpbih3KSxNPU1hdGguY29zKHcpLEk9MDtmb3IoXz0wO188cy5sZW5ndGg7Xys9Mil7dmFyIFQ9Y1tfXSxDPWNbXysxXSxEPWxbX10taFswXSxBPWxbXysxXS1oWzFdLEw9RCpNLUEqUyxrPUQqUytBKk07Z1tfXT1MLGdbXysxXT1rO3ZhciBQPUwtVCxPPWstQztJKz1QKlArTypPfWlmKEk8Zil7Zj1JLGQ9dztmb3IodmFyIFI9MDtSPGcubGVuZ3RoO1IrKylwW1JdPWdbUl19fWVsc2UgZm9yKHZhciBOPTA7Tjx5O04rPTIpcFtOXT1sW05dLWhbMF0scFtOKzFdPWxbTisxXS1oWzFdO28ucHVzaCh7ZnJvbTpjLHRvOnAsZnJvbUNwOnUsdG9DcDpoLHJvdGF0aW9uOi1kfSl9cmV0dXJuIG99KG9bMF0sb1sxXSwxMCxNYXRoLlBJKTshZnVuY3Rpb24odCxlLG4pe2lmKGZQKHQpKXJldHVybiB2b2lkIGRQKHQsZSxuKTt2YXIgaT10O2kuX19vbGRCdWlsZFBhdGg9aS5idWlsZFBhdGgsaS5idWlsZFBhdGg9cFAsZFAoaSxlLG4pfShlLGEsMCk7dmFyIHM9biYmbi5kb25lLGw9biYmbi5hYm9ydGVkLHU9biYmbi5kdXJpbmc7cmV0dXJuIGUuYW5pbWF0ZVRvKHtfX21vcnBoVDoxfSxUKHtkdXJpbmc6ZnVuY3Rpb24odCl7ZS5kaXJ0eVNoYXBlKCksdSYmdSh0KX0sZG9uZTpmdW5jdGlvbigpe3ZhciB0O2ZQKHQ9ZSkmJih0LmJ1aWxkUGF0aD10Ll9fb2xkQnVpbGRQYXRoLHQuX19vbGRCdWlsZFBhdGg9dC5fX21vcnBoaW5nRGF0YT1udWxsKSxlLmNyZWF0ZVBhdGhQcm94eSgpLGUuZGlydHlTaGFwZSgpLHMmJnMoKX0sYWJvcnRlZDpmdW5jdGlvbigpe2wmJmwoKX19LG4pKSxlfWZ1bmN0aW9uIHBQKHQpe2Zvcih2YXIgZT10aGlzLl9fbW9ycGhpbmdEYXRhLG49dGhpcy5fX21vcnBoVCxpPTEtbixyPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGE9ZVtvXSxzPWEuZnJvbSxsPWEudG8sdT1hLnJvdGF0aW9uKm4saD1hLmZyb21DcCxjPWEudG9DcCxwPU1hdGguc2luKHUpLGQ9TWF0aC5jb3ModSk7T3QocixoLGMsbik7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKz0yKXt2YXIgZz1zW2ZdLHk9c1tmKzFdLHY9ZyppK2xbZl0qbixtPXkqaStsW2YrMV0qbjtpUFtmXT12KmQtbSpwK3JbMF0saVBbZisxXT12KnArbSpkK3JbMV19Zm9yKGY9MDtmPHMubGVuZ3RoOykwPT09ZiYmdC5tb3ZlVG8oaVBbZisrXSxpUFtmKytdKSx0LmJlemllckN1cnZlVG8oaVBbZisrXSxpUFtmKytdLGlQW2YrK10saVBbZisrXSxpUFtmKytdLGlQW2YrK10pfX1mdW5jdGlvbiBkUCh0LGUsbil7dC5fX21vcnBoaW5nRGF0YT1lLHQuX19tb3JwaFQ9bn1mdW5jdGlvbiBmUCh0KXtyZXR1cm4gbnVsbCE9dC5fX29sZEJ1aWxkUGF0aH1mdW5jdGlvbiBnUCh0KXtyZXR1cm4hIXQuX19jb21iaW5pbmdTdWJMaXN0fWZ1bmN0aW9uIHlQKHQsZSxuLGkpe2Zvcih2YXIgcj1bXSxvPTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdO2lmKGdQKHMpKXtmb3IodmFyIGw9cy5fX2NvbWJpbmluZ1N1Ykxpc3QsdT0wO3U8bC5sZW5ndGg7dSsrKXIucHVzaChsW3VdKTtvKz1sLmxlbmd0aH1lbHNlIHIucHVzaChzKSxvKyt9aWYobyl7dmFyIGg9bj9uLmRpdmlkaW5nTWV0aG9kOm51bGwsYz13UChlLG8saCk7cnQoYy5sZW5ndGg9PT1vKTt2YXIgcD1uJiZuLmRvbmUsZD1uJiZuLmFib3J0ZWQsZj1uJiZuLmR1cmluZyxnPTAseT0hMSx2PVQoe2R1cmluZzpmdW5jdGlvbih0KXtmJiZmKHQpfSxkb25lOmZ1bmN0aW9uKCl7KytnPT09Yy5sZW5ndGgmJighZnVuY3Rpb24odCl7aWYoIWdQKHQpKXJldHVybjt2YXIgZT10O3ZQKGUsbnVsbCksZS5hZGRTZWxmVG9acj1lLl9fb2xkQWRkU2VsZlRvWnIsZS5yZW1vdmVTZWxmRnJvbVpyPWUuX19vbGRSZW1vdmVTZWxmRnJvbVpyLGUuYnVpbGRQYXRoPWUuX19vbGRCdWlsZFBhdGgsZS5jaGlsZHJlblJlZj1lLl9fY29tYmluaW5nU3ViTGlzdD1lLl9fb2xkQWRkU2VsZlRvWnI9ZS5fX29sZFJlbW92ZVNlbGZGcm9tWnI9ZS5fX29sZEJ1aWxkUGF0aD1udWxsfShlKSxwJiZwKCkpfSxhYm9ydGVkOmZ1bmN0aW9uKCl7eXx8KHk9ITAsZCYmZCgpKX19LG4pO2ZvcihhPTA7YTxvO2ErKyl7dmFyIG09clthXSxfPWNbYV07aSYmaShlLF8sITApLGNQKG0sXyx2KX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihnUCh0KSlyZXR1cm4gdm9pZCB2UCh0LGUpO3ZhciBuPXQ7dlAobixlKSxuLl9fb2xkQWRkU2VsZlRvWnI9dC5hZGRTZWxmVG9acixuLl9fb2xkUmVtb3ZlU2VsZkZyb21acj10LnJlbW92ZVNlbGZGcm9tWnIsbi5hZGRTZWxmVG9acj1tUCxuLnJlbW92ZVNlbGZGcm9tWnI9eFAsbi5fX29sZEJ1aWxkUGF0aD1uLmJ1aWxkUGF0aCxuLmJ1aWxkUGF0aD1mdCxuLmNoaWxkcmVuUmVmPWJQfShlLGMpLHtmcm9tSW5kaXZpZHVhbHM6cix0b0luZGl2aWR1YWxzOmMsY291bnQ6b319fWZ1bmN0aW9uIHZQKHQsZSl7aWYodC5fX2NvbWJpbmluZ1N1Ykxpc3QhPT1lKXtpZihfUCh0LCJyZW1vdmVTZWxmRnJvbVpyIiksdC5fX2NvbWJpbmluZ1N1Ykxpc3Q9ZSxlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWVbbl0ucGFyZW50PXQ7X1AodCwiYWRkU2VsZlRvWnIiKX19ZnVuY3Rpb24gbVAodCl7dGhpcy5fX29sZEFkZFNlbGZUb1pyKHQpLF9QKHRoaXMsImFkZFNlbGZUb1pyIil9ZnVuY3Rpb24gX1AodCxlKXt2YXIgbj10Ll9fY29tYmluaW5nU3ViTGlzdCxpPXQuX196cjtpZihuJiZpKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXtuW3JdW2VdKGkpfX1mdW5jdGlvbiB4UCh0KXt0aGlzLl9fb2xkUmVtb3ZlU2VsZkZyb21acih0KTtmb3IodmFyIGU9dGhpcy5fX2NvbWJpbmluZ1N1Ykxpc3Qsbj0wO248ZS5sZW5ndGg7bisrKXtlW25dLnJlbW92ZVNlbGZGcm9tWnIodCl9fWZ1bmN0aW9uIGJQKCl7cmV0dXJuIHRoaXMuX19jb21iaW5pbmdTdWJMaXN0fWZ1bmN0aW9uIHdQKHQsZSxuKXtyZXR1cm4iZHVwbGljYXRlIj09PW4/U1AodCxlKTpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKGU8PTApcmV0dXJuIG47aWYoMT09PWUpcmV0dXJuIFNQKHQsZSk7aWYodCBpbnN0YW5jZW9mIGxzKWZvcih2YXIgaT0oYz10LnNoYXBlKS5oZWlnaHQ+Yy53aWR0aD8xOjAscj1uUFtpXSxvPWVQW2ldLGE9Y1tyXS9lLHM9Y1tvXSxsPTA7bDxlO2wrKyxzKz1hKXt2YXIgdT17eDpjLngseTpjLnksd2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHR9O3Vbb109cyx1W3JdPWw8ZS0xP2E6Y1tvXStjW3JdLXM7dmFyIGg9bmV3IGxzKHtzaGFwZTp1fSk7bi5wdXNoKGgpfWVsc2V7aWYoISh0IGluc3RhbmNlb2YgSmwpKXJldHVybiBTUCh0LGUpO3ZhciBjLHA9KGM9dC5zaGFwZSkuY2xvY2t3aXNlLGQ9Yy5zdGFydEFuZ2xlLGY9Yy5lbmRBbmdsZSxnPShmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUrdFAqTWF0aFtuPyJjZWlsIjoiZmxvb3IiXSgodC1lKS90UCl9KGQsYy5lbmRBbmdsZSxwKS1kKS9lLHk9ZDtmb3IobD0wO2w8ZTtsKysseSs9Zyl7aD1uZXcgSmwoe3NoYXBlOntjeDpjLmN4LGN5OmMuY3kscjpjLnIscjA6Yy5yMCxjbG9ja3dpc2U6cCxzdGFydEFuZ2xlOnksZW5kQW5nbGU6bD09PWUtMT9mOnkrZ319KTtuLnB1c2goaCl9fXJldHVybiBufSh0LGUpfWZ1bmN0aW9uIFNQKHQsZSl7dmFyIG49W107aWYoZTw9MClyZXR1cm4gbjtmb3IodmFyIGk9dC5jb25zdHJ1Y3RvcixyPTA7cjxlO3IrKyl7dmFyIG89bmV3IGkoe3NoYXBlOncodC5zaGFwZSl9KTtuLnB1c2gobyl9cmV0dXJuIG59dmFyIE1QPWtyKCksSVA9e3g6MSx5OjEsc2NhbGVYOjEsc2NhbGVZOjEsb3JpZ2luWDoxLG9yaWdpblk6MSxyb3RhdGlvbjoxfSxUUD0oRShJUCkuam9pbigiLCAiKSx7Y29sb3I6ImZpbGwiLGJvcmRlckNvbG9yOiJzdHJva2UifSksQ1A9e3N5bWJvbDoxLHN5bWJvbFNpemU6MSxzeW1ib2xLZWVwQXNwZWN0OjEsbGVnZW5kSWNvbjoxLHZpc3VhbE1ldGE6MSxsaWZ0WjoxLGRlY2FsOjF9LERQPSJlbXBoYXNpcyIsQVA9Im5vcm1hbCIsTFA9ImJsdXIiLGtQPSJzZWxlY3QiLFBQPVtBUCxEUCxMUCxrUF0sT1A9e25vcm1hbDpbIml0ZW1TdHlsZSJdLGVtcGhhc2lzOltEUCwiaXRlbVN0eWxlIl0sYmx1cjpbTFAsIml0ZW1TdHlsZSJdLHNlbGVjdDpba1AsIml0ZW1TdHlsZSJdfSxSUD17bm9ybWFsOlsibGFiZWwiXSxlbXBoYXNpczpbRFAsImxhYmVsIl0sYmx1cjpbTFAsImxhYmVsIl0sc2VsZWN0OltrUCwibGFiZWwiXX0sTlA9e25vcm1hbDp7fSxlbXBoYXNpczp7fSxibHVyOnt9LHNlbGVjdDp7fX0selA9e3Bvc2l0aW9uOlsieCIsInkiXSxzY2FsZTpbInNjYWxlWCIsInNjYWxlWSJdLG9yaWdpbjpbIm9yaWdpblgiLCJvcmlnaW5ZIl19LEVQPW5ldyBvaSxWUD17Y2FydGVzaWFuMmQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXN0ZXIuZ2V0UmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZToiY2FydGVzaWFuMmQiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOlYoVWssdCl9fX0sZ2VvOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJnZW8iLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHpvb206dC5nZXRab29tKCl9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6VihYayx0KX19fSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZToic2luZ2xlQXhpcyIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6VihZayx0KX19fSxwb2xhcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhZGl1c0F4aXMoKSxuPXQuZ2V0QW5nbGVBeGlzKCksaT1lLmdldEV4dGVudCgpO3JldHVybiBpWzBdPmlbMV0mJmkucmV2ZXJzZSgpLHtjb29yZFN5czp7dHlwZToicG9sYXIiLGN4OnQuY3gsY3k6dC5jeSxyOmlbMV0scjA6aVswXX0sYXBpOntjb29yZDpmdW5jdGlvbihpKXt2YXIgcj1lLmRhdGFUb1JhZGl1cyhpWzBdKSxvPW4uZGF0YVRvQW5nbGUoaVsxXSksYT10LmNvb3JkVG9Qb2ludChbcixvXSk7cmV0dXJuIGEucHVzaChyLG8qTWF0aC5QSS8xODApLGF9LHNpemU6Vihaayx0KX19fSxjYWxlbmRhcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJlY3QoKSxuPXQuZ2V0UmFuZ2VJbmZvKCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJjYWxlbmRhciIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY2VsbFdpZHRoOnQuZ2V0Q2VsbFdpZHRoKCksY2VsbEhlaWdodDp0LmdldENlbGxIZWlnaHQoKSxyYW5nZUluZm86e3N0YXJ0Om4uc3RhcnQsZW5kOm4uZW5kLHdlZWtzOm4ud2Vla3MsZGF5Q291bnQ6bi5hbGxEYXl9fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSxuKX19fX19LEJQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRaTGV2ZWw9dGhpcy5nZXQoInpsZXZlbCIsITApLHRoaXMuY3VycmVudFo9dGhpcy5nZXQoInoiLCEwKX0sZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRl8odGhpcy5nZXRTb3VyY2UoKSx0aGlzKX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlLG4saSl7dmFyIHI9dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5jYWxsKHRoaXMsZSxuKTtyZXR1cm4gaSYmKHIuaW5mbz1NUChpKS5pbmZvKSxyfSxlLnR5cGU9InNlcmllcy5jdXN0b20iLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIiwiZ2VvIiwic2luZ2xlQXhpcyIsImNhbGVuZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiExfSxlfShmZiksRlA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuX2RhdGEsbz10LmdldERhdGEoKSxhPXRoaXMuZ3JvdXAscz1hTyh0LG8sZSxuKTtyfHxhLnJlbW92ZUFsbCgpO3ZhciBsPXQuX190cmFuc2llbnRUcmFuc2l0aW9uT3B0O2lmKCFsfHxudWxsIT1sLmZyb20mJm51bGwhPWwudG8pe3ZhciB1PW5ldyBiTyh0LGwpLGg9bD8ibXVsdGlwbGUiOiJvbmVUb09uZSI7bmV3IG5fKHI/ci5nZXRJbmRpY2VzKCk6W10sby5nZXRJbmRpY2VzKCksR1AocixoLGwmJmwuZnJvbSksR1AobyxoLGwmJmwudG8pLG51bGwsaCkuYWRkKChmdW5jdGlvbihlKXtsTyhuLG51bGwsZSxzKGUsaSksdCxhLG8sbnVsbCl9KSkucmVtb3ZlKChmdW5jdGlvbihlKXt2TyhyLmdldEl0ZW1HcmFwaGljRWwoZSksdCxhKX0pKS51cGRhdGUoKGZ1bmN0aW9uKGUsbCl7dS5yZXNldCgib25lVG9PbmUiKTt2YXIgaD1yLmdldEl0ZW1HcmFwaGljRWwobCk7dS5maW5kQW5kQWRkRnJvbShoKSx1Lmhhc0Zyb20oKSYmKHhPKGgsYSksaD1udWxsKSxsTyhuLGgsZSxzKGUsaSksdCxhLG8sdSksdS5hcHBseU1vcnBoaW5nKCl9KSkudXBkYXRlTWFueVRvT25lKChmdW5jdGlvbihlLGwpe3UucmVzZXQoIm1hbnlUb09uZSIpO2Zvcih2YXIgaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgYz1yLmdldEl0ZW1HcmFwaGljRWwobFtoXSk7dS5maW5kQW5kQWRkRnJvbShjKSx4TyhjLGEpfWxPKG4sbnVsbCxlLHMoZSxpKSx0LGEsbyx1KSx1LmFwcGx5TW9ycGhpbmcoKX0pKS51cGRhdGVPbmVUb01hbnkoKGZ1bmN0aW9uKGUsbCl7dS5yZXNldCgib25lVG9NYW55Iik7dmFyIGg9ZS5sZW5ndGgsYz1yLmdldEl0ZW1HcmFwaGljRWwobCk7dS5maW5kQW5kQWRkRnJvbShjKSx4TyhjLGEpO2Zvcih2YXIgcD0wO3A8aDtwKyspbE8obixudWxsLGVbcF0scyhlW3BdLGkpLHQsYSxvLHUpO3UuYXBwbHlNb3JwaGluZygpfSkpLmV4ZWN1dGUoKX1lbHNlIHImJnIuZWFjaCgoZnVuY3Rpb24oZSl7dk8oci5nZXRJdGVtR3JhcGhpY0VsKGUpLHQsYSl9KSksby5lYWNoKChmdW5jdGlvbihlKXtsTyhuLG51bGwsZSxzKGUsaSksdCxhLG8sbnVsbCl9KSk7dmFyIGM9dC5nZXQoImNsaXAiLCEwKT9Sdyh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk6bnVsbDtjP2Euc2V0Q2xpcFBhdGgoYyk6YS5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2RhdGE9b30sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPWFPKGUsbyxuLGkpO2Z1bmN0aW9uIHModCl7dC5pc0dyb3VwfHwodC5pbmNyZW1lbnRhbD0hMCx0LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLmhvdmVyTGF5ZXI9ITApfWZvcih2YXIgbD10LnN0YXJ0O2w8dC5lbmQ7bCsrKXt2YXIgdT1sTyhudWxsLG51bGwsbCxhKGwsciksZSx0aGlzLmdyb3VwLG8sbnVsbCk7dSYmdS50cmF2ZXJzZShzKX19LGUucHJvdG90eXBlLmZpbHRlckZvckV4cG9zZWRFdmVudD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmVsZW1lbnQ7aWYobnVsbD09cnx8bi5uYW1lPT09cilyZXR1cm4hMDtmb3IoOyhuPW4uX19ob3N0VGFyZ2V0fHxuLnBhcmVudCkmJm4hPT10aGlzLmdyb3VwOylpZihuLm5hbWU9PT1yKXJldHVybiEwO3JldHVybiExfSxlLnR5cGU9ImN1c3RvbSIsZX0oVGYpO2Z1bmN0aW9uIEdQKHQsZSxuKXtpZih0KXtpZigib25lVG9PbmUiPT09ZSlyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXRJZChuKX07dmFyIGk9dC5nZXREaW1lbnNpb24obikscj10LmdldERpbWVuc2lvbkluZm8oaSk7aWYoIXIpe3ZhciBvPSIiOzAsdnIobyl9dmFyIGE9ci5vcmRpbmFsTWV0YTtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj10LmdldChpLG4pO3JldHVybiBhJiYocj1hLmNhdGVnb3JpZXNbcl0pLG51bGw9PXJ8fEoocik/ZSsiIjoiX2VjXyIrcn19fWZ1bmN0aW9uIEhQKHQpe3ZhciBlLG49dC50eXBlO2lmKCJwYXRoIj09PW4pe3ZhciBpPXQuc2hhcGUscj1udWxsIT1pLndpZHRoJiZudWxsIT1pLmhlaWdodD97eDppLnh8fDAseTppLnl8fDAsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9Om51bGwsbz1tTyhpKTtlPU51KG8sbnVsbCxyLGkubGF5b3V0fHwiY2VudGVyIiksTVAoZSkuY3VzdG9tUGF0aERhdGE9b31lbHNlIGlmKCJpbWFnZSI9PT1uKWU9bmV3IGVzKHt9KSxNUChlKS5jdXN0b21JbWFnZVBhdGg9dC5zdHlsZS5pbWFnZTtlbHNlIGlmKCJ0ZXh0Ij09PW4pZT1uZXcgY3Moe30pO2Vsc2UgaWYoImdyb3VwIj09PW4pZT1uZXcgRWk7ZWxzZXtpZigiY29tcG91bmRQYXRoIj09PW4pdGhyb3cgbmV3IEVycm9yKCciY29tcG91bmRQYXRoIiBpcyBub3Qgc3VwcG9ydGVkIHlldC4nKTt2YXIgYT1SdShuKTtpZighYSl7dmFyIHM9IiI7MCx2cihzKX1lPW5ldyBhfXJldHVybiBNUChlKS5jdXN0b21HcmFwaGljVHlwZT1uLGUubmFtZT10Lm5hbWUsZS56MkVtcGhhc2lzTGlmdD0xLGUuejJTZWxlY3RMaWZ0PTEsZX1mdW5jdGlvbiBXUCh0LGUsbixpLHIsbyxhLHMsbCx1KXt2YXIgaD17fSxjPXt9LHA9ZS5pc0dyb3VwP251bGw6ZTshbiYmWVAoInNoYXBlIixlLG51bGwscixoLGwpLFpQKCJzaGFwZSIscixjKSwhbiYmWVAoImV4dHJhIixlLG51bGwscixoLGwpLFpQKCJleHRyYSIscixjKSwhbiYmalAoZSxudWxsLHIsaCxsKSxmdW5jdGlvbih0LGUpe2lPKHQsZSwicG9zaXRpb24iKSxpTyh0LGUsInNjYWxlIiksaU8odCxlLCJvcmlnaW4iKSxyTyh0LGUsIngiKSxyTyh0LGUsInkiKSxyTyh0LGUsInNjYWxlWCIpLHJPKHQsZSwic2NhbGVZIiksck8odCxlLCJvcmlnaW5YIiksck8odCxlLCJvcmlnaW5ZIiksck8odCxlLCJyb3RhdGlvbiIpfShyLGMpO3ZhciBkPWEmJmEubm9ybWFsLmNmZztpZihkJiZlLnNldFRleHRDb25maWcoZCksInRleHQiPT09ZS50eXBlJiZvKXt2YXIgZj1vO2R0KGYsInRleHRGaWxsIikmJihmLmZpbGw9Zi50ZXh0RmlsbCksZHQoZiwidGV4dFN0cm9rZSIpJiYoZi5zdHJva2U9Zi50ZXh0U3Ryb2tlKX1pZihvKXt2YXIgZz12b2lkIDAseT1fTyhlKT9vLmRlY2FsOm51bGw7dCYmeSYmKHkuZGlydHk9ITAsZz1FeSh5LHQpKSxvLl9fZGVjYWxQYXR0ZXJuPWd9cmV0dXJuIW4mJnFQKGUsbnVsbCxyLG8saCxsKSxwJiZkdChyLCJpbnZpc2libGUiKSYmKHAuaW52aXNpYmxlPXIuaW52aXNpYmxlKSxufHwoVVAoZSxjLG8pLFhQKGUsaSxyLHMsaCxsKSksZHQociwic2lsZW50IikmJihlLnNpbGVudD1yLnNpbGVudCksZHQociwiaWdub3JlIikmJihlLmlnbm9yZT1yLmlnbm9yZSksdXx8ZHQociwiaW5mbyIpJiYoTVAoZSkuaW5mbz1yLmluZm8pLG8/ZS5kaXJ0eSgpOmUubWFya1JlZHJhdygpLG4/YzpudWxsfWZ1bmN0aW9uIFVQKHQsZSxuKXt2YXIgaT10LmlzR3JvdXA/bnVsbDp0O2lmKGkmJm4pe3ZhciByPW4uX19kZWNhbFBhdHRlcm4sbz12b2lkIDA7ciYmKG89bi5kZWNhbCxuLmRlY2FsPXIpLGkudXNlU3R5bGUobiksciYmKG4uZGVjYWw9byk7Zm9yKHZhciBhPWkuYW5pbWF0b3JzLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTsic3R5bGUiPT09bC50YXJnZXROYW1lJiZsLmNoYW5nZVRhcmdldChpLnN0eWxlKX19ZSYmdC5hdHRyKGUpfWZ1bmN0aW9uIFhQKHQsZSxuLGkscixvKXtpZihyKXt2YXIgYT1uLmR1cmluZztNUCh0KS51c2VyRHVyaW5nPWE7dmFyIHM9e2RhdGFJbmRleDplLGlzRnJvbTohMCxkdXJpbmc6YT9WKHRPLHtlbDp0LHVzZXJEdXJpbmc6YX0pOm51bGx9O28/V3UodCxyLGkscyk6SHUodCxyLGkscyl9fWZ1bmN0aW9uIFlQKHQsZSxuLGkscixvKXt2YXIgYT1pW3RdO2lmKGEpe3ZhciBzLGw9ZVt0XSx1PWEuZW50ZXJGcm9tO2lmKG8mJnUpeyFzJiYocz1yW3RdPXt9KTtmb3IodmFyIGg9RSh1KSxjPTA7YzxoLmxlbmd0aDtjKyspe3NbXz1oW2NdXT11W19dfX1pZighbyYmbCYmKG51bGw9PW58fCJzaGFwZSIhPT10KSlpZihhLnRyYW5zaXRpb24peyFzJiYocz1yW3RdPXt9KTt2YXIgcD14cihhLnRyYW5zaXRpb24pO2ZvcihjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPWxbXz1wW2NdXTswLHNbX109ZH19ZWxzZSBpZihEKGkudHJhbnNpdGlvbix0KT49MCl7IXMmJihzPXJbdF09e30pO3ZhciBmPUUobCk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKyl7ZD1sW189ZltjXV07S1AoYVtfXSxkKSYmKHNbX109ZCl9fXZhciBnPWEubGVhdmVUbztpZihnKXt2YXIgeT0kUChlKSx2PXlbdF18fCh5W3RdPXt9KSxtPUUoZyk7Zm9yKGM9MDtjPG0ubGVuZ3RoO2MrKyl7dmFyIF87dltfPW1bY11dPWdbX119fX19ZnVuY3Rpb24gWlAodCxlLG4pe3ZhciBpPWVbdF07aWYoaSlmb3IodmFyIHI9blt0XT17fSxvPUUoaSksYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO3Jbc109Y24oaVtzXSl9fWZ1bmN0aW9uIGpQKHQsZSxuLGkscil7dmFyIG89bi5lbnRlckZyb207aWYociYmbylmb3IodmFyIGE9RShvKSxzPTA7czxhLmxlbmd0aDtzKyspezAsaVtmPWFbc11dPW9bZl19aWYoIXIpaWYoZSl7dmFyIGw9ZnVuY3Rpb24odCxlKXtpZighdHx8dD09PWV8fHQucGFyZW50PT09ZS5wYXJlbnQpcmV0dXJuIHQ7dmFyIG49RVAudHJhbnNmb3JtfHwoRVAudHJhbnNmb3JtPUduKFtdKSksaT10LmdldENvbXB1dGVkVHJhbnNmb3JtKCk7aT9IbihuLGkpOkduKG4pO3ZhciByPWUucGFyZW50O3ImJnIuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTtyZXR1cm4gRVAub3JpZ2luWD10Lm9yaWdpblgsRVAub3JpZ2luWT10Lm9yaWdpblksRVAucGFyZW50PXIsRVAuZGVjb21wb3NlVHJhbnNmb3JtKCksRVB9KGUsdCk7b08oaSwieCIsbCksb08oaSwieSIsbCksb08oaSwic2NhbGVYIixsKSxvTyhpLCJzY2FsZVkiLGwpLG9PKGksIm9yaWdpblgiLGwpLG9PKGksIm9yaWdpblkiLGwpLG9PKGksInJvdGF0aW9uIixsKX1lbHNlIGlmKG4udHJhbnNpdGlvbil7dmFyIHU9eHIobi50cmFuc2l0aW9uKTtmb3Iocz0wO3M8dS5sZW5ndGg7cysrKXtpZigic3R5bGUiIT09KGY9dVtzXSkmJiJzaGFwZSIhPT1mJiYiZXh0cmEiIT09Zil7dmFyIGg9dFtmXTswLGlbZl09aH19fWVsc2Ugb08oaSwieCIsdCksb08oaSwieSIsdCk7dmFyIGM9bi5sZWF2ZVRvO2lmKGMpe3ZhciBwPSRQKHQpLGQ9RShjKTtmb3Iocz0wO3M8ZC5sZW5ndGg7cysrKXt2YXIgZjswLHBbZj1kW3NdXT1jW2ZdfX19ZnVuY3Rpb24gcVAodCxlLG4saSxyLG8pe2lmKGkpe3ZhciBhLHM9KGV8fHQpLnN0eWxlLGw9aS5lbnRlckZyb207aWYobyYmbCl7dmFyIHU9RShsKTshYSYmKGE9ci5zdHlsZT17fSk7Zm9yKHZhciBoPTA7aDx1Lmxlbmd0aDtoKyspe2FbeD11W2hdXT1sW3hdfX1pZighbyYmcylpZihpLnRyYW5zaXRpb24pe3ZhciBjPXhyKGkudHJhbnNpdGlvbik7IWEmJihhPXIuc3R5bGU9e30pO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBwPXNbeD1jW2hdXTthW3hdPXB9fWVsc2UgaWYodC5nZXRBbmltYXRpb25TdHlsZVByb3BzJiZEKG4udHJhbnNpdGlvbiwic3R5bGUiKT49MCl7dmFyIGQ9dC5nZXRBbmltYXRpb25TdHlsZVByb3BzKCksZj1kP2Quc3R5bGU6bnVsbDtpZihmKXshYSYmKGE9ci5zdHlsZT17fSk7dmFyIGc9RShpKTtmb3IoaD0wO2g8Zy5sZW5ndGg7aCsrKXtpZihmW3g9Z1toXV0pe3A9c1t4XTthW3hdPXB9fX19dmFyIHk9aS5sZWF2ZVRvO2lmKHkpe3ZhciB2PUUoeSksbT0kUCh0KSxfPW0uc3R5bGV8fChtLnN0eWxlPXt9KTtmb3IoaD0wO2g8di5sZW5ndGg7aCsrKXt2YXIgeDtfW3g9dltoXV09eVt4XX19fX1mdW5jdGlvbiBLUCh0LGUpe3JldHVybiBrKHQpP3QhPT1lOm51bGwhPXQmJmlzRmluaXRlKHQpfWZ1bmN0aW9uICRQKHQpe3ZhciBlPU1QKHQpO3JldHVybiBlLmxlYXZlVG9Qcm9wc3x8KGUubGVhdmVUb1Byb3BzPXt9KX12YXIgSlA9e30sUVA9e3NldFRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3JldHVybiBKUC5lbFt0XT1lLHRoaXN9LGdldFRyYW5zZm9ybTpmdW5jdGlvbih0KXtyZXR1cm4gSlAuZWxbdF19LHNldFNoYXBlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKEpQLmVsLnNoYXBlfHwoSlAuZWwuc2hhcGU9e30pKVt0XT1lLEpQLmlzU2hhcGVEaXJ0eT0hMCx0aGlzfSxnZXRTaGFwZTpmdW5jdGlvbih0KXt2YXIgZT1KUC5lbC5zaGFwZTtpZihlKXJldHVybiBlW3RdfSxzZXRTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciBuPUpQLmVsLnN0eWxlO3JldHVybiBuJiYoblt0XT1lLEpQLmlzU3R5bGVEaXJ0eT0hMCksdGhpc30sZ2V0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9SlAuZWwuc3R5bGU7aWYoZSlyZXR1cm4gZVt0XX0sc2V0RXh0cmE6ZnVuY3Rpb24odCxlKXtyZXR1cm4oSlAuZWwuZXh0cmF8fChKUC5lbC5leHRyYT17fSkpW3RdPWUsdGhpc30sZ2V0RXh0cmE6ZnVuY3Rpb24odCl7dmFyIGU9SlAuZWwuZXh0cmE7aWYoZSlyZXR1cm4gZVt0XX19O2Z1bmN0aW9uIHRPKCl7dmFyIHQ9dGhpcyxlPXQuZWw7aWYoZSl7dmFyIG49TVAoZSkudXNlckR1cmluZyxpPXQudXNlckR1cmluZztuPT09aT8oSlAuZWw9ZSxKUC5pc1NoYXBlRGlydHk9ITEsSlAuaXNTdHlsZURpcnR5PSExLGkoUVApLEpQLmlzU2hhcGVEaXJ0eSYmZS5kaXJ0eVNoYXBlJiZlLmRpcnR5U2hhcGUoKSxKUC5pc1N0eWxlRGlydHkmJmUuZGlydHlTdHlsZSYmZS5kaXJ0eVN0eWxlKCkpOnQuZWw9dC51c2VyRHVyaW5nPW51bGx9fWZ1bmN0aW9uIGVPKHQsZSxuLGkscixvLGEpe3ZhciBzPWUuaXNHcm91cD9udWxsOmUsbD1yJiZyW3RdLmNmZztpZihzKXt2YXIgdT1zLmVuc3VyZVN0YXRlKHQpO2lmKCExPT09aSl7dmFyIGg9cy5nZXRTdGF0ZSh0KTtoJiYoaC5zdHlsZT1udWxsKX1lbHNlIHUuc3R5bGU9aXx8bnVsbDtsJiYodS50ZXh0Q29uZmlnPWwpLFhzKHMpfX1mdW5jdGlvbiBuTyh0LGUsbil7dmFyIGk9bj09PUFQLHI9aT9lOnBPKGUsbiksbz1yP3IuejI6bnVsbDtudWxsIT1vJiYoKGk/dDp0LmVuc3VyZVN0YXRlKG4pKS56Mj1vfHwwKX1mdW5jdGlvbiBpTyh0LGUsbixpKXt2YXIgcj10W25dLG89elBbbl07ciYmKGk/KGVbb1swXV09aVtvWzBdXSxlW29bMV1dPWlbb1sxXV0pOihlW29bMF1dPXJbMF0sZVtvWzFdXT1yWzFdKSl9ZnVuY3Rpb24gck8odCxlLG4saSl7bnVsbCE9dFtuXSYmKGVbbl09aT9pW25dOnRbbl0pfWZ1bmN0aW9uIG9PKHQsZSxuKXtuJiYodFtlXT1uW2VdKX1mdW5jdGlvbiBhTyh0LGUsbixpKXt2YXIgcj10LmdldCgicmVuZGVySXRlbSIpLG89dC5jb29yZGluYXRlU3lzdGVtLGE9e307byYmKGE9by5wcmVwYXJlQ3VzdG9tcz9vLnByZXBhcmVDdXN0b21zKG8pOlZQW28udHlwZV0obykpO2Zvcih2YXIgcyxsLHU9VCh7Z2V0V2lkdGg6aS5nZXRXaWR0aCxnZXRIZWlnaHQ6aS5nZXRIZWlnaHQsZ2V0WnI6aS5nZXRacixnZXREZXZpY2VQaXhlbFJhdGlvOmkuZ2V0RGV2aWNlUGl4ZWxSYXRpbyx2YWx1ZTpmdW5jdGlvbih0LG4pe3JldHVybiBudWxsPT1uJiYobj1zKSxlLmdldChlLmdldERpbWVuc2lvbih0fHwwKSxuKX0sc3R5bGU6ZnVuY3Rpb24obixpKXswO251bGw9PWkmJihpPXMpO3ZhciByPWUuZ2V0SXRlbVZpc3VhbChpLCJzdHlsZSIpLG89ciYmci5maWxsLGE9ciYmci5vcGFjaXR5LGw9bShpLEFQKS5nZXRJdGVtU3R5bGUoKTtudWxsIT1vJiYobC5maWxsPW8pLG51bGwhPWEmJihsLm9wYWNpdHk9YSk7dmFyIHU9e2luaGVyaXRDb2xvcjpIKG8pP286IiMwMDAifSxoPV8oaSxBUCksYz1waChoLG51bGwsdSwhMSwhMCk7Yy50ZXh0PWguZ2V0U2hhbGxvdygic2hvdyIpP3R0KHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxBUCksY3coZSxpKSk6bnVsbDt2YXIgcD1kaChoLHUsITEpO3JldHVybiBiKG4sbCksbD0kayhsLGMscCksbiYmeChsLG4pLGwubGVnYWN5PSEwLGx9LG9yZGluYWxSYXdWYWx1ZTpmdW5jdGlvbih0LG4pe251bGw9PW4mJihuPXMpO3ZhciBpPWUuZ2V0RGltZW5zaW9uSW5mbyh0fHwwKTtpZighaSlyZXR1cm47dmFyIHI9ZS5nZXQoaS5uYW1lLG4pLG89aSYmaS5vcmRpbmFsTWV0YTtyZXR1cm4gbz9vLmNhdGVnb3JpZXNbcl06cn0sc3R5bGVFbXBoYXNpczpmdW5jdGlvbihuLGkpezA7bnVsbD09aSYmKGk9cyk7dmFyIHI9bShpLERQKS5nZXRJdGVtU3R5bGUoKSxvPV8oaSxEUCksYT1waChvLG51bGwsbnVsbCwhMCwhMCk7YS50ZXh0PW8uZ2V0U2hhbGxvdygic2hvdyIpP2V0KHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxEUCksdC5nZXRGb3JtYXR0ZWRMYWJlbChpLEFQKSxjdyhlLGkpKTpudWxsO3ZhciBsPWRoKG8sbnVsbCwhMCk7cmV0dXJuIGIobixyKSxyPSRrKHIsYSxsKSxuJiZ4KHIsbiksci5sZWdhY3k9ITAscn0sdmlzdWFsOmZ1bmN0aW9uKHQsbil7aWYobnVsbD09biYmKG49cyksZHQoVFAsdCkpe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpO3JldHVybiBpP2lbVFBbdF1dOm51bGx9aWYoZHQoQ1AsdCkpcmV0dXJuIGUuZ2V0SXRlbVZpc3VhbChuLHQpfSxiYXJMYXlvdXQ6ZnVuY3Rpb24odCl7aWYoImNhcnRlc2lhbjJkIj09PW8udHlwZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5heGlzLGk9ImF4aXMwIjtpZigiY2F0ZWdvcnkiPT09bi50eXBlKXtmb3IodmFyIHI9bi5nZXRCYW5kV2lkdGgoKSxvPTA7bzx0LmNvdW50O28rKyllLnB1c2goVCh7YmFuZFdpZHRoOnIsYXhpc0tleTppLHN0YWNrSWQ6dHgrb30sdCkpO3ZhciBhPWF4KGUpLHM9W107Zm9yKG89MDtvPHQuY291bnQ7bysrKXt2YXIgbD1hLmF4aXMwW3R4K29dO2wub2Zmc2V0Q2VudGVyPWwub2Zmc2V0K2wud2lkdGgvMixzLnB1c2gobCl9cmV0dXJuIHN9fShUKHtheGlzOm8uZ2V0QmFzZUF4aXMoKX0sdCkpfX0sY3VycmVudFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcygpfSxmb250OmZ1bmN0aW9uKHQpe3JldHVybiBtaCh0LG4pfX0sYS5hcGl8fHt9KSxoPXtjb250ZXh0Ont9LHNlcmllc0lkOnQuaWQsc2VyaWVzTmFtZTp0Lm5hbWUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxjb29yZFN5czphLmNvb3JkU3lzLGRhdGFJbnNpZGVMZW5ndGg6ZS5jb3VudCgpLGVuY29kZTpzTyh0LmdldERhdGEoKSl9LGM9e30scD17fSxkPXt9LGY9e30sZz0wO2c8UFAubGVuZ3RoO2crKyl7dmFyIHk9UFBbZ107ZFt5XT10LmdldE1vZGVsKE9QW3ldKSxmW3ldPXQuZ2V0TW9kZWwoUlBbeV0pfWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQ9PT1zP2x8fChsPWUuZ2V0SXRlbU1vZGVsKHQpKTplLmdldEl0ZW1Nb2RlbCh0KX1mdW5jdGlvbiBtKHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9jW25dfHwoY1tuXT12KHQpLmdldE1vZGVsKE9QW25dKSk6dih0KS5nZXRNb2RlbChPUFtuXSk6ZFtuXX1mdW5jdGlvbiBfKHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9wW25dfHwocFtuXT12KHQpLmdldE1vZGVsKFJQW25dKSk6dih0KS5nZXRNb2RlbChSUFtuXSk6ZltuXX1yZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gcz10LGw9bnVsbCxjPXt9LHA9e30sciYmcihUKHtkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXRSYXdJbmRleCh0KSxhY3Rpb25UeXBlOm4/bi50eXBlOm51bGx9LGgpLHUpfTtmdW5jdGlvbiB4KHQsZSl7Zm9yKHZhciBuIGluIGUpZHQoZSxuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gYih0LGUpe3QmJih0LnRleHRGaWxsJiYoZS50ZXh0RmlsbD10LnRleHRGaWxsKSx0LnRleHRQb3NpdGlvbiYmKGUudGV4dFBvc2l0aW9uPXQudGV4dFBvc2l0aW9uKSl9fWZ1bmN0aW9uIHNPKHQpe3ZhciBlPXt9O3JldHVybiBQKHQuZGltZW5zaW9ucywoZnVuY3Rpb24obixpKXt2YXIgcj10LmdldERpbWVuc2lvbkluZm8obik7aWYoIXIuaXNFeHRyYUNvb3JkKXt2YXIgbz1yLmNvb3JkRGltOyhlW29dPWVbb118fFtdKVtyLmNvb3JkRGltSW5kZXhdPWl9fSkpLGV9ZnVuY3Rpb24gbE8odCxlLG4saSxyLG8sYSxzKXtpZihpKXJldHVybihlPXVPKHQsZSxuLGkscixvLCEwLHMpKSYmYS5zZXRJdGVtR3JhcGhpY0VsKG4sZSksZSYmc2woZSxpLmZvY3VzLGkuYmx1clNjb3BlKSxlO3hPKGUsbyl9ZnVuY3Rpb24gdU8odCxlLG4saSxyLG8sYSxzKXt2YXIgbD0tMTtlJiZoTyhlLGkpJiYobD1vLmNoaWxkcmVuUmVmKCkuaW5kZXhPZihlKSxlPW51bGwpO3ZhciB1PSFlO2U/ZS5jbGVhclN0YXRlcygpOmU9SFAoaSk7dmFyIGg9KE1QKGUpLmNhbk1vcnBoPWkubW9ycGgmJl9PKGUpKSYmcyYmcy5oYXNGcm9tKCksYz11JiYhaDtOUC5ub3JtYWwuY2ZnPU5QLm5vcm1hbC5jb25PcHQ9TlAuZW1waGFzaXMuY2ZnPU5QLmVtcGhhc2lzLmNvbk9wdD1OUC5ibHVyLmNmZz1OUC5ibHVyLmNvbk9wdD1OUC5zZWxlY3QuY2ZnPU5QLnNlbGVjdC5jb25PcHQ9bnVsbCxOUC5pc0xlZ2FjeT0hMSxmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYodC5pc0dyb3VwKXJldHVybjtjTyhuLG51bGwsbyksY08obixEUCxvKTt2YXIgYT1vLm5vcm1hbC5jb25PcHQscz1vLmVtcGhhc2lzLmNvbk9wdCxsPW8uYmx1ci5jb25PcHQsdT1vLnNlbGVjdC5jb25PcHQ7aWYobnVsbCE9YXx8bnVsbCE9c3x8bnVsbCE9dXx8bnVsbCE9bCl7dmFyIGg9dC5nZXRUZXh0Q29udGVudCgpO2lmKCExPT09YSloJiZ0LnJlbW92ZVRleHRDb250ZW50KCk7ZWxzZXthPW8ubm9ybWFsLmNvbk9wdD1hfHx7dHlwZToidGV4dCJ9LGg/aC5jbGVhclN0YXRlcygpOihoPUhQKGEpLHQuc2V0VGV4dENvbnRlbnQoaCkpO3ZhciBjPWEmJmEuc3R5bGU7V1AobnVsbCxoLG51bGwsZSxhLGMsbnVsbCxpLHIsITApO2Zvcih2YXIgcD0wO3A8UFAubGVuZ3RoO3ArKyl7dmFyIGQ9UFBbcF07aWYoZCE9PUFQKXt2YXIgZj1vW2RdLmNvbk9wdDtlTyhkLGgsMCxkTyhhLGYsZCksbnVsbCl9fWM/aC5kaXJ0eSgpOmgubWFya1JlZHJhdygpfX19KGUsbixpLHIsYyxOUCksZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmNsaXBQYXRoO2lmKCExPT09byl0JiZ0LmdldENsaXBQYXRoKCkmJnQucmVtb3ZlQ2xpcFBhdGgoKTtlbHNlIGlmKG8pe3ZhciBhPXQuZ2V0Q2xpcFBhdGgoKTthJiZoTyhhLG8pJiYoYT1udWxsKSxhfHwoYT1IUChvKSx0LnNldENsaXBQYXRoKGEpKSxXUChudWxsLGEsbnVsbCxlLG8sbnVsbCxudWxsLGksciwhMSl9fShlLG4saSxyLGMpO3ZhciBwPVdQKHQsZSxoLG4saSxpLnN0eWxlLE5QLHIsYywhMSk7aCYmcy5hZGRUbyhlLGksbixwKTtmb3IodmFyIGQ9MDtkPFBQLmxlbmd0aDtkKyspe3ZhciBmPVBQW2RdO2lmKGYhPT1BUCl7dmFyIGc9cE8oaSxmKTtlTyhmLGUsMCxkTyhpLGcsZiksTlApfX1yZXR1cm4gZnVuY3Rpb24odCxlLG4saSl7aWYoIXQuaXNHcm91cCl7dmFyIHI9dCxvPW4uY3VycmVudFosYT1uLmN1cnJlbnRaTGV2ZWw7ci56PW8sci56bGV2ZWw9YTt2YXIgcz1lLnoyO251bGwhPXMmJihyLnoyPXN8fDApO2Zvcih2YXIgbD0wO2w8UFAubGVuZ3RoO2wrKyluTyhyLGUsUFBbbF0pfX0oZSxpLHIpLCJncm91cCI9PT1pLnR5cGUmJmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1pLmNoaWxkcmVuLHM9YT9hLmxlbmd0aDowLGw9aS4kbWVyZ2VDaGlsZHJlbix1PSJieU5hbWUiPT09bHx8aS5kaWZmQ2hpbGRyZW5CeU5hbWUsaD0hMT09PWw7aWYoIXMmJiF1JiYhaClyZXR1cm47aWYodSlyZXR1cm4gYz17YXBpOnQsb2xkQ2hpbGRyZW46ZS5jaGlsZHJlbigpfHxbXSxuZXdDaGlsZHJlbjphfHxbXSxkYXRhSW5kZXg6bixzZXJpZXNNb2RlbDpyLGdyb3VwOmUsbW9ycGhQcmVwYXJhdGlvbjpvfSx2b2lkIG5ldyBuXyhjLm9sZENoaWxkcmVuLGMubmV3Q2hpbGRyZW4sZk8sZk8sYykuYWRkKGdPKS51cGRhdGUoZ08pLnJlbW92ZSh5TykuZXhlY3V0ZSgpO3ZhciBjO2gmJmUucmVtb3ZlQWxsKCk7Zm9yKHZhciBwPTA7cDxzO3ArKylhW3BdJiZ1Tyh0LGUuY2hpbGRBdChwKSxuLGFbcF0scixlLCExLG8pO2Zvcih2YXIgZD1lLmNoaWxkQ291bnQoKS0xO2Q+PXA7ZC0tKXZPKGUuY2hpbGRBdChkKSxyLGUpfSh0LGUsbixpLHIscyksbD49MD9vLnJlcGxhY2VBdChlLGwpOm8uYWRkKGUpLGV9ZnVuY3Rpb24gaE8odCxlKXt2YXIgbixpPU1QKHQpLHI9ZS50eXBlLG89ZS5zaGFwZSxhPWUuc3R5bGU7cmV0dXJuIG51bGwhPXImJnIhPT1pLmN1c3RvbUdyYXBoaWNUeXBlfHwicGF0aCI9PT1yJiYoKG49bykmJihkdChuLCJwYXRoRGF0YSIpfHxkdChuLCJkIikpKSYmbU8obykhPT1pLmN1c3RvbVBhdGhEYXRhfHwiaW1hZ2UiPT09ciYmZHQoYSwiaW1hZ2UiKSYmYS5pbWFnZSE9PWkuY3VzdG9tSW1hZ2VQYXRofWZ1bmN0aW9uIGNPKHQsZSxuKXt2YXIgaT1lP3BPKHQsZSk6dCxyPWU/ZE8odCxpLERQKTp0LnN0eWxlLG89dC50eXBlLGE9aT9pLnRleHRDb25maWc6bnVsbCxzPXQudGV4dENvbnRlbnQsbD1zP2U/cE8ocyxlKTpzOm51bGw7aWYociYmKG4uaXNMZWdhY3l8fGprKHIsbywhIWEsISFsKSkpe24uaXNMZWdhY3k9ITA7dmFyIHU9cWsocixvLCFlKTshYSYmdS50ZXh0Q29uZmlnJiYoYT11LnRleHRDb25maWcpLCFsJiZ1LnRleHRDb250ZW50JiYobD11LnRleHRDb250ZW50KX1pZighZSYmbCl7dmFyIGg9bDshaC50eXBlJiYoaC50eXBlPSJ0ZXh0Iil9dmFyIGM9ZT9uW2VdOm4ubm9ybWFsO2MuY2ZnPWEsYy5jb25PcHQ9bH1mdW5jdGlvbiBwTyh0LGUpe3JldHVybiBlP3Q/dFtlXTpudWxsOnR9ZnVuY3Rpb24gZE8odCxlLG4pe3ZhciBpPWUmJmUuc3R5bGU7cmV0dXJuIG51bGw9PWkmJm49PT1EUCYmdCYmKGk9dC5zdHlsZUVtcGhhc2lzKSxpfWZ1bmN0aW9uIGZPKHQsZSl7dmFyIG49dCYmdC5uYW1lO3JldHVybiBudWxsIT1uP246ImVcMFwwIitlfWZ1bmN0aW9uIGdPKHQsZSl7dmFyIG49dGhpcy5jb250ZXh0LGk9bnVsbCE9dD9uLm5ld0NoaWxkcmVuW3RdOm51bGwscj1udWxsIT1lP24ub2xkQ2hpbGRyZW5bZV06bnVsbDt1TyhuLmFwaSxyLG4uZGF0YUluZGV4LGksbi5zZXJpZXNNb2RlbCxuLmdyb3VwLDAsbi5tb3JwaFByZXBhcmF0aW9uKX1mdW5jdGlvbiB5Tyh0KXt2YXIgZT10aGlzLmNvbnRleHQ7dk8oZS5vbGRDaGlsZHJlblt0XSxlLnNlcmllc01vZGVsLGUuZ3JvdXApfWZ1bmN0aW9uIHZPKHQsZSxuKXtpZih0KXt2YXIgaT1NUCh0KS5sZWF2ZVRvUHJvcHM7aT9IdSh0LGksZSx7Y2I6ZnVuY3Rpb24oKXtuLnJlbW92ZSh0KX19KTpuLnJlbW92ZSh0KX19ZnVuY3Rpb24gbU8odCl7cmV0dXJuIHQmJih0LnBhdGhEYXRhfHx0LmQpfWZ1bmN0aW9uIF9PKHQpe3JldHVybiB0JiZ0IGluc3RhbmNlb2YgS2F9ZnVuY3Rpb24geE8odCxlKXt0JiZlLnJlbW92ZSh0KX12YXIgYk89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZnJvbUxpc3Q9W10sdGhpcy5fdG9MaXN0PVtdLHRoaXMuX3RvRWxPcHRpb25MaXN0PVtdLHRoaXMuX2FsbFByb3BzRmluYWxMaXN0PVtdLHRoaXMuX3RvRGF0YUluZGljZXM9W10sdGhpcy5fbW9ycGhDb25maWdMaXN0PVtdLHRoaXMuX3Nlcmllc01vZGVsPXQsdGhpcy5fdHJhbnNPcHQ9ZX1yZXR1cm4gdC5wcm90b3R5cGUuaGFzRnJvbT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZnJvbUxpc3QubGVuZ3RofSx0LnByb3RvdHlwZS5maW5kQW5kQWRkRnJvbT1mdW5jdGlvbih0KXtpZih0JiYoTVAodCkuY2FuTW9ycGgmJnRoaXMuX2Zyb21MaXN0LnB1c2godCksdC5pc0dyb3VwKSlmb3IodmFyIGU9dC5jaGlsZHJlblJlZigpLG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLmZpbmRBbmRBZGRGcm9tKGVbbl0pfSx0LnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0LGUsbixpKXt0JiYodGhpcy5fdG9MaXN0LnB1c2godCksdGhpcy5fdG9FbE9wdGlvbkxpc3QucHVzaChlKSx0aGlzLl90b0RhdGFJbmRpY2VzLnB1c2gobiksdGhpcy5fYWxsUHJvcHNGaW5hbExpc3QucHVzaChpKSl9LHQucHJvdG90eXBlLmFwcGx5TW9ycGhpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90eXBlLGU9dGhpcy5fZnJvbUxpc3Qsbj10aGlzLl90b0xpc3QubGVuZ3RoLGk9ZS5sZW5ndGg7aWYoaSYmbilpZigib25lVG9PbmUiPT09dClmb3IodmFyIHI9MDtyPG47cisrKXRoaXMuX29uZVRvT25lRm9yU2luZ2xlVG8ocixyKTtlbHNlIGlmKCJtYW55VG9PbmUiPT09dClmb3IodmFyIG89TWF0aC5tYXgoMSxNYXRoLmZsb29yKGkvbikpLGE9KHI9MCwwKTtyPG47cisrLGErPW8pe3ZhciBzPXIrMT49bj9pLWE6bzt0aGlzLl9tYW55VG9PbmVGb3JTaW5nbGVUbyhyLGE+PWk/bnVsbDphLHMpfWVsc2UgaWYoIm9uZVRvTWFueSI9PT10KWZvcih2YXIgbD1NYXRoLm1heCgxLE1hdGguZmxvb3Iobi9pKSksdT0wLGg9MDt1PG47dSs9bCxoKyspe3ZhciBjPXUrbD49bj9uLXU6bDt0aGlzLl9vbmVUb01hbnlGb3JTaW5nbGVGcm9tKHUsYyxoPj1pP251bGw6aCl9fSx0LnByb3RvdHlwZS5fb25lVG9PbmVGb3JTaW5nbGVUbz1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dGhpcy5fdG9MaXN0W3RdLHI9dGhpcy5fdG9FbE9wdGlvbkxpc3RbdF0sbz10aGlzLl90b0RhdGFJbmRpY2VzW3RdLGE9dGhpcy5fYWxsUHJvcHNGaW5hbExpc3RbdF0scz10aGlzLl9mcm9tTGlzdFtlXSxsPXRoaXMuX2dldE9yQ3JlYXRlTW9ycGhDb25maWcobyksdT1sLmR1cmF0aW9uO2lmKHMmJmdQKHMpKXtpZihVUChpLGEsci5zdHlsZSksdSl7dmFyIGg9eVAoW3NdLGksbCx3Tyk7dGhpcy5fcHJvY2Vzc1Jlc3VsdEluZGl2aWR1YWxzKGgsdCxudWxsKX19ZWxzZXt2YXIgYz11JiZzJiYocyE9PWl8fChmUChuPXMpfHxnUChuKSkpP3M6bnVsbCxwPXt9O1lQKCJzaGFwZSIsaSxjLHIscCwhMSksWVAoImV4dHJhIixpLGMscixwLCExKSxqUChpLGMscixwLCExKSxxUChpLGMscixyLnN0eWxlLHAsITEpLFVQKGksYSxyLnN0eWxlKSxjJiZjUChjLGksbCksWFAoaSxvLHIsdGhpcy5fc2VyaWVzTW9kZWwscCwhMSl9fSx0LnByb3RvdHlwZS5fbWFueVRvT25lRm9yU2luZ2xlVG89ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX3RvTGlzdFt0XSxyPXRoaXMuX3RvRWxPcHRpb25MaXN0W3RdO1VQKGksdGhpcy5fYWxsUHJvcHNGaW5hbExpc3RbdF0sci5zdHlsZSk7dmFyIG89dGhpcy5fZ2V0T3JDcmVhdGVNb3JwaENvbmZpZyh0aGlzLl90b0RhdGFJbmRpY2VzW3RdKTtpZihvLmR1cmF0aW9uJiZudWxsIT1lKXtmb3IodmFyIGE9W10scz1lO3M8bjtzKyspYS5wdXNoKHRoaXMuX2Zyb21MaXN0W3NdKTt2YXIgbD15UChhLGksbyx3Tyk7dGhpcy5fcHJvY2Vzc1Jlc3VsdEluZGl2aWR1YWxzKGwsdCxudWxsKX19LHQucHJvdG90eXBlLl9vbmVUb01hbnlGb3JTaW5nbGVGcm9tPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bnVsbD09bj9udWxsOnRoaXMuX2Zyb21MaXN0W25dLHI9dGhpcy5fdG9MaXN0LG89W10sYT10O2E8ZTthKyspe3ZhciBzPXJbYV07VVAocyx0aGlzLl9hbGxQcm9wc0ZpbmFsTGlzdFthXSx0aGlzLl90b0VsT3B0aW9uTGlzdFthXS5zdHlsZSksby5wdXNoKHMpfXZhciBsPXRoaXMuX2dldE9yQ3JlYXRlTW9ycGhDb25maWcodGhpcy5fdG9EYXRhSW5kaWNlc1t0XSk7aWYobC5kdXJhdGlvbiYmaSl7dmFyIHU9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz1lLmxlbmd0aCxhPW4/bi5kaXZpZGluZ01ldGhvZDpudWxsLHM9ITE7aWYoZ1AodCkpe3ZhciBsPXQuX19jb21iaW5pbmdTdWJMaXN0O2wubGVuZ3RoPT09bz9yPWw6KHI9d1AodCxvLGEpLHM9ITApfWVsc2Ugcj13UCh0LG8sYSkscz0hMDtydChyLmxlbmd0aD09PW8pO2Zvcih2YXIgdT0wO3U8bzt1KyspcyYmaSYmaSh0LHJbdV0sITEpLGNQKHJbdV0sZVt1XSxuKTtyZXR1cm57ZnJvbUluZGl2aWR1YWxzOnIsdG9JbmRpdmlkdWFsczplLGNvdW50Om99fShpLG8sbCx3Tyk7dGhpcy5fcHJvY2Vzc1Jlc3VsdEluZGl2aWR1YWxzKHUsdCxlKX19LHQucHJvdG90eXBlLl9wcm9jZXNzUmVzdWx0SW5kaXZpZHVhbHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1udWxsIT1uLHI9MDtyPHQuY291bnQ7cisrKXt2YXIgbz10LmZyb21JbmRpdmlkdWFsc1tyXSxhPXQudG9JbmRpdmlkdWFsc1tyXSxzPWUrKGk/cjowKSxsPXRoaXMuX3RvRWxPcHRpb25MaXN0W3NdLHU9dGhpcy5fdG9EYXRhSW5kaWNlc1tzXSxoPXt9O2pQKGEsbyxsLGgsITEpLHFQKGEsbyxsLGwuc3R5bGUsaCwhMSksWFAoYSx1LGwsdGhpcy5fc2VyaWVzTW9kZWwsaCwhMSl9fSx0LnByb3RvdHlwZS5fZ2V0T3JDcmVhdGVNb3JwaENvbmZpZz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscj10aGlzLl9tb3JwaENvbmZpZ0xpc3Qsbz1yW3RdO2lmKG8pcmV0dXJuIG87dmFyIGE9dGhpcy5fc2VyaWVzTW9kZWwscz10aGlzLl90cmFuc09wdDtpZihhLmlzQW5pbWF0aW9uRW5hYmxlZCgpKXt2YXIgbD12b2lkIDA7aWYoYSYmYS5lY01vZGVsKXt2YXIgdT1hLmVjTW9kZWwuZ2V0VXBkYXRlUGF5bG9hZCgpO2w9dSYmdS5hbmltYXRpb259aWYobCllPWwuZHVyYXRpb258fDAsbj1sLmVhc2luZ3x8ImN1YmljT3V0IixpPWwuZGVsYXl8fDA7ZWxzZXtuPWEuZ2V0KCJhbmltYXRpb25FYXNpbmdVcGRhdGUiKTt2YXIgaD1hLmdldCgiYW5pbWF0aW9uRGVsYXlVcGRhdGUiKTtpPUcoaCk/aCh0KTpoO3ZhciBjPWEuZ2V0KCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIpO2U9RyhjKT9jKHQpOmN9fXJldHVybiBvPXtkdXJhdGlvbjplfHwwLGRlbGF5OmksZWFzaW5nOm4sZGl2aWRpbmdNZXRob2Q6cz9zLmRpdmlkaW5nTWV0aG9kOm51bGx9LHJbdF09byxvfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt0aGlzLl90eXBlPXQsdGhpcy5fZnJvbUxpc3QubGVuZ3RoPXRoaXMuX3RvTGlzdC5sZW5ndGg9dGhpcy5fdG9FbE9wdGlvbkxpc3QubGVuZ3RoPXRoaXMuX2FsbFByb3BzRmluYWxMaXN0Lmxlbmd0aD10aGlzLl90b0RhdGFJbmRpY2VzLmxlbmd0aD0wfSx0fSgpO2Z1bmN0aW9uIHdPKHQsZSxuKXtlLnN0eWxlPW4/dyh0LnN0eWxlKTp0LnN0eWxlLGUuemxldmVsPXQuemxldmVsLGUuej10LnosZS56Mj10LnoyfXZhciBTTz1rcigpLE1PPXcsSU89VixUTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLmFuaW1hdGlvblRocmVzaG9sZD0xNX1yZXR1cm4gdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuZ2V0KCJ2YWx1ZSIpLG89ZS5nZXQoInN0YXR1cyIpO2lmKHRoaXMuX2F4aXNNb2RlbD10LHRoaXMuX2F4aXNQb2ludGVyTW9kZWw9ZSx0aGlzLl9hcGk9bixpfHx0aGlzLl9sYXN0VmFsdWUhPT1yfHx0aGlzLl9sYXN0U3RhdHVzIT09byl7dGhpcy5fbGFzdFZhbHVlPXIsdGhpcy5fbGFzdFN0YXR1cz1vO3ZhciBhPXRoaXMuX2dyb3VwLHM9dGhpcy5faGFuZGxlO2lmKCFvfHwiaGlkZSI9PT1vKXJldHVybiBhJiZhLmhpZGUoKSx2b2lkKHMmJnMuaGlkZSgpKTthJiZhLnNob3coKSxzJiZzLnNob3coKTt2YXIgbD17fTt0aGlzLm1ha2VFbE9wdGlvbihsLHIsdCxlLG4pO3ZhciB1PWwuZ3JhcGhpY0tleTt1IT09dGhpcy5fbGFzdEdyYXBoaWNLZXkmJnRoaXMuY2xlYXIobiksdGhpcy5fbGFzdEdyYXBoaWNLZXk9dTt2YXIgaD10aGlzLl9tb3ZlQW5pbWF0aW9uPXRoaXMuZGV0ZXJtaW5lQW5pbWF0aW9uKHQsZSk7aWYoYSl7dmFyIGM9QihDTyxlLGgpO3RoaXMudXBkYXRlUG9pbnRlckVsKGEsbCxjKSx0aGlzLnVwZGF0ZUxhYmVsRWwoYSxsLGMsZSl9ZWxzZSBhPXRoaXMuX2dyb3VwPW5ldyBFaSx0aGlzLmNyZWF0ZVBvaW50ZXJFbChhLGwsdCxlKSx0aGlzLmNyZWF0ZUxhYmVsRWwoYSxsLHQsZSksbi5nZXRacigpLmFkZChhKTtrTyhhLGUsITApLHRoaXMuX3JlbmRlckhhbmRsZShyKX19LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LHQucHJvdG90eXBlLmRldGVybWluZUFuaW1hdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0KCJhbmltYXRpb24iKSxpPXQuYXhpcyxyPSJjYXRlZ29yeSI9PT1pLnR5cGUsbz1lLmdldCgic25hcCIpO2lmKCFvJiYhcilyZXR1cm4hMTtpZigiYXV0byI9PT1ufHxudWxsPT1uKXt2YXIgYT10aGlzLmFuaW1hdGlvblRocmVzaG9sZDtpZihyJiZpLmdldEJhbmRXaWR0aCgpPmEpcmV0dXJuITA7aWYobyl7dmFyIHM9dU0odCkuc2VyaWVzRGF0YUNvdW50LGw9aS5nZXRFeHRlbnQoKTtyZXR1cm4gTWF0aC5hYnMobFswXS1sWzFdKS9zPmF9cmV0dXJuITF9cmV0dXJuITA9PT1ufSx0LnByb3RvdHlwZS5tYWtlRWxPcHRpb249ZnVuY3Rpb24odCxlLG4saSxyKXt9LHQucHJvdG90eXBlLmNyZWF0ZVBvaW50ZXJFbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLnBvaW50ZXI7aWYocil7dmFyIG89U08odCkucG9pbnRlckVsPW5ldyBhaFtyLnR5cGVdKE1PKGUucG9pbnRlcikpO3QuYWRkKG8pfX0sdC5wcm90b3R5cGUuY3JlYXRlTGFiZWxFbD1mdW5jdGlvbih0LGUsbixpKXtpZihlLmxhYmVsKXt2YXIgcj1TTyh0KS5sYWJlbEVsPW5ldyBjcyhNTyhlLmxhYmVsKSk7dC5hZGQociksQU8ocixpKX19LHQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXJFbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9U08odCkucG9pbnRlckVsO2kmJmUucG9pbnRlciYmKGkuc2V0U3R5bGUoZS5wb2ludGVyLnN0eWxlKSxuKGkse3NoYXBlOmUucG9pbnRlci5zaGFwZX0pKX0sdC5wcm90b3R5cGUudXBkYXRlTGFiZWxFbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1TTyh0KS5sYWJlbEVsO3ImJihyLnNldFN0eWxlKGUubGFiZWwuc3R5bGUpLG4ocix7eDplLmxhYmVsLngseTplLmxhYmVsLnl9KSxBTyhyLGkpKX0sdC5wcm90b3R5cGUuX3JlbmRlckhhbmRsZT1mdW5jdGlvbih0KXtpZighdGhpcy5fZHJhZ2dpbmcmJnRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKXt2YXIgZSxuPXRoaXMuX2F4aXNQb2ludGVyTW9kZWwsaT10aGlzLl9hcGkuZ2V0WnIoKSxyPXRoaXMuX2hhbmRsZSxvPW4uZ2V0TW9kZWwoImhhbmRsZSIpLGE9bi5nZXQoInN0YXR1cyIpO2lmKCFvLmdldCgic2hvdyIpfHwhYXx8ImhpZGUiPT09YSlyZXR1cm4gciYmaS5yZW1vdmUociksdm9pZCh0aGlzLl9oYW5kbGU9bnVsbCk7dGhpcy5faGFuZGxlfHwoZT0hMCxyPXRoaXMuX2hhbmRsZT1laChvLmdldCgiaWNvbiIpLHtjdXJzb3I6Im1vdmUiLGRyYWdnYWJsZTohMCxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtlZSh0LmV2ZW50KX0sb25tb3VzZWRvd246SU8odGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzLDAsMCksZHJpZnQ6SU8odGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzKSxvbmRyYWdlbmQ6SU8odGhpcy5fb25IYW5kbGVEcmFnRW5kLHRoaXMpfSksaS5hZGQocikpLGtPKHIsbiwhMSksci5zZXRTdHlsZShvLmdldEl0ZW1TdHlsZShudWxsLFsiY29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwib3BhY2l0eSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIl0pKTt2YXIgcz1vLmdldCgic2l6ZSIpO0Yocyl8fChzPVtzLHNdKSxyLnNjYWxlWD1zWzBdLzIsci5zY2FsZVk9c1sxXS8yLHpmKHRoaXMsIl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIiLG8uZ2V0KCJ0aHJvdHRsZSIpfHwwLCJmaXhSYXRlIiksdGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCxlKX19LHQucHJvdG90eXBlLl9tb3ZlSGFuZGxlVG9WYWx1ZT1mdW5jdGlvbih0LGUpe0NPKHRoaXMuX2F4aXNQb2ludGVyTW9kZWwsIWUmJnRoaXMuX21vdmVBbmltYXRpb24sdGhpcy5faGFuZGxlLExPKHRoaXMuZ2V0SGFuZGxlVHJhbnNmb3JtKHQsdGhpcy5fYXhpc01vZGVsLHRoaXMuX2F4aXNQb2ludGVyTW9kZWwpKSl9LHQucHJvdG90eXBlLl9vbkhhbmRsZURyYWdNb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faGFuZGxlO2lmKG4pe3RoaXMuX2RyYWdnaW5nPSEwO3ZhciBpPXRoaXMudXBkYXRlSGFuZGxlVHJhbnNmb3JtKExPKG4pLFt0LGVdLHRoaXMuX2F4aXNNb2RlbCx0aGlzLl9heGlzUG9pbnRlck1vZGVsKTt0aGlzLl9wYXlsb2FkSW5mbz1pLG4uc3RvcEFuaW1hdGlvbigpLG4uYXR0cihMTyhpKSksU08obikubGFzdFByb3A9bnVsbCx0aGlzLl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXIoKX19LHQucHJvdG90eXBlLl9kb0Rpc3BhdGNoQXhpc1BvaW50ZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMuX3BheWxvYWRJbmZvLGU9dGhpcy5fYXhpc01vZGVsO3RoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6dC5jdXJzb3JQb2ludFswXSx5OnQuY3Vyc29yUG9pbnRbMV0sdG9vbHRpcE9wdGlvbjp0LnRvb2x0aXBPcHRpb24sYXhlc0luZm86W3theGlzRGltOmUuYXhpcy5kaW0sYXhpc0luZGV4OmUuY29tcG9uZW50SW5kZXh9XX0pfX0sdC5wcm90b3R5cGUuX29uSGFuZGxlRHJhZ0VuZD1mdW5jdGlvbigpe2lmKHRoaXMuX2RyYWdnaW5nPSExLHRoaXMuX2hhbmRsZSl7dmFyIHQ9dGhpcy5fYXhpc1BvaW50ZXJNb2RlbC5nZXQoInZhbHVlIik7dGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUodCksdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWRlVGlwIn0pfX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFZhbHVlPW51bGwsdGhpcy5fbGFzdFN0YXR1cz1udWxsO3ZhciBlPXQuZ2V0WnIoKSxuPXRoaXMuX2dyb3VwLGk9dGhpcy5faGFuZGxlO2UmJm4mJih0aGlzLl9sYXN0R3JhcGhpY0tleT1udWxsLG4mJmUucmVtb3ZlKG4pLGkmJmUucmVtb3ZlKGkpLHRoaXMuX2dyb3VwPW51bGwsdGhpcy5faGFuZGxlPW51bGwsdGhpcy5fcGF5bG9hZEluZm89bnVsbCl9LHQucHJvdG90eXBlLmRvQ2xlYXI9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmJ1aWxkTGFiZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybnt4OnRbbj1ufHwwXSx5OnRbMS1uXSx3aWR0aDplW25dLGhlaWdodDplWzEtbl19fSx0fSgpO2Z1bmN0aW9uIENPKHQsZSxuLGkpe0RPKFNPKG4pLmxhc3RQcm9wLGkpfHwoU08obikubGFzdFByb3A9aSxlP0h1KG4saSx0KToobi5zdG9wQW5pbWF0aW9uKCksbi5hdHRyKGkpKSl9ZnVuY3Rpb24gRE8odCxlKXtpZihYKHQpJiZYKGUpKXt2YXIgbj0hMDtyZXR1cm4gUChlLChmdW5jdGlvbihlLGkpe249biYmRE8odFtpXSxlKX0pKSwhIW59cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIEFPKHQsZSl7dFtlLmdldChbImxhYmVsIiwic2hvdyJdKT8ic2hvdyI6ImhpZGUiXSgpfWZ1bmN0aW9uIExPKHQpe3JldHVybnt4OnQueHx8MCx5OnQueXx8MCxyb3RhdGlvbjp0LnJvdGF0aW9ufHwwfX1mdW5jdGlvbiBrTyh0LGUsbil7dmFyIGk9ZS5nZXQoInoiKSxyPWUuZ2V0KCJ6bGV2ZWwiKTt0JiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiYobnVsbCE9aSYmKHQuej1pKSxudWxsIT1yJiYodC56bGV2ZWw9ciksdC5zaWxlbnQ9bil9KSl9ZnVuY3Rpb24gUE8odCl7dmFyIGUsbj10LmdldCgidHlwZSIpLGk9dC5nZXRNb2RlbChuKyJTdHlsZSIpO3JldHVybiJsaW5lIj09PW4/KGU9aS5nZXRMaW5lU3R5bGUoKSkuZmlsbD1udWxsOiJzaGFkb3ciPT09biYmKChlPWkuZ2V0QXJlYVN0eWxlKCkpLnN0cm9rZT1udWxsKSxlfWZ1bmN0aW9uIE9PKHQsZSxuLGkscil7dmFyIG89Uk8obi5nZXQoInZhbHVlIiksZS5heGlzLGUuZWNNb2RlbCxuLmdldCgic2VyaWVzRGF0YUluZGljZXMiKSx7cHJlY2lzaW9uOm4uZ2V0KFsibGFiZWwiLCJwcmVjaXNpb24iXSksZm9ybWF0dGVyOm4uZ2V0KFsibGFiZWwiLCJmb3JtYXR0ZXIiXSl9KSxhPW4uZ2V0TW9kZWwoImxhYmVsIikscz13YyhhLmdldCgicGFkZGluZyIpfHwwKSxsPWEuZ2V0Rm9udCgpLHU9YmkobyxsKSxoPXIucG9zaXRpb24sYz11LndpZHRoK3NbMV0rc1szXSxwPXUuaGVpZ2h0K3NbMF0rc1syXSxkPXIuYWxpZ247InJpZ2h0Ij09PWQmJihoWzBdLT1jKSwiY2VudGVyIj09PWQmJihoWzBdLT1jLzIpO3ZhciBmPXIudmVydGljYWxBbGlnbjsiYm90dG9tIj09PWYmJihoWzFdLT1wKSwibWlkZGxlIj09PWYmJihoWzFdLT1wLzIpLGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuZ2V0V2lkdGgoKSxvPWkuZ2V0SGVpZ2h0KCk7dFswXT1NYXRoLm1pbih0WzBdK2UsciktZSx0WzFdPU1hdGgubWluKHRbMV0rbixvKS1uLHRbMF09TWF0aC5tYXgodFswXSwwKSx0WzFdPU1hdGgubWF4KHRbMV0sMCl9KGgsYyxwLGkpO3ZhciBnPWEuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKTtnJiYiYXV0byIhPT1nfHwoZz1lLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSkpLHQubGFiZWw9e3g6aFswXSx5OmhbMV0sc3R5bGU6cGgoYSx7dGV4dDpvLGZvbnQ6bCxmaWxsOmEuZ2V0VGV4dENvbG9yKCkscGFkZGluZzpzLGJhY2tncm91bmRDb2xvcjpnfSksejI6MTB9fWZ1bmN0aW9uIFJPKHQsZSxuLGkscil7dD1lLnNjYWxlLnBhcnNlKHQpO3ZhciBvPWUuc2NhbGUuZ2V0TGFiZWwoe3ZhbHVlOnR9LHtwcmVjaXNpb246ci5wcmVjaXNpb259KSxhPXIuZm9ybWF0dGVyO2lmKGEpe3ZhciBzPXt2YWx1ZTpHeChlLHt2YWx1ZTp0fSksYXhpc0RpbWVuc2lvbjplLmRpbSxheGlzSW5kZXg6ZS5pbmRleCxzZXJpZXNEYXRhOltdfTtQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0U2VyaWVzQnlJbmRleCh0LnNlcmllc0luZGV4KSxpPXQuZGF0YUluZGV4SW5zaWRlLHI9ZSYmZS5nZXREYXRhUGFyYW1zKGkpO3ImJnMuc2VyaWVzRGF0YS5wdXNoKHIpfSkpLEgoYSk/bz1hLnJlcGxhY2UoInt2YWx1ZX0iLG8pOkcoYSkmJihvPWEocykpfXJldHVybiBvfWZ1bmN0aW9uIE5PKHQsZSxuKXt2YXIgaT1bMSwwLDAsMSwwLDBdO3JldHVybiBYbihpLGksbi5yb3RhdGlvbiksVW4oaSxpLG4ucG9zaXRpb24pLHF1KFt0LmRhdGFUb0Nvb3JkKGUpLChuLmxhYmVsT2Zmc2V0fHwwKSsobi5sYWJlbERpcmVjdGlvbnx8MSkqKG4ubGFiZWxNYXJnaW58fDApXSxpKX1mdW5jdGlvbiB6Tyh0LGUsbixpLHIsbyl7dmFyIGE9dE0uaW5uZXJUZXh0TGF5b3V0KG4ucm90YXRpb24sMCxuLmxhYmVsRGlyZWN0aW9uKTtuLmxhYmVsTWFyZ2luPXIuZ2V0KFsibGFiZWwiLCJtYXJnaW4iXSksT08oZSxpLHIsbyx7cG9zaXRpb246Tk8oaS5heGlzLHQsbiksYWxpZ246YS50ZXh0QWxpZ24sdmVydGljYWxBbGlnbjphLnRleHRWZXJ0aWNhbEFsaWdufSl9ZnVuY3Rpb24gRU8odCxlLG4pe3JldHVybnt4MTp0W249bnx8MF0seTE6dFsxLW5dLHgyOmVbbl0seTI6ZVsxLW5dfX1mdW5jdGlvbiBWTyh0LGUsbil7cmV0dXJue3g6dFtuPW58fDBdLHk6dFsxLW5dLHdpZHRoOmVbbl0saGVpZ2h0OmVbMS1uXX19ZnVuY3Rpb24gQk8odCxlLG4saSxyLG8pe3JldHVybntjeDp0LGN5OmUscjA6bixyOmksc3RhcnRBbmdsZTpyLGVuZEFuZ2xlOm8sY2xvY2t3aXNlOiEwfX12YXIgRk89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tYWtlRWxPcHRpb249ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT1vLmdyaWQscz1pLmdldCgidHlwZSIpLGw9R08oYSxvKS5nZXRPdGhlckF4aXMobykuZ2V0R2xvYmFsRXh0ZW50KCksdT1vLnRvR2xvYmFsQ29vcmQoby5kYXRhVG9Db29yZChlLCEwKSk7aWYocyYmIm5vbmUiIT09cyl7dmFyIGg9UE8oaSksYz1IT1tzXShvLHUsbCk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9ek8oZSx0LFlTKGEubW9kZWwsbiksbixpLHIpfSxlLnByb3RvdHlwZS5nZXRIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVlTKGUuYXhpcy5ncmlkLm1vZGVsLGUse2xhYmVsSW5zaWRlOiExfSk7aS5sYWJlbE1hcmdpbj1uLmdldChbImhhbmRsZSIsIm1hcmdpbiJdKTt2YXIgcj1OTyhlLmF4aXMsdCxpKTtyZXR1cm57eDpyWzBdLHk6clsxXSxyb3RhdGlvbjppLnJvdGF0aW9uKyhpLmxhYmVsRGlyZWN0aW9uPDA/TWF0aC5QSTowKX19LGUucHJvdG90eXBlLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1yLmdyaWQsYT1yLmdldEdsb2JhbEV4dGVudCghMCkscz1HTyhvLHIpLmdldE90aGVyQXhpcyhyKS5nZXRHbG9iYWxFeHRlbnQoKSxsPSJ4Ij09PXIuZGltPzA6MSx1PVt0LngsdC55XTt1W2xdKz1lW2xdLHVbbF09TWF0aC5taW4oYVsxXSx1W2xdKSx1W2xdPU1hdGgubWF4KGFbMF0sdVtsXSk7dmFyIGg9KHNbMV0rc1swXSkvMixjPVtoLGhdO2NbbF09dVtsXTtyZXR1cm57eDp1WzBdLHk6dVsxXSxyb3RhdGlvbjp0LnJvdGF0aW9uLGN1cnNvclBvaW50OmMsdG9vbHRpcE9wdGlvbjpbe3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthbGlnbjoiY2VudGVyIn1dW2xdfX0sZX0oVE8pO2Z1bmN0aW9uIEdPKHQsZSl7dmFyIG49e307cmV0dXJuIG5bZS5kaW0rIkF4aXNJbmRleCJdPWUuaW5kZXgsdC5nZXRDYXJ0ZXNpYW4obil9dmFyIEhPPXtsaW5lOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57dHlwZToiTGluZSIsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTpFTyhbZSxuWzBdXSxbZSxuWzFdXSxXTyh0KSl9fSxzaGFkb3c6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPU1hdGgubWF4KDEsdC5nZXRCYW5kV2lkdGgoKSkscj1uWzFdLW5bMF07cmV0dXJue3R5cGU6IlJlY3QiLHNoYXBlOlZPKFtlLWkvMixuWzBdXSxbaSxyXSxXTyh0KSl9fX07ZnVuY3Rpb24gV08odCl7cmV0dXJuIngiPT09dC5kaW0/MDoxfXZhciBVTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImF4aXNQb2ludGVyIixlLmRlZmF1bHRPcHRpb249e3Nob3c6ImF1dG8iLHpsZXZlbDowLHo6NTAsdHlwZToibGluZSIsc25hcDohMSx0cmlnZ2VyVG9vbHRpcDohMCx2YWx1ZTpudWxsLHN0YXR1czpudWxsLGxpbms6W10sYW5pbWF0aW9uOm51bGwsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MjAwLGxpbmVTdHlsZTp7Y29sb3I6IiNCOUJFQzkiLHdpZHRoOjEsdHlwZToiZGFzaGVkIn0sc2hhZG93U3R5bGU6e2NvbG9yOiJyZ2JhKDIxMCwyMTksMjM4LDAuMikifSxsYWJlbDp7c2hvdzohMCxmb3JtYXR0ZXI6bnVsbCxwcmVjaXNpb246ImF1dG8iLG1hcmdpbjozLGNvbG9yOiIjZmZmIixwYWRkaW5nOls1LDcsNSw3XSxiYWNrZ3JvdW5kQ29sb3I6ImF1dG8iLGJvcmRlckNvbG9yOm51bGwsYm9yZGVyV2lkdGg6MCxib3JkZXJSYWRpdXM6M30saGFuZGxlOntzaG93OiExLGljb246Ik0xMC43LDExLjl2LTEuM0g5LjN2MS4zYy00LjksMC4zLTguOCw0LjQtOC44LDkuNGMwLDUsMy45LDkuMSw4LjgsOS40aDEuM2M0LjktMC4zLDguOC00LjQsOC44LTkuNEMxOS41LDE2LjMsMTUuNiwxMi4yLDEwLjcsMTEuOXogTTEzLjMsMjQuNEg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDIySDYuN3YtMS4yaDYuNnogTTEzLjMsMTkuNkg2Ljd2LTEuMmg2LjZ6IixzaXplOjQ1LG1hcmdpbjo1MCxjb2xvcjoiIzMzMyIsc2hhZG93Qmx1cjozLHNoYWRvd0NvbG9yOiIjYWFhIixzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WToyLHRocm90dGxlOjQwfX0sZX0oWGMpLFhPPWtyKCksWU89UDtmdW5jdGlvbiBaTyh0LGUsbil7aWYoIWEubm9kZSl7dmFyIGk9ZS5nZXRacigpO1hPKGkpLnJlY29yZHN8fChYTyhpKS5yZWNvcmRzPXt9KSxmdW5jdGlvbih0LGUpe2lmKFhPKHQpLmluaXRpYWxpemVkKXJldHVybjtmdW5jdGlvbiBuKG4saSl7dC5vbihuLChmdW5jdGlvbihuKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT17c2hvd1RpcDpbXSxoaWRlVGlwOltdfSxuPWZ1bmN0aW9uKGkpe3ZhciByPWVbaS50eXBlXTtyP3IucHVzaChpKTooaS5kaXNwYXRjaEFjdGlvbj1uLHQuZGlzcGF0Y2hBY3Rpb24oaSkpfTtyZXR1cm57ZGlzcGF0Y2hBY3Rpb246bixwZW5kaW5nczplfX0oZSk7WU8oWE8odCkucmVjb3JkcywoZnVuY3Rpb24odCl7dCYmaSh0LG4sci5kaXNwYXRjaEFjdGlvbil9KSksZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuc2hvd1RpcC5sZW5ndGgscj10LmhpZGVUaXAubGVuZ3RoO2k/bj10LnNob3dUaXBbaS0xXTpyJiYobj10LmhpZGVUaXBbci0xXSk7biYmKG4uZGlzcGF0Y2hBY3Rpb249bnVsbCxlLmRpc3BhdGNoQWN0aW9uKG4pKX0oci5wZW5kaW5ncyxlKX0pKX1YTyh0KS5pbml0aWFsaXplZD0hMCxuKCJjbGljayIsQihxTywiY2xpY2siKSksbigibW91c2Vtb3ZlIixCKHFPLCJtb3VzZW1vdmUiKSksbigiZ2xvYmFsb3V0IixqTyl9KGksZSksKFhPKGkpLnJlY29yZHNbdF18fChYTyhpKS5yZWNvcmRzW3RdPXt9KSkuaGFuZGxlcj1ufX1mdW5jdGlvbiBqTyh0LGUsbil7dC5oYW5kbGVyKCJsZWF2ZSIsbnVsbCxuKX1mdW5jdGlvbiBxTyh0LGUsbixpKXtlLmhhbmRsZXIodCxuLGkpfWZ1bmN0aW9uIEtPKHQsZSl7aWYoIWEubm9kZSl7dmFyIG49ZS5nZXRacigpOyhYTyhuKS5yZWNvcmRzfHx7fSlbdF0mJihYTyhuKS5yZWNvcmRzW3RdPW51bGwpfX12YXIgJE89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldENvbXBvbmVudCgidG9vbHRpcCIpLHI9dC5nZXQoInRyaWdnZXJPbiIpfHxpJiZpLmdldCgidHJpZ2dlck9uIil8fCJtb3VzZW1vdmV8Y2xpY2siO1pPKCJheGlzUG9pbnRlciIsbiwoZnVuY3Rpb24odCxlLG4peyJub25lIiE9PXImJigibGVhdmUiPT09dHx8ci5pbmRleE9mKHQpPj0wKSYmbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLGN1cnJUcmlnZ2VyOnQseDplJiZlLm9mZnNldFgseTplJiZlLm9mZnNldFl9KX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7S08oImF4aXNQb2ludGVyIixlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe0tPKCJheGlzUG9pbnRlciIsZSl9LGUudHlwZT0iYXhpc1BvaW50ZXIiLGV9KHdmKTtmdW5jdGlvbiBKTyh0LGUpe3ZhciBuLGk9W10scj10LnNlcmllc0luZGV4O2lmKG51bGw9PXJ8fCEobj1lLmdldFNlcmllc0J5SW5kZXgocikpKXJldHVybntwb2ludDpbXX07dmFyIG89bi5nZXREYXRhKCksYT1McihvLHQpO2lmKG51bGw9PWF8fGE8MHx8RihhKSlyZXR1cm57cG9pbnQ6W119O3ZhciBzPW8uZ2V0SXRlbUdyYXBoaWNFbChhKSxsPW4uY29vcmRpbmF0ZVN5c3RlbTtpZihuLmdldFRvb2x0aXBQb3NpdGlvbilpPW4uZ2V0VG9vbHRpcFBvc2l0aW9uKGEpfHxbXTtlbHNlIGlmKGwmJmwuZGF0YVRvUG9pbnQpaWYodC5pc1N0YWNrZWQpe3ZhciB1PWwuZ2V0QmFzZUF4aXMoKSxoPWwuZ2V0T3RoZXJBeGlzKHUpLmRpbSxjPXUuZGltLHA9IngiPT09aHx8InJhZGl1cyI9PT1oPzE6MCxkPW8ubWFwRGltZW5zaW9uKGMpLGY9W107ZltwXT1vLmdldChkLGEpLGZbMS1wXT1vLmdldChvLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKSxhKSxpPWwuZGF0YVRvUG9pbnQoZil8fFtdfWVsc2UgaT1sLmRhdGFUb1BvaW50KG8uZ2V0VmFsdWVzKE8obC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gby5tYXBEaW1lbnNpb24odCl9KSksYSkpfHxbXTtlbHNlIGlmKHMpe3ZhciBnPXMuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtnLmFwcGx5VHJhbnNmb3JtKHMudHJhbnNmb3JtKSxpPVtnLngrZy53aWR0aC8yLGcueStnLmhlaWdodC8yXX1yZXR1cm57cG9pbnQ6aSxlbDpzfX12YXIgUU89a3IoKTtmdW5jdGlvbiB0Uih0LGUsbil7dmFyIGk9dC5jdXJyVHJpZ2dlcixyPVt0LngsdC55XSxvPXQsYT10LmRpc3BhdGNoQWN0aW9ufHxWKG4uZGlzcGF0Y2hBY3Rpb24sbikscz1lLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvO2lmKHMpe29SKHIpJiYocj1KTyh7c2VyaWVzSW5kZXg6by5zZXJpZXNJbmRleCxkYXRhSW5kZXg6by5kYXRhSW5kZXh9LGUpLnBvaW50KTt2YXIgbD1vUihyKSx1PW8uYXhlc0luZm8saD1zLmF4ZXNJbmZvLGM9ImxlYXZlIj09PWl8fG9SKHIpLHA9e30sZD17fSxmPXtsaXN0OltdLG1hcDp7fX0sZz17c2hvd1BvaW50ZXI6QihuUixkKSxzaG93VG9vbHRpcDpCKGlSLGYpfTtQKHMuY29vcmRTeXNNYXAsKGZ1bmN0aW9uKHQsZSl7dmFyIG49bHx8dC5jb250YWluUG9pbnQocik7UChzLmNvb3JkU3lzQXhlc0luZm9bZV0sKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5heGlzLG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPCh0fHxbXSkubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihlLmF4aXMuZGltPT09aS5heGlzRGltJiZlLmF4aXMubW9kZWwuY29tcG9uZW50SW5kZXg9PT1pLmF4aXNJbmRleClyZXR1cm4gaX19KHUsdCk7aWYoIWMmJm4mJighdXx8bykpe3ZhciBhPW8mJm8udmFsdWU7bnVsbCE9YXx8bHx8KGE9aS5wb2ludFRvRGF0YShyKSksbnVsbCE9YSYmZVIodCxhLGcsITEscCl9fSkpfSkpO3ZhciB5PXt9O3JldHVybiBQKGgsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5saW5rR3JvdXA7biYmIWRbZV0mJlAobi5heGVzSW5mbywoZnVuY3Rpb24oZSxpKXt2YXIgcj1kW2ldO2lmKGUhPT10JiZyKXt2YXIgbz1yLnZhbHVlO24ubWFwcGVyJiYobz10LmF4aXMuc2NhbGUucGFyc2Uobi5tYXBwZXIobyxyUihlKSxyUih0KSkpKSx5W3Qua2V5XT1vfX0pKX0pKSxQKHksKGZ1bmN0aW9uKHQsZSl7ZVIoaFtlXSx0LGcsITAscCl9KSksZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uYXhlc0luZm89W107UChlLChmdW5jdGlvbihlLG4pe3ZhciByPWUuYXhpc1BvaW50ZXJNb2RlbC5vcHRpb24sbz10W25dO28/KCFlLnVzZUhhbmRsZSYmKHIuc3RhdHVzPSJzaG93Iiksci52YWx1ZT1vLnZhbHVlLHIuc2VyaWVzRGF0YUluZGljZXM9KG8ucGF5bG9hZEJhdGNofHxbXSkuc2xpY2UoKSk6IWUudXNlSGFuZGxlJiYoci5zdGF0dXM9ImhpZGUiKSwic2hvdyI9PT1yLnN0YXR1cyYmaS5wdXNoKHtheGlzRGltOmUuYXhpcy5kaW0sYXhpc0luZGV4OmUuYXhpcy5tb2RlbC5jb21wb25lbnRJbmRleCx2YWx1ZTpyLnZhbHVlfSl9KSl9KGQsaCxwKSxmdW5jdGlvbih0LGUsbixpKXtpZihvUihlKXx8IXQubGlzdC5sZW5ndGgpcmV0dXJuIHZvaWQgaSh7dHlwZToiaGlkZVRpcCJ9KTt2YXIgcj0oKHQubGlzdFswXS5kYXRhQnlBeGlzWzBdfHx7fSkuc2VyaWVzRGF0YUluZGljZXN8fFtdKVswXXx8e307aSh7dHlwZToic2hvd1RpcCIsZXNjYXBlQ29ubmVjdDohMCx4OmVbMF0seTplWzFdLHRvb2x0aXBPcHRpb246bi50b29sdGlwT3B0aW9uLHBvc2l0aW9uOm4ucG9zaXRpb24sZGF0YUluZGV4SW5zaWRlOnIuZGF0YUluZGV4SW5zaWRlLGRhdGFJbmRleDpyLmRhdGFJbmRleCxzZXJpZXNJbmRleDpyLnNlcmllc0luZGV4LGRhdGFCeUNvb3JkU3lzOnQubGlzdH0pfShmLHIsdCxhKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bi5nZXRacigpLHI9ImF4aXNQb2ludGVyTGFzdEhpZ2hsaWdodHMiLG89UU8oaSlbcl18fHt9LGE9UU8oaSlbcl09e307UCh0LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXhpc1BvaW50ZXJNb2RlbC5vcHRpb247InNob3ciPT09bi5zdGF0dXMmJlAobi5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJpZXNJbmRleCsiIHwgIit0LmRhdGFJbmRleDthW2VdPXR9KSl9KSk7dmFyIHM9W10sbD1bXTtQKG8sKGZ1bmN0aW9uKHQsZSl7IWFbZV0mJmwucHVzaCh0KX0pKSxQKGEsKGZ1bmN0aW9uKHQsZSl7IW9bZV0mJnMucHVzaCh0KX0pKSxsLmxlbmd0aCYmbi5kaXNwYXRjaEFjdGlvbih7dHlwZToiZG93bnBsYXkiLGVzY2FwZUNvbm5lY3Q6ITAsbm90Qmx1cjohMCxiYXRjaDpsfSkscy5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImhpZ2hsaWdodCIsZXNjYXBlQ29ubmVjdDohMCxub3RCbHVyOiEwLGJhdGNoOnN9KX0oaCwwLG4pLHB9fWZ1bmN0aW9uIGVSKHQsZSxuLGkscil7dmFyIG89dC5heGlzO2lmKCFvLnNjYWxlLmlzQmxhbmsoKSYmby5jb250YWluRGF0YShlKSlpZih0Lmludm9sdmVTZXJpZXMpe3ZhciBhPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5heGlzLGk9bi5kaW0scj10LG89W10sYT1OdW1iZXIuTUFYX1ZBTFVFLHM9LTE7cmV0dXJuIFAoZS5zZXJpZXNNb2RlbHMsKGZ1bmN0aW9uKGUsbCl7dmFyIHUsaCxjPWUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbnNBbGwoaSk7aWYoZS5nZXRBeGlzVG9vbHRpcERhdGEpe3ZhciBwPWUuZ2V0QXhpc1Rvb2x0aXBEYXRhKGMsdCxuKTtoPXAuZGF0YUluZGljZXMsdT1wLm5lc3Rlc3RWYWx1ZX1lbHNle2lmKCEoaD1lLmdldERhdGEoKS5pbmRpY2VzT2ZOZWFyZXN0KGNbMF0sdCwiY2F0ZWdvcnkiPT09bi50eXBlPy41Om51bGwpKS5sZW5ndGgpcmV0dXJuO3U9ZS5nZXREYXRhKCkuZ2V0KGNbMF0saFswXSl9aWYobnVsbCE9dSYmaXNGaW5pdGUodSkpe3ZhciBkPXQtdSxmPU1hdGguYWJzKGQpO2Y8PWEmJigoZjxhfHxkPj0wJiZzPDApJiYoYT1mLHM9ZCxyPXUsby5sZW5ndGg9MCksUChoLChmdW5jdGlvbih0KXtvLnB1c2goe3Nlcmllc0luZGV4OmUuc2VyaWVzSW5kZXgsZGF0YUluZGV4SW5zaWRlOnQsZGF0YUluZGV4OmUuZ2V0RGF0YSgpLmdldFJhd0luZGV4KHQpfSl9KSkpfX0pKSx7cGF5bG9hZEJhdGNoOm8sc25hcFRvVmFsdWU6cn19KGUsdCkscz1hLnBheWxvYWRCYXRjaCxsPWEuc25hcFRvVmFsdWU7c1swXSYmbnVsbD09ci5zZXJpZXNJbmRleCYmSShyLHNbMF0pLCFpJiZ0LnNuYXAmJm8uY29udGFpbkRhdGEobCkmJm51bGwhPWwmJihlPWwpLG4uc2hvd1BvaW50ZXIodCxlLHMpLG4uc2hvd1Rvb2x0aXAodCxhLGwpfWVsc2Ugbi5zaG93UG9pbnRlcih0LGUpfWZ1bmN0aW9uIG5SKHQsZSxuLGkpe3RbZS5rZXldPXt2YWx1ZTpuLHBheWxvYWRCYXRjaDppfX1mdW5jdGlvbiBpUih0LGUsbixpKXt2YXIgcj1uLnBheWxvYWRCYXRjaCxvPWUuYXhpcyxhPW8ubW9kZWwscz1lLmF4aXNQb2ludGVyTW9kZWw7aWYoZS50cmlnZ2VyVG9vbHRpcCYmci5sZW5ndGgpe3ZhciBsPWUuY29vcmRTeXMubW9kZWwsdT1jTShsKSxoPXQubWFwW3VdO2h8fChoPXQubWFwW3VdPXtjb29yZFN5c0lkOmwuaWQsY29vcmRTeXNJbmRleDpsLmNvbXBvbmVudEluZGV4LGNvb3JkU3lzVHlwZTpsLnR5cGUsY29vcmRTeXNNYWluVHlwZTpsLm1haW5UeXBlLGRhdGFCeUF4aXM6W119LHQubGlzdC5wdXNoKGgpKSxoLmRhdGFCeUF4aXMucHVzaCh7YXhpc0RpbTpvLmRpbSxheGlzSW5kZXg6YS5jb21wb25lbnRJbmRleCxheGlzVHlwZTphLnR5cGUsYXhpc0lkOmEuaWQsdmFsdWU6aSx2YWx1ZUxhYmVsT3B0OntwcmVjaXNpb246cy5nZXQoWyJsYWJlbCIsInByZWNpc2lvbiJdKSxmb3JtYXR0ZXI6cy5nZXQoWyJsYWJlbCIsImZvcm1hdHRlciJdKX0sc2VyaWVzRGF0YUluZGljZXM6ci5zbGljZSgpfSl9fWZ1bmN0aW9uIHJSKHQpe3ZhciBlPXQuYXhpcy5tb2RlbCxuPXt9LGk9bi5heGlzRGltPXQuYXhpcy5kaW07cmV0dXJuIG4uYXhpc0luZGV4PW5baSsiQXhpc0luZGV4Il09ZS5jb21wb25lbnRJbmRleCxuLmF4aXNOYW1lPW5baSsiQXhpc05hbWUiXT1lLm5hbWUsbi5heGlzSWQ9bltpKyJBeGlzSWQiXT1lLmlkLG59ZnVuY3Rpb24gb1IodCl7cmV0dXJuIXR8fG51bGw9PXRbMF18fGlzTmFOKHRbMF0pfHxudWxsPT10WzFdfHxpc05hTih0WzFdKX1mdW5jdGlvbiBhUih0KXtkTS5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoIkNhcnRlc2lhbkF4aXNQb2ludGVyIixGTyksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFVPKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldygkTyksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7aWYodCl7KCF0LmF4aXNQb2ludGVyfHwwPT09dC5heGlzUG9pbnRlci5sZW5ndGgpJiYodC5heGlzUG9pbnRlcj17fSk7dmFyIGU9dC5heGlzUG9pbnRlci5saW5rO2UmJiFGKGUpJiYodC5heGlzUG9pbnRlci5saW5rPVtlXSl9fSkpLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU1RBVElTVElDLChmdW5jdGlvbih0LGUpe3QuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm89YU0odCxlKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIsZXZlbnQ6InVwZGF0ZUF4aXNQb2ludGVyIix1cGRhdGU6Ijp1cGRhdGVBeGlzUG9pbnRlciJ9LHRSKX12YXIgc1I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tYWtlRWxPcHRpb249ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXM7ImFuZ2xlIj09PW8uZGltJiYodGhpcy5hbmltYXRpb25UaHJlc2hvbGQ9TWF0aC5QSS8xOCk7dmFyIGE9by5wb2xhcixzPWEuZ2V0T3RoZXJBeGlzKG8pLmdldEV4dGVudCgpLGw9by5kYXRhVG9Db29yZChlKSx1PWkuZ2V0KCJ0eXBlIik7aWYodSYmIm5vbmUiIT09dSl7dmFyIGg9UE8oaSksYz1sUlt1XShvLGEsbCxzKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y312YXIgcD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWUuYXhpcyxhPW8uZGF0YVRvQ29vcmQodCkscz1pLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpWzBdO3M9cy8xODAqTWF0aC5QSTt2YXIgbCx1LGgsYz1pLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKTtpZigicmFkaXVzIj09PW8uZGltKXt2YXIgcD1bMSwwLDAsMSwwLDBdO1huKHAscCxzKSxVbihwLHAsW2kuY3gsaS5jeV0pLGw9cXUoW2EsLXJdLHApO3ZhciBkPWUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIil8fDAsZj10TS5pbm5lclRleHRMYXlvdXQocyxkKk1hdGguUEkvMTgwLC0xKTt1PWYudGV4dEFsaWduLGg9Zi50ZXh0VmVydGljYWxBbGlnbn1lbHNle3ZhciBnPWNbMV07bD1pLmNvb3JkVG9Qb2ludChbZytyLGFdKTt2YXIgeT1pLmN4LHY9aS5jeTt1PU1hdGguYWJzKGxbMF0teSkvZzwuMz8iY2VudGVyIjpsWzBdPnk/ImxlZnQiOiJyaWdodCIsaD1NYXRoLmFicyhsWzFdLXYpL2c8LjM/Im1pZGRsZSI6bFsxXT52PyJ0b3AiOiJib3R0b20ifXJldHVybntwb3NpdGlvbjpsLGFsaWduOnUsdmVydGljYWxBbGlnbjpofX0oZSxuLDAsYSxpLmdldChbImxhYmVsIiwibWFyZ2luIl0pKTtPTyh0LG4saSxyLHApfSxlfShUTyk7dmFyIGxSPXtsaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiJhbmdsZSI9PT10LmRpbT97dHlwZToiTGluZSIsc2hhcGU6RU8oZS5jb29yZFRvUG9pbnQoW2lbMF0sbl0pLGUuY29vcmRUb1BvaW50KFtpWzFdLG5dKSl9Ont0eXBlOiJDaXJjbGUiLHNoYXBlOntjeDplLmN4LGN5OmUuY3kscjpufX19LHNoYWRvdzpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLG89TWF0aC5QSS8xODA7cmV0dXJuImFuZ2xlIj09PXQuZGltP3t0eXBlOiJTZWN0b3IiLHNoYXBlOkJPKGUuY3gsZS5jeSxpWzBdLGlbMV0sKC1uLXIvMikqbywoci8yLW4pKm8pfTp7dHlwZToiU2VjdG9yIixzaGFwZTpCTyhlLmN4LGUuY3ksbi1yLzIsbityLzIsMCwyKk1hdGguUEkpfX19LHVSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmZpbmRBeGlzTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuZWNNb2RlbC5lYWNoQ29tcG9uZW50KHQsKGZ1bmN0aW9uKHQpe3QuZ2V0Q29vcmRTeXNNb2RlbCgpPT09dGhpcyYmKGU9dCl9KSx0aGlzKSxlfSxlLnR5cGU9InBvbGFyIixlLmRlcGVuZGVuY2llcz1bInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6IjgwJSJ9LGV9KFhjKSxoUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJwb2xhciIsTnIpLm1vZGVsc1swXX0sZS50eXBlPSJwb2xhckF4aXMiLGV9KFhjKTtMKGhSLFl4KTt2YXIgY1I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJhbmdsZUF4aXMiLGV9KGhSKSxwUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InJhZGl1c0F4aXMiLGV9KGhSKSxkUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLCJyYWRpdXMiLGUsbil8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBvbGFyLnBvaW50VG9EYXRhKHQsZSlbInJhZGl1cyI9PT10aGlzLmRpbT8wOjFdfSxlfShoYik7ZFIucHJvdG90eXBlLmRhdGFUb1JhZGl1cz1oYi5wcm90b3R5cGUuZGF0YVRvQ29vcmQsZFIucHJvdG90eXBlLnJhZGl1c1RvRGF0YT1oYi5wcm90b3R5cGUuY29vcmRUb0RhdGE7dmFyIGZSPWtyKCksZ1I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcywiYW5nbGUiLGUsbnx8WzAsMzYwXSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBvbGFyLnBvaW50VG9EYXRhKHQsZSlbInJhZGl1cyI9PT10aGlzLmRpbT8wOjFdfSxlLnByb3RvdHlwZS5jYWxjdWxhdGVDYXRlZ29yeUludGVydmFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuZ2V0TGFiZWxNb2RlbCgpLG49dC5zY2FsZSxpPW4uZ2V0RXh0ZW50KCkscj1uLmNvdW50KCk7aWYoaVsxXS1pWzBdPDEpcmV0dXJuIDA7dmFyIG89aVswXSxhPXQuZGF0YVRvQ29vcmQobysxKS10LmRhdGFUb0Nvb3JkKG8pLHM9TWF0aC5hYnMoYSksbD1iaShudWxsPT1vPyIiOm8rIiIsZS5nZXRGb250KCksImNlbnRlciIsInRvcCIpLHU9TWF0aC5tYXgobC5oZWlnaHQsNykvcztpc05hTih1KSYmKHU9MS8wKTt2YXIgaD1NYXRoLm1heCgwLE1hdGguZmxvb3IodSkpLGM9ZlIodC5tb2RlbCkscD1jLmxhc3RBdXRvSW50ZXJ2YWwsZD1jLmxhc3RUaWNrQ291bnQ7cmV0dXJuIG51bGwhPXAmJm51bGwhPWQmJk1hdGguYWJzKHAtaCk8PTEmJk1hdGguYWJzKGQtcik8PTEmJnA+aD9oPXA6KGMubGFzdFRpY2tDb3VudD1yLGMubGFzdEF1dG9JbnRlcnZhbD1oKSxofSxlfShoYik7Z1IucHJvdG90eXBlLmRhdGFUb0FuZ2xlPWhiLnByb3RvdHlwZS5kYXRhVG9Db29yZCxnUi5wcm90b3R5cGUuYW5nbGVUb0RhdGE9aGIucHJvdG90eXBlLmNvb3JkVG9EYXRhO3ZhciB5Uj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kaW1lbnNpb25zPVsicmFkaXVzIiwiYW5nbGUiXSx0aGlzLnR5cGU9InBvbGFyIix0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMuX3JhZGl1c0F4aXM9bmV3IGRSLHRoaXMuX2FuZ2xlQXhpcz1uZXcgZ1IsdGhpcy5heGlzUG9pbnRlckVuYWJsZWQ9ITAsdGhpcy5uYW1lPXR8fCIiLHRoaXMuX3JhZGl1c0F4aXMucG9sYXI9dGhpcy5fYW5nbGVBeGlzLnBvbGFyPXRoaXN9cmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvaW50VG9Db29yZCh0KTtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpcy5jb250YWluKGVbMF0pJiZ0aGlzLl9hbmdsZUF4aXMuY29udGFpbihlWzFdKX0sdC5wcm90b3R5cGUuY29udGFpbkRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXMuY29udGFpbkRhdGEodFswXSkmJnRoaXMuX2FuZ2xlQXhpcy5jb250YWluRGF0YSh0WzFdKX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1siXyIrdCsiQXhpcyJdfSx0LnByb3RvdHlwZS5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX3JhZGl1c0F4aXMsdGhpcy5fYW5nbGVBeGlzXX0sdC5wcm90b3R5cGUuZ2V0QXhlc0J5U2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10aGlzLl9hbmdsZUF4aXMsaT10aGlzLl9yYWRpdXNBeGlzO3JldHVybiBuLnNjYWxlLnR5cGU9PT10JiZlLnB1c2gobiksaS5zY2FsZS50eXBlPT09dCYmZS5wdXNoKGkpLGV9LHQucHJvdG90eXBlLmdldEFuZ2xlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmdsZUF4aXN9LHQucHJvdG90eXBlLmdldFJhZGl1c0F4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpc30sdC5wcm90b3R5cGUuZ2V0T3RoZXJBeGlzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FuZ2xlQXhpcztyZXR1cm4gdD09PWU/dGhpcy5fcmFkaXVzQXhpczplfSx0LnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoInRpbWUiKVswXXx8dGhpcy5nZXRBbmdsZUF4aXMoKX0sdC5wcm90b3R5cGUuZ2V0VG9vbHRpcEF4ZXM9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCE9dCYmImF1dG8iIT09dD90aGlzLmdldEF4aXModCk6dGhpcy5nZXRCYXNlQXhpcygpO3JldHVybntiYXNlQXhlczpbZV0sb3RoZXJBeGVzOlt0aGlzLmdldE90aGVyQXhpcyhlKV19fSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChbdGhpcy5fcmFkaXVzQXhpcy5kYXRhVG9SYWRpdXModFswXSxlKSx0aGlzLl9hbmdsZUF4aXMuZGF0YVRvQW5nbGUodFsxXSxlKV0pfSx0LnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVyblt0aGlzLl9yYWRpdXNBeGlzLnJhZGl1c1RvRGF0YShuWzBdLGUpLHRoaXMuX2FuZ2xlQXhpcy5hbmdsZVRvRGF0YShuWzFdLGUpXX0sdC5wcm90b3R5cGUucG9pbnRUb0Nvb3JkPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0tdGhpcy5jeCxuPXRbMV0tdGhpcy5jeSxpPXRoaXMuZ2V0QW5nbGVBeGlzKCkscj1pLmdldEV4dGVudCgpLG89TWF0aC5taW4oclswXSxyWzFdKSxhPU1hdGgubWF4KHJbMF0sclsxXSk7aS5pbnZlcnNlP289YS0zNjA6YT1vKzM2MDt2YXIgcz1NYXRoLnNxcnQoZSplK24qbik7ZS89cyxuLz1zO2Zvcih2YXIgbD1NYXRoLmF0YW4yKC1uLGUpL01hdGguUEkqMTgwLHU9bDxvPzE6LTE7bDxvfHxsPmE7KWwrPTM2MCp1O3JldHVybltzLGxdfSx0LnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV0vMTgwKk1hdGguUEk7cmV0dXJuW01hdGguY29zKG4pKmUrdGhpcy5jeCwtTWF0aC5zaW4obikqZSt0aGlzLmN5XX0sdC5wcm90b3R5cGUuZ2V0QXJlYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QW5nbGVBeGlzKCksZT10aGlzLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKS5zbGljZSgpO2VbMF0+ZVsxXSYmZS5yZXZlcnNlKCk7dmFyIG49dC5nZXRFeHRlbnQoKSxpPU1hdGguUEkvMTgwO3JldHVybntjeDp0aGlzLmN4LGN5OnRoaXMuY3kscjA6ZVswXSxyOmVbMV0sc3RhcnRBbmdsZTotblswXSppLGVuZEFuZ2xlOi1uWzFdKmksY2xvY2t3aXNlOnQuaW52ZXJzZSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC10aGlzLmN4LGk9ZS10aGlzLmN5LHI9bipuK2kqaSxvPXRoaXMucixhPXRoaXMucjA7cmV0dXJuIHI8PW8qbyYmcj49YSphfX19LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdlIoZSk9PT10aGlzP3RoaXMuZGF0YVRvUG9pbnQobik6bnVsbH0sdC5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZSKGUpPT09dGhpcz90aGlzLnBvaW50VG9EYXRhKG4pOm51bGx9LHR9KCk7ZnVuY3Rpb24gdlIodCl7dmFyIGU9dC5zZXJpZXNNb2RlbCxuPXQucG9sYXJNb2RlbDtyZXR1cm4gbiYmbi5jb29yZGluYXRlU3lzdGVtfHxlJiZlLmNvb3JkaW5hdGVTeXN0ZW19ZnVuY3Rpb24gbVIodCxlKXt2YXIgbj10aGlzLGk9bi5nZXRBbmdsZUF4aXMoKSxyPW4uZ2V0UmFkaXVzQXhpcygpO2lmKGkuc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSxyLnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih0LmNvb3JkaW5hdGVTeXN0ZW09PT1uKXt2YXIgZT10LmdldERhdGEoKTtQKFh4KGUsInJhZGl1cyIpLChmdW5jdGlvbih0KXtyLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pKSxQKFh4KGUsImFuZ2xlIiksKGZ1bmN0aW9uKHQpe2kuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSkpfX0pKSxWeChpLnNjYWxlLGkubW9kZWwpLFZ4KHIuc2NhbGUsci5tb2RlbCksImNhdGVnb3J5Ij09PWkudHlwZSYmIWkub25CYW5kKXt2YXIgbz1pLmdldEV4dGVudCgpLGE9MzYwL2kuc2NhbGUuY291bnQoKTtpLmludmVyc2U/b1sxXSs9YTpvWzFdLT1hLGkuc2V0RXh0ZW50KG9bMF0sb1sxXSl9fWZ1bmN0aW9uIF9SKHQsZSl7aWYodC50eXBlPWUuZ2V0KCJ0eXBlIiksdC5zY2FsZT1CeChlKSx0Lm9uQmFuZD1lLmdldCgiYm91bmRhcnlHYXAiKSYmImNhdGVnb3J5Ij09PXQudHlwZSx0LmludmVyc2U9ZS5nZXQoImludmVyc2UiKSxmdW5jdGlvbih0KXtyZXR1cm4iYW5nbGVBeGlzIj09PXQubWFpblR5cGV9KGUpKXt0LmludmVyc2U9dC5pbnZlcnNlIT09ZS5nZXQoImNsb2Nrd2lzZSIpO3ZhciBuPWUuZ2V0KCJzdGFydEFuZ2xlIik7dC5zZXRFeHRlbnQobixuKyh0LmludmVyc2U/LTM2MDozNjApKX1lLmF4aXM9dCx0Lm1vZGVsPWV9dmFyIHhSPXtkaW1lbnNpb25zOnlSLnByb3RvdHlwZS5kaW1lbnNpb25zLGNyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInBvbGFyIiwoZnVuY3Rpb24odCxpKXt2YXIgcj1uZXcgeVIoaSsiIik7ci51cGRhdGU9bVI7dmFyIG89ci5nZXRSYWRpdXNBeGlzKCksYT1yLmdldEFuZ2xlQXhpcygpLHM9dC5maW5kQXhpc01vZGVsKCJyYWRpdXNBeGlzIiksbD10LmZpbmRBeGlzTW9kZWwoImFuZ2xlQXhpcyIpO19SKG8scyksX1IoYSxsKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQoImNlbnRlciIpLHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKTt0LmN4PVppKGlbMF0sciksdC5jeT1aaShpWzFdLG8pO3ZhciBhPXQuZ2V0UmFkaXVzQXhpcygpLHM9TWF0aC5taW4ocixvKS8yLGw9ZS5nZXQoInJhZGl1cyIpO251bGw9PWw/bD1bMCwiMTAwJSJdOkYobCl8fChsPVswLGxdKTt2YXIgdT1bWmkobFswXSxzKSxaaShsWzFdLHMpXTthLmludmVyc2U/YS5zZXRFeHRlbnQodVsxXSx1WzBdKTphLnNldEV4dGVudCh1WzBdLHVbMV0pfShyLHQsZSksbi5wdXNoKHIpLHQuY29vcmRpbmF0ZVN5c3RlbT1yLHIubW9kZWw9dH0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKCJwb2xhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInBvbGFyIixOcikubW9kZWxzWzBdOzAsdC5jb29yZGluYXRlU3lzdGVtPWUuY29vcmRpbmF0ZVN5c3RlbX19KSksbn19LGJSPVsiYXhpc0xpbmUiLCJheGlzTGFiZWwiLCJheGlzVGljayIsIm1pbm9yVGljayIsInNwbGl0TGluZSIsIm1pbm9yU3BsaXRMaW5lIiwic3BsaXRBcmVhIl07ZnVuY3Rpb24gd1IodCxlLG4pe2VbMV0+ZVswXSYmKGU9ZS5zbGljZSgpLnJldmVyc2UoKSk7dmFyIGk9dC5jb29yZFRvUG9pbnQoW2VbMF0sbl0pLHI9dC5jb29yZFRvUG9pbnQoW2VbMV0sbl0pO3JldHVybnt4MTppWzBdLHkxOmlbMV0seDI6clswXSx5MjpyWzFdfX1mdW5jdGlvbiBTUih0KXtyZXR1cm4gdC5nZXRSYWRpdXNBeGlzKCkuaW52ZXJzZT8wOjF9ZnVuY3Rpb24gTVIodCl7dmFyIGU9dFswXSxuPXRbdC5sZW5ndGgtMV07ZSYmbiYmTWF0aC5hYnMoTWF0aC5hYnMoZS5jb29yZC1uLmNvb3JkKS0zNjApPDFlLTQmJnQucG9wKCl9dmFyIElSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJQb2xhckF4aXNQb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpKXt2YXIgbj10LmF4aXMsaT1uLnBvbGFyLHI9aS5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksbz1uLmdldFRpY2tzQ29vcmRzKCksYT1uLmdldE1pbm9yVGlja3NDb29yZHMoKSxzPU8obi5nZXRWaWV3TGFiZWxzKCksKGZ1bmN0aW9uKHQpe3Q9dyh0KTt2YXIgZT1uLnNjYWxlLGk9Im9yZGluYWwiPT09ZS50eXBlP2UuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnRpY2tWYWx1ZSk6dC50aWNrVmFsdWU7cmV0dXJuIHQuY29vcmQ9bi5kYXRhVG9Db29yZChpKSx0fSkpO01SKHMpLE1SKG8pLFAoYlIsKGZ1bmN0aW9uKGUpeyF0LmdldChbZSwic2hvdyJdKXx8bi5zY2FsZS5pc0JsYW5rKCkmJiJheGlzTGluZSIhPT1lfHxUUltlXSh0aGlzLmdyb3VwLHQsaSxvLGEscixzKX0pLHRoaXMpfX0sZS50eXBlPSJhbmdsZUF4aXMiLGV9KGRNKSxUUj17YXhpc0xpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9ZS5nZXRNb2RlbChbImF4aXNMaW5lIiwibGluZVN0eWxlIl0pLGw9U1IobiksdT1sPzA6MTsoYT0wPT09b1t1XT9uZXcgTmwoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjpvW2xdfSxzdHlsZTpzLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSk6bmV3IHR1KHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6b1tsXSxyMDpvW3VdfSxzdHlsZTpzLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSkpLnN0eWxlLmZpbGw9bnVsbCx0LmFkZChhKX0sYXhpc1RpY2s6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoImF4aXNUaWNrIikscz0oYS5nZXQoImluc2lkZSIpPy0xOjEpKmEuZ2V0KCJsZW5ndGgiKSxsPW9bU1IobildLHU9TyhpLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHV1KHtzaGFwZTp3UihuLFtsLGwrc10sdC5jb29yZCl9KX0pKTt0LmFkZChWdSh1LHtzdHlsZTpUKGEuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtzdHJva2U6ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pfSl9KSl9LG1pbm9yVGljazpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoci5sZW5ndGgpe2Zvcih2YXIgYT1lLmdldE1vZGVsKCJheGlzVGljayIpLHM9ZS5nZXRNb2RlbCgibWlub3JUaWNrIiksbD0oYS5nZXQoImluc2lkZSIpPy0xOjEpKnMuZ2V0KCJsZW5ndGgiKSx1PW9bU1IobildLGg9W10sYz0wO2M8ci5sZW5ndGg7YysrKWZvcih2YXIgcD0wO3A8cltjXS5sZW5ndGg7cCsrKWgucHVzaChuZXcgdXUoe3NoYXBlOndSKG4sW3UsdStsXSxyW2NdW3BdLmNvb3JkKX0pKTt0LmFkZChWdShoLHtzdHlsZTpUKHMuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLFQoYS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOmUuZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pKX0pKX19LGF4aXNMYWJlbDpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz1lLmdldENhdGVnb3JpZXMoITApLGw9ZS5nZXRNb2RlbCgiYXhpc0xhYmVsIiksdT1sLmdldCgibWFyZ2luIiksaD1lLmdldCgidHJpZ2dlckV2ZW50Iik7UChhLChmdW5jdGlvbihpLHIpe3ZhciBhPWwsYz1pLnRpY2tWYWx1ZSxwPW9bU1IobildLGQ9bi5jb29yZFRvUG9pbnQoW3ArdSxpLmNvb3JkXSksZj1uLmN4LGc9bi5jeSx5PU1hdGguYWJzKGRbMF0tZikvcDwuMz8iY2VudGVyIjpkWzBdPmY/ImxlZnQiOiJyaWdodCIsdj1NYXRoLmFicyhkWzFdLWcpL3A8LjM/Im1pZGRsZSI6ZFsxXT5nPyJ0b3AiOiJib3R0b20iO2lmKHMmJnNbY10pe3ZhciBtPXNbY107WChtKSYmbS50ZXh0U3R5bGUmJihhPW5ldyBPaChtLnRleHRTdHlsZSxsLGwuZWNNb2RlbCkpfXZhciBfPW5ldyBjcyh7c2lsZW50OnRNLmlzTGFiZWxTaWxlbnQoZSksc3R5bGU6cGgoYSx7eDpkWzBdLHk6ZFsxXSxmaWxsOmEuZ2V0VGV4dENvbG9yKCl8fGUuZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKSx0ZXh0OmkuZm9ybWF0dGVkTGFiZWwsYWxpZ246eSx2ZXJ0aWNhbEFsaWduOnZ9KX0pO2lmKHQuYWRkKF8pLGgpe3ZhciB4PXRNLm1ha2VBeGlzRXZlbnREYXRhQmFzZShlKTt4LnRhcmdldFR5cGU9ImF4aXNMYWJlbCIseC52YWx1ZT1pLnJhd0xhYmVsLF9zKF8pLmV2ZW50RGF0YT14fX0pLHRoaXMpfSxzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgYz1sKyslcy5sZW5ndGg7dVtjXT11W2NdfHxbXSx1W2NdLnB1c2gobmV3IHV1KHtzaGFwZTp3UihuLG8saVtoXS5jb29yZCl9KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZChWdSh1W2hdLHtzdHlsZTpUKHtzdHJva2U6c1toJXMubGVuZ3RoXX0sYS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHo6ZS5nZXQoInoiKX0pKX0sbWlub3JTcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKHIubGVuZ3RoKXtmb3IodmFyIGE9ZS5nZXRNb2RlbCgibWlub3JTcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscz1bXSxsPTA7bDxyLmxlbmd0aDtsKyspZm9yKHZhciB1PTA7dTxyW2xdLmxlbmd0aDt1Kyspcy5wdXNoKG5ldyB1dSh7c2hhcGU6d1IobixvLHJbbF1bdV0uY29vcmQpfSkpO3QuYWRkKFZ1KHMse3N0eWxlOmEuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHo6ZS5nZXQoInoiKX0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpLHIsbyl7aWYoaS5sZW5ndGgpe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD1NYXRoLlBJLzE4MCxjPS1pWzBdLmNvb3JkKmgscD1NYXRoLm1pbihvWzBdLG9bMV0pLGQ9TWF0aC5tYXgob1swXSxvWzFdKSxmPWUuZ2V0KCJjbG9ja3dpc2UiKSxnPTEseT1pLmxlbmd0aDtnPD15O2crKyl7dmFyIHY9Zz09PXk/aVswXS5jb29yZDppW2ddLmNvb3JkLG09bCsrJXMubGVuZ3RoO3VbbV09dVttXXx8W10sdVttXS5wdXNoKG5ldyBKbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyMDpwLHI6ZCxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6LXYqaCxjbG9ja3dpc2U6Zn0sc2lsZW50OiEwfSkpLGM9LXYqaH1mb3IoZz0wO2c8dS5sZW5ndGg7ZysrKXQuYWRkKFZ1KHVbZ10se3N0eWxlOlQoe2ZpbGw6c1tnJXMubGVuZ3RoXX0sYS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX19LENSPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxEUj1bInNwbGl0TGluZSIsInNwbGl0QXJlYSIsIm1pbm9yU3BsaXRMaW5lIl0sQVI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF4aXNQb2ludGVyQ2xhc3M9IlBvbGFyQXhpc1BvaW50ZXIiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBuPXRoaXMuX2F4aXNHcm91cCxpPXRoaXMuX2F4aXNHcm91cD1uZXcgRWk7dGhpcy5ncm91cC5hZGQoaSk7dmFyIHI9dC5heGlzLG89ci5wb2xhcixhPW8uZ2V0QW5nbGVBeGlzKCkscz1yLmdldFRpY2tzQ29vcmRzKCksbD1yLmdldE1pbm9yVGlja3NDb29yZHMoKSx1PWEuZ2V0RXh0ZW50KClbMF0saD1yLmdldEV4dGVudCgpLGM9ZnVuY3Rpb24odCxlLG4pe3JldHVybntwb3NpdGlvbjpbdC5jeCx0LmN5XSxyb3RhdGlvbjpuLzE4MCpNYXRoLlBJLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxLGxhYmVsUm90YXRlOmUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIiksejI6MX19KG8sdCx1KSxwPW5ldyB0TSh0LGMpO1AoQ1IscC5hZGQscCksaS5hZGQocC5nZXRHcm91cCgpKSxKdShuLGksdCksUChEUiwoZnVuY3Rpb24oZSl7dC5nZXQoW2UsInNob3ciXSkmJiFyLnNjYWxlLmlzQmxhbmsoKSYmTFJbZV0odGhpcy5ncm91cCx0LG8sdSxoLHMsbCl9KSx0aGlzKX19LGUudHlwZT0icmFkaXVzQXhpcyIsZX0oZE0pLExSPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0TW9kZWwoInNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD0wO2g8by5sZW5ndGg7aCsrKXt2YXIgYz1sKyslcy5sZW5ndGg7dVtjXT11W2NdfHxbXSx1W2NdLnB1c2gobmV3IE5sKHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6b1toXS5jb29yZH19KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZChWdSh1W2hdLHtzdHlsZTpUKHtzdHJva2U6c1toJXMubGVuZ3RoXSxmaWxsOm51bGx9LGEuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMH0pKX0sbWlub3JTcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7aWYoYS5sZW5ndGgpe2Zvcih2YXIgcz1lLmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPVtdLHU9MDt1PGEubGVuZ3RoO3UrKylmb3IodmFyIGg9MDtoPGFbdV0ubGVuZ3RoO2grKylsLnB1c2gobmV3IE5sKHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6YVt1XVtoXS5jb29yZH19KSk7dC5hZGQoVnUobCx7c3R5bGU6VCh7ZmlsbDpudWxsfSxzLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fSxzcGxpdEFyZWE6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKG8ubGVuZ3RoKXt2YXIgYT1lLmdldE1vZGVsKCJzcGxpdEFyZWEiKS5nZXRNb2RlbCgiYXJlYVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9b1swXS5jb29yZCxjPTE7YzxvLmxlbmd0aDtjKyspe3ZhciBwPWwrKyVzLmxlbmd0aDt1W3BdPXVbcF18fFtdLHVbcF0ucHVzaChuZXcgSmwoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjA6aCxyOm9bY10uY29vcmQsc3RhcnRBbmdsZTowLGVuZEFuZ2xlOjIqTWF0aC5QSX0sc2lsZW50OiEwfSkpLGg9b1tjXS5jb29yZH1mb3IoYz0wO2M8dS5sZW5ndGg7YysrKXQuYWRkKFZ1KHVbY10se3N0eWxlOlQoe2ZpbGw6c1tjJXMubGVuZ3RoXX0sYS5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX19O2Z1bmN0aW9uIGtSKHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8Il9fZWNfc3RhY2tfIit0LnNlcmllc0luZGV4fWZ1bmN0aW9uIFBSKHQsZSl7cmV0dXJuIGUuZGltK3QubW9kZWwuY29tcG9uZW50SW5kZXh9ZnVuY3Rpb24gT1IodCxlLG4pe3ZhciBpPXt9LHI9ZnVuY3Rpb24odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5jb29yZGluYXRlU3lzdGVtLG89ci5nZXRCYXNlQXhpcygpLGE9UFIocixvKSxzPW8uZ2V0RXh0ZW50KCksbD0iY2F0ZWdvcnkiPT09by50eXBlP28uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoc1sxXS1zWzBdKS9pLmNvdW50KCksdT1lW2FdfHx7YmFuZFdpZHRoOmwscmVtYWluZWRXaWR0aDpsLGF1dG9XaWR0aENvdW50OjAsY2F0ZWdvcnlHYXA6IjIwJSIsZ2FwOiIzMCUiLHN0YWNrczp7fX0saD11LnN0YWNrcztlW2FdPXU7dmFyIGM9a1IodCk7aFtjXXx8dS5hdXRvV2lkdGhDb3VudCsrLGhbY109aFtjXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIHA9WmkodC5nZXQoImJhcldpZHRoIiksbCksZD1aaSh0LmdldCgiYmFyTWF4V2lkdGgiKSxsKSxmPXQuZ2V0KCJiYXJHYXAiKSxnPXQuZ2V0KCJiYXJDYXRlZ29yeUdhcCIpO3AmJiFoW2NdLndpZHRoJiYocD1NYXRoLm1pbih1LnJlbWFpbmVkV2lkdGgscCksaFtjXS53aWR0aD1wLHUucmVtYWluZWRXaWR0aC09cCksZCYmKGhbY10ubWF4V2lkdGg9ZCksbnVsbCE9ZiYmKHUuZ2FwPWYpLG51bGwhPWcmJih1LmNhdGVnb3J5R2FwPWcpfSkpO3ZhciBuPXt9O3JldHVybiBQKGUsKGZ1bmN0aW9uKHQsZSl7bltlXT17fTt2YXIgaT10LnN0YWNrcyxyPXQuYmFuZFdpZHRoLG89WmkodC5jYXRlZ29yeUdhcCxyKSxhPVppKHQuZ2FwLDEpLHM9dC5yZW1haW5lZFdpZHRoLGw9dC5hdXRvV2lkdGhDb3VudCx1PShzLW8pLyhsKyhsLTEpKmEpO3U9TWF0aC5tYXgodSwwKSxQKGksKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXhXaWR0aDtuJiZuPHUmJihuPU1hdGgubWluKG4scyksdC53aWR0aCYmKG49TWF0aC5taW4obix0LndpZHRoKSkscy09bix0LndpZHRoPW4sbC0tKX0pKSx1PShzLW8pLyhsKyhsLTEpKmEpLHU9TWF0aC5tYXgodSwwKTt2YXIgaCxjPTA7UChpLChmdW5jdGlvbih0LGUpe3Qud2lkdGh8fCh0LndpZHRoPXUpLGg9dCxjKz10LndpZHRoKigxK2EpfSkpLGgmJihjLT1oLndpZHRoKmEpO3ZhciBwPS1jLzI7UChpLChmdW5jdGlvbih0LGkpe25bZV1baV09bltlXVtpXXx8e29mZnNldDpwLHdpZHRoOnQud2lkdGh9LHArPXQud2lkdGgqKDErYSl9KSl9KSksbn0oTihlLmdldFNlcmllc0J5VHlwZSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdC5jb29yZGluYXRlU3lzdGVtJiYicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGV9KSkpO2UuZWFjaFNlcmllc0J5VHlwZSh0LChmdW5jdGlvbih0KXtpZigicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGUpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dC5jb29yZGluYXRlU3lzdGVtLG89bi5nZXRCYXNlQXhpcygpLGE9UFIobixvKSxzPWtSKHQpLGw9clthXVtzXSx1PWwub2Zmc2V0LGg9bC53aWR0aCxjPW4uZ2V0T3RoZXJBeGlzKG8pLHA9dC5jb29yZGluYXRlU3lzdGVtLmN4LGQ9dC5jb29yZGluYXRlU3lzdGVtLmN5LGY9dC5nZXQoImJhck1pbkhlaWdodCIpfHwwLGc9dC5nZXQoImJhck1pbkFuZ2xlIil8fDA7aVtzXT1pW3NdfHxbXTtmb3IodmFyIHk9ZS5tYXBEaW1lbnNpb24oYy5kaW0pLHY9ZS5tYXBEaW1lbnNpb24oby5kaW0pLG09Vl8oZSx5KSxfPSJyYWRpdXMiIT09by5kaW18fCF0LmdldCgicm91bmRDYXAiLCEwKSx4PWMuZGF0YVRvQ29vcmQoMCksYj0wLHc9ZS5jb3VudCgpO2I8dztiKyspe3ZhciBTPWUuZ2V0KHksYiksTT1lLmdldCh2LGIpLEk9Uz49MD8icCI6Im4iLFQ9eDttJiYoaVtzXVtNXXx8KGlbc11bTV09e3A6eCxuOnh9KSxUPWlbc11bTV1bSV0pO3ZhciBDPXZvaWQgMCxEPXZvaWQgMCxBPXZvaWQgMCxMPXZvaWQgMDtpZigicmFkaXVzIj09PWMuZGltKXt2YXIgaz1jLmRhdGFUb0Nvb3JkKFMpLXgsUD1vLmRhdGFUb0Nvb3JkKE0pO01hdGguYWJzKGspPGYmJihrPShrPDA/LTE6MSkqZiksQz1ULEQ9VCtrLEw9KEE9UC11KS1oLG0mJihpW3NdW01dW0ldPUQpfWVsc2V7dmFyIE89Yy5kYXRhVG9Db29yZChTLF8pLXgsUj1vLmRhdGFUb0Nvb3JkKE0pO01hdGguYWJzKE8pPGcmJihPPShPPDA/LTE6MSkqZyksRD0oQz1SK3UpK2gsQT1ULEw9VCtPLG0mJihpW3NdW01dW0ldPUwpfWUuc2V0SXRlbUxheW91dChiLHtjeDpwLGN5OmQscjA6QyxyOkQsc3RhcnRBbmdsZTotQSpNYXRoLlBJLzE4MCxlbmRBbmdsZTotTCpNYXRoLlBJLzE4MH0pfX19KSl9dmFyIFJSPXtzdGFydEFuZ2xlOjkwLGNsb2Nrd2lzZTohMCxzcGxpdE51bWJlcjoxMixheGlzTGFiZWw6e3JvdGF0ZTowfX0sTlI9e3NwbGl0TnVtYmVyOjV9LHpSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0icG9sYXIiLGV9KHdmKTtmdW5jdGlvbiBFUih0LGUpe2U9ZXx8e307dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLGk9dC5heGlzLHI9e30sbz1pLnBvc2l0aW9uLGE9aS5vcmllbnQscz1uLmdldFJlY3QoKSxsPVtzLngscy54K3Mud2lkdGgscy55LHMueStzLmhlaWdodF0sdT17aG9yaXpvbnRhbDp7dG9wOmxbMl0sYm90dG9tOmxbM119LHZlcnRpY2FsOntsZWZ0OmxbMF0scmlnaHQ6bFsxXX19O3IucG9zaXRpb249WyJ2ZXJ0aWNhbCI9PT1hP3UudmVydGljYWxbb106bFswXSwiaG9yaXpvbnRhbCI9PT1hP3UuaG9yaXpvbnRhbFtvXTpsWzNdXTtyLnJvdGF0aW9uPU1hdGguUEkvMip7aG9yaXpvbnRhbDowLHZlcnRpY2FsOjF9W2FdO3IubGFiZWxEaXJlY3Rpb249ci50aWNrRGlyZWN0aW9uPXIubmFtZURpcmVjdGlvbj17dG9wOi0xLGJvdHRvbToxLHJpZ2h0OjEsbGVmdDotMX1bb10sdC5nZXQoWyJheGlzVGljayIsImluc2lkZSJdKSYmKHIudGlja0RpcmVjdGlvbj0tci50aWNrRGlyZWN0aW9uKSxRKGUubGFiZWxJbnNpZGUsdC5nZXQoWyJheGlzTGFiZWwiLCJpbnNpZGUiXSkpJiYoci5sYWJlbERpcmVjdGlvbj0tci5sYWJlbERpcmVjdGlvbik7dmFyIGg9ZS5yb3RhdGU7cmV0dXJuIG51bGw9PWgmJihoPXQuZ2V0KFsiYXhpc0xhYmVsIiwicm90YXRlIl0pKSxyLmxhYmVsUm90YXRpb249InRvcCI9PT1vPy1oOmgsci56Mj0xLHJ9dmFyIFZSPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxCUj1bInNwbGl0QXJlYSIsInNwbGl0TGluZSJdLEZSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJTaW5nbGVBeGlzUG9pbnRlciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt2YXIgbz10aGlzLmdyb3VwO28ucmVtb3ZlQWxsKCk7dmFyIGE9dGhpcy5fYXhpc0dyb3VwO3RoaXMuX2F4aXNHcm91cD1uZXcgRWk7dmFyIHM9RVIoZSksbD1uZXcgdE0oZSxzKTtQKFZSLGwuYWRkLGwpLG8uYWRkKHRoaXMuX2F4aXNHcm91cCksby5hZGQobC5nZXRHcm91cCgpKSxQKEJSLChmdW5jdGlvbih0KXtlLmdldChbdCwic2hvdyJdKSYmR1JbdF0odGhpcyx0aGlzLmdyb3VwLHRoaXMuX2F4aXNHcm91cCxlKX0pLHRoaXMpLEp1KGEsdGhpcy5fYXhpc0dyb3VwLGUpLHQucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsZSxuLGkscil9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3lNKHRoaXMpfSxlLnR5cGU9InNpbmdsZUF4aXMiLGV9KGRNKSxHUj17c3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuYXhpcztpZighci5zY2FsZS5pc0JsYW5rKCkpe3ZhciBvPWkuZ2V0TW9kZWwoInNwbGl0TGluZSIpLGE9by5nZXRNb2RlbCgibGluZVN0eWxlIikscz1hLmdldCgiY29sb3IiKTtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIGw9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PXIuaXNIb3Jpem9udGFsKCksaD1bXSxjPTAscD1yLmdldFRpY2tzQ29vcmRzKHt0aWNrTW9kZWw6b30pLGQ9W10sZj1bXSxnPTA7ZzxwLmxlbmd0aDsrK2cpe3ZhciB5PXIudG9HbG9iYWxDb29yZChwW2ddLmNvb3JkKTt1PyhkWzBdPXksZFsxXT1sLnksZlswXT15LGZbMV09bC55K2wuaGVpZ2h0KTooZFswXT1sLngsZFsxXT15LGZbMF09bC54K2wud2lkdGgsZlsxXT15KTt2YXIgdj1jKyslcy5sZW5ndGg7aFt2XT1oW3ZdfHxbXSxoW3ZdLnB1c2gobmV3IHV1KHtzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4MTpkWzBdLHkxOmRbMV0seDI6ZlswXSx5MjpmWzFdfSxzaWxlbnQ6ITB9KSl9dmFyIG09YS5nZXRMaW5lU3R5bGUoWyJjb2xvciJdKTtmb3IoZz0wO2c8aC5sZW5ndGg7KytnKWUuYWRkKFZ1KGhbZ10se3N0eWxlOlQoe3N0cm9rZTpzW2clcy5sZW5ndGhdfSxtKSxzaWxlbnQ6ITB9KSl9fSxzcGxpdEFyZWE6ZnVuY3Rpb24odCxlLG4saSl7Z00odCxuLGksaSl9fSxIUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDb29yZFN5c01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUudHlwZT0ic2luZ2xlQXhpcyIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17bGVmdDoiNSUiLHRvcDoiNSUiLHJpZ2h0OiI1JSIsYm90dG9tOiI1JSIsdHlwZToidmFsdWUiLHBvc2l0aW9uOiJib3R0b20iLG9yaWVudDoiaG9yaXpvbnRhbCIsYXhpc0xpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt3aWR0aDoxLHR5cGU6InNvbGlkIn19LHRvb2x0aXA6e3Nob3c6ITB9LGF4aXNUaWNrOntzaG93OiEwLGxlbmd0aDo2LGxpbmVTdHlsZTp7d2lkdGg6MX19LGF4aXNMYWJlbDp7c2hvdzohMCxpbnRlcnZhbDoiYXV0byJ9LHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCIsb3BhY2l0eTouMn19fSxlfShYYyk7TChIUixZeC5wcm90b3R5cGUpO3ZhciBXUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBhLnR5cGU9cnx8InZhbHVlIixhLnBvc2l0aW9uPW98fCJib3R0b20iLGF9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uO3JldHVybiJ0b3AiPT09dHx8ImJvdHRvbSI9PT10fSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVTeXN0ZW0ucG9pbnRUb0RhdGEodClbMF19LGV9KGhiKSxVUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0ic2luZ2xlIix0aGlzLmRpbWVuc2lvbj0ic2luZ2xlIix0aGlzLmRpbWVuc2lvbnM9WyJzaW5nbGUiXSx0aGlzLmF4aXNQb2ludGVyRW5hYmxlZD0hMCx0aGlzLm1vZGVsPXQsdGhpcy5faW5pdCh0LGUsbil9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmRpbWVuc2lvbixyPW5ldyBXUihpLEJ4KHQpLFswLDBdLHQuZ2V0KCJ0eXBlIiksdC5nZXQoInBvc2l0aW9uIikpLG89ImNhdGVnb3J5Ij09PXIudHlwZTtyLm9uQmFuZD1vJiZ0LmdldCgiYm91bmRhcnlHYXAiKSxyLmludmVyc2U9dC5nZXQoImludmVyc2UiKSxyLm9yaWVudD10LmdldCgib3JpZW50IiksdC5heGlzPXIsci5tb2RlbD10LHIuY29vcmRpbmF0ZVN5c3RlbT10aGlzLHRoaXMuX2F4aXM9cn0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih0LmNvb3JkaW5hdGVTeXN0ZW09PT10aGlzKXt2YXIgZT10LmdldERhdGEoKTtQKGUubWFwRGltZW5zaW9uc0FsbCh0aGlzLmRpbWVuc2lvbiksKGZ1bmN0aW9uKHQpe3RoaXMuX2F4aXMuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSksdGhpcyksVngodGhpcy5fYXhpcy5zY2FsZSx0aGlzLl9heGlzLm1vZGVsKX19KSx0aGlzKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVjdD1WYyh7bGVmdDp0LmdldCgibGVmdCIpLHRvcDp0LmdldCgidG9wIikscmlnaHQ6dC5nZXQoInJpZ2h0IiksYm90dG9tOnQuZ2V0KCJib3R0b20iKSx3aWR0aDp0LmdldCgid2lkdGgiKSxoZWlnaHQ6dC5nZXQoImhlaWdodCIpfSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fYWRqdXN0QXhpcygpfSx0LnByb3RvdHlwZS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHQucHJvdG90eXBlLl9hZGp1c3RBeGlzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdCxlPXRoaXMuX2F4aXMsbj1lLmlzSG9yaXpvbnRhbCgpLGk9bj9bMCx0LndpZHRoXTpbMCx0LmhlaWdodF0scj1lLnJldmVyc2U/MTowO2Uuc2V0RXh0ZW50KGlbcl0saVsxLXJdKSx0aGlzLl91cGRhdGVBeGlzVHJhbnNmb3JtKGUsbj90Lng6dC55KX0sdC5wcm90b3R5cGUuX3VwZGF0ZUF4aXNUcmFuc2Zvcm09ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEV4dGVudCgpLGk9blswXStuWzFdLHI9dC5pc0hvcml6b250YWwoKTt0LnRvR2xvYmFsQ29vcmQ9cj9mdW5jdGlvbih0KXtyZXR1cm4gdCtlfTpmdW5jdGlvbih0KXtyZXR1cm4gaS10K2V9LHQudG9Mb2NhbENvb3JkPXI/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIGktdCtlfX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGlzfSx0LnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGlzfSx0LnByb3RvdHlwZS5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX2F4aXNdfSx0LnByb3RvdHlwZS5nZXRUb29sdGlwQXhlcz1mdW5jdGlvbigpe3JldHVybntiYXNlQXhlczpbdGhpcy5nZXRBeGlzKCldLG90aGVyQXhlczpbXX19LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJlY3QoKSxuPXRoaXMuZ2V0QXhpcygpO3JldHVybiJob3Jpem9udGFsIj09PW4ub3JpZW50P24uY29udGFpbihuLnRvTG9jYWxDb29yZCh0WzBdKSkmJnRbMV0+PWUueSYmdFsxXTw9ZS55K2UuaGVpZ2h0Om4uY29udGFpbihuLnRvTG9jYWxDb29yZCh0WzFdKSkmJnRbMF0+PWUueSYmdFswXTw9ZS55K2UuaGVpZ2h0fSx0LnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoKTtyZXR1cm5bZS5jb29yZFRvRGF0YShlLnRvTG9jYWxDb29yZCh0WyJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MV0pKV19LHQucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygpLG49dGhpcy5nZXRSZWN0KCksaT1bXSxyPSJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MTtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5JiYodD10WzBdKSxpW3JdPWUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCt0KSksaVsxLXJdPTA9PT1yP24ueStuLmhlaWdodC8yOm4ueCtuLndpZHRoLzIsaX0sdC5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBYUihlKT09PXRoaXM/dGhpcy5kYXRhVG9Qb2ludChuKTpudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWFIoZSk9PT10aGlzP3RoaXMucG9pbnRUb0RhdGEobik6bnVsbH0sdH0oKTtmdW5jdGlvbiBYUih0KXt2YXIgZT10LnNlcmllc01vZGVsLG49dC5zaW5nbGVBeGlzTW9kZWw7cmV0dXJuIG4mJm4uY29vcmRpbmF0ZVN5c3RlbXx8ZSYmZS5jb29yZGluYXRlU3lzdGVtfXZhciBZUj17Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIHQuZWFjaENvbXBvbmVudCgic2luZ2xlQXhpcyIsKGZ1bmN0aW9uKGkscil7dmFyIG89bmV3IFVSKGksdCxlKTtvLm5hbWU9InNpbmdsZV8iK3Isby5yZXNpemUoaSxlKSxpLmNvb3JkaW5hdGVTeXN0ZW09byxuLnB1c2gobyl9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZigic2luZ2xlQXhpcyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInNpbmdsZUF4aXMiLE5yKS5tb2RlbHNbMF07dC5jb29yZGluYXRlU3lzdGVtPWUmJmUuY29vcmRpbmF0ZVN5c3RlbX19KSksbn0sZGltZW5zaW9uczpVUi5wcm90b3R5cGUuZGltZW5zaW9uc30sWlI9WyJ4IiwieSJdLGpSPVsid2lkdGgiLCJoZWlnaHQiXSxxUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm1ha2VFbE9wdGlvbj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcyxhPW8uY29vcmRpbmF0ZVN5c3RlbSxzPUpSKGEsMS0kUihvKSksbD1hLmRhdGFUb1BvaW50KGUpWzBdLHU9aS5nZXQoInR5cGUiKTtpZih1JiYibm9uZSIhPT11KXt2YXIgaD1QTyhpKSxjPUtSW3VdKG8sbCxzKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y316TyhlLHQsRVIobiksbixpLHIpfSxlLnByb3RvdHlwZS5nZXRIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUVSKGUse2xhYmVsSW5zaWRlOiExfSk7aS5sYWJlbE1hcmdpbj1uLmdldChbImhhbmRsZSIsIm1hcmdpbiJdKTt2YXIgcj1OTyhlLmF4aXMsdCxpKTtyZXR1cm57eDpyWzBdLHk6clsxXSxyb3RhdGlvbjppLnJvdGF0aW9uKyhpLmxhYmVsRGlyZWN0aW9uPDA/TWF0aC5QSTowKX19LGUucHJvdG90eXBlLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1yLmNvb3JkaW5hdGVTeXN0ZW0sYT0kUihyKSxzPUpSKG8sYSksbD1bdC54LHQueV07bFthXSs9ZVthXSxsW2FdPU1hdGgubWluKHNbMV0sbFthXSksbFthXT1NYXRoLm1heChzWzBdLGxbYV0pO3ZhciB1PUpSKG8sMS1hKSxoPSh1WzFdK3VbMF0pLzIsYz1baCxoXTtyZXR1cm4gY1thXT1sW2FdLHt4OmxbMF0seTpsWzFdLHJvdGF0aW9uOnQucm90YXRpb24sY3Vyc29yUG9pbnQ6Yyx0b29sdGlwT3B0aW9uOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX19LGV9KFRPKSxLUj17bGluZTpmdW5jdGlvbih0LGUsbil7cmV0dXJue3R5cGU6IkxpbmUiLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6RU8oW2UsblswXV0sW2UsblsxXV0sJFIodCkpfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEJhbmRXaWR0aCgpLHI9blsxXS1uWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTpWTyhbZS1pLzIsblswXV0sW2kscl0sJFIodCkpfX19O2Z1bmN0aW9uICRSKHQpe3JldHVybiB0LmlzSG9yaXpvbnRhbCgpPzA6MX1mdW5jdGlvbiBKUih0LGUpe3ZhciBuPXQuZ2V0UmVjdCgpO3JldHVybltuW1pSW2VdXSxuW1pSW2VdXStuW2pSW2VdXV19dmFyIFFSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0ic2luZ2xlIixlfSh3Zik7dmFyIHROPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPUhjKGUpO3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGVOKGUscil9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLm1lcmdlT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlTih0aGlzLm9wdGlvbixlKX0sZS5wcm90b3R5cGUuZ2V0Q2VsbFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24uY2VsbFNpemV9LGUudHlwZT0iY2FsZW5kYXIiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGxlZnQ6ODAsdG9wOjYwLGNlbGxTaXplOjIwLG9yaWVudDoiaG9yaXpvbnRhbCIsc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7Y29sb3I6IiMwMDAiLHdpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2NjYyJ9LGRheUxhYmVsOntzaG93OiEwLGZpcnN0RGF5OjAscG9zaXRpb246InN0YXJ0IixtYXJnaW46IjUwJSIsbmFtZU1hcDoiZW4iLGNvbG9yOiIjMDAwIn0sbW9udGhMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoic3RhcnQiLG1hcmdpbjo1LGFsaWduOiJjZW50ZXIiLG5hbWVNYXA6ImVuIixmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiIzAwMCJ9LHllYXJMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpudWxsLG1hcmdpbjozMCxmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiI2NjYyIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsZm9udFdlaWdodDoiYm9sZGVyIixmb250U2l6ZToyMH19LGV9KFhjKTtmdW5jdGlvbiBlTih0LGUpe3ZhciBuLGk9dC5jZWxsU2l6ZTsxPT09KG49RihpKT9pOnQuY2VsbFNpemU9W2ksaV0pLmxlbmd0aCYmKG5bMV09blswXSk7dmFyIHI9TyhbMCwxXSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXRbTmNbZV1bMF1dfHxudWxsIT10W05jW2VdWzFdXSYmbnVsbCE9dFtOY1tlXVsyXV19KGUsdCkmJihuW3RdPSJhdXRvIiksbnVsbCE9blt0XSYmImF1dG8iIT09blt0XX0pKTtHYyh0LGUse3R5cGU6ImJveCIsaWdub3JlU2l6ZTpyfSl9dmFyIG5OPXtFTjpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLENOOlsi5LiA5pyIIiwi5LqM5pyIIiwi5LiJ5pyIIiwi5Zub5pyIIiwi5LqU5pyIIiwi5YWt5pyIIiwi5LiD5pyIIiwi5YWr5pyIIiwi5Lmd5pyIIiwi5Y2B5pyIIiwi5Y2B5LiA5pyIIiwi5Y2B5LqM5pyIIl19LGlOPXtFTjpbIlMiLCJNIiwiVCIsIlciLCJUIiwiRiIsIlMiXSxDTjpbIuaXpSIsIuS4gCIsIuS6jCIsIuS4iSIsIuWbmyIsIuS6lCIsIuWFrSJdfSxyTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ3JvdXA7aS5yZW1vdmVBbGwoKTt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1yLmdldFJhbmdlSW5mbygpLGE9ci5nZXRPcmllbnQoKTt0aGlzLl9yZW5kZXJEYXlSZWN0KHQsbyxpKSx0aGlzLl9yZW5kZXJMaW5lcyh0LG8sYSxpKSx0aGlzLl9yZW5kZXJZZWFyVGV4dCh0LG8sYSxpKSx0aGlzLl9yZW5kZXJNb250aFRleHQodCxhLGkpLHRoaXMuX3JlbmRlcldlZWtUZXh0KHQsbyxhLGkpfSxlLnByb3RvdHlwZS5fcmVuZGVyRGF5UmVjdD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLG89aS5nZXRDZWxsV2lkdGgoKSxhPWkuZ2V0Q2VsbEhlaWdodCgpLHM9ZS5zdGFydC50aW1lO3M8PWUuZW5kLnRpbWU7cz1pLmdldE5leHRORGF5KHMsMSkudGltZSl7dmFyIGw9aS5kYXRhVG9SZWN0KFtzXSwhMSkudGwsdT1uZXcgbHMoe3NoYXBlOnt4OmxbMF0seTpsWzFdLHdpZHRoOm8saGVpZ2h0OmF9LGN1cnNvcjoiZGVmYXVsdCIsc3R5bGU6cn0pO24uYWRkKHUpfX0sZS5wcm90b3R5cGUuX3JlbmRlckxpbmVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10LmdldE1vZGVsKFsic3BsaXRMaW5lIiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLHM9dC5nZXQoWyJzcGxpdExpbmUiLCJzaG93Il0pLGw9YS5saW5lV2lkdGg7dGhpcy5fdGxwb2ludHM9W10sdGhpcy5fYmxwb2ludHM9W10sdGhpcy5fZmlyc3REYXlPZk1vbnRoPVtdLHRoaXMuX2ZpcnN0RGF5UG9pbnRzPVtdO2Zvcih2YXIgdT1lLnN0YXJ0LGg9MDt1LnRpbWU8PWUuZW5kLnRpbWU7aCsrKXtwKHUuZm9ybWF0ZWREYXRlKSwwPT09aCYmKHU9by5nZXREYXRlSW5mbyhlLnN0YXJ0LnkrIi0iK2Uuc3RhcnQubSkpO3ZhciBjPXUuZGF0ZTtjLnNldE1vbnRoKGMuZ2V0TW9udGgoKSsxKSx1PW8uZ2V0RGF0ZUluZm8oYyl9ZnVuY3Rpb24gcChlKXtyLl9maXJzdERheU9mTW9udGgucHVzaChvLmdldERhdGVJbmZvKGUpKSxyLl9maXJzdERheVBvaW50cy5wdXNoKG8uZGF0YVRvUmVjdChbZV0sITEpLnRsKTt2YXIgbD1yLl9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrKHQsZSxuKTtyLl90bHBvaW50cy5wdXNoKGxbMF0pLHIuX2JscG9pbnRzLnB1c2gobFtsLmxlbmd0aC0xXSkscyYmci5fZHJhd1NwbGl0bGluZShsLGEsaSl9cChvLmdldE5leHRORGF5KGUuZW5kLnRpbWUsMSkuZm9ybWF0ZWREYXRlKSxzJiZ0aGlzLl9kcmF3U3BsaXRsaW5lKHIuX2dldEVkZ2VzUG9pbnRzKHIuX3RscG9pbnRzLGwsbiksYSxpKSxzJiZ0aGlzLl9kcmF3U3BsaXRsaW5lKHIuX2dldEVkZ2VzUG9pbnRzKHIuX2JscG9pbnRzLGwsbiksYSxpKX0sZS5wcm90b3R5cGUuX2dldEVkZ2VzUG9pbnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bdFswXS5zbGljZSgpLHRbdC5sZW5ndGgtMV0uc2xpY2UoKV0scj0iaG9yaXpvbnRhbCI9PT1uPzA6MTtyZXR1cm4gaVswXVtyXT1pWzBdW3JdLWUvMixpWzFdW3JdPWlbMV1bcl0rZS8yLGl9LGUucHJvdG90eXBlLl9kcmF3U3BsaXRsaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgYXUoe3oyOjIwLHNoYXBlOntwb2ludHM6dH0sc3R5bGU6ZX0pO24uYWRkKGkpfSxlLnByb3RvdHlwZS5fZ2V0TGluZVBvaW50c09mT25lV2Vlaz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPWkuZ2V0RGF0ZUluZm8oZSksbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHM9aS5nZXROZXh0TkRheShyLnRpbWUsYSksbD1pLmRhdGFUb1JlY3QoW3MudGltZV0sITEpO29bMipzLmRheV09bC50bCxvWzIqcy5kYXkrMV09bFsiaG9yaXpvbnRhbCI9PT1uPyJibCI6InRyIl19cmV0dXJuIG99LGUucHJvdG90eXBlLl9mb3JtYXR0ZXJMYWJlbD1mdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdD8obj10LFAoZSwoZnVuY3Rpb24odCxlKXtuPW4ucmVwbGFjZSgieyIrZSsifSIsaT9JYyh0KTp0KX0pKSxuKToiZnVuY3Rpb24iPT10eXBlb2YgdD90KGUpOmUubmFtZU1hcDt2YXIgbixpfSxlLnByb3RvdHlwZS5feWVhclRleHRQb3NpdGlvbkNvbnRyb2w9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lWzBdLGE9ZVsxXSxzPVsiY2VudGVyIiwiYm90dG9tIl07ImJvdHRvbSI9PT1pPyhhKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6ImxlZnQiPT09aT9vLT1yOiJyaWdodCI9PT1pPyhvKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6YS09cjt2YXIgbD0wO3JldHVybiJsZWZ0IiE9PWkmJiJyaWdodCIhPT1pfHwobD1NYXRoLlBJLzIpLHtyb3RhdGlvbjpsLHg6byx5OmEsc3R5bGU6e2FsaWduOnNbMF0sdmVydGljYWxBbGlnbjpzWzFdfX19LGUucHJvdG90eXBlLl9yZW5kZXJZZWFyVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihyLmdldCgic2hvdyIpKXt2YXIgbz1yLmdldCgibWFyZ2luIiksYT1yLmdldCgicG9zaXRpb24iKTthfHwoYT0iaG9yaXpvbnRhbCIhPT1uPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PW4/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LHA9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihwPXArIi0iK2UuZW5kLnkpO3ZhciBkPXIuZ2V0KCJmb3JtYXR0ZXIiKSxmPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpwfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGQsZikseT1uZXcgY3Moe3oyOjMwLHN0eWxlOnBoKHIse3RleHQ6Z30pfSk7eS5hdHRyKHRoaXMuX3llYXJUZXh0UG9zaXRpb25Db250cm9sKHksY1thXSxuLGEsbykpLGkuYWRkKHkpfX0sZS5wcm90b3R5cGUuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJsZWZ0IixhPSJ0b3AiLHM9dFswXSxsPXRbMV07cmV0dXJuImhvcml6b250YWwiPT09bj8obCs9cixlJiYobz0iY2VudGVyIiksInN0YXJ0Ij09PWkmJihhPSJib3R0b20iKSk6KHMrPXIsZSYmKGE9Im1pZGRsZSIpLCJzdGFydCI9PT1pJiYobz0icmlnaHQiKSkse3g6cyx5OmwsYWxpZ246byx2ZXJ0aWNhbEFsaWduOmF9fSxlLnByb3RvdHlwZS5fcmVuZGVyTW9udGhUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldE1vZGVsKCJtb250aExhYmVsIik7aWYoaS5nZXQoInNob3ciKSl7dmFyIHI9aS5nZXQoIm5hbWVNYXAiKSxvPWkuZ2V0KCJtYXJnaW4iKSxhPWkuZ2V0KCJwb3NpdGlvbiIpLHM9aS5nZXQoImFsaWduIiksbD1bdGhpcy5fdGxwb2ludHMsdGhpcy5fYmxwb2ludHNdO0gocikmJihyPW5OW3IudG9VcHBlckNhc2UoKV18fFtdKTt2YXIgdT0ic3RhcnQiPT09YT8wOjEsaD0iaG9yaXpvbnRhbCI9PT1lPzA6MTtvPSJzdGFydCI9PT1hPy1vOm87Zm9yKHZhciBjPSJjZW50ZXIiPT09cyxwPTA7cDxsW3VdLmxlbmd0aC0xO3ArKyl7dmFyIGQ9bFt1XVtwXS5zbGljZSgpLGY9dGhpcy5fZmlyc3REYXlPZk1vbnRoW3BdO2lmKGMpe3ZhciBnPXRoaXMuX2ZpcnN0RGF5UG9pbnRzW3BdO2RbaF09KGdbaF0rbFswXVtwKzFdW2hdKS8yfXZhciB5PWkuZ2V0KCJmb3JtYXR0ZXIiKSx2PXJbK2YubS0xXSxtPXt5eXl5OmYueSx5eTooZi55KyIiKS5zbGljZSgyKSxNTTpmLm0sTTorZi5tLG5hbWVNYXA6dn0sXz10aGlzLl9mb3JtYXR0ZXJMYWJlbCh5LG0pLHg9bmV3IGNzKHt6MjozMCxzdHlsZTpJKHBoKGkse3RleHQ6X30pLHRoaXMuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbChkLGMsZSxhLG8pKX0pO24uYWRkKHgpfX19LGUucHJvdG90eXBlLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJjZW50ZXIiLGE9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1uO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytpKyh1PzE6LTEpKnJbMF0vMixvPXU/InJpZ2h0IjoibGVmdCIpOihsPWwraSsodT8xOi0xKSpyWzFdLzIsYT11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCxhbGlnbjpvLHZlcnRpY2FsQWxpZ246YX19LGUucHJvdG90eXBlLl9yZW5kZXJXZWVrVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKCJkYXlMYWJlbCIpO2lmKHIuZ2V0KCJzaG93Iikpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPXIuZ2V0KCJwb3NpdGlvbiIpLHM9ci5nZXQoIm5hbWVNYXAiKSxsPXIuZ2V0KCJtYXJnaW4iKSx1PW8uZ2V0Rmlyc3REYXlPZldlZWsoKTtIKHMpJiYocz1pTltzLnRvVXBwZXJDYXNlKCldfHxbXSk7dmFyIGg9by5nZXROZXh0TkRheShlLmVuZC50aW1lLDctZS5sd2VlaykudGltZSxjPVtvLmdldENlbGxXaWR0aCgpLG8uZ2V0Q2VsbEhlaWdodCgpXTtsPVppKGwsTWF0aC5taW4oY1sxXSxjWzBdKSksInN0YXJ0Ij09PWEmJihoPW8uZ2V0TmV4dE5EYXkoZS5zdGFydC50aW1lLC0oNytlLmZ3ZWVrKSkudGltZSxsPS1sKTtmb3IodmFyIHA9MDtwPDc7cCsrKXt2YXIgZCxmPW8uZ2V0TmV4dE5EYXkoaCxwKSxnPW8uZGF0YVRvUmVjdChbZi50aW1lXSwhMSkuY2VudGVyO2Q9TWF0aC5hYnMoKHArdSklNyk7dmFyIHk9bmV3IGNzKHt6MjozMCxzdHlsZTpJKHBoKHIse3RleHQ6c1tkXX0pLHRoaXMuX3dlZWtUZXh0UG9zaXRpb25Db250cm9sKGcsbixhLGwsYykpfSk7aS5hZGQoeSl9fX0sZS50eXBlPSJjYWxlbmRhciIsZX0od2YpLG9OPTg2NGU1LGFOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4saSl7dGhpcy50eXBlPSJjYWxlbmRhciIsdGhpcy5kaW1lbnNpb25zPXQuZGltZW5zaW9ucyx0aGlzLmdldERpbWVuc2lvbnNJbmZvPXQuZ2V0RGltZW5zaW9uc0luZm8sdGhpcy5fbW9kZWw9ZX1yZXR1cm4gdC5nZXREaW1lbnNpb25zSW5mbz1mdW5jdGlvbigpe3JldHVyblt7bmFtZToidGltZSIsdHlwZToidGltZSJ9LCJ2YWx1ZSJdfSx0LnByb3RvdHlwZS5nZXRSYW5nZUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VJbmZvfSx0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sdC5wcm90b3R5cGUuZ2V0UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSx0LnByb3RvdHlwZS5nZXRDZWxsV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3d9LHQucHJvdG90eXBlLmdldENlbGxIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2h9LHQucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LHQucHJvdG90eXBlLmdldEZpcnN0RGF5T2ZXZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0RGF5T2ZXZWVrfSx0LnByb3RvdHlwZS5nZXREYXRlSW5mbz1mdW5jdGlvbih0KXt2YXIgZT0odD1vcih0KSkuZ2V0RnVsbFllYXIoKSxuPXQuZ2V0TW9udGgoKSsxLGk9bjwxMD8iMCIrbjoiIituLHI9dC5nZXREYXRlKCksbz1yPDEwPyIwIityOiIiK3IsYT10LmdldERheSgpO3JldHVybnt5OmUrIiIsbTppLGQ6byxkYXk6YT1NYXRoLmFicygoYSs3LXRoaXMuZ2V0Rmlyc3REYXlPZldlZWsoKSklNyksdGltZTp0LmdldFRpbWUoKSxmb3JtYXRlZERhdGU6ZSsiLSIraSsiLSIrbyxkYXRlOnR9fSx0LnByb3RvdHlwZS5nZXROZXh0TkRheT1mdW5jdGlvbih0LGUpe3JldHVybiAwPT09KGU9ZXx8MCl8fCh0PW5ldyBEYXRlKHRoaXMuZ2V0RGF0ZUluZm8odCkudGltZSkpLnNldERhdGUodC5nZXREYXRlKCkrZSksdGhpcy5nZXREYXRlSW5mbyh0KX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZmlyc3REYXlPZldlZWs9K3RoaXMuX21vZGVsLmdldE1vZGVsKCJkYXlMYWJlbCIpLmdldCgiZmlyc3REYXkiKSx0aGlzLl9vcmllbnQ9dGhpcy5fbW9kZWwuZ2V0KCJvcmllbnQiKSx0aGlzLl9saW5lV2lkdGg9dGhpcy5fbW9kZWwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLmxpbmVXaWR0aHx8MCx0aGlzLl9yYW5nZUluZm89dGhpcy5fZ2V0UmFuZ2VJbmZvKHRoaXMuX2luaXRSYW5nZU9wdGlvbigpKTt2YXIgbj10aGlzLl9yYW5nZUluZm8ud2Vla3N8fDEsaT1bIndpZHRoIiwiaGVpZ2h0Il0scj10aGlzLl9tb2RlbC5nZXRDZWxsU2l6ZSgpLnNsaWNlKCksbz10aGlzLl9tb2RlbC5nZXRCb3hMYXlvdXRQYXJhbXMoKSxhPSJob3Jpem9udGFsIj09PXRoaXMuX29yaWVudD9bbiw3XTpbNyxuXTtQKFswLDFdLChmdW5jdGlvbih0KXt1KHIsdCkmJihvW2lbdF1dPXJbdF0qYVt0XSl9KSk7dmFyIHM9e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sbD10aGlzLl9yZWN0PVZjKG8scyk7ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBudWxsIT10W2VdJiYiYXV0byIhPT10W2VdfVAoWzAsMV0sKGZ1bmN0aW9uKHQpe3Uocix0KXx8KHJbdF09bFtpW3RdXS9hW3RdKX0pKSx0aGlzLl9zdz1yWzBdLHRoaXMuX3NoPXJbMV19LHQucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSl7Rih0KSYmKHQ9dFswXSksbnVsbD09ZSYmKGU9ITApO3ZhciBuPXRoaXMuZ2V0RGF0ZUluZm8odCksaT10aGlzLl9yYW5nZUluZm8scj1uLmZvcm1hdGVkRGF0ZTtpZihlJiYhKG4udGltZT49aS5zdGFydC50aW1lJiZuLnRpbWU8aS5lbmQudGltZStvTikpcmV0dXJuW05hTixOYU5dO3ZhciBvPW4uZGF5LGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKFtpLnN0YXJ0LnRpbWUscl0pLm50aFdlZWs7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD9bdGhpcy5fcmVjdC54K28qdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0LnkrYSp0aGlzLl9zaCt0aGlzLl9zaC8yXTpbdGhpcy5fcmVjdC54K2EqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0Lnkrbyp0aGlzLl9zaCt0aGlzLl9zaC8yXX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvRGF0ZSh0KTtyZXR1cm4gZSYmZS50aW1lfSx0LnByb3RvdHlwZS5kYXRhVG9SZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kYXRhVG9Qb2ludCh0LGUpO3JldHVybntjb250ZW50U2hhcGU6e3g6blswXS0odGhpcy5fc3ctdGhpcy5fbGluZVdpZHRoKS8yLHk6blsxXS0odGhpcy5fc2gtdGhpcy5fbGluZVdpZHRoKS8yLHdpZHRoOnRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCxoZWlnaHQ6dGhpcy5fc2gtdGhpcy5fbGluZVdpZHRofSxjZW50ZXI6bix0bDpbblswXS10aGlzLl9zdy8yLG5bMV0tdGhpcy5fc2gvMl0sdHI6W25bMF0rdGhpcy5fc3cvMixuWzFdLXRoaXMuX3NoLzJdLGJyOltuWzBdK3RoaXMuX3N3LzIsblsxXSt0aGlzLl9zaC8yXSxibDpbblswXS10aGlzLl9zdy8yLG5bMV0rdGhpcy5fc2gvMl19fSx0LnByb3RvdHlwZS5wb2ludFRvRGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKCh0WzBdLXRoaXMuX3JlY3QueCkvdGhpcy5fc3cpKzEsbj1NYXRoLmZsb29yKCh0WzFdLXRoaXMuX3JlY3QueSkvdGhpcy5fc2gpKzEsaT10aGlzLl9yYW5nZUluZm8ucmFuZ2U7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD90aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShuLGUtMSxpKTp0aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShlLG4tMSxpKX0sdC5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXNOKGUpO3JldHVybiBpPT09dGhpcz9pLmRhdGFUb1BvaW50KG4pOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXNOKGUpO3JldHVybiBpPT09dGhpcz9pLnBvaW50VG9EYXRhKG4pOm51bGx9LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJOb3QgaW1wbGVtZW50ZWQuIiksITF9LHQucHJvdG90eXBlLl9pbml0UmFuZ2VPcHRpb249ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX21vZGVsLmdldCgicmFuZ2UiKTtpZihGKGUpJiYxPT09ZS5sZW5ndGgmJihlPWVbMF0pLEYoZSkpdD1lO2Vsc2V7dmFyIG49ZS50b1N0cmluZygpO2lmKC9eXGR7NH0kLy50ZXN0KG4pJiYodD1bbisiLTAxLTAxIixuKyItMTItMzEiXSksL15cZHs0fVtcL3wtXVxkezEsMn0kLy50ZXN0KG4pKXt2YXIgaT10aGlzLmdldERhdGVJbmZvKG4pLHI9aS5kYXRlO3Iuc2V0TW9udGgoci5nZXRNb250aCgpKzEpO3ZhciBvPXRoaXMuZ2V0TmV4dE5EYXkociwtMSk7dD1baS5mb3JtYXRlZERhdGUsby5mb3JtYXRlZERhdGVdfS9eXGR7NH1bXC98LV1cZHsxLDJ9W1wvfC1dXGR7MSwyfSQvLnRlc3QobikmJih0PVtuLG5dKX1pZighdClyZXR1cm4gZTt2YXIgYT10aGlzLl9nZXRSYW5nZUluZm8odCk7cmV0dXJuIGEuc3RhcnQudGltZT5hLmVuZC50aW1lJiZ0LnJldmVyc2UoKSx0fSx0LnByb3RvdHlwZS5fZ2V0UmFuZ2VJbmZvPWZ1bmN0aW9uKHQpe3ZhciBlLG49W3RoaXMuZ2V0RGF0ZUluZm8odFswXSksdGhpcy5nZXREYXRlSW5mbyh0WzFdKV07blswXS50aW1lPm5bMV0udGltZSYmKGU9ITAsbi5yZXZlcnNlKCkpO3ZhciBpPU1hdGguZmxvb3IoblsxXS50aW1lL29OKS1NYXRoLmZsb29yKG5bMF0udGltZS9vTikrMSxyPW5ldyBEYXRlKG5bMF0udGltZSksbz1yLmdldERhdGUoKSxhPW5bMV0uZGF0ZS5nZXREYXRlKCk7ci5zZXREYXRlKG8raS0xKTt2YXIgcz1yLmdldERhdGUoKTtpZihzIT09YSlmb3IodmFyIGw9ci5nZXRUaW1lKCktblsxXS50aW1lPjA/MTotMTsocz1yLmdldERhdGUoKSkhPT1hJiYoci5nZXRUaW1lKCktblsxXS50aW1lKSpsPjA7KWktPWwsci5zZXREYXRlKHMtbCk7dmFyIHU9TWF0aC5mbG9vcigoaStuWzBdLmRheSs2KS83KSxoPWU/MS11OnUtMTtyZXR1cm4gZSYmbi5yZXZlcnNlKCkse3JhbmdlOltuWzBdLmZvcm1hdGVkRGF0ZSxuWzFdLmZvcm1hdGVkRGF0ZV0sc3RhcnQ6blswXSxlbmQ6blsxXSxhbGxEYXk6aSx3ZWVrczp1LG50aFdlZWs6aCxmd2VlazpuWzBdLmRheSxsd2VlazpuWzFdLmRheX19LHQucHJvdG90eXBlLl9nZXREYXRlQnlXZWVrc0FuZERheT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZ2V0UmFuZ2VJbmZvKG4pO2lmKHQ+aS53ZWVrc3x8MD09PXQmJmU8aS5md2Vla3x8dD09PWkud2Vla3MmJmU+aS5sd2VlaylyZXR1cm4gbnVsbDt2YXIgcj03Kih0LTEpLWkuZndlZWsrZSxvPW5ldyBEYXRlKGkuc3RhcnQudGltZSk7cmV0dXJuIG8uc2V0RGF0ZSgraS5zdGFydC5kK3IpLHRoaXMuZ2V0RGF0ZUluZm8obyl9LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgiY2FsZW5kYXIiLChmdW5jdGlvbihyKXt2YXIgbz1uZXcgdChyLGUsbik7aS5wdXNoKG8pLHIuY29vcmRpbmF0ZVN5c3RlbT1vfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7ImNhbGVuZGFyIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikmJih0LmNvb3JkaW5hdGVTeXN0ZW09aVt0LmdldCgiY2FsZW5kYXJJbmRleCIpfHwwXSl9KSksaX0sdC5kaW1lbnNpb25zPVsidGltZSIsInZhbHVlIl0sdH0oKTtmdW5jdGlvbiBzTih0KXt2YXIgZT10LmNhbGVuZGFyTW9kZWwsbj10LnNlcmllc01vZGVsO3JldHVybiBlP2UuY29vcmRpbmF0ZVN5c3RlbTpuP24uY29vcmRpbmF0ZVN5c3RlbTpudWxsfXZhciBsTj1rcigpLHVOPXtwYXRoOm51bGwsY29tcG91bmRQYXRoOm51bGwsZ3JvdXA6RWksaW1hZ2U6ZXMsdGV4dDpjc30saE49ZnVuY3Rpb24odCl7dmFyIGU9dC5ncmFwaGljO0YoZSk/ZVswXSYmZVswXS5lbGVtZW50cz90LmdyYXBoaWM9W3QuZ3JhcGhpY1swXV06dC5ncmFwaGljPVt7ZWxlbWVudHM6ZX1dOmUmJiFlLmVsZW1lbnRzJiYodC5ncmFwaGljPVt7ZWxlbWVudHM6W2VdfV0pfSxjTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ucHJldmVudEF1dG9aPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXMub3B0aW9uLmVsZW1lbnRzO3RoaXMub3B0aW9uLmVsZW1lbnRzPW51bGwsdC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksdGhpcy5vcHRpb24uZWxlbWVudHM9aX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9KGU/bjp0KS5lbGVtZW50cyxyPW4uZWxlbWVudHM9ZT9bXTpuLmVsZW1lbnRzLG89W107dGhpcy5fZmxhdHRlbihpLG8sbnVsbCk7dmFyIGE9TXIocixvLCJub3JtYWxNZXJnZSIpLHM9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9W107UChhLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmV3T3B0aW9uO24mJihzLnB1c2gobiksZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4aXN0aW5nO2lmKGUuaWQ9dC5rZXlJbmZvLmlkLCFlLnR5cGUmJm4mJihlLnR5cGU9bi50eXBlKSxudWxsPT1lLnBhcmVudElkKXt2YXIgaT1lLnBhcmVudE9wdGlvbjtpP2UucGFyZW50SWQ9aS5pZDpuJiYoZS5wYXJlbnRJZD1uLnBhcmVudElkKX1lLnBhcmVudE9wdGlvbj1udWxsfSh0LG4pLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1JKHt9LG4pLHI9dFtlXSxvPW4uJGFjdGlvbnx8Im1lcmdlIjtpZigibWVyZ2UiPT09byl7aWYocilTKHIsaSwhMCksR2MocixpLHtpZ25vcmVTaXplOiEwfSksV2MobixyKTtlbHNlIHRbZV09aX1lbHNlInJlcGxhY2UiPT09bz90W2VdPWk6InJlbW92ZSI9PT1vJiZyJiYodFtlXT1udWxsKX0ocixlLG4pLGZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuO2lmKHQuaHY9ZS5odj1bZ04oZSxbImxlZnQiLCJyaWdodCJdKSxnTihlLFsidG9wIiwiYm90dG9tIl0pXSwiZ3JvdXAiPT09dC50eXBlKXt2YXIgbj10LGk9ZTtudWxsPT1uLndpZHRoJiYobi53aWR0aD1pLndpZHRoPTApLG51bGw9PW4uaGVpZ2h0JiYobi5oZWlnaHQ9aS5oZWlnaHQ9MCl9fShyW2VdLG4pKX0pLHRoaXMpO2Zvcih2YXIgbD1yLmxlbmd0aC0xO2w+PTA7bC0tKW51bGw9PXJbbF0/ci5zcGxpY2UobCwxKTpkZWxldGUgcltsXS4kYWN0aW9ufSxlLnByb3RvdHlwZS5fZmxhdHRlbj1mdW5jdGlvbih0LGUsbil7UCh0LChmdW5jdGlvbih0KXtpZih0KXtuJiYodC5wYXJlbnRPcHRpb249biksZS5wdXNoKHQpO3ZhciBpPXQuY2hpbGRyZW47Imdyb3VwIj09PXQudHlwZSYmaSYmdGhpcy5fZmxhdHRlbihpLGUsdCksZGVsZXRlIHQuY2hpbGRyZW59fSksdGhpcyl9LGUucHJvdG90eXBlLnVzZUVsT3B0aW9uc1RvVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU7cmV0dXJuIHRoaXMuX2VsT3B0aW9uc1RvVXBkYXRlPW51bGwsdH0sZS50eXBlPSJncmFwaGljIixlLmRlZmF1bHRPcHRpb249e2VsZW1lbnRzOltdfSxlfShYYykscE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuX2VsTWFwPWh0KCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dCE9PXRoaXMuX2xhc3RHcmFwaGljTW9kZWwmJnRoaXMuX2NsZWFyKCksdGhpcy5fbGFzdEdyYXBoaWNNb2RlbD10LHRoaXMuX3VwZGF0ZUVsZW1lbnRzKHQpLHRoaXMuX3JlbG9jYXRlKHQsbil9LGUucHJvdG90eXBlLl91cGRhdGVFbGVtZW50cz1mdW5jdGlvbih0KXt2YXIgZT10LnVzZUVsT3B0aW9uc1RvVXBkYXRlKCk7aWYoZSl7dmFyIG49dGhpcy5fZWxNYXAsaT10aGlzLmdyb3VwO1AoZSwoZnVuY3Rpb24oZSl7dmFyIHI9Q3IoZS5pZCxudWxsKSxvPW51bGwhPXI/bi5nZXQocik6bnVsbCxhPUNyKGUucGFyZW50SWQsbnVsbCkscz1udWxsIT1hP24uZ2V0KGEpOmksbD1lLnR5cGUsdT1lLnN0eWxlOyJ0ZXh0Ij09PWwmJnUmJmUuaHYmJmUuaHZbMV0mJih1LnRleHRWZXJ0aWNhbEFsaWduPXUudGV4dEJhc2VsaW5lPXUudmVydGljYWxBbGlnbj11LmFsaWduPW51bGwpO3ZhciBoPWUudGV4dENvbnRlbnQsYz1lLnRleHRDb25maWc7aWYodSYmamsodSxsLCEhYywhIWgpKXt2YXIgcD1xayh1LGwsITApOyFjJiZwLnRleHRDb25maWcmJihjPWUudGV4dENvbmZpZz1wLnRleHRDb25maWcpLCFoJiZwLnRleHRDb250ZW50JiYoaD1wLnRleHRDb250ZW50KX12YXIgZD1mdW5jdGlvbih0KXtyZXR1cm4gdD1JKHt9LHQpLFAoWyJpZCIsInBhcmVudElkIiwiJGFjdGlvbiIsImh2IiwiYm91bmRpbmciLCJ0ZXh0Q29udGVudCJdLmNvbmNhdChSYyksKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0W2VdfSkpLHR9KGUpO3ZhciBmPWUuJGFjdGlvbnx8Im1lcmdlIjsibWVyZ2UiPT09Zj9vP28uYXR0cihkKTpkTihyLHMsZCxuKToicmVwbGFjZSI9PT1mPyhmTihvLG4pLGROKHIscyxkLG4pKToicmVtb3ZlIj09PWYmJmZOKG8sbik7dmFyIGc9bi5nZXQocik7aWYoZyYmaClpZigibWVyZ2UiPT09Zil7dmFyIHk9Zy5nZXRUZXh0Q29udGVudCgpO3k/eS5hdHRyKGgpOmcuc2V0VGV4dENvbnRlbnQobmV3IGNzKGgpKX1lbHNlInJlcGxhY2UiPT09ZiYmZy5zZXRUZXh0Q29udGVudChuZXcgY3MoaCkpO2lmKGcpe3ZhciB2PWxOKGcpO3YuX19lY0dyYXBoaWNXaWR0aE9wdGlvbj1lLndpZHRoLHYuX19lY0dyYXBoaWNIZWlnaHRPcHRpb249ZS5oZWlnaHQsZnVuY3Rpb24odCxlLG4pe3ZhciBpPV9zKHQpLmV2ZW50RGF0YTt0LnNpbGVudHx8dC5pZ25vcmV8fGl8fChpPV9zKHQpLmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZToiZ3JhcGhpYyIsY29tcG9uZW50SW5kZXg6ZS5jb21wb25lbnRJbmRleCxuYW1lOnQubmFtZX0pO2kmJihpLmluZm89bi5pbmZvKX0oZyx0LGUpLG9oKHtlbDpnLGNvbXBvbmVudE1vZGVsOnQsaXRlbU5hbWU6Zy5uYW1lLGl0ZW1Ub29sdGlwT3B0aW9uOmUudG9vbHRpcH0pfX0pKX19LGUucHJvdG90eXBlLl9yZWxvY2F0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lm9wdGlvbi5lbGVtZW50cyxpPXRoaXMuZ3JvdXAscj10aGlzLl9lbE1hcCxvPWUuZ2V0V2lkdGgoKSxhPWUuZ2V0SGVpZ2h0KCkscz0wO3M8bi5sZW5ndGg7cysrKXtpZigoZD1udWxsIT0ocD1DcigoYz1uW3NdKS5pZCxudWxsKSk/ci5nZXQocCk6bnVsbCkmJmQuaXNHcm91cCl7dmFyIGw9KGY9ZC5wYXJlbnQpPT09aSx1PWxOKGQpLGg9bE4oZik7dS5fX2VjR3JhcGhpY1dpZHRoPVppKHUuX19lY0dyYXBoaWNXaWR0aE9wdGlvbixsP286aC5fX2VjR3JhcGhpY1dpZHRoKXx8MCx1Ll9fZWNHcmFwaGljSGVpZ2h0PVppKHUuX19lY0dyYXBoaWNIZWlnaHRPcHRpb24sbD9hOmguX19lY0dyYXBoaWNIZWlnaHQpfHwwfX1mb3Iocz1uLmxlbmd0aC0xO3M+PTA7cy0tKXt2YXIgYyxwLGQ7aWYoZD1udWxsIT0ocD1DcigoYz1uW3NdKS5pZCxudWxsKSk/ci5nZXQocCk6bnVsbCl7dmFyIGY9ZC5wYXJlbnQ7aD1sTihmKTtCYyhkLGMsZj09PWk/e3dpZHRoOm8saGVpZ2h0OmF9Ont3aWR0aDpoLl9fZWNHcmFwaGljV2lkdGgsaGVpZ2h0OmguX19lY0dyYXBoaWNIZWlnaHR9LG51bGwse2h2OmMuaHYsYm91bmRpbmdNb2RlOmMuYm91bmRpbmd9KX19fSxlLnByb3RvdHlwZS5fY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbE1hcDt0LmVhY2goKGZ1bmN0aW9uKGUpe2ZOKGUsdCl9KSksdGhpcy5fZWxNYXA9aHQoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyKCl9LGUudHlwZT0iZ3JhcGhpYyIsZX0od2YpO2Z1bmN0aW9uIGROKHQsZSxuLGkpe3ZhciByPW4udHlwZTt2YXIgbz1kdCh1TixyKT91TltyXTpSdShyKTt2YXIgYT1uZXcgbyhuKTtlLmFkZChhKSxpLnNldCh0LGEpLGxOKGEpLl9fZWNHcmFwaGljSWQ9dH1mdW5jdGlvbiBmTih0LGUpe3ZhciBuPXQmJnQucGFyZW50O24mJigiZ3JvdXAiPT09dC50eXBlJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtmTih0LGUpfSkpLGUucmVtb3ZlS2V5KGxOKHQpLl9fZWNHcmFwaGljSWQpLG4ucmVtb3ZlKHQpKX1mdW5jdGlvbiBnTih0LGUpe3ZhciBuO3JldHVybiBQKGUsKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV0mJihuPSEwKX0pKSxufXZhciB5Tj1bIngiLCJ5IiwicmFkaXVzIiwiYW5nbGUiLCJzaW5nbGUiXSx2Tj1bImNhcnRlc2lhbjJkIiwicG9sYXIiLCJzaW5nbGVBeGlzIl07ZnVuY3Rpb24gbU4odCl7cmV0dXJuIHQrIkF4aXMifWZ1bmN0aW9uIF9OKHQsZSl7dmFyIG4saT1odCgpLHI9W10sbz1odCgpO3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixxdWVyeTplfSwoZnVuY3Rpb24odCl7by5nZXQodC51aWQpfHxzKHQpfSkpO2Rve249ITEsdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsYSl9d2hpbGUobik7ZnVuY3Rpb24gYSh0KXshby5nZXQodC51aWQpJiZmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24odCxuKXt2YXIgcj1pLmdldCh0KTtyJiZyW25dJiYoZT0hMCl9KSksZX0odCkmJihzKHQpLG49ITApfWZ1bmN0aW9uIHModCl7by5zZXQodC51aWQsITApLHIucHVzaCh0KSx0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGUpeyhpLmdldCh0KXx8aS5zZXQodCxbXSkpW2VdPSEwfSkpfXJldHVybiByfWZ1bmN0aW9uIHhOKHQpe3ZhciBlPXQuZWNNb2RlbCxuPXtpbmZvTGlzdDpbXSxpbmZvTWFwOmh0KCl9O3JldHVybiB0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbih0LGkpe3ZhciByPWUuZ2V0Q29tcG9uZW50KG1OKHQpLGkpO2lmKHIpe3ZhciBvPXIuZ2V0Q29vcmRTeXNNb2RlbCgpO2lmKG8pe3ZhciBhPW8udWlkLHM9bi5pbmZvTWFwLmdldChhKTtzfHwocz17bW9kZWw6byxheGlzTW9kZWxzOltdfSxuLmluZm9MaXN0LnB1c2gocyksbi5pbmZvTWFwLnNldChhLHMpKSxzLmF4aXNNb2RlbHMucHVzaChyKX19fSkpLG59dmFyIGJOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaW5kZXhMaXN0PVtdLHRoaXMuaW5kZXhNYXA9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLmluZGV4TWFwW3RdfHwodGhpcy5pbmRleExpc3QucHVzaCh0KSx0aGlzLmluZGV4TWFwW3RdPSEwKX0sdH0oKSx3Tj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2F1dG9UaHJvdHRsZT0hMCxuLl9ub1RhcmdldD0hMCxuLl9yYW5nZVByb3BNb2RlPVsicGVyY2VudCIsInBlcmNlbnQiXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9U04odCk7dGhpcy5zZXR0bGVkT3B0aW9uPWksdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHRoaXMuX2RvSW5pdChpKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCl7dmFyIGU9U04odCk7Uyh0aGlzLm9wdGlvbix0LCEwKSxTKHRoaXMuc2V0dGxlZE9wdGlvbixlLCEwKSx0aGlzLl9kb0luaXQoZSl9LGUucHJvdG90eXBlLl9kb0luaXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247dGhpcy5fc2V0RGVmYXVsdFRocm90dGxlKHQpLHRoaXMuX3VwZGF0ZVJhbmdlVXNlKHQpO3ZhciBuPXRoaXMuc2V0dGxlZE9wdGlvbjtQKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sKGZ1bmN0aW9uKHQsaSl7InZhbHVlIj09PXRoaXMuX3JhbmdlUHJvcE1vZGVbaV0mJihlW3RbMF1dPW5bdFswXV09bnVsbCl9KSx0aGlzKSx0aGlzLl9yZXNldFRhcmdldCgpfSxlLnByb3RvdHlwZS5fcmVzZXRUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldCgib3JpZW50IiwhMCksZT10aGlzLl90YXJnZXRBeGlzSW5mb01hcD1odCgpO3RoaXMuX2ZpbGxTcGVjaWZpZWRUYXJnZXRBeGlzKGUpP3RoaXMuX29yaWVudD10fHx0aGlzLl9tYWtlQXV0b09yaWVudEJ5VGFyZ2V0QXhpcygpOih0aGlzLl9vcmllbnQ9dHx8Imhvcml6b250YWwiLHRoaXMuX2ZpbGxBdXRvVGFyZ2V0QXhpc0J5T3JpZW50KGUsdGhpcy5fb3JpZW50KSksdGhpcy5fbm9UYXJnZXQ9ITAsZS5lYWNoKChmdW5jdGlvbih0KXt0LmluZGV4TGlzdC5sZW5ndGgmJih0aGlzLl9ub1RhcmdldD0hMSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuX2ZpbGxTcGVjaWZpZWRUYXJnZXRBeGlzPWZ1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiBQKHlOLChmdW5jdGlvbihuKXt2YXIgaT10aGlzLmdldFJlZmVycmluZ0NvbXBvbmVudHMobU4obiksenIpO2lmKGkuc3BlY2lmaWVkKXtlPSEwO3ZhciByPW5ldyBiTjtQKGkubW9kZWxzLChmdW5jdGlvbih0KXtyLmFkZCh0LmNvbXBvbmVudEluZGV4KX0pKSx0LnNldChuLHIpfX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLl9maWxsQXV0b1RhcmdldEF4aXNCeU9yaWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZWNNb2RlbCxpPSEwO2lmKGkpe3ZhciByPSJ2ZXJ0aWNhbCI9PT1lPyJ5IjoieCI7byhuLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpyKyJBeGlzIn0pLHIpfWkmJm8obi5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6InNpbmdsZUF4aXMiLGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm9yaWVudCIsITApPT09ZX19KSwic2luZ2xlIik7ZnVuY3Rpb24gbyhlLG4pe3ZhciByPWVbMF07aWYocil7dmFyIG89bmV3IGJOO2lmKG8uYWRkKHIuY29tcG9uZW50SW5kZXgpLHQuc2V0KG4sbyksaT0hMSwieCI9PT1ufHwieSI9PT1uKXt2YXIgYT1yLmdldFJlZmVycmluZ0NvbXBvbmVudHMoImdyaWQiLE5yKS5tb2RlbHNbMF07YSYmUChlLChmdW5jdGlvbih0KXtyLmNvbXBvbmVudEluZGV4IT09dC5jb21wb25lbnRJbmRleCYmYT09PXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygiZ3JpZCIsTnIpLm1vZGVsc1swXSYmby5hZGQodC5jb21wb25lbnRJbmRleCl9KSl9fX1pJiZQKHlOLChmdW5jdGlvbihlKXtpZihpKXt2YXIgcj1uLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTptTihlKSxmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuImNhdGVnb3J5Ij09PXQuZ2V0KCJ0eXBlIiwhMCl9fSk7aWYoclswXSl7dmFyIG89bmV3IGJOO28uYWRkKHJbMF0uY29tcG9uZW50SW5kZXgpLHQuc2V0KGUsbyksaT0hMX19fSksdGhpcyl9LGUucHJvdG90eXBlLl9tYWtlQXV0b09yaWVudEJ5VGFyZ2V0QXhpcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihlKXshdCYmKHQ9ZSl9KSx0aGlzKSwieSI9PT10PyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxlLnByb3RvdHlwZS5fc2V0RGVmYXVsdFRocm90dGxlPWZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoInRocm90dGxlIikmJih0aGlzLl9hdXRvVGhyb3R0bGU9ITEpLHRoaXMuX2F1dG9UaHJvdHRsZSl7dmFyIGU9dGhpcy5lY01vZGVsLm9wdGlvbjt0aGlzLm9wdGlvbi50aHJvdHRsZT1lLmFuaW1hdGlvbiYmZS5hbmltYXRpb25EdXJhdGlvblVwZGF0ZT4wPzEwMDoyMH19LGUucHJvdG90eXBlLl91cGRhdGVSYW5nZVVzZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yYW5nZVByb3BNb2RlLG49dGhpcy5nZXQoInJhbmdlTW9kZSIpO1AoW1sic3RhcnQiLCJzdGFydFZhbHVlIl0sWyJlbmQiLCJlbmRWYWx1ZSJdXSwoZnVuY3Rpb24oaSxyKXt2YXIgbz1udWxsIT10W2lbMF1dLGE9bnVsbCE9dFtpWzFdXTtvJiYhYT9lW3JdPSJwZXJjZW50IjohbyYmYT9lW3JdPSJ2YWx1ZSI6bj9lW3JdPW5bcl06byYmKGVbcl09InBlcmNlbnQiKX0pKX0sZS5wcm90b3R5cGUubm9UYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9UYXJnZXR9LGUucHJvdG90eXBlLmdldEZpcnN0VGFyZ2V0QXhpc01vZGVsPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGUsbil7bnVsbD09dCYmKHQ9dGhpcy5lY01vZGVsLmdldENvbXBvbmVudChtTihlKSxuKSl9KSx0aGlzKSx0fSxlLnByb3RvdHlwZS5lYWNoVGFyZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3RoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmVhY2goKGZ1bmN0aW9uKG4saSl7UChuLmluZGV4TGlzdCwoZnVuY3Rpb24obil7dC5jYWxsKGUsaSxuKX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0QXhpc1Byb3h5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBeGlzTW9kZWwodCxlKTtpZihuKXJldHVybiBuLl9fZHpBeGlzUHJveHl9LGUucHJvdG90eXBlLmdldEF4aXNNb2RlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmdldCh0KTtpZihuJiZuLmluZGV4TWFwW2VdKXJldHVybiB0aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KG1OKHQpLGUpfSxlLnByb3RvdHlwZS5zZXRSYXdSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixuPXRoaXMuc2V0dGxlZE9wdGlvbjtQKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sKGZ1bmN0aW9uKGkpe251bGw9PXRbaVswXV0mJm51bGw9PXRbaVsxXV18fChlW2lbMF1dPW5baVswXV09dFtpWzBdXSxlW2lbMV1dPW5baVsxXV09dFtpWzFdXSl9KSx0aGlzKSx0aGlzLl91cGRhdGVSYW5nZVVzZSh0KX0sZS5wcm90b3R5cGUuc2V0Q2FsY3VsYXRlZFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO1AoWyJzdGFydCIsInN0YXJ0VmFsdWUiLCJlbmQiLCJlbmRWYWx1ZSJdLChmdW5jdGlvbihuKXtlW25dPXRbbl19KSl9LGUucHJvdG90eXBlLmdldFBlcmNlbnRSYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYodClyZXR1cm4gdC5nZXREYXRhUGVyY2VudFdpbmRvdygpfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVJhbmdlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dHx8bnVsbCE9ZSlyZXR1cm4gdGhpcy5nZXRBeGlzUHJveHkodCxlKS5nZXREYXRhVmFsdWVXaW5kb3coKTt2YXIgbj10aGlzLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO3JldHVybiBuP24uZ2V0RGF0YVZhbHVlV2luZG93KCk6dm9pZCAwfSxlLnByb3RvdHlwZS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHk9ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdC5fX2R6QXhpc1Byb3h5O2Zvcih2YXIgZSxuPXRoaXMuX3RhcmdldEF4aXNJbmZvTWFwLmtleXMoKSxpPTA7aTxuLmxlbmd0aDtpKyspZm9yKHZhciByPW5baV0sbz10aGlzLl90YXJnZXRBeGlzSW5mb01hcC5nZXQociksYT0wO2E8by5pbmRleExpc3QubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5nZXRBeGlzUHJveHkocixvLmluZGV4TGlzdFthXSk7aWYocy5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gcztlfHwoZT1zKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VQcm9wTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVByb3BNb2RlLnNsaWNlKCl9LGUucHJvdG90eXBlLmdldE9yaWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LGUudHlwZT0iZGF0YVpvb20iLGUuZGVwZW5kZW5jaWVzPVsieEF4aXMiLCJ5QXhpcyIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJzaW5nbGVBeGlzIiwic2VyaWVzIiwidG9vbGJveCJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo0LGZpbHRlck1vZGU6ImZpbHRlciIsc3RhcnQ6MCxlbmQ6MTAwfSxlfShYYyk7ZnVuY3Rpb24gU04odCl7dmFyIGU9e307cmV0dXJuIFAoWyJzdGFydCIsImVuZCIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsInRocm90dGxlIl0sKGZ1bmN0aW9uKG4pe3QuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkpLGV9dmFyIE1OPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0iZGF0YVpvb20uc2VsZWN0IixlfSh3TiksSU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPW59LGUudHlwZT0iZGF0YVpvb20iLGV9KHdmKSxUTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNlbGVjdCIsZX0oSU4pLENOPVAsRE49cWksQU49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX2RpbU5hbWU9dCx0aGlzLl9heGlzSW5kZXg9ZSx0aGlzLmVjTW9kZWw9aSx0aGlzLl9kYXRhWm9vbU1vZGVsPW59cmV0dXJuIHQucHJvdG90eXBlLmhvc3RlZEJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhWm9vbU1vZGVsPT09dH0sdC5wcm90b3R5cGUuZ2V0RGF0YVZhbHVlV2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlV2luZG93LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldERhdGFQZXJjZW50V2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmNlbnRXaW5kb3cuc2xpY2UoKX0sdC5wcm90b3R5cGUuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZihmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO3JldHVybiBEKHZOLGUpPj0wfShlKSl7dmFyIG49bU4odGhpcy5fZGltTmFtZSksaT1lLmdldFJlZmVycmluZ0NvbXBvbmVudHMobixOcikubW9kZWxzWzBdO2kmJnRoaXMuX2F4aXNJbmRleD09PWkuY29tcG9uZW50SW5kZXgmJnQucHVzaChlKX19KSx0aGlzKSx0fSx0LnByb3RvdHlwZS5nZXRBeGlzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0aGlzLl9kaW1OYW1lKyJBeGlzIix0aGlzLl9heGlzSW5kZXgpfSx0LnByb3RvdHlwZS5nZXRNaW5NYXhTcGFuPWZ1bmN0aW9uKCl7cmV0dXJuIHcodGhpcy5fbWluTWF4U3Bhbil9LHQucHJvdG90eXBlLmNhbGN1bGF0ZURhdGFXaW5kb3c9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9kYXRhRXh0ZW50LGk9dGhpcy5nZXRBeGlzTW9kZWwoKS5heGlzLnNjYWxlLHI9dGhpcy5fZGF0YVpvb21Nb2RlbC5nZXRSYW5nZVByb3BNb2RlKCksbz1bMCwxMDBdLGE9W10scz1bXTtDTihbInN0YXJ0IiwiZW5kIl0sKGZ1bmN0aW9uKGwsdSl7dmFyIGg9dFtsXSxjPXRbbCsiVmFsdWUiXTsicGVyY2VudCI9PT1yW3VdPyhudWxsPT1oJiYoaD1vW3VdKSxjPWkucGFyc2UoWWkoaCxvLG4pKSk6KGU9ITAsaD1ZaShjPW51bGw9PWM/blt1XTppLnBhcnNlKGMpLG4sbykpLHNbdV09YyxhW3VdPWh9KSksRE4ocyksRE4oYSk7dmFyIGw9dGhpcy5fbWluTWF4U3BhbjtmdW5jdGlvbiB1KHQsZSxuLHIsbyl7dmFyIGE9bz8iU3BhbiI6IlZhbHVlU3BhbiI7UEQoMCx0LG4sImFsbCIsbFsibWluIithXSxsWyJtYXgiK2FdKTtmb3IodmFyIHM9MDtzPDI7cysrKWVbc109WWkodFtzXSxuLHIsITApLG8mJihlW3NdPWkucGFyc2UoZVtzXSkpfXJldHVybiBlP3UocyxhLG4sbywhMSk6dShhLHMsbyxuLCEwKSx7dmFsdWVXaW5kb3c6cyxwZXJjZW50V2luZG93OmF9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXtpZih0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCl7dmFyIGU9dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKTt0aGlzLl9kYXRhRXh0ZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bMS8wLC0xLzBdO0NOKG4sKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7ZSYmUChYeChlLG4pLChmdW5jdGlvbihuKXt2YXIgaT1lLmdldEFwcHJveGltYXRlRXh0ZW50KG4pO2lbMF08dFswXSYmKHRbMF09aVswXSksaVsxXT50WzFdJiYodFsxXT1pWzFdKX0pKX0oaSx0LmdldERhdGEoKSxlKX0pKTt2YXIgcj10LmdldEF4aXNNb2RlbCgpLG89Tngoci5heGlzLnNjYWxlLHIsaSkuY2FsY3VsYXRlKCk7cmV0dXJuW28ubWluLG8ubWF4XX0odGhpcyx0aGlzLl9kaW1OYW1lLGUpLHRoaXMuX3VwZGF0ZU1pbk1heFNwYW4oKTt2YXIgbj10aGlzLmNhbGN1bGF0ZURhdGFXaW5kb3codC5zZXR0bGVkT3B0aW9uKTt0aGlzLl92YWx1ZVdpbmRvdz1uLnZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3c9bi5wZXJjZW50V2luZG93LHRoaXMuX3NldEF4aXNNb2RlbCgpfX0sdC5wcm90b3R5cGUuZmlsdGVyRGF0YT1mdW5jdGlvbih0LGUpe2lmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgbj10aGlzLl9kaW1OYW1lLGk9dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxyPXQuZ2V0KCJmaWx0ZXJNb2RlIiksbz10aGlzLl92YWx1ZVdpbmRvdzsibm9uZSIhPT1yJiZDTihpLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPWUubWFwRGltZW5zaW9uc0FsbChuKTtpLmxlbmd0aCYmKCJ3ZWFrRmlsdGVyIj09PXI/ZS5maWx0ZXJTZWxmKChmdW5jdGlvbih0KXtmb3IodmFyIG4scixhLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIGw9ZS5nZXQoaVtzXSx0KSx1PSFpc05hTihsKSxoPWw8b1swXSxjPWw+b1sxXTtpZih1JiYhaCYmIWMpcmV0dXJuITA7dSYmKGE9ITApLGgmJihuPSEwKSxjJiYocj0hMCl9cmV0dXJuIGEmJm4mJnJ9KSk6Q04oaSwoZnVuY3Rpb24obil7aWYoImVtcHR5Ij09PXIpdC5zZXREYXRhKGU9ZS5tYXAobiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0Pj1vWzBdJiZ0PD1vWzFdfSh0KT90Ok5hTn0pKSk7ZWxzZXt2YXIgaT17fTtpW25dPW8sZS5zZWxlY3RSYW5nZShpKX19KSksQ04oaSwoZnVuY3Rpb24odCl7ZS5zZXRBcHByb3hpbWF0ZUV4dGVudChvLHQpfSkpKX0pKX19LHQucHJvdG90eXBlLl91cGRhdGVNaW5NYXhTcGFuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWluTWF4U3Bhbj17fSxlPXRoaXMuX2RhdGFab29tTW9kZWwsbj10aGlzLl9kYXRhRXh0ZW50O0NOKFsibWluIiwibWF4Il0sKGZ1bmN0aW9uKGkpe3ZhciByPWUuZ2V0KGkrIlNwYW4iKSxvPWUuZ2V0KGkrIlZhbHVlU3BhbiIpO251bGwhPW8mJihvPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZS5wYXJzZShvKSksbnVsbCE9bz9yPVlpKG5bMF0rbyxuLFswLDEwMF0sITApOm51bGwhPXImJihvPVlpKHIsWzAsMTAwXSxuLCEwKS1uWzBdKSx0W2krIlNwYW4iXT1yLHRbaSsiVmFsdWVTcGFuIl09b30pLHRoaXMpfSx0LnByb3RvdHlwZS5fc2V0QXhpc01vZGVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBeGlzTW9kZWwoKSxlPXRoaXMuX3BlcmNlbnRXaW5kb3csbj10aGlzLl92YWx1ZVdpbmRvdztpZihlKXt2YXIgaT1KaShuLFswLDUwMF0pO2k9TWF0aC5taW4oaSwyMCk7dmFyIHI9dC5heGlzLnNjYWxlLnJhd0V4dGVudEluZm87MCE9PWVbMF0mJnIuc2V0RGV0ZXJtaW5lZE1pbk1heCgibWluIiwrblswXS50b0ZpeGVkKGkpKSwxMDAhPT1lWzFdJiZyLnNldERldGVybWluZWRNaW5NYXgoIm1heCIsK25bMV0udG9GaXhlZChpKSksci5mcmVlemUoKX19LHR9KCk7dmFyIExOPXtnZXRUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmVhY2hDb21wb25lbnQoImRhdGFab29tIiwoZnVuY3Rpb24obil7bi5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oaSxyKXt2YXIgbz10LmdldENvbXBvbmVudChtTihpKSxyKTtlKGkscixvLG4pfSkpfSkpfWUoKGZ1bmN0aW9uKHQsZSxuLGkpe24uX19kekF4aXNQcm94eT1udWxsfSkpO3ZhciBuPVtdO2UoKGZ1bmN0aW9uKGUsaSxyLG8pe3IuX19kekF4aXNQcm94eXx8KHIuX19kekF4aXNQcm94eT1uZXcgQU4oZSxpLG8sdCksbi5wdXNoKHIuX19kekF4aXNQcm94eSkpfSkpO3ZhciBpPWh0KCk7cmV0dXJuIFAobiwoZnVuY3Rpb24odCl7UCh0LmdldFRhcmdldFNlcmllc01vZGVscygpLChmdW5jdGlvbih0KXtpLnNldCh0LnVpZCx0KX0pKX0pKSxpfSxvdmVyYWxsUmVzZXQ6ZnVuY3Rpb24odCxlKXt0LmVhY2hDb21wb25lbnQoImRhdGFab29tIiwoZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oZSxuKXt0LmdldEF4aXNQcm94eShlLG4pLnJlc2V0KHQpfSkpLHQuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKG4saSl7dC5nZXRBeGlzUHJveHkobixpKS5maWx0ZXJEYXRhKHQsZSl9KSl9KSksdC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYoZSl7dmFyIG49ZS5nZXREYXRhUGVyY2VudFdpbmRvdygpLGk9ZS5nZXREYXRhVmFsdWVXaW5kb3coKTt0LnNldENhbGN1bGF0ZWRSYW5nZSh7c3RhcnQ6blswXSxlbmQ6blsxXSxzdGFydFZhbHVlOmlbMF0sZW5kVmFsdWU6aVsxXX0pfX0pKX19O3ZhciBrTj0hMTtmdW5jdGlvbiBQTih0KXtrTnx8KGtOPSEwLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuRklMVEVSLExOKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJkYXRhWm9vbSIsKGZ1bmN0aW9uKHQsZSl7UChfTihlLHQpLChmdW5jdGlvbihlKXtlLnNldFJhd1JhbmdlKHtzdGFydDp0LnN0YXJ0LGVuZDp0LmVuZCxzdGFydFZhbHVlOnQuc3RhcnRWYWx1ZSxlbmRWYWx1ZTp0LmVuZFZhbHVlfSl9KSl9KSl9KHQpLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJkYXRhWm9vbSIsKGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KSkpfWZ1bmN0aW9uIE9OKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChNTiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoVE4pLFBOKHQpfXZhciBSTj1mdW5jdGlvbigpe30sTk49e307ZnVuY3Rpb24gek4odCxlKXtOTlt0XT1lfWZ1bmN0aW9uIEVOKHQpe3JldHVybiBOTlt0XX12YXIgVk49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZWNNb2RlbDtQKHRoaXMub3B0aW9uLmZlYXR1cmUsKGZ1bmN0aW9uKHQsbil7dmFyIGk9RU4obik7aSYmKGkuZ2V0RGVmYXVsdE9wdGlvbiYmKGkuZGVmYXVsdE9wdGlvbj1pLmdldERlZmF1bHRPcHRpb24oZSkpLFModCxpLmRlZmF1bHRPcHRpb24pKX0pKX0sZS50eXBlPSJ0b29sYm94IixlLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sZS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHo6Nix6bGV2ZWw6MCxvcmllbnQ6Imhvcml6b250YWwiLGxlZnQ6InJpZ2h0Iix0b3A6InRvcCIsYmFja2dyb3VuZENvbG9yOiJ0cmFuc3BhcmVudCIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1TaXplOjE1LGl0ZW1HYXA6OCxzaG93VGl0bGU6ITAsaWNvblN0eWxlOntib3JkZXJDb2xvcjoiIzY2NiIsY29sb3I6Im5vbmUifSxlbXBoYXNpczp7aWNvblN0eWxlOntib3JkZXJDb2xvcjoiIzNFOThDNSJ9fSx0b29sdGlwOntzaG93OiExLHBvc2l0aW9uOiJib3R0b20ifX0sZX0oWGMpO2Z1bmN0aW9uIEJOKHQsZSl7dmFyIG49d2MoZS5nZXQoInBhZGRpbmciKSksaT1lLmdldEl0ZW1TdHlsZShbImNvbG9yIiwib3BhY2l0eSJdKTtyZXR1cm4gaS5maWxsPWUuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSx0PW5ldyBscyh7c2hhcGU6e3g6dC54LW5bM10seTp0LnktblswXSx3aWR0aDp0LndpZHRoK25bMV0rblszXSxoZWlnaHQ6dC5oZWlnaHQrblswXStuWzJdLHI6ZS5nZXQoImJvcmRlclJhZGl1cyIpfSxzdHlsZTppLHNpbGVudDohMCx6MjotMX0pfXZhciBGTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLmdyb3VwO2lmKHIucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIG89K3QuZ2V0KCJpdGVtU2l6ZSIpLGE9dC5nZXQoImZlYXR1cmUiKXx8e30scz10aGlzLl9mZWF0dXJlc3x8KHRoaXMuX2ZlYXR1cmVzPXt9KSxsPVtdO1AoYSwoZnVuY3Rpb24odCxlKXtsLnB1c2goZSl9KSksbmV3IG5fKHRoaXMuX2ZlYXR1cmVOYW1lc3x8W10sbCkuYWRkKHUpLnVwZGF0ZSh1KS5yZW1vdmUoQih1LG51bGwpKS5leGVjdXRlKCksdGhpcy5fZmVhdHVyZU5hbWVzPWwsZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0Qm94TGF5b3V0UGFyYW1zKCkscj1lLmdldCgicGFkZGluZyIpLG89e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKX0sYT1WYyhpLG8scik7RWMoZS5nZXQoIm9yaWVudCIpLHQsZS5nZXQoIml0ZW1HYXAiKSxhLndpZHRoLGEuaGVpZ2h0KSxCYyh0LGksbyxyKX0ocix0LG4pLHIuYWRkKEJOKHIuZ2V0Qm91bmRpbmdSZWN0KCksdCkpLHIuZWFjaENoaWxkKChmdW5jdGlvbih0KXt2YXIgZT10Ll9fdGl0bGUsaT10LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLGE9aS50ZXh0Q29uZmlnfHwoaS50ZXh0Q29uZmlnPXt9KSxzPXQuZ2V0VGV4dENvbnRlbnQoKSxsPXMmJnMuc3RhdGVzLmVtcGhhc2lzO2lmKGwmJiFHKGwpJiZlKXt2YXIgdT1sLnN0eWxlfHwobC5zdHlsZT17fSksaD1iaShlLGNzLm1ha2VGb250KHUpKSxjPXQueCtyLngscD0hMTt0Lnkrci55K28raC5oZWlnaHQ+bi5nZXRIZWlnaHQoKSYmKGEucG9zaXRpb249InRvcCIscD0hMCk7dmFyIGQ9cD8tNS1oLmhlaWdodDpvKzg7YytoLndpZHRoLzI+bi5nZXRXaWR0aCgpPyhhLnBvc2l0aW9uPVsiMTAwJSIsZF0sdS5hbGlnbj0icmlnaHQiKTpjLWgud2lkdGgvMjwwJiYoYS5wb3NpdGlvbj1bMCxkXSx1LmFsaWduPSJsZWZ0Iil9fSkpfWZ1bmN0aW9uIHUodSxoKXt2YXIgYyxwPWxbdV0sZD1sW2hdLGY9YVtwXSxnPW5ldyBPaChmLHQsdC5lY01vZGVsKTtpZihpJiZudWxsIT1pLm5ld1RpdGxlJiZpLmZlYXR1cmVOYW1lPT09cCYmKGYudGl0bGU9aS5uZXdUaXRsZSkscCYmIWQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJteSIpfShwKSljPXtvbmNsaWNrOmcub3B0aW9uLm9uY2xpY2ssZmVhdHVyZU5hbWU6cH07ZWxzZXt2YXIgeT1FTihwKTtpZigheSlyZXR1cm47Yz1uZXcgeX1zW3BdPWN9ZWxzZSBpZighKGM9c1tkXSkpcmV0dXJuO2MudWlkPU5oKCJ0b29sYm94LWZlYXR1cmUiKSxjLm1vZGVsPWcsYy5lY01vZGVsPWUsYy5hcGk9bjt2YXIgdj1jIGluc3RhbmNlb2YgUk47cHx8IWQ/IWcuZ2V0KCJzaG93Iil8fHYmJmMudW51c2FibGU/diYmYy5yZW1vdmUmJmMucmVtb3ZlKGUsbik6KCFmdW5jdGlvbihpLGEscyl7dmFyIGwsdSxoPWkuZ2V0TW9kZWwoImljb25TdHlsZSIpLGM9aS5nZXRNb2RlbChbImVtcGhhc2lzIiwiaWNvblN0eWxlIl0pLHA9YSBpbnN0YW5jZW9mIFJOJiZhLmdldEljb25zP2EuZ2V0SWNvbnMoKTppLmdldCgiaWNvbiIpLGQ9aS5nZXQoInRpdGxlIil8fHt9OyJzdHJpbmciPT10eXBlb2YgcD8obD17fSlbc109cDpsPXA7InN0cmluZyI9PXR5cGVvZiBkPyh1PXt9KVtzXT1kOnU9ZDt2YXIgZj1pLmljb25QYXRocz17fTtQKGwsKGZ1bmN0aW9uKHMsbCl7dmFyIHA9ZWgocyx7fSx7eDotby8yLHk6LW8vMix3aWR0aDpvLGhlaWdodDpvfSk7cC5zZXRTdHlsZShoLmdldEl0ZW1TdHlsZSgpKSxwLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPWMuZ2V0SXRlbVN0eWxlKCk7dmFyIGQ9bmV3IGNzKHtzdHlsZTp7dGV4dDp1W2xdLGFsaWduOmMuZ2V0KCJ0ZXh0QWxpZ24iKSxib3JkZXJSYWRpdXM6Yy5nZXQoInRleHRCb3JkZXJSYWRpdXMiKSxwYWRkaW5nOmMuZ2V0KCJ0ZXh0UGFkZGluZyIpLGZpbGw6bnVsbH0saWdub3JlOiEwfSk7cC5zZXRUZXh0Q29udGVudChkKSxvaCh7ZWw6cCxjb21wb25lbnRNb2RlbDp0LGl0ZW1OYW1lOmwsZm9ybWF0dGVyUGFyYW1zRXh0cmE6e3RpdGxlOnVbbF19fSkscC5fX3RpdGxlPXVbbF0scC5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24oKXt2YXIgZT1jLmdldEl0ZW1TdHlsZSgpLG49InZlcnRpY2FsIj09PXQuZ2V0KCJvcmllbnQiKT9udWxsPT10LmdldCgicmlnaHQiKT8icmlnaHQiOiJsZWZ0IjpudWxsPT10LmdldCgiYm90dG9tIik/ImJvdHRvbSI6InRvcCI7ZC5zZXRTdHlsZSh7ZmlsbDpjLmdldCgidGV4dEZpbGwiKXx8ZS5maWxsfHxlLnN0cm9rZXx8IiMwMDAiLGJhY2tncm91bmRDb2xvcjpjLmdldCgidGV4dEJhY2tncm91bmRDb2xvciIpfSkscC5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpjLmdldCgidGV4dFBvc2l0aW9uIil8fG59KSxkLmlnbm9yZT0hdC5nZXQoInNob3dUaXRsZSIpLGpzKHRoaXMpfSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7ImVtcGhhc2lzIiE9PWkuZ2V0KFsiaWNvblN0YXR1cyIsbF0pJiZxcyh0aGlzKSxkLmhpZGUoKX0pKSwoImVtcGhhc2lzIj09PWkuZ2V0KFsiaWNvblN0YXR1cyIsbF0pP2pzOnFzKShwKSxyLmFkZChwKSxwLm9uKCJjbGljayIsVihhLm9uY2xpY2ssYSxlLG4sbCkpLGZbbF09cH0pKX0oZyxjLHApLGcuc2V0SWNvblN0YXR1cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9dGhpcy5pY29uUGF0aHM7bi5pY29uU3RhdHVzPW4uaWNvblN0YXR1c3x8e30sbi5pY29uU3RhdHVzW3RdPWUsaVt0XSYmKCJlbXBoYXNpcyI9PT1lP2pzOnFzKShpW3RdKX0sYyBpbnN0YW5jZW9mIFJOJiZjLnJlbmRlciYmYy5yZW5kZXIoZyxlLG4saSkpOnYmJmMuZGlzcG9zZSYmYy5kaXNwb3NlKGUsbil9fSxlLnByb3RvdHlwZS51cGRhdGVWaWV3PWZ1bmN0aW9uKHQsZSxuLGkpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBSTiYmdC51cGRhdGVWaWV3JiZ0LnVwZGF0ZVZpZXcodC5tb2RlbCxlLG4saSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKG4pe24gaW5zdGFuY2VvZiBSTiYmbi5yZW1vdmUmJm4ucmVtb3ZlKHQsZSl9KSksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe1AodGhpcy5fZmVhdHVyZXMsKGZ1bmN0aW9uKG4pe24gaW5zdGFuY2VvZiBSTiYmbi5kaXNwb3NlJiZuLmRpc3Bvc2UodCxlKX0pKX0sZS50eXBlPSJ0b29sYm94IixlfSh3Zik7dmFyIEdOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubW9kZWwsaT1uLmdldCgibmFtZSIpfHx0LmdldCgidGl0bGUuMC50ZXh0Iil8fCJlY2hhcnRzIixyPSJzdmciPT09ZS5nZXRacigpLnBhaW50ZXIuZ2V0VHlwZSgpLG89cj8ic3ZnIjpuLmdldCgidHlwZSIsITApfHwicG5nIixzPWUuZ2V0Q29ubmVjdGVkRGF0YVVSTCh7dHlwZTpvLGJhY2tncm91bmRDb2xvcjpuLmdldCgiYmFja2dyb3VuZENvbG9yIiwhMCl8fHQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8IiNmZmYiLGNvbm5lY3RlZEJhY2tncm91bmRDb2xvcjpuLmdldCgiY29ubmVjdGVkQmFja2dyb3VuZENvbG9yIiksZXhjbHVkZUNvbXBvbmVudHM6bi5nZXQoImV4Y2x1ZGVDb21wb25lbnRzIikscGl4ZWxSYXRpbzpuLmdldCgicGl4ZWxSYXRpbyIpfSk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE1vdXNlRXZlbnR8fCFhLmJyb3dzZXIubmV3RWRnZSYmKGEuYnJvd3Nlci5pZXx8YS5icm93c2VyLmVkZ2UpKWlmKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYnx8cil7dmFyIGw9cy5zcGxpdCgiLCIpLHU9bFswXS5pbmRleE9mKCJiYXNlNjQiKT4tMSxoPXI/ZGVjb2RlVVJJQ29tcG9uZW50KGxbMV0pOmxbMV07dSYmKGg9d2luZG93LmF0b2IoaCkpO3ZhciBjPWkrIi4iK287aWYod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKXtmb3IodmFyIHA9aC5sZW5ndGgsZD1uZXcgVWludDhBcnJheShwKTtwLS07KWRbcF09aC5jaGFyQ29kZUF0KHApO3ZhciBmPW5ldyBCbG9iKFtkXSk7d2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGYsYyl9ZWxzZXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGcpO3ZhciB5PWcuY29udGVudFdpbmRvdyx2PXkuZG9jdW1lbnQ7di5vcGVuKCJpbWFnZS9zdmcreG1sIiwicmVwbGFjZSIpLHYud3JpdGUoaCksdi5jbG9zZSgpLHkuZm9jdXMoKSx2LmV4ZWNDb21tYW5kKCJTYXZlQXMiLCEwLGMpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZyl9fWVsc2V7dmFyIG09bi5nZXQoImxhbmciKSxfPSc8Ym9keSBzdHlsZT0ibWFyZ2luOjA7Ij48aW1nIHNyYz0iJytzKyciIHN0eWxlPSJtYXgtd2lkdGg6MTAwJTsiIHRpdGxlPSInKyhtJiZtWzBdfHwiIikrJyIgLz48L2JvZHk+Jyx4PXdpbmRvdy5vcGVuKCk7eC5kb2N1bWVudC53cml0ZShfKSx4LmRvY3VtZW50LnRpdGxlPWl9ZWxzZXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Yi5kb3dubG9hZD1pKyIuIitvLGIudGFyZ2V0PSJfYmxhbmsiLGIuaHJlZj1zO3ZhciB3PW5ldyBNb3VzZUV2ZW50KCJjbGljayIse3ZpZXc6ZG9jdW1lbnQuZGVmYXVsdFZpZXcsYnViYmxlczohMCxjYW5jZWxhYmxlOiExfSk7Yi5kaXNwYXRjaEV2ZW50KHcpfX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLGljb246Ik00LjcsMjIuOUwyOS4zLDQ1LjVMNTQuNywyMy40TTQuNiw0My42TDQuNiw1OEw1My44LDU4TDUzLjgsNDMuNk0yOS4yLDQ1LjFMMjkuMiwwIix0aXRsZTp0LmdldExvY2FsZShbInRvb2xib3giLCJzYXZlQXNJbWFnZSIsInRpdGxlIl0pLHR5cGU6InBuZyIsY29ubmVjdGVkQmFja2dyb3VuZENvbG9yOiIjZmZmIixuYW1lOiIiLGV4Y2x1ZGVDb21wb25lbnRzOlsidG9vbGJveCJdLGxhbmc6dC5nZXRMb2NhbGUoWyJ0b29sYm94Iiwic2F2ZUFzSW1hZ2UiLCJsYW5nIl0pfX0sZX0oUk4pO0dOLnByb3RvdHlwZS51bnVzYWJsZT0hYS5jYW52YXNTdXBwb3J0ZWQ7dmFyIEhOPSJfX2VjX21hZ2ljVHlwZV9zdGFja19fIixXTj1bWyJsaW5lIiwiYmFyIl0sWyJzdGFjayJdXSxVTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEljb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbCxlPXQuZ2V0KCJpY29uIiksbj17fTtyZXR1cm4gUCh0LmdldCgidHlwZSIpLChmdW5jdGlvbih0KXtlW3RdJiYoblt0XT1lW3RdKX0pKSxufSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsdHlwZTpbXSxpY29uOntsaW5lOiJNNC4xLDI4LjloNy4xbDkuMy0yMmw3LjQsMzhsOS43LTE5LjdsMywxMi44aDE0LjlNNC4xLDU4aDUxLjQiLGJhcjoiTTYuNywyMi45aDEwVjQ4aC0xMFYyMi45ek0yNC45LDEzaDEwdjM1aC0xMFYxM3pNNDMuMiwyaDEwdjQ2aC0xMFYyek0zLjEsNThoNTMuNyIsc3RhY2s6Ik04LjIsMzguNGwtOC40LDQuMWwzMC42LDE1LjNMNjAsNDIuNWwtOC4xLTQuMWwtMjEuNSwxMUw4LjIsMzguNHogTTUxLjksMzBsLTguMSw0LjJsLTEzLjQsNi45bC0xMy45LTYuOUw4LjIsMzBsLTguNCw0LjJsOC40LDQuMmwyMi4yLDExbDIxLjUtMTFsOC4xLTQuMkw1MS45LDMweiBNNTEuOSwyMS43bC04LjEsNC4yTDM1LjcsMzBsLTUuMywyLjhMMjQuOSwzMGwtOC40LTQuMWwtOC4zLTQuMmwtOC40LDQuMkw4LjIsMzBsOC4zLDQuMmwxMy45LDYuOWwxMy40LTYuOWw4LjEtNC4ybDguMS00LjFMNTEuOSwyMS43ek0zMC40LDIuMkwtMC4yLDE3LjVsOC40LDQuMWw4LjMsNC4ybDguNCw0LjJsNS41LDIuN2w1LjMtMi43bDguMS00LjJsOC4xLTQuMmw4LjEtNC4xTDMwLjQsMi4yeiJ9LHRpdGxlOnQuZ2V0TG9jYWxlKFsidG9vbGJveCIsIm1hZ2ljVHlwZSIsInRpdGxlIl0pLG9wdGlvbjp7fSxzZXJpZXNJbmRleDp7fX19LGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMubW9kZWwscj1pLmdldChbInNlcmllc0luZGV4IixuXSk7aWYoWE5bbl0pe3ZhciBvLGE9e3NlcmllczpbXX07UChXTiwoZnVuY3Rpb24odCl7RCh0LG4pPj0wJiZQKHQsKGZ1bmN0aW9uKHQpe2kuc2V0SWNvblN0YXR1cyh0LCJub3JtYWwiKX0pKX0pKSxpLnNldEljb25TdGF0dXMobiwiZW1waGFzaXMiKSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHF1ZXJ5Om51bGw9PXI/bnVsbDp7c2VyaWVzSW5kZXg6cn19LChmdW5jdGlvbih0KXt2YXIgZT10LnN1YlR5cGUscj10LmlkLG89WE5bbl0oZSxyLHQsaSk7byYmKFQobyx0Lm9wdGlvbiksYS5zZXJpZXMucHVzaChvKSk7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtO2lmKHMmJiJjYXJ0ZXNpYW4yZCI9PT1zLnR5cGUmJigibGluZSI9PT1ufHwiYmFyIj09PW4pKXt2YXIgbD1zLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF07aWYobCl7dmFyIHU9bC5kaW0rIkF4aXMiLGg9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKHUsTnIpLm1vZGVsc1swXS5jb21wb25lbnRJbmRleDthW3VdPWFbdV18fFtdO2Zvcih2YXIgYz0wO2M8PWg7YysrKWFbdV1baF09YVt1XVtoXXx8e307YVt1XVtoXS5ib3VuZGFyeUdhcD0iYmFyIj09PW59fX0pKTt2YXIgcz1uOyJzdGFjayI9PT1uJiYobz1TKHtzdGFjazppLm9wdGlvbi50aXRsZS50aWxlZCx0aWxlZDppLm9wdGlvbi50aXRsZS5zdGFja30saS5vcHRpb24udGl0bGUpLCJlbXBoYXNpcyIhPT1pLmdldChbImljb25TdGF0dXMiLG5dKSYmKHM9InRpbGVkIikpLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZU1hZ2ljVHlwZSIsY3VycmVudFR5cGU6cyxuZXdPcHRpb246YSxuZXdUaXRsZTpvLGZlYXR1cmVOYW1lOiJtYWdpY1R5cGUifSl9fSxlfShSTiksWE49e2xpbmU6ZnVuY3Rpb24odCxlLG4saSl7aWYoImJhciI9PT10KXJldHVybiBTKHtpZDplLHR5cGU6ImxpbmUiLGRhdGE6bi5nZXQoImRhdGEiKSxzdGFjazpuLmdldCgic3RhY2siKSxtYXJrUG9pbnQ6bi5nZXQoIm1hcmtQb2ludCIpLG1hcmtMaW5lOm4uZ2V0KCJtYXJrTGluZSIpfSxpLmdldChbIm9wdGlvbiIsImxpbmUiXSl8fHt9LCEwKX0sYmFyOmZ1bmN0aW9uKHQsZSxuLGkpe2lmKCJsaW5lIj09PXQpcmV0dXJuIFMoe2lkOmUsdHlwZToiYmFyIixkYXRhOm4uZ2V0KCJkYXRhIiksc3RhY2s6bi5nZXQoInN0YWNrIiksbWFya1BvaW50Om4uZ2V0KCJtYXJrUG9pbnQiKSxtYXJrTGluZTpuLmdldCgibWFya0xpbmUiKX0saS5nZXQoWyJvcHRpb24iLCJiYXIiXSl8fHt9LCEwKX0sc3RhY2s6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5nZXQoInN0YWNrIik9PT1ITjtpZigibGluZSI9PT10fHwiYmFyIj09PXQpcmV0dXJuIGkuc2V0SWNvblN0YXR1cygic3RhY2siLHI/Im5vcm1hbCI6ImVtcGhhc2lzIiksUyh7aWQ6ZSxzdGFjazpyPyIiOkhOfSxpLmdldChbIm9wdGlvbiIsInN0YWNrIl0pfHx7fSwhMCl9fTtIbSh7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixldmVudDoibWFnaWNUeXBlQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7ZS5tZXJnZU9wdGlvbih0Lm5ld09wdGlvbil9KSk7dmFyIFlOPW5ldyBBcnJheSg2MCkuam9pbigiLSIpLFpOPSJcdCI7ZnVuY3Rpb24gak4odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxzXHMqLywiIikucmVwbGFjZSgvXHNccyokLywiIil9dmFyIHFOPW5ldyBSZWdFeHAoIltcdF0rIiwiZyIpO2Z1bmN0aW9uIEtOKHQsZSl7dmFyIG49dC5zcGxpdChuZXcgUmVnRXhwKCJcbioiK1lOKyJcbioiLCJnIikpLGk9e3NlcmllczpbXX07cmV0dXJuIFAobiwoZnVuY3Rpb24odCxuKXtpZihmdW5jdGlvbih0KXtpZih0LnNsaWNlKDAsdC5pbmRleE9mKCJcbiIpKS5pbmRleE9mKFpOKT49MClyZXR1cm4hMH0odCkpe3ZhciByPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNwbGl0KC9cbisvZyksbj1bXSxpPU8oak4oZS5zaGlmdCgpKS5zcGxpdChxTiksKGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQsZGF0YTpbXX19KSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1qTihlW3JdKS5zcGxpdChxTik7bi5wdXNoKG8uc2hpZnQoKSk7Zm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspaVthXSYmKGlbYV0uZGF0YVtyXT1vW2FdKX1yZXR1cm57c2VyaWVzOmksY2F0ZWdvcmllczpufX0odCksbz1lW25dLGE9by5heGlzRGltKyJBeGlzIjtvJiYoaVthXT1pW2FdfHxbXSxpW2FdW28uYXhpc0luZGV4XT17ZGF0YTpyLmNhdGVnb3JpZXN9LGkuc2VyaWVzPWkuc2VyaWVzLmNvbmNhdChyLnNlcmllcykpfWVsc2V7cj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zcGxpdCgvXG4rL2cpLG49ak4oZS5zaGlmdCgpKSxpPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ak4oZVtyXSk7aWYobyl7dmFyIGE9by5zcGxpdChxTikscz0iIixsPXZvaWQgMCx1PSExO2lzTmFOKGFbMF0pPyh1PSEwLHM9YVswXSxhPWEuc2xpY2UoMSksaVtyXT17bmFtZTpzLHZhbHVlOltdfSxsPWlbcl0udmFsdWUpOmw9aVtyXT1bXTtmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKylsLnB1c2goK2FbaF0pOzE9PT1sLmxlbmd0aCYmKHU/aVtyXS52YWx1ZT1sWzBdOmlbcl09bFswXSl9fXJldHVybntuYW1lOm4sZGF0YTppfX0odCk7aS5zZXJpZXMucHVzaChyKX19KSksaX12YXIgJE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREb20oKSxpPXRoaXMubW9kZWw7dGhpcy5fZG9tJiZuLnJlbW92ZUNoaWxkKHRoaXMuX2RvbSk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjVweDt0b3A6NXB4O2JvdHRvbTo1cHg7cmlnaHQ6NXB4OyIsci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9aS5nZXQoImJhY2tncm91bmRDb2xvciIpfHwiI2ZmZiI7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDQiKSxhPWkuZ2V0KCJsYW5nIil8fFtdO28uaW5uZXJIVE1MPWFbMF18fGkuZ2V0KCJ0aXRsZSIpLG8uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOiAxMHB4IDIwcHg7IixvLnN0eWxlLmNvbG9yPWkuZ2V0KCJ0ZXh0Q29sb3IiKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7cy5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7b3ZlcmZsb3c6YXV0bzsiO3ZhciB1PWkuZ2V0KCJvcHRpb25Ub0NvbnRlbnQiKSxoPWkuZ2V0KCJjb250ZW50VG9PcHRpb24iKSxjPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49W10saT1bXTtyZXR1cm4gdC5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIXJ8fCJjYXJ0ZXNpYW4yZCIhPT1yLnR5cGUmJiJwb2xhciIhPT1yLnR5cGUpbi5wdXNoKHQpO2Vsc2V7dmFyIG89ci5nZXRCYXNlQXhpcygpO2lmKCJjYXRlZ29yeSI9PT1vLnR5cGUpe3ZhciBhPW8uZGltKyJfIitvLmluZGV4O2VbYV18fChlW2FdPXtjYXRlZ29yeUF4aXM6byx2YWx1ZUF4aXM6ci5nZXRPdGhlckF4aXMobyksc2VyaWVzOltdfSxpLnB1c2goe2F4aXNEaW06by5kaW0sYXhpc0luZGV4Om8uaW5kZXh9KSksZVthXS5zZXJpZXMucHVzaCh0KX1lbHNlIG4ucHVzaCh0KX19KSkse3Nlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXM6ZSxvdGhlcjpuLG1ldGE6aX19KHQpO3JldHVybnt2YWx1ZTpOKFsobj1yLnNlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXMsaT1bXSxQKG4sKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jYXRlZ29yeUF4aXMscj10LnZhbHVlQXhpcy5kaW0sbz1bIiAiXS5jb25jYXQoTyh0LnNlcmllcywoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKSksYT1bbi5tb2RlbC5nZXRDYXRlZ29yaWVzKCldO1AodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpO2EucHVzaCh0LmdldFJhd0RhdGEoKS5tYXBBcnJheShlLm1hcERpbWVuc2lvbihyKSwoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpfSkpO2Zvcih2YXIgcz1bby5qb2luKFpOKV0sbD0wO2w8YVswXS5sZW5ndGg7bCsrKXtmb3IodmFyIHU9W10saD0wO2g8YS5sZW5ndGg7aCsrKXUucHVzaChhW2hdW2xdKTtzLnB1c2godS5qb2luKFpOKSl9aS5wdXNoKHMuam9pbigiXG4iKSl9KSksaS5qb2luKCJcblxuIitZTisiXG5cbiIpKSwoZT1yLm90aGVyLE8oZSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYXdEYXRhKCksbj1bdC5uYW1lXSxpPVtdO3JldHVybiBlLmVhY2goZS5kaW1lbnNpb25zLChmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9YXJndW1lbnRzW3QtMV0sbz1lLmdldE5hbWUociksYT0wO2E8dC0xO2ErKylpW2FdPWFyZ3VtZW50c1thXTtuLnB1c2goKG8/bytaTjoiIikraS5qb2luKFpOKSl9KSksbi5qb2luKCJcbiIpfSkpLmpvaW4oIlxuXG4iK1lOKyJcblxuIikpXSwoZnVuY3Rpb24odCl7cmV0dXJuISF0LnJlcGxhY2UoL1tcblx0XHNdL2csIiIpfSkpLmpvaW4oIlxuXG4iK1lOKyJcblxuIiksbWV0YTpyLm1ldGF9fSh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdSl7dmFyIHA9dShlLmdldE9wdGlvbigpKTsic3RyaW5nIj09dHlwZW9mIHA/cy5pbm5lckhUTUw9cDpqKHApJiZzLmFwcGVuZENoaWxkKHApfWVsc2Ugcy5hcHBlbmRDaGlsZChsKSxsLnJlYWRPbmx5PWkuZ2V0KCJyZWFkT25seSIpLGwuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmb250LWZhbWlseTptb25vc3BhY2U7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS42cmVtOyIsbC5zdHlsZS5jb2xvcj1pLmdldCgidGV4dENvbG9yIiksbC5zdHlsZS5ib3JkZXJDb2xvcj1pLmdldCgidGV4dGFyZWFCb3JkZXJDb2xvciIpLGwuc3R5bGUuYmFja2dyb3VuZENvbG9yPWkuZ2V0KCJ0ZXh0YXJlYUNvbG9yIiksbC52YWx1ZT1jLnZhbHVlO3ZhciBkPWMubWV0YSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ijt2YXIgZz0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjIwcHg7Ym9yZGVyOm5vbmU7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoycHggNXB4O2ZvbnQtc2l6ZToxMnB4O2JvcmRlci1yYWRpdXM6M3B4Iix5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zys9IjtiYWNrZ3JvdW5kLWNvbG9yOiIraS5nZXQoImJ1dHRvbkNvbG9yIiksZys9Ijtjb2xvcjoiK2kuZ2V0KCJidXR0b25UZXh0Q29sb3IiKTt2YXIgbT10aGlzO2Z1bmN0aW9uIF8oKXtuLnJlbW92ZUNoaWxkKHIpLG0uX2RvbT1udWxsfXRlKHksImNsaWNrIixfKSx0ZSh2LCJjbGljayIsKGZ1bmN0aW9uKCl7aWYobnVsbD09aCYmbnVsbCE9dXx8bnVsbCE9aCYmbnVsbD09dSlfKCk7ZWxzZXt2YXIgdDt0cnl7dD0iZnVuY3Rpb24iPT10eXBlb2YgaD9oKHMsZS5nZXRPcHRpb24oKSk6S04obC52YWx1ZSxkKX1jYXRjaCh0KXt0aHJvdyBfKCksbmV3IEVycm9yKCJEYXRhIHZpZXcgZm9ybWF0IGVycm9yICIrdCl9dCYmZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlRGF0YVZpZXciLG5ld09wdGlvbjp0fSksXygpfX0pKSx5LmlubmVySFRNTD1hWzFdLHYuaW5uZXJIVE1MPWFbMl0sdi5zdHlsZS5jc3NUZXh0PWcseS5zdHlsZS5jc3NUZXh0PWcsIWkuZ2V0KCJyZWFkT25seSIpJiZmLmFwcGVuZENoaWxkKHYpLGYuYXBwZW5kQ2hpbGQoeSksci5hcHBlbmRDaGlsZChvKSxyLmFwcGVuZENoaWxkKHMpLHIuYXBwZW5kQ2hpbGQoZikscy5zdHlsZS5oZWlnaHQ9bi5jbGllbnRIZWlnaHQtODArInB4IixuLmFwcGVuZENoaWxkKHIpLHRoaXMuX2RvbT1yfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9kb20mJmUuZ2V0RG9tKCkucmVtb3ZlQ2hpbGQodGhpcy5fZG9tKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMucmVtb3ZlKHQsZSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCxyZWFkT25seTohMSxvcHRpb25Ub0NvbnRlbnQ6bnVsbCxjb250ZW50VG9PcHRpb246bnVsbCxpY29uOiJNMTcuNSwxNy4zSDMzIE0xNy41LDE3LjNIMzMgTTQ1LjQsMjkuNWgtMjggTTExLjUsMnY1Nkg1MVYxNC44TDM4LjQsMkgxMS41eiBNMzguNCwyLjJ2MTIuN0g1MSBNNDUuNCw0MS43aC0yOCIsdGl0bGU6dC5nZXRMb2NhbGUoWyJ0b29sYm94IiwiZGF0YVZpZXciLCJ0aXRsZSJdKSxsYW5nOnQuZ2V0TG9jYWxlKFsidG9vbGJveCIsImRhdGFWaWV3IiwibGFuZyJdKSxiYWNrZ3JvdW5kQ29sb3I6IiNmZmYiLHRleHRDb2xvcjoiIzAwMCIsdGV4dGFyZWFDb2xvcjoiI2ZmZiIsdGV4dGFyZWFCb3JkZXJDb2xvcjoiIzMzMyIsYnV0dG9uQ29sb3I6IiNjMjM1MzEiLGJ1dHRvblRleHRDb2xvcjoiI2ZmZiJ9fSxlfShSTik7ZnVuY3Rpb24gSk4odCxlKXtyZXR1cm4gTyh0LChmdW5jdGlvbih0LG4pe3ZhciBpPWUmJmVbbl07aWYoWChpKSYmIUYoaSkpe1godCkmJiFGKHQpfHwodD17dmFsdWU6dH0pO3ZhciByPW51bGwhPWkubmFtZSYmbnVsbD09dC5uYW1lO3JldHVybiB0PVQodCxpKSxyJiZkZWxldGUgdC5uYW1lLHR9cmV0dXJuIHR9KSl9SG0oe3R5cGU6ImNoYW5nZURhdGFWaWV3IixldmVudDoiZGF0YVZpZXdDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSwoZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtQKHQubmV3T3B0aW9uLnNlcmllcywoZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXRTZXJpZXNCeU5hbWUodC5uYW1lKVswXTtpZihpKXt2YXIgcj1pLmdldCgiZGF0YSIpO24ucHVzaCh7bmFtZTp0Lm5hbWUsZGF0YTpKTih0LmRhdGEscil9KX1lbHNlIG4ucHVzaChJKHt0eXBlOiJzY2F0dGVyIn0sdCkpfSkpLGUubWVyZ2VPcHRpb24oVCh7c2VyaWVzOm59LHQubmV3T3B0aW9uKSl9KSk7dmFyIFFOPVAsdHo9a3IoKTtmdW5jdGlvbiBleih0KXt2YXIgZT10eih0KTtyZXR1cm4gZS5zbmFwc2hvdHN8fChlLnNuYXBzaG90cz1be31dKSxlLnNuYXBzaG90c312YXIgbno9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSl7IWZ1bmN0aW9uKHQpe3R6KHQpLnNuYXBzaG90cz1udWxsfSh0KSxlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJyZXN0b3JlIixmcm9tOnRoaXMudWlkfSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCxpY29uOiJNMy44LDMzLjQgTTQ3LDE4LjloOS44VjguNyBNNTYuMywyMC4xIEM1Mi4xLDksNDAuNSwwLjYsMjYuOCwyLjFDMTIuNiwzLjcsMS42LDE2LjIsMi4xLDMwLjYgTTEzLDQxLjFIMy4xdjEwLjIgTTMuNywzOS45YzQuMiwxMS4xLDE1LjgsMTkuNSwyOS41LDE4IGMxNC4yLTEuNiwyNS4yLTE0LjEsMjQuNy0yOC41Iix0aXRsZTp0LmdldExvY2FsZShbInRvb2xib3giLCJyZXN0b3JlIiwidGl0bGUiXSl9fSxlfShSTik7SG0oe3R5cGU6InJlc3RvcmUiLGV2ZW50OiJyZXN0b3JlIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSwoZnVuY3Rpb24odCxlKXtlLnJlc2V0T3B0aW9uKCJyZWNyZWF0ZSIpfSkpO3ZhciBpej1bImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwiZ2VvIiwiZ3JhcGgiLCJwb2xhciIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJibWFwIl0scno9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX3RhcmdldEluZm9MaXN0PVtdO3ZhciByPWF6KGUsdCk7UChzeiwoZnVuY3Rpb24odCxlKXsoIW58fCFuLmluY2x1ZGV8fEQobi5pbmNsdWRlLGUpPj0wKSYmdChyLGkuX3RhcmdldEluZm9MaXN0KX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0T3V0cHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWF0Y2hPdXRwdXRSYW5nZXModCxlLChmdW5jdGlvbih0LGUsbil7aWYoKHQuY29vcmRSYW5nZXN8fCh0LmNvb3JkUmFuZ2VzPVtdKSkucHVzaChlKSwhdC5jb29yZFJhbmdlKXt0LmNvb3JkUmFuZ2U9ZTt2YXIgaT1oelt0LmJydXNoVHlwZV0oMCxuLGUpO3QuX19yYW5nZU9mZnNldD17b2Zmc2V0OnB6W3QuYnJ1c2hUeXBlXShpLnZhbHVlcyx0LnJhbmdlLFsxLDFdKSx4eU1pbk1heDppLnh5TWluTWF4fX19KSksdH0sdC5wcm90b3R5cGUubWF0Y2hPdXRwdXRSYW5nZXM9ZnVuY3Rpb24odCxlLG4pe1AodCwoZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LGUpO2kmJiEwIT09aSYmUChpLmNvb3JkU3lzZXMsKGZ1bmN0aW9uKGkpe3ZhciByPWh6W3QuYnJ1c2hUeXBlXSgxLGksdC5yYW5nZSwhMCk7bih0LHIudmFsdWVzLGksZSl9KSl9KSx0aGlzKX0sdC5wcm90b3R5cGUuc2V0SW5wdXRSYW5nZXM9ZnVuY3Rpb24odCxlKXtQKHQsKGZ1bmN0aW9uKHQpe3ZhciBuLGkscixvLGEscz10aGlzLmZpbmRUYXJnZXRJbmZvKHQsZSk7aWYodC5yYW5nZT10LnJhbmdlfHxbXSxzJiYhMCE9PXMpe3QucGFuZWxJZD1zLnBhbmVsSWQ7dmFyIGw9aHpbdC5icnVzaFR5cGVdKDAscy5jb29yZFN5cyx0LmNvb3JkUmFuZ2UpLHU9dC5fX3JhbmdlT2Zmc2V0O3QucmFuZ2U9dT9welt0LmJydXNoVHlwZV0obC52YWx1ZXMsdS5vZmZzZXQsKG49bC54eU1pbk1heCxpPXUueHlNaW5NYXgscj1meihuKSxvPWZ6KGkpLGE9W3JbMF0vb1swXSxyWzFdL29bMV1dLGlzTmFOKGFbMF0pJiYoYVswXT0xKSxpc05hTihhWzFdKSYmKGFbMV09MSksYSkpOmwudmFsdWVzfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5tYWtlUGFuZWxPcHRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE8odGhpcy5fdGFyZ2V0SW5mb0xpc3QsKGZ1bmN0aW9uKG4pe3ZhciBpPW4uZ2V0UGFuZWxSZWN0KCk7cmV0dXJue3BhbmVsSWQ6bi5wYW5lbElkLGRlZmF1bHRCcnVzaFR5cGU6ZT9lKG4pOm51bGwsY2xpcFBhdGg6UkEoaSksaXNUYXJnZXRCeUN1cnNvcjp6QShpLHQsbi5jb29yZFN5c01vZGVsKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50Ok5BKGkpfX0pKX0sdC5wcm90b3R5cGUuY29udHJvbFNlcmllcz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LG4pO3JldHVybiEwPT09aXx8aSYmRChpLmNvb3JkU3lzZXMsZS5jb29yZGluYXRlU3lzdGVtKT49MH0sdC5wcm90b3R5cGUuZmluZFRhcmdldEluZm89ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fdGFyZ2V0SW5mb0xpc3QsaT1heihlLHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxhPXQucGFuZWxJZDtpZihhKXtpZihvLnBhbmVsSWQ9PT1hKXJldHVybiBvfWVsc2UgZm9yKHZhciBzPTA7czxsei5sZW5ndGg7cysrKWlmKGx6W3NdKGksbykpcmV0dXJuIG99cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gb3oodCl7cmV0dXJuIHRbMF0+dFsxXSYmdC5yZXZlcnNlKCksdH1mdW5jdGlvbiBheih0LGUpe3JldHVybiBPcih0LGUse2luY2x1ZGVNYWluVHlwZXM6aXp9KX12YXIgc3o9e2dyaWQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnhBeGlzTW9kZWxzLGk9dC55QXhpc01vZGVscyxyPXQuZ3JpZE1vZGVscyxvPWh0KCksYT17fSxzPXt9OyhufHxpfHxyKSYmKFAobiwoZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7by5zZXQoZS5pZCxlKSxhW2UuaWRdPSEwfSkpLFAoaSwoZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7by5zZXQoZS5pZCxlKSxzW2UuaWRdPSEwfSkpLFAociwoZnVuY3Rpb24odCl7by5zZXQodC5pZCx0KSxhW3QuaWRdPSEwLHNbdC5pZF09ITB9KSksby5lYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1bXTtQKHIuZ2V0Q2FydGVzaWFucygpLChmdW5jdGlvbih0LGUpeyhEKG4sdC5nZXRBeGlzKCJ4IikubW9kZWwpPj0wfHxEKGksdC5nZXRBeGlzKCJ5IikubW9kZWwpPj0wKSYmby5wdXNoKHQpfSkpLGUucHVzaCh7cGFuZWxJZDoiZ3JpZC0tIit0LmlkLGdyaWRNb2RlbDp0LGNvb3JkU3lzTW9kZWw6dCxjb29yZFN5czpvWzBdLGNvb3JkU3lzZXM6byxnZXRQYW5lbFJlY3Q6dXouZ3JpZCx4QXhpc0RlY2xhcmVkOmFbdC5pZF0seUF4aXNEZWNsYXJlZDpzW3QuaWRdfSl9KSkpfSxnZW86ZnVuY3Rpb24odCxlKXtQKHQuZ2VvTW9kZWxzLChmdW5jdGlvbih0KXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07ZS5wdXNoKHtwYW5lbElkOiJnZW8tLSIrdC5pZCxnZW9Nb2RlbDp0LGNvb3JkU3lzTW9kZWw6dCxjb29yZFN5czpuLGNvb3JkU3lzZXM6W25dLGdldFBhbmVsUmVjdDp1ei5nZW99KX0pKX19LGx6PVtmdW5jdGlvbih0LGUpe3ZhciBuPXQueEF4aXNNb2RlbCxpPXQueUF4aXNNb2RlbCxyPXQuZ3JpZE1vZGVsO3JldHVybiFyJiZuJiYocj1uLmF4aXMuZ3JpZC5tb2RlbCksIXImJmkmJihyPWkuYXhpcy5ncmlkLm1vZGVsKSxyJiZyPT09ZS5ncmlkTW9kZWx9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZW9Nb2RlbDtyZXR1cm4gbiYmbj09PWUuZ2VvTW9kZWx9XSx1ej17Z3JpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkU3lzLm1hc3Rlci5nZXRSZWN0KCkuY2xvbmUoKX0sZ2VvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb29yZFN5cyxlPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtyZXR1cm4gZS5hcHBseVRyYW5zZm9ybShqdSh0KSksZX19LGh6PXtsaW5lWDpCKGN6LDApLGxpbmVZOkIoY3osMSkscmVjdDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10P2UucG9pbnRUb0RhdGEoW25bMF1bMF0sblsxXVswXV0saSk6ZS5kYXRhVG9Qb2ludChbblswXVswXSxuWzFdWzBdXSxpKSxvPXQ/ZS5wb2ludFRvRGF0YShbblswXVsxXSxuWzFdWzFdXSxpKTplLmRhdGFUb1BvaW50KFtuWzBdWzFdLG5bMV1bMV1dLGkpLGE9W296KFtyWzBdLG9bMF1dKSxveihbclsxXSxvWzFdXSldO3JldHVybnt2YWx1ZXM6YSx4eU1pbk1heDphfX0scG9seWdvbjpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1bWzEvMCwtMS8wXSxbMS8wLC0xLzBdXTtyZXR1cm57dmFsdWVzOk8obiwoZnVuY3Rpb24obil7dmFyIG89dD9lLnBvaW50VG9EYXRhKG4saSk6ZS5kYXRhVG9Qb2ludChuLGkpO3JldHVybiByWzBdWzBdPU1hdGgubWluKHJbMF1bMF0sb1swXSksclsxXVswXT1NYXRoLm1pbihyWzFdWzBdLG9bMV0pLHJbMF1bMV09TWF0aC5tYXgoclswXVsxXSxvWzBdKSxyWzFdWzFdPU1hdGgubWF4KHJbMV1bMV0sb1sxXSksb30pKSx4eU1pbk1heDpyfX19O2Z1bmN0aW9uIGN6KHQsZSxuLGkpe3ZhciByPW4uZ2V0QXhpcyhbIngiLCJ5Il1bdF0pLG89b3ooTyhbMCwxXSwoZnVuY3Rpb24odCl7cmV0dXJuIGU/ci5jb29yZFRvRGF0YShyLnRvTG9jYWxDb29yZChpW3RdKSwhMCk6ci50b0dsb2JhbENvb3JkKHIuZGF0YVRvQ29vcmQoaVt0XSkpfSkpKSxhPVtdO3JldHVybiBhW3RdPW8sYVsxLXRdPVtOYU4sTmFOXSx7dmFsdWVzOm8seHlNaW5NYXg6YX19dmFyIHB6PXtsaW5lWDpCKGR6LDApLGxpbmVZOkIoZHosMSkscmVjdDpmdW5jdGlvbih0LGUsbil7cmV0dXJuW1t0WzBdWzBdLW5bMF0qZVswXVswXSx0WzBdWzFdLW5bMF0qZVswXVsxXV0sW3RbMV1bMF0tblsxXSplWzFdWzBdLHRbMV1bMV0tblsxXSplWzFdWzFdXV19LHBvbHlnb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPKHQsKGZ1bmN0aW9uKHQsaSl7cmV0dXJuW3RbMF0tblswXSplW2ldWzBdLHRbMV0tblsxXSplW2ldWzFdXX0pKX19O2Z1bmN0aW9uIGR6KHQsZSxuLGkpe3JldHVybltlWzBdLWlbdF0qblswXSxlWzFdLWlbdF0qblsxXV19ZnVuY3Rpb24gZnoodCl7cmV0dXJuIHQ/W3RbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF1dOltOYU4sTmFOXX12YXIgZ3oseXosdno9UCxtej1fcisidG9vbGJveC1kYXRhWm9vbV8iLF96PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2JydXNoQ29udHJvbGxlcnx8KHRoaXMuX2JydXNoQ29udHJvbGxlcj1uZXcgaUEobi5nZXRacigpKSx0aGlzLl9icnVzaENvbnRyb2xsZXIub24oImJydXNoIixWKHRoaXMuX29uQnJ1c2gsdGhpcykpLm1vdW50KCkpLGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5faXNab29tQWN0aXZlO2kmJiJ0YWtlR2xvYmFsQ3Vyc29yIj09PWkudHlwZSYmKG89ImRhdGFab29tU2VsZWN0Ij09PWkua2V5JiZpLmRhdGFab29tU2VsZWN0QWN0aXZlKTtuLl9pc1pvb21BY3RpdmU9byx0LnNldEljb25TdGF0dXMoInpvb20iLG8/ImVtcGhhc2lzIjoibm9ybWFsIik7dmFyIGE9bmV3IHJ6KGJ6KHQpLGUse2luY2x1ZGU6WyJncmlkIl19KS5tYWtlUGFuZWxPcHRzKHIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnhBeGlzRGVjbGFyZWQmJiF0LnlBeGlzRGVjbGFyZWQ/ImxpbmVYIjohdC54QXhpc0RlY2xhcmVkJiZ0LnlBeGlzRGVjbGFyZWQ/ImxpbmVZIjoicmVjdCJ9KSk7bi5fYnJ1c2hDb250cm9sbGVyLnNldFBhbmVscyhhKS5lbmFibGVCcnVzaCghKCFvfHwhYS5sZW5ndGgpJiZ7YnJ1c2hUeXBlOiJhdXRvIixicnVzaFN0eWxlOnQuZ2V0TW9kZWwoImJydXNoU3R5bGUiKS5nZXRJdGVtU3R5bGUoKX0pfSh0LGUsdGhpcyxpLG4pLGZ1bmN0aW9uKHQsZSl7dC5zZXRJY29uU3RhdHVzKCJiYWNrIixmdW5jdGlvbih0KXtyZXR1cm4gZXoodCkubGVuZ3RofShlKT4xPyJlbXBoYXNpcyI6Im5vcm1hbCIpfSh0LGUpfSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSxuKXt4eltuXS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9icnVzaENvbnRyb2xsZXImJnRoaXMuX2JydXNoQ29udHJvbGxlci51bm1vdW50KCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9icnVzaENvbnRyb2xsZXImJnRoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9LGUucHJvdG90eXBlLl9vbkJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXJlYXM7aWYodC5pc0VuZCYmZS5sZW5ndGgpe3ZhciBuPXt9LGk9dGhpcy5lY01vZGVsO3RoaXMuX2JydXNoQ29udHJvbGxlci51cGRhdGVDb3ZlcnMoW10pLG5ldyByeihieih0aGlzLm1vZGVsKSxpLHtpbmNsdWRlOlsiZ3JpZCJdfSkubWF0Y2hPdXRwdXRSYW5nZXMoZSxpLChmdW5jdGlvbih0LGUsbil7aWYoImNhcnRlc2lhbjJkIj09PW4udHlwZSl7dmFyIGk9dC5icnVzaFR5cGU7InJlY3QiPT09aT8ocigieCIsbixlWzBdKSxyKCJ5IixuLGVbMV0pKTpyKHtsaW5lWDoieCIsbGluZVk6InkifVtpXSxuLGUpfX0pKSxmdW5jdGlvbih0LGUpe3ZhciBuPWV6KHQpO1FOKGUsKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciByPW4ubGVuZ3RoLTE7cj49MCYmIW5bcl1baV07ci0tKTtpZihyPDApe3ZhciBvPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToiZGF0YVpvb20iLHN1YlR5cGU6InNlbGVjdCIsaWQ6aX0pWzBdO2lmKG8pe3ZhciBhPW8uZ2V0UGVyY2VudFJhbmdlKCk7blswXVtpXT17ZGF0YVpvb21JZDppLHN0YXJ0OmFbMF0sZW5kOmFbMV19fX19KSksbi5wdXNoKGUpfShpLG4pLHRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbihuKX1mdW5jdGlvbiByKHQsZSxyKXt2YXIgbz1lLmdldEF4aXModCksYT1vLm1vZGVsLHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO3JldHVybiBuLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0In0sKGZ1bmN0aW9uKG4pe24uZ2V0QXhpc01vZGVsKHQsZS5jb21wb25lbnRJbmRleCkmJihpPW4pfSkpLGl9KHQsYSxpKSxsPXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KGEpLmdldE1pbk1heFNwYW4oKTtudWxsPT1sLm1pblZhbHVlU3BhbiYmbnVsbD09bC5tYXhWYWx1ZVNwYW58fChyPVBEKDAsci5zbGljZSgpLG8uc2NhbGUuZ2V0RXh0ZW50KCksMCxsLm1pblZhbHVlU3BhbixsLm1heFZhbHVlU3BhbikpLHMmJihuW3MuaWRdPXtkYXRhWm9vbUlkOnMuaWQsc3RhcnRWYWx1ZTpyWzBdLGVuZFZhbHVlOnJbMV19KX19LGUucHJvdG90eXBlLl9kaXNwYXRjaFpvb21BY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9W107dnoodCwoZnVuY3Rpb24odCxuKXtlLnB1c2godyh0KSl9KSksZS5sZW5ndGgmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkYXRhWm9vbSIsZnJvbTp0aGlzLnVpZCxiYXRjaDplfSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCxmaWx0ZXJNb2RlOiJmaWx0ZXIiLGljb246e3pvb206Ik0wLDEzLjVoMjYuOSBNMTMuNSwyNi45VjAgTTMyLjEsMTMuNUg1OFY1OEgxMy41IFYzMi4xIixiYWNrOiJNMjIsMS40TDkuOSwxMy41bDEyLjMsMTIuMyBNMTAuMywxMy41SDU0Ljl2NDQuNiBIMTAuM3YtMjYifSx0aXRsZTp0LmdldExvY2FsZShbInRvb2xib3giLCJkYXRhWm9vbSIsInRpdGxlIl0pLGJydXNoU3R5bGU6e2JvcmRlcldpZHRoOjAsY29sb3I6InJnYmEoMjEwLDIxOSwyMzgsMC4yKSJ9fX0sZX0oUk4pLHh6PXt6b29tOmZ1bmN0aW9uKCl7dmFyIHQ9IXRoaXMuX2lzWm9vbUFjdGl2ZTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGFrZUdsb2JhbEN1cnNvciIsa2V5OiJkYXRhWm9vbVNlbGVjdCIsZGF0YVpvb21TZWxlY3RBY3RpdmU6dH0pfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciBlPWV6KHQpLG49ZVtlLmxlbmd0aC0xXTtlLmxlbmd0aD4xJiZlLnBvcCgpO3ZhciBpPXt9O3JldHVybiBRTihuLChmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHQ9ZVtyXVtuXSl7aVtuXT10O2JyZWFrfX0pKSxpfSh0aGlzLmVjTW9kZWwpKX19O2Z1bmN0aW9uIGJ6KHQpe3ZhciBlPXt4QXhpc0luZGV4OnQuZ2V0KCJ4QXhpc0luZGV4IiwhMCkseUF4aXNJbmRleDp0LmdldCgieUF4aXNJbmRleCIsITApLHhBeGlzSWQ6dC5nZXQoInhBeGlzSWQiLCEwKSx5QXhpc0lkOnQuZ2V0KCJ5QXhpc0lkIiwhMCl9O3JldHVybiBudWxsPT1lLnhBeGlzSW5kZXgmJm51bGw9PWUueEF4aXNJZCYmKGUueEF4aXNJbmRleD0iYWxsIiksbnVsbD09ZS55QXhpc0luZGV4JiZudWxsPT1lLnlBeGlzSWQmJihlLnlBeGlzSW5kZXg9ImFsbCIpLGV9Z3o9ImRhdGFab29tIix5ej1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvbXBvbmVudCgidG9vbGJveCIsMCksbj1bImZlYXR1cmUiLCJkYXRhWm9vbSJdO2lmKGUmJm51bGwhPWUuZ2V0KG4pKXt2YXIgaT1lLmdldE1vZGVsKG4pLHI9W10sbz1Pcih0LGJ6KGkpKTtyZXR1cm4gdnooby54QXhpc01vZGVscywoZnVuY3Rpb24odCl7cmV0dXJuIGEodCwieEF4aXMiLCJ4QXhpc0luZGV4Iil9KSksdnooby55QXhpc01vZGVscywoZnVuY3Rpb24odCl7cmV0dXJuIGEodCwieUF4aXMiLCJ5QXhpc0luZGV4Iil9KSkscn1mdW5jdGlvbiBhKHQsZSxuKXt2YXIgbz10LmNvbXBvbmVudEluZGV4LGE9e3R5cGU6InNlbGVjdCIsJGZyb21Ub29sYm94OiEwLGZpbHRlck1vZGU6aS5nZXQoImZpbHRlck1vZGUiLCEwKXx8ImZpbHRlciIsaWQ6bXorZStvfTthW25dPW8sci5wdXNoKGEpfX0scnQobnVsbD09ZHAuZ2V0KGd6KSYmeXopLGRwLnNldChneix5eik7dmFyIHd6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idG9vbHRpcCIsZS5kZXBlbmRlbmNpZXM9WyJheGlzUG9pbnRlciJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo2MCxzaG93OiEwLHNob3dDb250ZW50OiEwLHRyaWdnZXI6Iml0ZW0iLHRyaWdnZXJPbjoibW91c2Vtb3ZlfGNsaWNrIixhbHdheXNTaG93Q29udGVudDohMSxkaXNwbGF5TW9kZToic2luZ2xlIixyZW5kZXJNb2RlOiJhdXRvIixjb25maW5lOm51bGwsc2hvd0RlbGF5OjAsaGlkZURlbGF5OjEwMCx0cmFuc2l0aW9uRHVyYXRpb246LjQsZW50ZXJhYmxlOiExLGJhY2tncm91bmRDb2xvcjoiI2ZmZiIsc2hhZG93Qmx1cjoxMCxzaGFkb3dDb2xvcjoicmdiYSgwLCAwLCAwLCAuMikiLHNoYWRvd09mZnNldFg6MSxzaGFkb3dPZmZzZXRZOjIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MSxwYWRkaW5nOm51bGwsZXh0cmFDc3NUZXh0OiIiLGF4aXNQb2ludGVyOnt0eXBlOiJsaW5lIixheGlzOiJhdXRvIixhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxhbmltYXRpb25FYXNpbmdVcGRhdGU6ImV4cG9uZW50aWFsT3V0Iixjcm9zc1N0eWxlOntjb2xvcjoiIzk5OSIsd2lkdGg6MSx0eXBlOiJkYXNoZWQiLHRleHRTdHlsZTp7fX19LHRleHRTdHlsZTp7Y29sb3I6IiM2NjYiLGZvbnRTaXplOjE0fX0sZX0oWGMpO2Z1bmN0aW9uIFN6KHQpe3ZhciBlPXQuZ2V0KCJjb25maW5lIik7cmV0dXJuIG51bGwhPWU/ISFlOiJyaWNoVGV4dCI9PT10LmdldCgicmVuZGVyTW9kZSIpfWZ1bmN0aW9uIE16KHQpe2lmKGEuZG9tU3VwcG9ydGVkKWZvcih2YXIgZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZih0W25daW4gZSlyZXR1cm4gdFtuXX12YXIgSXo9TXooWyJ0cmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iXSk7ZnVuY3Rpb24gVHoodCxlKXtpZighdClyZXR1cm4gZTtlPWJjKGUsITApO3ZhciBuPXQuaW5kZXhPZihlKTtyZXR1cm4odD0tMT09PW4/ZToiLSIrdC5zbGljZSgwLG4pKyItIitlKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIEN6KHQsZSl7dmFyIG49dC5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQpO3JldHVybiBuP2U/bltlXTpuOm51bGx9dmFyIER6PVR6KE16KFsid2Via2l0VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJtc1RyYW5zaXRpb24iXSksInRyYW5zaXRpb24iKSxBej1UeihJeiwidHJhbnNmb3JtIiksTHo9InBvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXN0eWxlOnNvbGlkO3doaXRlLXNwYWNlOm5vd3JhcDt6LWluZGV4Ojk5OTk5OTk7IisoYS50cmFuc2Zvcm0zZFN1cHBvcnRlZD8id2lsbC1jaGFuZ2U6dHJhbnNmb3JtOyI6IiIpO2Z1bmN0aW9uIGt6KHQsZSxuKXt2YXIgaT10LnRvRml4ZWQoMCkrInB4IixyPWUudG9GaXhlZCgwKSsicHgiO2lmKCFhLnRyYW5zZm9ybVN1cHBvcnRlZClyZXR1cm4gbj8idG9wOiIrcisiO2xlZnQ6IitpKyI7IjpbWyJ0b3AiLHJdLFsibGVmdCIsaV1dO3ZhciBvPWEudHJhbnNmb3JtM2RTdXBwb3J0ZWQscz0idHJhbnNsYXRlIisobz8iM2QiOiIiKSsiKCIraSsiLCIrcisobz8iLDAiOiIiKSsiKSI7cmV0dXJuIG4/InRvcDowO2xlZnQ6MDsiK0F6KyI6IitzKyI7IjpbWyJ0b3AiLDBdLFsibGVmdCIsMF0sW0l6LHNdXX1mdW5jdGlvbiBQeih0LGUsbil7dmFyIGk9W10scj10LmdldCgidHJhbnNpdGlvbkR1cmF0aW9uIiksbz10LmdldCgiYmFja2dyb3VuZENvbG9yIikscz10LmdldCgic2hhZG93Qmx1ciIpLGw9dC5nZXQoInNoYWRvd0NvbG9yIiksdT10LmdldCgic2hhZG93T2Zmc2V0WCIpLGg9dC5nZXQoInNoYWRvd09mZnNldFkiKSxjPXQuZ2V0TW9kZWwoInRleHRTdHlsZSIpLHA9dWYodCwiaHRtbCIpLGQ9dSsicHggIitoKyJweCAiK3MrInB4ICIrbDtyZXR1cm4gaS5wdXNoKCJib3gtc2hhZG93OiIrZCksZSYmciYmaS5wdXNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ImN1YmljLWJlemllcigwLjIzLDEsMC4zMiwxKSIsaT0iICIrdC8yKyJzICIrbixyPSJvcGFjaXR5IitpKyIsdmlzaWJpbGl0eSIraTtyZXR1cm4gZXx8KGk9IiAiK3QrInMgIituLHIrPWEudHJhbnNmb3JtU3VwcG9ydGVkPyIsIitBeitpOiIsbGVmdCIraSsiLHRvcCIraSksRHorIjoiK3J9KHIsbikpLG8mJihhLmNhbnZhc1N1cHBvcnRlZD9pLnB1c2goImJhY2tncm91bmQtY29sb3I6IitvKTooaS5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiMiK1hlKG8pKSxpLnB1c2goImZpbHRlcjphbHBoYShvcGFjaXR5PTcwKSIpKSksUChbIndpZHRoIiwiY29sb3IiLCJyYWRpdXMiXSwoZnVuY3Rpb24oZSl7dmFyIG49ImJvcmRlci0iK2Uscj1iYyhuKSxvPXQuZ2V0KHIpO251bGwhPW8mJmkucHVzaChuKyI6IitvKygiY29sb3IiPT09ZT8iIjoicHgiKSl9KSksaS5wdXNoKGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5nZXQoImZvbnRTaXplIiksaT10LmdldFRleHRDb2xvcigpO2kmJmUucHVzaCgiY29sb3I6IitpKSxlLnB1c2goImZvbnQ6Iit0LmdldEZvbnQoKSksbiYmZS5wdXNoKCJsaW5lLWhlaWdodDoiK01hdGgucm91bmQoMypuLzIpKyJweCIpO3ZhciByPXQuZ2V0KCJ0ZXh0U2hhZG93Q29sb3IiKSxvPXQuZ2V0KCJ0ZXh0U2hhZG93Qmx1ciIpfHwwLGE9dC5nZXQoInRleHRTaGFkb3dPZmZzZXRYIil8fDAscz10LmdldCgidGV4dFNoYWRvd09mZnNldFkiKXx8MDtyZXR1cm4gciYmbyYmZS5wdXNoKCJ0ZXh0LXNoYWRvdzoiK2ErInB4ICIrcysicHggIitvKyJweCAiK3IpLFAoWyJkZWNvcmF0aW9uIiwiYWxpZ24iXSwoZnVuY3Rpb24obil7dmFyIGk9dC5nZXQobik7aSYmZS5wdXNoKCJ0ZXh0LSIrbisiOiIraSl9KSksZS5qb2luKCI7Iil9KGMpKSxudWxsIT1wJiZpLnB1c2goInBhZGRpbmc6Iit3YyhwKS5qb2luKCJweCAiKSsicHgiKSxpLmpvaW4oIjsiKSsiOyJ9ZnVuY3Rpb24gT3oodCxlLG4saSxyKXt2YXIgbz1lJiZlLnBhaW50ZXI7aWYobil7dmFyIGE9byYmby5nZXRWaWV3cG9ydFJvb3QoKTthJiZmdW5jdGlvbih0LGUsbixpLHIpe1h0KFV0LGUsaSxyLCEwKSYmWHQodCxuLFV0WzBdLFV0WzFdKX0odCxhLGRvY3VtZW50LmJvZHksaSxyKX1lbHNle3RbMF09aSx0WzFdPXI7dmFyIHM9byYmby5nZXRWaWV3cG9ydFJvb3RPZmZzZXQoKTtzJiYodFswXSs9cy5vZmZzZXRMZWZ0LHRbMV0rPXMub2Zmc2V0VG9wKX10WzJdPXRbMF0vZS5nZXRXaWR0aCgpLHRbM109dFsxXS9lLmdldEhlaWdodCgpfXZhciBSej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe2lmKHRoaXMuX3Nob3c9ITEsdGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sdGhpcy5fZW50ZXJhYmxlPSEwLHRoaXMuX2ZpcnN0U2hvdz0hMCx0aGlzLl9sb25nSGlkZT0hMCxhLnd4YSlyZXR1cm4gbnVsbDt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLmRvbUJlbG9uZ1RvWnI9ITAsdGhpcy5lbD1pO3ZhciByPXRoaXMuX3pyPWUuZ2V0WnIoKSxvPXRoaXMuX2FwcGVuZFRvQm9keT1uJiZuLmFwcGVuZFRvQm9keTtPeih0aGlzLl9zdHlsZUNvb3JkLHIsbyxlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpLG8/ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKTp0LmFwcGVuZENoaWxkKGkpLHRoaXMuX2NvbnRhaW5lcj10O3ZhciBzPXRoaXM7aS5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtzLl9lbnRlcmFibGUmJihjbGVhclRpbWVvdXQocy5faGlkZVRpbWVvdXQpLHMuX3Nob3c9ITApLHMuX2luQ29udGVudD0hMH0saS5vbm1vdXNlbW92ZT1mdW5jdGlvbih0KXtpZih0PXR8fHdpbmRvdy5ldmVudCwhcy5fZW50ZXJhYmxlKXt2YXIgZT1yLmhhbmRsZXI7UXQoci5wYWludGVyLmdldFZpZXdwb3J0Um9vdCgpLHQsITApLGUuZGlzcGF0Y2goIm1vdXNlbW92ZSIsdCl9fSxpLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe3MuX2luQ29udGVudD0hMSxzLl9lbnRlcmFibGUmJnMuX3Nob3cmJnMuaGlkZUxhdGVyKHMuX2hpZGVEZWxheSl9fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udGFpbmVyLG49Q3ooZSwicG9zaXRpb24iKSxpPWUuc3R5bGU7ImFic29sdXRlIiE9PWkucG9zaXRpb24mJiJhYnNvbHV0ZSIhPT1uJiYoaS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKSYmdGhpcy5fbW92ZUlmUmVzaXplZCgpLHRoaXMuZWwuY2xhc3NOYW1lPXQuZ2V0KCJjbGFzc05hbWUiKXx8IiJ9LHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLl9sb25nSGlkZVRpbWVvdXQpO3ZhciBuPXRoaXMuZWwsaT1uLnN0eWxlLHI9dGhpcy5fc3R5bGVDb29yZDtuLmlubmVySFRNTD9pLmNzc1RleHQ9THorUHoodCwhdGhpcy5fZmlyc3RTaG93LHRoaXMuX2xvbmdIaWRlKStreihyWzBdLHJbMV0sITApKyJib3JkZXItY29sb3I6IitrYyhlKSsiOyIrKHQuZ2V0KCJleHRyYUNzc1RleHQiKXx8IiIpKyI7cG9pbnRlci1ldmVudDoiKyh0aGlzLl9lbnRlcmFibGU/ImF1dG8iOiJub25lIik6aS5kaXNwbGF5PSJub25lIix0aGlzLl9zaG93PSEwLHRoaXMuX2ZpcnN0U2hvdz0hMSx0aGlzLl9sb25nSGlkZT0hMX0sdC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbih0LGUsbixpLHIpe2lmKG51bGwhPXQpe3ZhciBvPXRoaXMuZWw7aWYoSChyKSYmIml0ZW0iPT09bi5nZXQoInRyaWdnZXIiKSYmIVN6KG4pJiYodCs9ZnVuY3Rpb24odCxlLG4pe2lmKCFIKG4pfHwiaW5zaWRlIj09PW4pcmV0dXJuIiI7ZT1rYyhlKTt2YXIgaSxyPSJsZWZ0Ij09PShpPW4pPyJyaWdodCI6InJpZ2h0Ij09PWk/ImxlZnQiOiJ0b3AiPT09aT8iYm90dG9tIjoidG9wIixvPXIrIjotNnB4OyIsYT1BeisiOiI7RChbImxlZnQiLCJyaWdodCJdLHIpPi0xPyhvKz0idG9wOjUwJSIsYSs9InRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKCIrKCJsZWZ0Ij09PXI/LTIyNTotNDUpKyJkZWcpIik6KG8rPSJsZWZ0OjUwJSIsYSs9InRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKCIrKCJ0b3AiPT09cj8yMjU6NDUpKyJkZWcpIik7dmFyIHM9ZSsiIHNvbGlkIDFweDsiO3JldHVybic8ZGl2IHN0eWxlPSInK1sicG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDsiLG8rIjsiK2ErIjsiLCJib3JkZXItYm90dG9tOiIrcywiYm9yZGVyLXJpZ2h0OiIrcywiYmFja2dyb3VuZC1jb2xvcjoiK3QrIjsiLCJib3gtc2hhZG93OjhweCA4cHggMTZweCAtM3B4ICMwMDA7Il0uam9pbigiIikrJyI+PC9kaXY+J30obi5nZXQoImJhY2tncm91bmRDb2xvciIpLGkscikpLEgodCkpby5pbm5lckhUTUw9dDtlbHNlIGlmKHQpe28uaW5uZXJIVE1MPSIiLEYodCl8fCh0PVt0XSk7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspaih0W2FdKSYmdFthXS5wYXJlbnROb2RlIT09byYmby5hcHBlbmRDaGlsZCh0W2FdKX19fSx0LnByb3RvdHlwZS5zZXRFbnRlcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW50ZXJhYmxlPXR9LHQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO3JldHVyblt0LmNsaWVudFdpZHRoLHQuY2xpZW50SGVpZ2h0XX0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3R5bGVDb29yZDtpZihPeihuLHRoaXMuX3pyLHRoaXMuX2FwcGVuZFRvQm9keSx0LGUpLG51bGwhPW5bMF0mJm51bGwhPW5bMV0pe3ZhciBpPXRoaXMuZWwuc3R5bGU7UChreihuWzBdLG5bMV0pLChmdW5jdGlvbih0KXtpW3RbMF1dPXRbMV19KSl9fSx0LnByb3RvdHlwZS5fbW92ZUlmUmVzaXplZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0eWxlQ29vcmRbMl0sZT10aGlzLl9zdHlsZUNvb3JkWzNdO3RoaXMubW92ZVRvKHQqdGhpcy5fenIuZ2V0V2lkdGgoKSxlKnRoaXMuX3pyLmdldEhlaWdodCgpKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmVsLnN0eWxlO2UudmlzaWJpbGl0eT0iaGlkZGVuIixlLm9wYWNpdHk9IjAiLGEudHJhbnNmb3JtM2RTdXBwb3J0ZWQmJihlLndpbGxDaGFuZ2U9IiIpLHRoaXMuX3Nob3c9ITEsdGhpcy5fbG9uZ0hpZGVUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2xvbmdIaWRlPSEwfSksNTAwKX0sdC5wcm90b3R5cGUuaGlkZUxhdGVyPWZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuX2VudGVyYWJsZXx8KHQ/KHRoaXMuX2hpZGVEZWxheT10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ9c2V0VGltZW91dChWKHRoaXMuaGlkZSx0aGlzKSx0KSk6dGhpcy5oaWRlKCkpfSx0LnByb3RvdHlwZS5pc1Nob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKX0sdC5wcm90b3R5cGUuZ2V0T3V0ZXJTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbC5jbGllbnRXaWR0aCxlPXRoaXMuZWwuY2xpZW50SGVpZ2h0LG49Q3oodGhpcy5lbCk7cmV0dXJuIG4mJih0Kz1wYXJzZUludChuLmJvcmRlckxlZnRXaWR0aCwxMCkrcGFyc2VJbnQobi5ib3JkZXJSaWdodFdpZHRoLDEwKSxlKz1wYXJzZUludChuLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChuLmJvcmRlckJvdHRvbVdpZHRoLDEwKSkse3dpZHRoOnQsaGVpZ2h0OmV9fSx0fSgpLE56PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zaG93PSExLHRoaXMuX3N0eWxlQ29vcmQ9WzAsMCwwLDBdLHRoaXMuX2VudGVyYWJsZT0hMCx0aGlzLl96cj10LmdldFpyKCksVnoodGhpcy5fc3R5bGVDb29yZCx0aGlzLl96cix0LmdldFdpZHRoKCkvMix0LmdldEhlaWdodCgpLzIpfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dC5nZXQoImFsd2F5c1Nob3dDb250ZW50IikmJnRoaXMuX21vdmVJZlJlc2l6ZWQoKX0sdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuX2hpZGVUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpLHRoaXMuZWwuc2hvdygpLHRoaXMuX3Nob3c9ITB9LHQucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXtYKHQpJiZ2cigiIiksdGhpcy5lbCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuZWwpO3ZhciBvPW4uZ2V0TW9kZWwoInRleHRTdHlsZSIpO3RoaXMuZWw9bmV3IGNzKHtzdHlsZTp7cmljaDplLnJpY2hUZXh0U3R5bGVzLHRleHQ6dCxsaW5lSGVpZ2h0OjIyLGJhY2tncm91bmRDb2xvcjpuLmdldCgiYmFja2dyb3VuZENvbG9yIiksYm9yZGVyUmFkaXVzOm4uZ2V0KCJib3JkZXJSYWRpdXMiKSxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOmksc2hhZG93Q29sb3I6bi5nZXQoInNoYWRvd0NvbG9yIiksc2hhZG93Qmx1cjpuLmdldCgic2hhZG93Qmx1ciIpLHNoYWRvd09mZnNldFg6bi5nZXQoInNoYWRvd09mZnNldFgiKSxzaGFkb3dPZmZzZXRZOm4uZ2V0KCJzaGFkb3dPZmZzZXRZIiksdGV4dFNoYWRvd0NvbG9yOm8uZ2V0KCJ0ZXh0U2hhZG93Q29sb3IiKSx0ZXh0U2hhZG93Qmx1cjpvLmdldCgidGV4dFNoYWRvd0JsdXIiKXx8MCx0ZXh0U2hhZG93T2Zmc2V0WDpvLmdldCgidGV4dFNoYWRvd09mZnNldFgiKXx8MCx0ZXh0U2hhZG93T2Zmc2V0WTpvLmdldCgidGV4dFNoYWRvd09mZnNldFkiKXx8MCxmaWxsOm4uZ2V0KFsidGV4dFN0eWxlIiwiY29sb3IiXSkscGFkZGluZzp1ZihuLCJyaWNoVGV4dCIpLHZlcnRpY2FsQWxpZ246InRvcCIsYWxpZ246ImxlZnQifSx6Om4uZ2V0KCJ6Iil9KSx0aGlzLl96ci5hZGQodGhpcy5lbCk7dmFyIGE9dGhpczt0aGlzLmVsLm9uKCJtb3VzZW92ZXIiLChmdW5jdGlvbigpe2EuX2VudGVyYWJsZSYmKGNsZWFyVGltZW91dChhLl9oaWRlVGltZW91dCksYS5fc2hvdz0hMCksYS5faW5Db250ZW50PSEwfSkpLHRoaXMuZWwub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24oKXthLl9lbnRlcmFibGUmJmEuX3Nob3cmJmEuaGlkZUxhdGVyKGEuX2hpZGVEZWxheSksYS5faW5Db250ZW50PSExfSkpfSx0LnByb3RvdHlwZS5zZXRFbnRlcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW50ZXJhYmxlPXR9LHQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsLGU9dGhpcy5lbC5nZXRCb3VuZGluZ1JlY3QoKSxuPUV6KHQuc3R5bGUpO3JldHVybltlLndpZHRoK24ubGVmdCtuLnJpZ2h0LGUuaGVpZ2h0K24udG9wK24uYm90dG9tXX0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lbDtpZihuKXt2YXIgaT10aGlzLl9zdHlsZUNvb3JkO1Z6KGksdGhpcy5fenIsdCxlKSx0PWlbMF0sZT1pWzFdO3ZhciByPW4uc3R5bGUsbz16eihyLmJvcmRlcldpZHRofHwwKSxhPUV6KHIpO24ueD10K28rYS5sZWZ0LG4ueT1lK28rYS50b3Asbi5tYXJrUmVkcmF3KCl9fSx0LnByb3RvdHlwZS5fbW92ZUlmUmVzaXplZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0eWxlQ29vcmRbMl0sZT10aGlzLl9zdHlsZUNvb3JkWzNdO3RoaXMubW92ZVRvKHQqdGhpcy5fenIuZ2V0V2lkdGgoKSxlKnRoaXMuX3pyLmdldEhlaWdodCgpKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZWwmJnRoaXMuZWwuaGlkZSgpLHRoaXMuX3Nob3c9ITF9LHQucHJvdG90eXBlLmhpZGVMYXRlcj1mdW5jdGlvbih0KXshdGhpcy5fc2hvd3x8dGhpcy5faW5Db250ZW50JiZ0aGlzLl9lbnRlcmFibGV8fCh0Pyh0aGlzLl9oaWRlRGVsYXk9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0PXNldFRpbWVvdXQoVih0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0sdC5wcm90b3R5cGUuaXNTaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9LHQucHJvdG90eXBlLmdldE91dGVyU2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2l6ZSgpO3JldHVybnt3aWR0aDp0WzBdLGhlaWdodDp0WzFdfX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3pyLnJlbW92ZSh0aGlzLmVsKX0sdH0oKTtmdW5jdGlvbiB6eih0KXtyZXR1cm4gTWF0aC5tYXgoMCx0KX1mdW5jdGlvbiBFeih0KXt2YXIgZT16eih0LnNoYWRvd0JsdXJ8fDApLG49enoodC5zaGFkb3dPZmZzZXRYfHwwKSxpPXp6KHQuc2hhZG93T2Zmc2V0WXx8MCk7cmV0dXJue2xlZnQ6enooZS1uKSxyaWdodDp6eihlK24pLHRvcDp6eihlLWkpLGJvdHRvbTp6eihlK2kpfX1mdW5jdGlvbiBWeih0LGUsbixpKXt0WzBdPW4sdFsxXT1pLHRbMl09dFswXS9lLmdldFdpZHRoKCksdFszXT10WzFdL2UuZ2V0SGVpZ2h0KCl9dmFyIEJ6PVYsRno9UCxHej1aaSxIej1uZXcgbHMoe3NoYXBlOnt4Oi0xLHk6LTEsd2lkdGg6MixoZWlnaHQ6Mn19KSxXej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7aWYoIWEubm9kZSl7dmFyIG4saT10LmdldENvbXBvbmVudCgidG9vbHRpcCIpLHI9aS5nZXQoInJlbmRlck1vZGUiKTt0aGlzLl9yZW5kZXJNb2RlPSJhdXRvIj09PShuPXIpP2EuZG9tU3VwcG9ydGVkPyJodG1sIjoicmljaFRleHQiOm58fCJodG1sIix0aGlzLl90b29sdGlwQ29udGVudD0icmljaFRleHQiPT09dGhpcy5fcmVuZGVyTW9kZT9uZXcgTnooZSk6bmV3IFJ6KGUuZ2V0RG9tKCksZSx7YXBwZW5kVG9Cb2R5OmkuZ2V0KCJhcHBlbmRUb0JvZHkiLCEwKX0pfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXtpZighYS5ub2RlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9bix0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKTt2YXIgaT10aGlzLl90b29sdGlwQ29udGVudDtpLnVwZGF0ZSh0KSxpLnNldEVudGVyYWJsZSh0LmdldCgiZW50ZXJhYmxlIikpLHRoaXMuX2luaXRHbG9iYWxMaXN0ZW5lcigpLHRoaXMuX2tlZXBTaG93KCl9fSxlLnByb3RvdHlwZS5faW5pdEdsb2JhbExpc3RlbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdG9vbHRpcE1vZGVsLmdldCgidHJpZ2dlck9uIik7Wk8oIml0ZW1Ub29sdGlwIix0aGlzLl9hcGksQnooKGZ1bmN0aW9uKGUsbixpKXsibm9uZSIhPT10JiYodC5pbmRleE9mKGUpPj0wP3RoaXMuX3RyeVNob3cobixpKToibGVhdmUiPT09ZSYmdGhpcy5faGlkZShpKSl9KSx0aGlzKSl9LGUucHJvdG90eXBlLl9rZWVwU2hvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbCxlPXRoaXMuX2VjTW9kZWwsbj10aGlzLl9hcGk7aWYobnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZJiYibm9uZSIhPT10LmdldCgidHJpZ2dlck9uIikpe3ZhciBpPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hVcGRhdGVUaW1lb3V0KSx0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpeyFuLmlzRGlzcG9zZWQoKSYmaS5tYW51YWxseVNob3dUaXAodCxlLG4se3g6aS5fbGFzdFgseTppLl9sYXN0WSxkYXRhQnlDb29yZFN5czppLl9sYXN0RGF0YUJ5Q29vcmRTeXN9KX0pKX19LGUucHJvdG90eXBlLm1hbnVhbGx5U2hvd1RpcD1mdW5jdGlvbih0LGUsbixpKXtpZihpLmZyb20hPT10aGlzLnVpZCYmIWEubm9kZSl7dmFyIHI9WHooaSxuKTt0aGlzLl90aWNrZXQ9IiI7dmFyIG89aS5kYXRhQnlDb29yZFN5cyxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Scih0KS5xdWVyeU9wdGlvbk1hcCxyPWkua2V5cygpWzBdO2lmKCFyfHwic2VyaWVzIj09PXIpcmV0dXJuO3ZhciBvLGE9RXIoZSxyLGkuZ2V0KHIpLHt1c2VEZWZhdWx0OiExLGVuYWJsZUFsbDohMSxlbmFibGVOb25lOiExfSkubW9kZWxzWzBdO2lmKCFhKXJldHVybjtpZihuLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGEpLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXt2YXIgbj1fcyhlKS50b29sdGlwQ29uZmlnO2lmKG4mJm4ubmFtZT09PXQubmFtZSlyZXR1cm4gbz1lLCEwfSkpLG8pcmV0dXJue2NvbXBvbmVudE1haW5UeXBlOnIsY29tcG9uZW50SW5kZXg6YS5jb21wb25lbnRJbmRleCxlbDpvfX0oaSxlLG4pO2lmKHMpe3ZhciBsPXMuZWwuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtsLmFwcGx5VHJhbnNmb3JtKHMuZWwudHJhbnNmb3JtKSx0aGlzLl90cnlTaG93KHtvZmZzZXRYOmwueCtsLndpZHRoLzIsb2Zmc2V0WTpsLnkrbC5oZWlnaHQvMix0YXJnZXQ6cy5lbCxwb3NpdGlvbjppLnBvc2l0aW9uLHBvc2l0aW9uRGVmYXVsdDoiYm90dG9tIn0scil9ZWxzZSBpZihpLnRvb2x0aXAmJm51bGwhPWkueCYmbnVsbCE9aS55KXt2YXIgdT1Iejt1Lng9aS54LHUueT1pLnksdS51cGRhdGUoKSxfcyh1KS50b29sdGlwQ29uZmlnPXtuYW1lOm51bGwsb3B0aW9uOmkudG9vbHRpcH0sdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDppLngsb2Zmc2V0WTppLnksdGFyZ2V0OnV9LHIpfWVsc2UgaWYobyl0aGlzLl90cnlTaG93KHtvZmZzZXRYOmkueCxvZmZzZXRZOmkueSxwb3NpdGlvbjppLnBvc2l0aW9uLGRhdGFCeUNvb3JkU3lzOm8sdG9vbHRpcE9wdGlvbjppLnRvb2x0aXBPcHRpb259LHIpO2Vsc2UgaWYobnVsbCE9aS5zZXJpZXNJbmRleCl7aWYodGhpcy5fbWFudWFsbHlBeGlzU2hvd1RpcCh0LGUsbixpKSlyZXR1cm47dmFyIGg9Sk8oaSxlKSxjPWgucG9pbnRbMF0scD1oLnBvaW50WzFdO251bGwhPWMmJm51bGwhPXAmJnRoaXMuX3RyeVNob3coe29mZnNldFg6YyxvZmZzZXRZOnAsdGFyZ2V0OmguZWwscG9zaXRpb246aS5wb3NpdGlvbixwb3NpdGlvbkRlZmF1bHQ6ImJvdHRvbSJ9LHIpfWVsc2UgbnVsbCE9aS54JiZudWxsIT1pLnkmJihuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIseDppLngseTppLnl9KSx0aGlzLl90cnlTaG93KHtvZmZzZXRYOmkueCxvZmZzZXRZOmkueSxwb3NpdGlvbjppLnBvc2l0aW9uLHRhcmdldDpuLmdldFpyKCkuZmluZEhvdmVyKGkueCxpLnkpLnRhcmdldH0scikpfX0sZS5wcm90b3R5cGUubWFudWFsbHlIaWRlVGlwPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuX3Rvb2x0aXBDb250ZW50OyF0aGlzLl9hbHdheXNTaG93Q29udGVudCYmdGhpcy5fdG9vbHRpcE1vZGVsJiZyLmhpZGVMYXRlcih0aGlzLl90b29sdGlwTW9kZWwuZ2V0KCJoaWRlRGVsYXkiKSksdGhpcy5fbGFzdFg9dGhpcy5fbGFzdFk9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsaS5mcm9tIT09dGhpcy51aWQmJnRoaXMuX2hpZGUoWHooaSxuKSl9LGUucHJvdG90eXBlLl9tYW51YWxseUF4aXNTaG93VGlwPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuc2VyaWVzSW5kZXgsbz1pLmRhdGFJbmRleCxhPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm87aWYobnVsbCE9ciYmbnVsbCE9byYmbnVsbCE9YSl7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KHIpO2lmKHMpaWYoImF4aXMiPT09VXooW3MuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbChvKSxzLChzLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbF0sdGhpcy5fdG9vbHRpcE1vZGVsKS5nZXQoInRyaWdnZXIiKSlyZXR1cm4gbi5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHNlcmllc0luZGV4OnIsZGF0YUluZGV4Om8scG9zaXRpb246aS5wb3NpdGlvbn0pLCEwfX0sZS5wcm90b3R5cGUuX3RyeVNob3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRhcmdldDtpZih0aGlzLl90b29sdGlwTW9kZWwpe3RoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFk7dmFyIGk9dC5kYXRhQnlDb29yZFN5cztpZihpJiZpLmxlbmd0aCl0aGlzLl9zaG93QXhpc1Rvb2x0aXAoaSx0KTtlbHNlIGlmKG4pe3ZhciByLG87dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsaXkobiwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPV9zKHQpLmRhdGFJbmRleD8ocj10LCEwKTpudWxsIT1fcyh0KS50b29sdGlwQ29uZmlnPyhvPXQsITApOnZvaWQgMH0pLCEwKSxyP3RoaXMuX3Nob3dTZXJpZXNJdGVtVG9vbHRpcCh0LHIsZSk6bz90aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxvLGUpOnRoaXMuX2hpZGUoZSl9ZWxzZSB0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9oaWRlKGUpfX0sZS5wcm90b3R5cGUuX3Nob3dPck1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgic2hvd0RlbGF5Iik7ZT1WKGUsdGhpcyksY2xlYXJUaW1lb3V0KHRoaXMuX3Nob3dUaW1vdXQpLG4+MD90aGlzLl9zaG93VGltb3V0PXNldFRpbWVvdXQoZSxuKTplKCl9LGUucHJvdG90eXBlLl9zaG93QXhpc1Rvb2x0aXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9lY01vZGVsLGk9dGhpcy5fdG9vbHRpcE1vZGVsLHI9W2Uub2Zmc2V0WCxlLm9mZnNldFldLG89VXooW2UudG9vbHRpcE9wdGlvbl0saSksYT10aGlzLl9yZW5kZXJNb2RlLHM9W10sbD10Zigic2VjdGlvbiIse2Jsb2NrczpbXSxub0hlYWRlcjohMH0pLHU9W10saD1uZXcgaGY7RnoodCwoZnVuY3Rpb24odCl7RnoodC5kYXRhQnlBeGlzLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldENvbXBvbmVudCh0LmF4aXNEaW0rIkF4aXMiLHQuYXhpc0luZGV4KSxpPXQudmFsdWU7aWYoZSYmbnVsbCE9aSl7dmFyIHI9Uk8oaSxlLmF4aXMsbix0LnNlcmllc0RhdGFJbmRpY2VzLHQudmFsdWVMYWJlbE9wdCksbz10Zigic2VjdGlvbiIse2hlYWRlcjpyLG5vSGVhZGVyOiFvdChyKSxzb3J0QmxvY2tzOiEwLGJsb2NrczpbXX0pO2wuYmxvY2tzLnB1c2gobyksUCh0LnNlcmllc0RhdGFJbmRpY2VzLChmdW5jdGlvbihsKXt2YXIgYz1uLmdldFNlcmllc0J5SW5kZXgobC5zZXJpZXNJbmRleCkscD1sLmRhdGFJbmRleEluc2lkZSxkPWMuZ2V0RGF0YVBhcmFtcyhwKTtkLmF4aXNEaW09dC5heGlzRGltLGQuYXhpc0luZGV4PXQuYXhpc0luZGV4LGQuYXhpc1R5cGU9dC5heGlzVHlwZSxkLmF4aXNJZD10LmF4aXNJZCxkLmF4aXNWYWx1ZT1HeChlLmF4aXMse3ZhbHVlOml9KSxkLmF4aXNWYWx1ZUxhYmVsPXIsZC5tYXJrZXI9aC5tYWtlVG9vbHRpcE1hcmtlcigiaXRlbSIsa2MoZC5jb2xvciksYSk7dmFyIGY9Q2QoYy5mb3JtYXRUb29sdGlwKHAsITAsbnVsbCkpO2YubWFya3VwRnJhZ21lbnQmJm8uYmxvY2tzLnB1c2goZi5tYXJrdXBGcmFnbWVudCksZi5tYXJrdXBUZXh0JiZ1LnB1c2goZi5tYXJrdXBUZXh0KSxzLnB1c2goZCl9KSl9fSkpfSkpLGwuYmxvY2tzLnJldmVyc2UoKSx1LnJldmVyc2UoKTt2YXIgYz1lLnBvc2l0aW9uLHA9by5nZXQoIm9yZGVyIiksZD1yZihsLGgsYSxwLG4uZ2V0KCJ1c2VVVEMiKSxvLmdldCgidGV4dFN0eWxlIikpO2QmJnUudW5zaGlmdChkKTt2YXIgZj0icmljaFRleHQiPT09YT8iXG5cbiI6Ijxici8+IixnPXUuam9pbihmKTt0aGlzLl9zaG93T3JNb3ZlKG8sKGZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXModCk/dGhpcy5fdXBkYXRlUG9zaXRpb24obyxjLHJbMF0sclsxXSx0aGlzLl90b29sdGlwQ29udGVudCxzKTp0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQobyxnLHMsTWF0aC5yYW5kb20oKSsiIixyWzBdLHJbMV0sYyxudWxsLGgpfSkpfSxlLnByb3RvdHlwZS5fc2hvd1Nlcmllc0l0ZW1Ub29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9lY01vZGVsLHI9X3MoZSksbz1yLnNlcmllc0luZGV4LGE9aS5nZXRTZXJpZXNCeUluZGV4KG8pLHM9ci5kYXRhTW9kZWx8fGEsbD1yLmRhdGFJbmRleCx1PXIuZGF0YVR5cGUsaD1zLmdldERhdGEodSksYz10aGlzLl9yZW5kZXJNb2RlLHA9dC5wb3NpdGlvbkRlZmF1bHQsZD1VeihbaC5nZXRJdGVtTW9kZWwobCkscyxhJiYoYS5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWxdLHRoaXMuX3Rvb2x0aXBNb2RlbCxwP3twb3NpdGlvbjpwfTpudWxsKSxmPWQuZ2V0KCJ0cmlnZ2VyIik7aWYobnVsbD09Znx8Iml0ZW0iPT09Zil7dmFyIGc9cy5nZXREYXRhUGFyYW1zKGwsdSkseT1uZXcgaGY7Zy5tYXJrZXI9eS5tYWtlVG9vbHRpcE1hcmtlcigiaXRlbSIsa2MoZy5jb2xvciksYyk7dmFyIHY9Q2Qocy5mb3JtYXRUb29sdGlwKGwsITEsdSkpLG09ZC5nZXQoIm9yZGVyIiksXz12Lm1hcmt1cEZyYWdtZW50P3JmKHYubWFya3VwRnJhZ21lbnQseSxjLG0saS5nZXQoInVzZVVUQyIpLGQuZ2V0KCJ0ZXh0U3R5bGUiKSk6di5tYXJrdXBUZXh0LHg9Iml0ZW1fIitzLm5hbWUrIl8iK2w7dGhpcy5fc2hvd09yTW92ZShkLChmdW5jdGlvbigpe3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChkLF8sZyx4LHQub2Zmc2V0WCx0Lm9mZnNldFksdC5wb3NpdGlvbix0LnRhcmdldCx5KX0pKSxuKHt0eXBlOiJzaG93VGlwIixkYXRhSW5kZXhJbnNpZGU6bCxkYXRhSW5kZXg6aC5nZXRSYXdJbmRleChsKSxzZXJpZXNJbmRleDpvLGZyb206dGhpcy51aWR9KX19LGUucHJvdG90eXBlLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPV9zKGUpLHI9aS50b29sdGlwQ29uZmlnLm9wdGlvbnx8e307aWYoSChyKSl7cj17Y29udGVudDpyLGZvcm1hdHRlcjpyfX12YXIgbz1bcl0sYT10aGlzLl9lY01vZGVsLmdldENvbXBvbmVudChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgpO2EmJm8ucHVzaChhKSxvLnB1c2goe2Zvcm1hdHRlcjpyLmNvbnRlbnR9KTt2YXIgcz10LnBvc2l0aW9uRGVmYXVsdCxsPVV6KG8sdGhpcy5fdG9vbHRpcE1vZGVsLHM/e3Bvc2l0aW9uOnN9Om51bGwpLHU9bC5nZXQoImNvbnRlbnQiKSxoPU1hdGgucmFuZG9tKCkrIiIsYz1uZXcgaGY7dGhpcy5fc2hvd09yTW92ZShsLChmdW5jdGlvbigpe3ZhciBuPXcobC5nZXQoImZvcm1hdHRlclBhcmFtcyIpfHx7fSk7dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KGwsdSxuLGgsdC5vZmZzZXRYLHQub2Zmc2V0WSx0LnBvc2l0aW9uLGUsYyl9KSksbih7dHlwZToic2hvd1RpcCIsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5fc2hvd1Rvb2x0aXBDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXtpZih0aGlzLl90aWNrZXQ9IiIsdC5nZXQoInNob3dDb250ZW50IikmJnQuZ2V0KCJzaG93Iikpe3ZhciB1PXRoaXMuX3Rvb2x0aXBDb250ZW50LGg9dC5nZXQoImZvcm1hdHRlciIpO2E9YXx8dC5nZXQoInBvc2l0aW9uIik7dmFyIGM9ZSxwPXRoaXMuX2dldE5lYXJlc3RQb2ludChbcixvXSxuLHQuZ2V0KCJ0cmlnZ2VyIiksdC5nZXQoImJvcmRlckNvbG9yIikpLmNvbG9yO2lmKGgmJkgoaCkpe3ZhciBkPXQuZWNNb2RlbC5nZXQoInVzZVVUQyIpLGY9RihuKT9uWzBdOm47Yz1oLGYmJmYuYXhpc1R5cGUmJmYuYXhpc1R5cGUuaW5kZXhPZigidGltZSIpPj0wJiYoYz1pYyhmLmF4aXNWYWx1ZSxjLGQpKSxjPUFjKGMsbiwhMCl9ZWxzZSBpZihHKGgpKXt2YXIgZz1CeigoZnVuY3Rpb24oZSxpKXtlPT09dGhpcy5fdGlja2V0JiYodS5zZXRDb250ZW50KGksbCx0LHAsYSksdGhpcy5fdXBkYXRlUG9zaXRpb24odCxhLHIsbyx1LG4scykpfSksdGhpcyk7dGhpcy5fdGlja2V0PWksYz1oKG4saSxnKX11LnNldENvbnRlbnQoYyxsLHQscCxhKSx1LnNob3codCxwKSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LGEscixvLHUsbixzKX19LGUucHJvdG90eXBlLl9nZXROZWFyZXN0UG9pbnQ9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuImF4aXMiPT09bnx8RihlKT97Y29sb3I6aXx8KCJodG1sIj09PXRoaXMuX3JlbmRlck1vZGU/IiNmZmYiOiJub25lIil9OkYoZSk/dm9pZCAwOntjb2xvcjppfHxlLmNvbG9yfHxlLmJvcmRlckNvbG9yfX0sZS5wcm90b3R5cGUuX3VwZGF0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuX2FwaS5nZXRXaWR0aCgpLGw9dGhpcy5fYXBpLmdldEhlaWdodCgpO2U9ZXx8dC5nZXQoInBvc2l0aW9uIik7dmFyIHU9ci5nZXRTaXplKCksaD10LmdldCgiYWxpZ24iKSxjPXQuZ2V0KCJ2ZXJ0aWNhbEFsaWduIikscD1hJiZhLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7aWYoYSYmcC5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksRyhlKSYmKGU9ZShbbixpXSxvLHIuZWwscCx7dmlld1NpemU6W3MsbF0sY29udGVudFNpemU6dS5zbGljZSgpfSkpLEYoZSkpbj1HeihlWzBdLHMpLGk9R3ooZVsxXSxsKTtlbHNlIGlmKFgoZSkpe3ZhciBkPWU7ZC53aWR0aD11WzBdLGQuaGVpZ2h0PXVbMV07dmFyIGY9VmMoZCx7d2lkdGg6cyxoZWlnaHQ6bH0pO249Zi54LGk9Zi55LGg9bnVsbCxjPW51bGx9ZWxzZSBpZihIKGUpJiZhKXt2YXIgZz1mdW5jdGlvbih0LGUsbil7dmFyIGk9blswXSxyPW5bMV0sbz0xMCxhPTUscz0wLGw9MCx1PWUud2lkdGgsaD1lLmhlaWdodDtzd2l0Y2godCl7Y2FzZSJpbnNpZGUiOnM9ZS54K3UvMi1pLzIsbD1lLnkraC8yLXIvMjticmVhaztjYXNlInRvcCI6cz1lLngrdS8yLWkvMixsPWUueS1yLW87YnJlYWs7Y2FzZSJib3R0b20iOnM9ZS54K3UvMi1pLzIsbD1lLnkraCtvO2JyZWFrO2Nhc2UibGVmdCI6cz1lLngtaS1vLWEsbD1lLnkraC8yLXIvMjticmVhaztjYXNlInJpZ2h0IjpzPWUueCt1K28rYSxsPWUueStoLzItci8yfXJldHVybltzLGxdfShlLHAsdSk7bj1nWzBdLGk9Z1sxXX1lbHNle2c9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9bi5nZXRPdXRlclNpemUoKSxsPXMud2lkdGgsdT1zLmhlaWdodDtudWxsIT1vJiYodCtsK28rMj5pP3QtPWwrbzp0Kz1vKTtudWxsIT1hJiYoZSt1K2E+cj9lLT11K2E6ZSs9YSk7cmV0dXJuW3QsZV19KG4saSxyLHMsbCxoP251bGw6MjAsYz9udWxsOjIwKTtuPWdbMF0saT1nWzFdfWlmKGgmJihuLT1ZeihoKT91WzBdLzI6InJpZ2h0Ij09PWg/dVswXTowKSxjJiYoaS09WXooYyk/dVsxXS8yOiJib3R0b20iPT09Yz91WzFdOjApLFN6KHQpKXtnPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5nZXRPdXRlclNpemUoKSxhPW8ud2lkdGgscz1vLmhlaWdodDtyZXR1cm4gdD1NYXRoLm1pbih0K2EsaSktYSxlPU1hdGgubWluKGUrcyxyKS1zLHQ9TWF0aC5tYXgodCwwKSxlPU1hdGgubWF4KGUsMCksW3QsZV19KG4saSxyLHMsbCk7bj1nWzBdLGk9Z1sxXX1yLm1vdmVUbyhuLGkpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzLG49ISFlJiZlLmxlbmd0aD09PXQubGVuZ3RoO3JldHVybiBuJiZGeihlLChmdW5jdGlvbihlLGkpe3ZhciByPWUuZGF0YUJ5QXhpc3x8W10sbz0odFtpXXx8e30pLmRhdGFCeUF4aXN8fFtdOyhuPW4mJnIubGVuZ3RoPT09by5sZW5ndGgpJiZGeihyLChmdW5jdGlvbih0LGUpe3ZhciBpPW9bZV18fHt9LHI9dC5zZXJpZXNEYXRhSW5kaWNlc3x8W10sYT1pLnNlcmllc0RhdGFJbmRpY2VzfHxbXTsobj1uJiZ0LnZhbHVlPT09aS52YWx1ZSYmdC5heGlzVHlwZT09PWkuYXhpc1R5cGUmJnQuYXhpc0lkPT09aS5heGlzSWQmJnIubGVuZ3RoPT09YS5sZW5ndGgpJiZGeihyLChmdW5jdGlvbih0LGUpe3ZhciBpPWFbZV07bj1uJiZ0LnNlcmllc0luZGV4PT09aS5zZXJpZXNJbmRleCYmdC5kYXRhSW5kZXg9PT1pLmRhdGFJbmRleH0pKX0pKX0pKSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9dCwhIW59LGUucHJvdG90eXBlLl9oaWRlPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLHQoe3R5cGU6ImhpZGVUaXAiLGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe2Eubm9kZXx8KHRoaXMuX3Rvb2x0aXBDb250ZW50LmRpc3Bvc2UoKSxLTygiaXRlbVRvb2x0aXAiLGUpKX0sZS50eXBlPSJ0b29sdGlwIixlfSh3Zik7ZnVuY3Rpb24gVXoodCxlLG4pe3ZhciBpLHI9ZS5lY01vZGVsO24/KGk9bmV3IE9oKG4scixyKSxpPW5ldyBPaChlLm9wdGlvbixpLHIpKTppPWU7Zm9yKHZhciBvPXQubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPXRbb107YSYmKGEgaW5zdGFuY2VvZiBPaCYmKGE9YS5nZXQoInRvb2x0aXAiLCEwKSksSChhKSYmKGE9e2Zvcm1hdHRlcjphfSksYSYmKGk9bmV3IE9oKGEsaSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIFh6KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2hBY3Rpb258fFYoZS5kaXNwYXRjaEFjdGlvbixlKX1mdW5jdGlvbiBZeih0KXtyZXR1cm4iY2VudGVyIj09PXR8fCJtaWRkbGUiPT09dH12YXIgWno9WyJyZWN0IiwicG9seWdvbiIsImtlZXAiLCJjbGVhciJdO2Z1bmN0aW9uIGp6KHQsZSl7dmFyIG49eHIodD90LmJydXNoOltdKTtpZihuLmxlbmd0aCl7dmFyIGk9W107UChuLChmdW5jdGlvbih0KXt2YXIgZT10Lmhhc093blByb3BlcnR5KCJ0b29sYm94Iik/dC50b29sYm94OltdO2UgaW5zdGFuY2VvZiBBcnJheSYmKGk9aS5jb25jYXQoZSkpfSkpO3ZhciByPXQmJnQudG9vbGJveDtGKHIpJiYocj1yWzBdKSxyfHwocj17ZmVhdHVyZTp7fX0sdC50b29sYm94PVtyXSk7dmFyIG89ci5mZWF0dXJlfHwoci5mZWF0dXJlPXt9KSxhPW8uYnJ1c2h8fChvLmJydXNoPXt9KSxzPWEudHlwZXx8KGEudHlwZT1bXSk7cy5wdXNoLmFwcGx5KHMsaSksZnVuY3Rpb24odCl7dmFyIGU9e307UCh0LChmdW5jdGlvbih0KXtlW3RdPTF9KSksdC5sZW5ndGg9MCxQKGUsKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSkpfShzKSxlJiYhcy5sZW5ndGgmJnMucHVzaC5hcHBseShzLFp6KX19dmFyIHF6PVA7ZnVuY3Rpb24gS3oodCl7aWYodClmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiEwfWZ1bmN0aW9uICR6KHQsZSxuKXt2YXIgaT17fTtyZXR1cm4gcXooZSwoZnVuY3Rpb24oZSl7dmFyIHIsbz1pW2VdPSgocj1mdW5jdGlvbigpe30pLnByb3RvdHlwZS5fX2hpZGRlbj1yLnByb3RvdHlwZSxuZXcgcik7cXoodFtlXSwoZnVuY3Rpb24odCxpKXtpZihUVC5pc1ZhbGlkVHlwZShpKSl7dmFyIHI9e3R5cGU6aSx2aXN1YWw6dH07biYmbihyLGUpLG9baV09bmV3IFRUKHIpLCJvcGFjaXR5Ij09PWkmJigocj13KHIpKS50eXBlPSJjb2xvckFscGhhIixvLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBUVChyKSl9fSkpfSkpLGl9ZnVuY3Rpb24gSnoodCxlLG4pe3ZhciBpO1AobiwoZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmS3ooZVt0XSkmJihpPSEwKX0pKSxpJiZQKG4sKGZ1bmN0aW9uKG4pe2UuaGFzT3duUHJvcGVydHkobikmJkt6KGVbbl0pP3Rbbl09dyhlW25dKTpkZWxldGUgdFtuXX0pKX12YXIgUXo9e2xpbmVYOnRFKDApLGxpbmVZOnRFKDEpLHJlY3Q6e3BvaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuaW50ZXJzZWN0KHQpfX0scG9seWdvbjp7cG9pbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZuLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSkmJnV2KG4ucmFuZ2UsdFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsbil7dmFyIGk9bi5yYW5nZTtpZighdHx8aS5sZW5ndGg8PTEpcmV0dXJuITE7dmFyIHI9dC54LG89dC55LGE9dC53aWR0aCxzPXQuaGVpZ2h0LGw9aVswXTtyZXR1cm4hISh1dihpLHIsbyl8fHV2KGkscithLG8pfHx1dihpLHIsbytzKXx8dXYoaSxyK2EsbytzKXx8Z2kuY3JlYXRlKHQpLmNvbnRhaW4obFswXSxsWzFdKXx8bmgocixvLHIrYSxvLGkpfHxuaChyLG8scixvK3MsaSl8fG5oKHIrYSxvLHIrYSxvK3MsaSl8fG5oKHIsbytzLHIrYSxvK3MsaSkpfHx2b2lkIDB9fX07ZnVuY3Rpb24gdEUodCl7dmFyIGU9WyJ4IiwieSJdLG49WyJ3aWR0aCIsImhlaWdodCJdO3JldHVybntwb2ludDpmdW5jdGlvbihlLG4saSl7aWYoZSl7dmFyIHI9aS5yYW5nZTtyZXR1cm4gZUUoZVt0XSxyKX19LHJlY3Q6ZnVuY3Rpb24oaSxyLG8pe2lmKGkpe3ZhciBhPW8ucmFuZ2Uscz1baVtlW3RdXSxpW2VbdF1dK2lbblt0XV1dO3JldHVybiBzWzFdPHNbMF0mJnMucmV2ZXJzZSgpLGVFKHNbMF0sYSl8fGVFKHNbMV0sYSl8fGVFKGFbMF0scyl8fGVFKGFbMV0scyl9fX19ZnVuY3Rpb24gZUUodCxlKXtyZXR1cm4gZVswXTw9dCYmdDw9ZVsxXX12YXIgbkU9WyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdLGlFPSJfX2VjQnJ1c2hTZWxlY3QiLHJFPSJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50IjtmdW5jdGlvbiBvRSh0KXt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlKXsoZS5icnVzaFRhcmdldE1hbmFnZXI9bmV3IHJ6KGUub3B0aW9uLHQpKS5zZXRJbnB1dFJhbmdlcyhlLmFyZWFzLHQpfSkpfWZ1bmN0aW9uIGFFKHQsZSxuKXt2YXIgaSxyLG89W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7biYmInRha2VHbG9iYWxDdXJzb3IiPT09bi50eXBlJiZ0LnNldEJydXNoT3B0aW9uKCJicnVzaCI9PT1uLmtleT9uLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KX0pKSxvRSh0KSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlLG4pe3ZhciBhPXticnVzaElkOmUuaWQsYnJ1c2hJbmRleDpuLGJydXNoTmFtZTplLm5hbWUsYXJlYXM6dyhlLmFyZWFzKSxzZWxlY3RlZDpbXX07by5wdXNoKGEpO3ZhciBzPWUub3B0aW9uLGw9cy5icnVzaExpbmssdT1bXSxoPVtdLGM9W10scD0hMTtufHwoaT1zLnRocm90dGxlVHlwZSxyPXMudGhyb3R0bGVEZWxheSk7dmFyIGQ9TyhlLmFyZWFzLChmdW5jdGlvbih0KXt2YXIgZT11RVt0LmJydXNoVHlwZV0sbj1UKHtib3VuZGluZ1JlY3Q6ZT9lKHQpOnZvaWQgMH0sdCk7cmV0dXJuIG4uc2VsZWN0b3JzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYnJ1c2hUeXBlLG49e3BvaW50OmZ1bmN0aW9uKGkpe3JldHVybiBReltlXS5wb2ludChpLG4sdCl9LHJlY3Q6ZnVuY3Rpb24oaSl7cmV0dXJuIFF6W2VdLnJlY3QoaSxuLHQpfX07cmV0dXJuIG59KG4pLG59KSksZj0keihlLm9wdGlvbixuRSwoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJmaXhlZCJ9KSk7ZnVuY3Rpb24gZyh0KXtyZXR1cm4iYWxsIj09PWx8fCEhdVt0XX1mdW5jdGlvbiB5KHQpe3JldHVybiEhdC5sZW5ndGh9RihsKSYmUChsLChmdW5jdGlvbih0KXt1W3RdPTF9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihuLGkpe3ZhciByPWNbaV09W107InBhcmFsbGVsIj09PW4uc3ViVHlwZT9mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbTtwPXB8fG4uaGFzQXhpc0JydXNoZWQoKSxnKGUpJiZuLmVhY2hBY3RpdmVTdGF0ZSh0LmdldERhdGEoKSwoZnVuY3Rpb24odCxlKXsiYWN0aXZlIj09PXQmJihoW2VdPTEpfSkpfShuLGkpOmZ1bmN0aW9uKG4saSxyKXtpZighbi5icnVzaFNlbGVjdG9yfHxmdW5jdGlvbih0LGUpe3ZhciBuPXQub3B0aW9uLnNlcmllc0luZGV4O3JldHVybiBudWxsIT1uJiYiYWxsIiE9PW4mJihGKG4pP0QobixlKTwwOmUhPT1uKX0oZSxpKSlyZXR1cm47aWYoUChkLChmdW5jdGlvbihpKXtlLmJydXNoVGFyZ2V0TWFuYWdlci5jb250cm9sU2VyaWVzKGksbix0KSYmci5wdXNoKGkpLHA9cHx8eShyKX0pKSxnKGkpJiZ5KHIpKXt2YXIgbz1uLmdldERhdGEoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe2xFKG4scixvLHQpJiYoaFt0XT0xKX0pKX19KG4saSxyKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49e3Nlcmllc0lkOnQuaWQsc2VyaWVzSW5kZXg6ZSxzZXJpZXNOYW1lOnQubmFtZSxkYXRhSW5kZXg6W119O2Euc2VsZWN0ZWQucHVzaChuKTt2YXIgaT1jW2VdLHI9dC5nZXREYXRhKCksbz1nKGUpP2Z1bmN0aW9uKHQpe3JldHVybiBoW3RdPyhuLmRhdGFJbmRleC5wdXNoKHIuZ2V0UmF3SW5kZXgodCkpLCJpbkJydXNoIik6Im91dE9mQnJ1c2gifTpmdW5jdGlvbihlKXtyZXR1cm4gbEUodCxpLHIsZSk/KG4uZGF0YUluZGV4LnB1c2goci5nZXRSYXdJbmRleChlKSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OyhnKGUpP3A6eShpKSkmJmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzPXt9O2Z1bmN0aW9uIGwodCl7cmV0dXJuIHZnKG4sYSx0KX1mdW5jdGlvbiB1KHQsZSl7X2cobixhLHQsZSl9ZnVuY3Rpb24gaCh0LGgpe2E9bnVsbD09bz90Omg7dmFyIGM9bi5nZXRSYXdEYXRhSXRlbShhKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIHA9aS5jYWxsKHIsdCksZD1lW3BdLGY9c1twXSxnPTAseT1mLmxlbmd0aDtnPHk7ZysrKXt2YXIgdj1mW2ddO2Rbdl0mJmRbdl0uYXBwbHlWaXN1YWwodCxsLHUpfX1QKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPVRULnByZXBhcmVWaXN1YWxUeXBlcyhlW3RdKTtzW3RdPW59KSksbnVsbD09bz9uLmVhY2goaCk6bi5lYWNoKFtvXSxoKX0obkUsZixyLG8pfSkpfSkpLGZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIXIpcmV0dXJuO3ZhciBvPXQuZ2V0WnIoKTtpZihvW3JFXSlyZXR1cm47by5fX2VjQnJ1c2hTZWxlY3R8fChvLl9fZWNCcnVzaFNlbGVjdD1zRSk7emYobyxpRSxuLGUpKHQsaSl9KGUsaSxyLG8sbil9ZnVuY3Rpb24gc0UodCxlKXtpZighdC5pc0Rpc3Bvc2VkKCkpe3ZhciBuPXQuZ2V0WnIoKTtuW3JFXT0hMCx0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaFNlbGVjdCIsYmF0Y2g6ZX0pLG5bckVdPSExfX1mdW5jdGlvbiBsRSh0LGUsbixpKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBhPWVbcl07aWYodC5icnVzaFNlbGVjdG9yKGksbixhLnNlbGVjdG9ycyxhKSlyZXR1cm4hMH19dmFyIHVFPXtyZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBoRSh0LnJhbmdlKX0scG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10LnJhbmdlLGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspe2U9ZXx8W1sxLzAsLTEvMF0sWzEvMCwtMS8wXV07dmFyIG89bltpXTtvWzBdPGVbMF1bMF0mJihlWzBdWzBdPW9bMF0pLG9bMF0+ZVswXVsxXSYmKGVbMF1bMV09b1swXSksb1sxXTxlWzFdWzBdJiYoZVsxXVswXT1vWzFdKSxvWzFdPmVbMV1bMV0mJihlWzFdWzFdPW9bMV0pfXJldHVybiBlJiZoRShlKX19O2Z1bmN0aW9uIGhFKHQpe3JldHVybiBuZXcgZ2kodFswXVswXSx0WzFdWzBdLHRbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF0pfXZhciBjRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZSx0aGlzLm1vZGVsLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IGlBKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsVih0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5tb2RlbD10LHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXtvRShlKSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuLGkpfSxlLnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy51cGRhdGVUcmFuc2Zvcm0odCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbixpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSl7KCFpfHxpLiRmcm9tIT09dC5pZCkmJnRoaXMuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHModC5icnVzaFRhcmdldE1hbmFnZXIubWFrZVBhbmVsT3B0cyhuKSkuZW5hYmxlQnJ1c2godC5icnVzaE9wdGlvbikudXBkYXRlQ292ZXJzKHQuYXJlYXMuc2xpY2UoKSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmlkLG49dGhpcy5tb2RlbC5icnVzaFRhcmdldE1hbmFnZXIuc2V0T3V0cHV0UmFuZ2VzKHQuYXJlYXMsdGhpcy5lY01vZGVsKTsoIXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaCIsYnJ1c2hJZDplLGFyZWFzOncobiksJGZyb206ZX0pLHQuaXNFbmQmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaEVuZCIsYnJ1c2hJZDplLGFyZWFzOncobiksJGZyb206ZX0pfSxlLnR5cGU9ImJydXNoIixlfSh3ZikscEU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFyZWFzPVtdLG4uYnJ1c2hPcHRpb249e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjshZSYmSnoobix0LFsiaW5CcnVzaCIsIm91dE9mQnJ1c2giXSk7dmFyIGk9bi5pbkJydXNoPW4uaW5CcnVzaHx8e307bi5vdXRPZkJydXNoPW4ub3V0T2ZCcnVzaHx8e2NvbG9yOiIjZGRkIn0saS5oYXNPd25Qcm9wZXJ0eSgibGlmdFoiKXx8KGkubGlmdFo9NSl9LGUucHJvdG90eXBlLnNldEFyZWFzPWZ1bmN0aW9uKHQpe3QmJih0aGlzLmFyZWFzPU8odCwoZnVuY3Rpb24odCl7cmV0dXJuIGRFKHRoaXMub3B0aW9uLHQpfSksdGhpcykpfSxlLnByb3RvdHlwZS5zZXRCcnVzaE9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLmJydXNoT3B0aW9uPWRFKHRoaXMub3B0aW9uLHQpLHRoaXMuYnJ1c2hUeXBlPXRoaXMuYnJ1c2hPcHRpb24uYnJ1c2hUeXBlfSxlLnR5cGU9ImJydXNoIixlLmRlcGVuZGVuY2llcz1bImdlbyIsImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwicGFyYWxsZWwiLCJzZXJpZXMiXSxlLmRlZmF1bHRPcHRpb249e3Nlcmllc0luZGV4OiJhbGwiLGJydXNoVHlwZToicmVjdCIsYnJ1c2hNb2RlOiJzaW5nbGUiLHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hTdHlsZTp7Ym9yZGVyV2lkdGg6MSxjb2xvcjoicmdiYSgyMTAsMjE5LDIzOCwwLjMpIixib3JkZXJDb2xvcjoiI0QyREJFRSJ9LHRocm90dGxlVHlwZToiZml4UmF0ZSIsdGhyb3R0bGVEZWxheTowLHJlbW92ZU9uQ2xpY2s6ITAsejoxZTR9LGV9KFhjKTtmdW5jdGlvbiBkRSh0LGUpe3JldHVybiBTKHticnVzaFR5cGU6dC5icnVzaFR5cGUsYnJ1c2hNb2RlOnQuYnJ1c2hNb2RlLHRyYW5zZm9ybWFibGU6dC50cmFuc2Zvcm1hYmxlLGJydXNoU3R5bGU6bmV3IE9oKHQuYnJ1c2hTdHlsZSkuZ2V0SXRlbVN0eWxlKCkscmVtb3ZlT25DbGljazp0LnJlbW92ZU9uQ2xpY2ssejp0Lnp9LGUsITApfXZhciBmRT1bInJlY3QiLCJwb2x5Z29uIiwibGluZVgiLCJsaW5lWSIsImtlZXAiLCJjbGVhciJdLGdFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG87ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7aT10LmJydXNoVHlwZSxyPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHwic2luZ2xlIixvPW98fCEhdC5hcmVhcy5sZW5ndGh9KSksdGhpcy5fYnJ1c2hUeXBlPWksdGhpcy5fYnJ1c2hNb2RlPXIsUCh0LmdldCgidHlwZSIsITApLChmdW5jdGlvbihlKXt0LnNldEljb25TdGF0dXMoZSwoImtlZXAiPT09ZT8ibXVsdGlwbGUiPT09cjoiY2xlYXIiPT09ZT9vOmU9PT1pKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pKX0sZS5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbil7dGhpcy5yZW5kZXIodCxlLG4pfSxlLnByb3RvdHlwZS5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIsITApLG49e307cmV0dXJuIFAodC5nZXQoInR5cGUiLCEwKSwoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSl9KSksbn0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYnJ1c2hUeXBlLHI9dGhpcy5fYnJ1c2hNb2RlOyJjbGVhciI9PT1uPyhlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIsaW50ZXJ2YWxzOltdfSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYnJ1c2giLGNvbW1hbmQ6ImNsZWFyIixhcmVhczpbXX0pKTplLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixrZXk6ImJydXNoIixicnVzaE9wdGlvbjp7YnJ1c2hUeXBlOiJrZWVwIj09PW4/aTppIT09biYmbixicnVzaE1vZGU6ImtlZXAiPT09bj8ibXVsdGlwbGUiPT09cj8ic2luZ2xlIjoibXVsdGlwbGUiOnJ9fSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCx0eXBlOmZFLnNsaWNlKCksaWNvbjp7cmVjdDoiTTcuMywzNC43IE0wLjQsMTBWLTAuMmg5LjggTTg5LjYsMTBWLTAuMmgtOS44IE0wLjQsNjB2MTAuMmg5LjggTTg5LjYsNjB2MTAuMmgtOS44IE0xMi4zLDIyLjRWMTAuNWgxMy4xIE0zMy42LDEwLjVoNy44IE00OS4xLDEwLjVoNy44IE03Ny41LDIyLjRWMTAuNWgtMTMgTTEyLjMsMzEuMXY4LjIgTTc3LjcsMzEuMXY4LjIgTTEyLjMsNDcuNnYxMS45aDEzLjEgTTMzLjYsNTkuNWg3LjYgTTQ5LjEsNTkuNSBoNy43IE03Ny41LDQ3LjZ2MTEuOWgtMTMiLHBvbHlnb246Ik01NS4yLDM0LjljMS43LDAsMy4xLDEuNCwzLjEsMy4xcy0xLjQsMy4xLTMuMSwzLjEgcy0zLjEtMS40LTMuMS0zLjFTNTMuNSwzNC45LDU1LjIsMzQuOXogTTUwLjQsNTFjMS43LDAsMy4xLDEuNCwzLjEsMy4xYzAsMS43LTEuNCwzLjEtMy4xLDMuMWMtMS43LDAtMy4xLTEuNC0zLjEtMy4xIEM0Ny4zLDUyLjQsNDguNyw1MSw1MC40LDUxeiBNNTUuNiwzNy4xbDEuNS03LjggTTYwLjEsMTMuNWwxLjYtOC43bC03LjgsNCBNNTksMTlsLTEsNS4zIE0yNCwxNi4xbDYuNCw0LjlsNi40LTMuMyBNNDguNSwxMS42IGwtNS45LDMuMSBNMTkuMSwxMi44TDkuNyw1LjFsMS4xLDcuNyBNMTMuNCwyOS44bDEsNy4zbDYuNiwxLjYgTTExLjYsMTguNGwxLDYuMSBNMzIuOCw0MS45IE0yNi42LDQwLjQgTTI3LjMsNDAuMmw2LjEsMS42IE00OS45LDUyLjFsLTUuNi03LjZsLTQuOS0xLjIiLGxpbmVYOiJNMTUuMiwzMCBNMTkuNywxNS42VjEuOUgyOSBNMzQuOCwxLjlINDAuNCBNNTUuMywxNS42VjEuOUg0NS45IE0xOS43LDQ0LjRWNTguMUgyOSBNMzQuOCw1OC4xSDQwLjQgTTU1LjMsNDQuNCBWNTguMUg0NS45IE0xMi41LDIwLjNsLTkuNCw5LjZsOS42LDkuOCBNMy4xLDI5LjloMTYuNSBNNjIuNSwyMC4zbDkuNCw5LjZMNjIuMywzOS43IE03MS45LDI5LjlINTUuNCIsbGluZVk6Ik0zOC44LDcuNyBNNTIuNywxMmgxMy4ydjkgTTY1LjksMjYuNlYzMiBNNTIuNyw0Ni4zaDEzLjJ2LTkgTTI0LjksMTJIMTEuOHY5IE0xMS44LDI2LjZWMzIgTTI0LjksNDYuM0gxMS44di05IE00OC4yLDUuMWwtOS4zLTlsLTkuNCw5LjIgTTM4LjktMy45VjEyIE00OC4yLDUzLjNsLTkuMyw5bC05LjQtOS4yIE0zOC45LDYyLjNWNDYuNCIsa2VlcDoiTTQsMTAuNVYxaDEwLjMgTTIwLjcsMWg2LjEgTTMzLDFoNi4xIE01NS40LDEwLjVWMUg0NS4yIE00LDE3LjN2Ni42IE01NS42LDE3LjN2Ni42IE00LDMwLjVWNDBoMTAuMyBNMjAuNyw0MCBoNi4xIE0zMyw0MGg2LjEgTTU1LjQsMzAuNVY0MEg0NS4yIE0yMSwxOC45aDYyLjl2NDguNkgyMVYxOC45eiIsY2xlYXI6Ik0yMiwxNC43bDMwLjksMzEgTTUyLjksMTQuN0wyMiw0NS43IE00LjcsMTYuOFY0LjJoMTMuMSBNMjYsNC4yaDcuOCBNNDEuNiw0LjJoNy44IE03MC4zLDE2LjhWNC4ySDU3LjIgTTQuNywyNS45djguNiBNNzAuMywyNS45djguNiBNNC43LDQzLjJ2MTIuNmgxMy4xIE0yNiw1NS44aDcuOCBNNDEuNiw1NS44aDcuOCBNNzAuMyw0My4ydjEyLjZINTcuMiJ9LHRpdGxlOnQuZ2V0TG9jYWxlKFsidG9vbGJveCIsImJydXNoIiwidGl0bGUiXSl9fSxlfShSTik7dmFyIHlFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5sYXlvdXRNb2RlPXt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InRpdGxlIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NixzaG93OiEwLHRleHQ6IiIsdGFyZ2V0OiJibGFuayIsc3VidGV4dDoiIixzdWJ0YXJnZXQ6ImJsYW5rIixsZWZ0OjAsdG9wOjAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCx0ZXh0U3R5bGU6e2ZvbnRTaXplOjE4LGZvbnRXZWlnaHQ6ImJvbGQiLGNvbG9yOiIjNDY0NjQ2In0sc3VidGV4dFN0eWxlOntmb250U2l6ZToxMixjb2xvcjoiIzZFNzA3OSJ9fSxlfShYYyksdkU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBpPXRoaXMuZ3JvdXAscj10LmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxvPXQuZ2V0TW9kZWwoInN1YnRleHRTdHlsZSIpLGE9dC5nZXQoInRleHRBbGlnbiIpLHM9dHQodC5nZXQoInRleHRCYXNlbGluZSIpLHQuZ2V0KCJ0ZXh0VmVydGljYWxBbGlnbiIpKSxsPW5ldyBjcyh7c3R5bGU6cGgocix7dGV4dDp0LmdldCgidGV4dCIpLGZpbGw6ci5nZXRUZXh0Q29sb3IoKX0se2Rpc2FibGVCb3g6ITB9KSx6MjoxMH0pLHU9bC5nZXRCb3VuZGluZ1JlY3QoKSxoPXQuZ2V0KCJzdWJ0ZXh0IiksYz1uZXcgY3Moe3N0eWxlOnBoKG8se3RleHQ6aCxmaWxsOm8uZ2V0VGV4dENvbG9yKCkseTp1LmhlaWdodCt0LmdldCgiaXRlbUdhcCIpLHZlcnRpY2FsQWxpZ246InRvcCJ9LHtkaXNhYmxlQm94OiEwfSksejI6MTB9KSxwPXQuZ2V0KCJsaW5rIiksZD10LmdldCgic3VibGluayIpLGY9dC5nZXQoInRyaWdnZXJFdmVudCIsITApO2wuc2lsZW50PSFwJiYhZixjLnNpbGVudD0hZCYmIWYscCYmbC5vbigiY2xpY2siLChmdW5jdGlvbigpe1BjKHAsIl8iK3QuZ2V0KCJ0YXJnZXQiKSl9KSksZCYmYy5vbigiY2xpY2siLChmdW5jdGlvbigpe1BjKGQsIl8iK3QuZ2V0KCJzdWJ0YXJnZXQiKSl9KSksX3MobCkuZXZlbnREYXRhPV9zKGMpLmV2ZW50RGF0YT1mP3tjb21wb25lbnRUeXBlOiJ0aXRsZSIsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleH06bnVsbCxpLmFkZChsKSxoJiZpLmFkZChjKTt2YXIgZz1pLmdldEJvdW5kaW5nUmVjdCgpLHk9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKTt5LndpZHRoPWcud2lkdGgseS5oZWlnaHQ9Zy5oZWlnaHQ7dmFyIHY9VmMoeSx7d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpfSx0LmdldCgicGFkZGluZyIpKTthfHwoIm1pZGRsZSI9PT0oYT10LmdldCgibGVmdCIpfHx0LmdldCgicmlnaHQiKSkmJihhPSJjZW50ZXIiKSwicmlnaHQiPT09YT92LngrPXYud2lkdGg6ImNlbnRlciI9PT1hJiYodi54Kz12LndpZHRoLzIpKSxzfHwoImNlbnRlciI9PT0ocz10LmdldCgidG9wIil8fHQuZ2V0KCJib3R0b20iKSkmJihzPSJtaWRkbGUiKSwiYm90dG9tIj09PXM/di55Kz12LmhlaWdodDoibWlkZGxlIj09PXMmJih2LnkrPXYuaGVpZ2h0LzIpLHM9c3x8InRvcCIpLGkueD12LngsaS55PXYueSxpLm1hcmtSZWRyYXcoKTt2YXIgbT17YWxpZ246YSx2ZXJ0aWNhbEFsaWduOnN9O2wuc2V0U3R5bGUobSksYy5zZXRTdHlsZShtKSxnPWkuZ2V0Qm91bmRpbmdSZWN0KCk7dmFyIF89di5tYXJnaW4seD10LmdldEl0ZW1TdHlsZShbImNvbG9yIiwib3BhY2l0eSJdKTt4LmZpbGw9dC5nZXQoImJhY2tncm91bmRDb2xvciIpO3ZhciBiPW5ldyBscyh7c2hhcGU6e3g6Zy54LV9bM10seTpnLnktX1swXSx3aWR0aDpnLndpZHRoK19bMV0rX1szXSxoZWlnaHQ6Zy5oZWlnaHQrX1swXStfWzJdLHI6dC5nZXQoImJvcmRlclJhZGl1cyIpfSxzdHlsZTp4LHN1YlBpeGVsT3B0aW1pemU6ITAsc2lsZW50OiEwfSk7aS5hZGQoYil9fSxlLnR5cGU9InRpdGxlIixlfSh3Zik7dmFyIG1FPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5sYXlvdXRNb2RlPSJib3giLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksdGhpcy5faW5pdERhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2luaXREYXRhKCl9LGUucHJvdG90eXBlLnNldEN1cnJlbnRJbmRleD1mdW5jdGlvbih0KXtudWxsPT10JiYodD10aGlzLm9wdGlvbi5jdXJyZW50SW5kZXgpO3ZhciBlPXRoaXMuX2RhdGEuY291bnQoKTt0aGlzLm9wdGlvbi5sb29wP3Q9KHQlZStlKSVlOih0Pj1lJiYodD1lLTEpLHQ8MCYmKHQ9MCkpLHRoaXMub3B0aW9uLmN1cnJlbnRJbmRleD10fSxlLnByb3RvdHlwZS5nZXRDdXJyZW50SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24uY3VycmVudEluZGV4fSxlLnByb3RvdHlwZS5pc0luZGV4TWF4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudEluZGV4KCk+PXRoaXMuX2RhdGEuY291bnQoKS0xfSxlLnByb3RvdHlwZS5zZXRQbGF5U3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uYXV0b1BsYXk9ISF0fSxlLnByb3RvdHlwZS5nZXRQbGF5U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMub3B0aW9uLmF1dG9QbGF5fSxlLnByb3RvdHlwZS5faW5pdERhdGE9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMub3B0aW9uLG49ZS5kYXRhfHxbXSxpPWUuYXhpc1R5cGUscj10aGlzLl9uYW1lcz1bXTsiY2F0ZWdvcnkiPT09aT8odD1bXSxQKG4sKGZ1bmN0aW9uKGUsbil7dmFyIGksbz1DcihTcihlKSwiIik7WChlKT8oaT13KGUpKS52YWx1ZT1uOmk9bix0LnB1c2goaSksci5wdXNoKG8pfSkpKTp0PW47dmFyIG89e2NhdGVnb3J5OiJvcmRpbmFsIix0aW1lOiJ0aW1lIix2YWx1ZToibnVtYmVyIn1baV18fCJudW1iZXIiOyh0aGlzLl9kYXRhPW5ldyBMXyhbe25hbWU6InZhbHVlIix0eXBlOm99XSx0aGlzKSkuaW5pdERhdGEodCxyKX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzPWZ1bmN0aW9uKCl7aWYoImNhdGVnb3J5Ij09PXRoaXMuZ2V0KCJheGlzVHlwZSIpKXJldHVybiB0aGlzLl9uYW1lcy5zbGljZSgpfSxlLnR5cGU9InRpbWVsaW5lIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NCxzaG93OiEwLGF4aXNUeXBlOiJ0aW1lIixyZWFsdGltZTohMCxsZWZ0OiIyMCUiLHRvcDpudWxsLHJpZ2h0OiIyMCUiLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0OjQwLHBhZGRpbmc6NSxjb250cm9sUG9zaXRpb246ImxlZnQiLGF1dG9QbGF5OiExLHJld2luZDohMSxsb29wOiEwLHBsYXlJbnRlcnZhbDoyZTMsY3VycmVudEluZGV4OjAsaXRlbVN0eWxlOnt9LGxhYmVsOntjb2xvcjoiIzAwMCJ9LGRhdGE6W119LGV9KFhjKSxfRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InRpbWVsaW5lLnNsaWRlciIsZS5kZWZhdWx0T3B0aW9uPXpoKG1FLmRlZmF1bHRPcHRpb24se2JhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlcldpZHRoOjAsb3JpZW50OiJob3Jpem9udGFsIixpbnZlcnNlOiExLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMixsaW5lU3R5bGU6e3Nob3c6ITAsd2lkdGg6Mixjb2xvcjoiI0RBRTFGNSJ9LGxhYmVsOntwb3NpdGlvbjoiYXV0byIsc2hvdzohMCxpbnRlcnZhbDoiYXV0byIscm90YXRlOjAsY29sb3I6IiNBNEIxRDcifSxpdGVtU3R5bGU6e2NvbG9yOiIjQTRCMUQ3Iixib3JkZXJXaWR0aDoxfSxjaGVja3BvaW50U3R5bGU6e3N5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjE1LGNvbG9yOiIjMzE2YmYzIixib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjIsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLCAwLCAwLCAwLjMpIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb246MzAwLGFuaW1hdGlvbkVhc2luZzoicXVpbnRpY0luT3V0In0sY29udHJvbFN0eWxlOntzaG93OiEwLHNob3dQbGF5QnRuOiEwLHNob3dQcmV2QnRuOiEwLHNob3dOZXh0QnRuOiEwLGl0ZW1TaXplOjI0LGl0ZW1HYXA6MTIscG9zaXRpb246ImxlZnQiLHBsYXlJY29uOiJwYXRoOi8vTTMxLjYsNTNDMTcuNSw1Myw2LDQxLjUsNiwyNy40UzE3LjUsMS44LDMxLjYsMS44QzQ1LjcsMS44LDU3LjIsMTMuMyw1Ny4yLDI3LjRTNDUuNyw1MywzMS42LDUzeiBNMzEuNiwzLjMgQzE4LjQsMy4zLDcuNSwxNC4xLDcuNSwyNy40YzAsMTMuMywxMC44LDI0LjEsMjQuMSwyNC4xQzQ0LjksNTEuNSw1NS43LDQwLjcsNTUuNywyNy40QzU1LjcsMTQuMSw0NC45LDMuMywzMS42LDMuM3ogTTI0LjksMjEuMyBjMC0yLjIsMS42LTMuMSwzLjUtMmwxMC41LDYuMWMxLjg5OSwxLjEsMS44OTksMi45LDAsNGwtMTAuNSw2LjFjLTEuOSwxLjEtMy41LDAuMi0zLjUtMlYyMS4zeiIsc3RvcEljb246InBhdGg6Ly9NMzAuOSw1My4yQzE2LjgsNTMuMiw1LjMsNDEuNyw1LjMsMjcuNlMxNi44LDIsMzAuOSwyQzQ1LDIsNTYuNCwxMy41LDU2LjQsMjcuNlM0NSw1My4yLDMwLjksNTMuMnogTTMwLjksMy41QzE3LjYsMy41LDYuOCwxNC40LDYuOCwyNy42YzAsMTMuMywxMC44LDI0LjEsMjQuMTAxLDI0LjFDNDQuMiw1MS43LDU1LDQwLjksNTUsMjcuNkM1NC45LDE0LjQsNDQuMSwzLjUsMzAuOSwzLjV6IE0zNi45LDM1LjhjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgzNmMwLjUsMCwwLjksMC40LDAuOSwxVjM1Ljh6IE0yNy44LDM1LjggYzAsMC42MDEtMC40LDEtMC45LDFoLTEuM2MtMC41LDAtMC45LTAuMzk5LTAuOS0xVjE5LjVjMC0wLjYsMC40LTEsMC45LTFIMjdjMC41LDAsMC45LDAuNCwwLjksMUwyNy44LDM1LjhMMjcuOCwzNS44eiIsbmV4dEljb246Ik0yLDE4LjVBMS41MiwxLjUyLDAsMCwxLC45MiwxOGExLjQ5LDEuNDksMCwwLDEsMC0yLjEyTDcuODEsOS4zNiwxLDMuMTFBMS41LDEuNSwwLDEsMSwzLC44OWw4LDcuMzRhMS40OCwxLjQ4LDAsMCwxLC40OSwxLjA5LDEuNTEsMS41MSwwLDAsMS0uNDYsMS4xTDMsMTguMDhBMS41LDEuNSwwLDAsMSwyLDE4LjVaIixwcmV2SWNvbjoiTTEwLC41QTEuNTIsMS41MiwwLDAsMSwxMS4wOCwxYTEuNDksMS40OSwwLDAsMSwwLDIuMTJMNC4xOSw5LjY0LDExLDE1Ljg5YTEuNSwxLjUsMCwxLDEtMiwyLjIyTDEsMTAuNzdBMS40OCwxLjQ4LDAsMCwxLC41LDkuNjgsMS41MSwxLjUxLDAsMCwxLDEsOC41OEw5LC45MkExLjUsMS41LDAsMCwxLDEwLC41WiIscHJldkJ0blNpemU6MTgsbmV4dEJ0blNpemU6MTgsY29sb3I6IiNBNEIxRDciLGJvcmRlckNvbG9yOiIjQTRCMUQ3Iixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITAsY29sb3I6IiM2Zjc3OGQifSxpdGVtU3R5bGU6e2NvbG9yOiIjMzE2QkYzIn0sY29udHJvbFN0eWxlOntjb2xvcjoiIzMxNkJGMyIsYm9yZGVyQ29sb3I6IiMzMTZCRjMiLGJvcmRlcldpZHRoOjJ9fSxwcm9ncmVzczp7bGluZVN0eWxlOntjb2xvcjoiIzMxNkJGMyJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiMzMTZCRjMifSxsYWJlbDp7Y29sb3I6IiM2Zjc3OGQifX0sZGF0YTpbXX0pLGV9KG1FKTtMKF9FLFRkLnByb3RvdHlwZSk7dmFyIHhFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idGltZWxpbmUiLGV9KHdmKSxiRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gby50eXBlPXJ8fCJ2YWx1ZSIsb31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldExhYmVsTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRNb2RlbCgibGFiZWwiKX0sZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7cmV0dXJuImhvcml6b250YWwiPT09dGhpcy5tb2RlbC5nZXQoIm9yaWVudCIpfSxlfShoYiksd0U9TWF0aC5QSSxTRT1rcigpLE1FPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmFwaT1lfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMubW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZWNNb2RlbD1lLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciLCEwKSl7dmFyIGk9dGhpcy5fbGF5b3V0KHQsbikscj10aGlzLl9jcmVhdGVHcm91cCgiX21haW5Hcm91cCIpLG89dGhpcy5fY3JlYXRlR3JvdXAoIl9sYWJlbEdyb3VwIiksYT10aGlzLl9heGlzPXRoaXMuX2NyZWF0ZUF4aXMoaSx0KTt0LmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRmKCJuYW1lVmFsdWUiLHtub05hbWU6ITAsdmFsdWU6YS5zY2FsZS5nZXRMYWJlbCh7dmFsdWU6dH0pfSl9LFAoWyJBeGlzTGluZSIsIkF4aXNUaWNrIiwiQ29udHJvbCIsIkN1cnJlbnRQb2ludGVyIl0sKGZ1bmN0aW9uKGUpe3RoaXNbIl9yZW5kZXIiK2VdKGkscixhLHQpfSksdGhpcyksdGhpcy5fcmVuZGVyQXhpc0xhYmVsKGksbyxhLHQpLHRoaXMuX3Bvc2l0aW9uKGksdCl9dGhpcy5fZG9QbGF5U3RvcCgpLHRoaXMuX3VwZGF0ZVRpY2tzU3RhdHVzKCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpfSxlLnByb3RvdHlwZS5fbGF5b3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYT10LmdldChbImxhYmVsIiwicG9zaXRpb24iXSkscz10LmdldCgib3JpZW50IiksbD1mdW5jdGlvbih0LGUpe3JldHVybiBWYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpfSh0LGUpLHU9e2hvcml6b250YWw6ImNlbnRlciIsdmVydGljYWw6KG49bnVsbD09YXx8ImF1dG8iPT09YT8iaG9yaXpvbnRhbCI9PT1zP2wueStsLmhlaWdodC8yPGUuZ2V0SGVpZ2h0KCkvMj8iLSI6IisiOmwueCtsLndpZHRoLzI8ZS5nZXRXaWR0aCgpLzI/IisiOiItIjpIKGEpP3tob3Jpem9udGFsOnt0b3A6Ii0iLGJvdHRvbToiKyJ9LHZlcnRpY2FsOntsZWZ0OiItIixyaWdodDoiKyJ9fVtzXVthXTphKT49MHx8IisiPT09bj8ibGVmdCI6InJpZ2h0In0saD17aG9yaXpvbnRhbDpuPj0wfHwiKyI9PT1uPyJ0b3AiOiJib3R0b20iLHZlcnRpY2FsOiJtaWRkbGUifSxjPXtob3Jpem9udGFsOjAsdmVydGljYWw6d0UvMn0scD0idmVydGljYWwiPT09cz9sLmhlaWdodDpsLndpZHRoLGQ9dC5nZXRNb2RlbCgiY29udHJvbFN0eWxlIiksZj1kLmdldCgic2hvdyIsITApLGc9Zj9kLmdldCgiaXRlbVNpemUiKTowLHk9Zj9kLmdldCgiaXRlbUdhcCIpOjAsdj1nK3ksbT10LmdldChbImxhYmVsIiwicm90YXRlIl0pfHwwO209bSp3RS8xODA7dmFyIF89ZC5nZXQoInBvc2l0aW9uIiwhMCkseD1mJiZkLmdldCgic2hvd1BsYXlCdG4iLCEwKSxiPWYmJmQuZ2V0KCJzaG93UHJldkJ0biIsITApLHc9ZiYmZC5nZXQoInNob3dOZXh0QnRuIiwhMCksUz0wLE09cDsibGVmdCI9PT1ffHwiYm90dG9tIj09PV8/KHgmJihpPVswLDBdLFMrPXYpLGImJihyPVtTLDBdLFMrPXYpLHcmJihvPVtNLWcsMF0sTS09dikpOih4JiYoaT1bTS1nLDBdLE0tPXYpLGImJihyPVswLDBdLFMrPXYpLHcmJihvPVtNLWcsMF0sTS09dikpO3ZhciBJPVtTLE1dO3JldHVybiB0LmdldCgiaW52ZXJzZSIpJiZJLnJldmVyc2UoKSx7dmlld1JlY3Q6bCxtYWluTGVuZ3RoOnAsb3JpZW50OnMscm90YXRpb246Y1tzXSxsYWJlbFJvdGF0aW9uOm0sbGFiZWxQb3NPcHQ6bixsYWJlbEFsaWduOnQuZ2V0KFsibGFiZWwiLCJhbGlnbiJdKXx8dVtzXSxsYWJlbEJhc2VsaW5lOnQuZ2V0KFsibGFiZWwiLCJ2ZXJ0aWNhbEFsaWduIl0pfHx0LmdldChbImxhYmVsIiwiYmFzZWxpbmUiXSl8fGhbc10scGxheVBvc2l0aW9uOmkscHJldkJ0blBvc2l0aW9uOnIsbmV4dEJ0blBvc2l0aW9uOm8sYXhpc0V4dGVudDpJLGNvbnRyb2xTaXplOmcsY29udHJvbEdhcDp5fX0sZS5wcm90b3R5cGUuX3Bvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbWFpbkdyb3VwLGk9dGhpcy5fbGFiZWxHcm91cCxyPXQudmlld1JlY3Q7aWYoInZlcnRpY2FsIj09PXQub3JpZW50KXt2YXIgbz1bMSwwLDAsMSwwLDBdLGE9ci54LHM9ci55K3IuaGVpZ2h0O1VuKG8sbyxbLWEsLXNdKSxYbihvLG8sLXdFLzIpLFVuKG8sbyxbYSxzXSksKHI9ci5jbG9uZSgpKS5hcHBseVRyYW5zZm9ybShvKX12YXIgbD15KHIpLHU9eShuLmdldEJvdW5kaW5nUmVjdCgpKSxoPXkoaS5nZXRCb3VuZGluZ1JlY3QoKSksYz1bbi54LG4ueV0scD1baS54LGkueV07cFswXT1jWzBdPWxbMF1bMF07dmFyIGQsZj10LmxhYmVsUG9zT3B0O251bGw9PWZ8fEgoZik/KHYoYyx1LGwsMSxkPSIrIj09PWY/MDoxKSx2KHAsaCxsLDEsMS1kKSk6KHYoYyx1LGwsMSxkPWY+PTA/MDoxKSxwWzFdPWNbMV0rZik7ZnVuY3Rpb24gZyh0KXt0Lm9yaWdpblg9bFswXVswXS10LngsdC5vcmlnaW5ZPWxbMV1bMF0tdC55fWZ1bmN0aW9uIHkodCl7cmV0dXJuW1t0LngsdC54K3Qud2lkdGhdLFt0LnksdC55K3QuaGVpZ2h0XV19ZnVuY3Rpb24gdih0LGUsbixpLHIpe3RbaV0rPW5baV1bcl0tZVtpXVtyXX1uLnNldFBvc2l0aW9uKGMpLGkuc2V0UG9zaXRpb24ocCksbi5yb3RhdGlvbj1pLnJvdGF0aW9uPXQucm90YXRpb24sZyhuKSxnKGkpfSxlLnByb3RvdHlwZS5fY3JlYXRlQXhpcz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0RGF0YSgpLGk9ZS5nZXQoImF4aXNUeXBlIikscj1mdW5jdGlvbih0LGUpe2lmKGU9ZXx8dC5nZXQoInR5cGUiKSlzd2l0Y2goZSl7Y2FzZSJjYXRlZ29yeSI6cmV0dXJuIG5ldyAkXyh7b3JkaW5hbE1ldGE6dC5nZXRDYXRlZ29yaWVzKCksZXh0ZW50OlsxLzAsLTEvMF19KTtjYXNlInRpbWUiOnJldHVybiBuZXcgZHgoe2xvY2FsZTp0LmVjTW9kZWwuZ2V0TG9jYWxlTW9kZWwoKSx1c2VVVEM6dC5lY01vZGVsLmdldCgidXNlVVRDIil9KTtkZWZhdWx0OnJldHVybiBuZXcgUV99fShlLGkpO3IuZ2V0VGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gbi5tYXBBcnJheShbInZhbHVlIl0sKGZ1bmN0aW9uKHQpe3JldHVybnt2YWx1ZTp0fX0pKX07dmFyIG89bi5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpO3Iuc2V0RXh0ZW50KG9bMF0sb1sxXSksci5uaWNlVGlja3MoKTt2YXIgYT1uZXcgYkUoInZhbHVlIixyLHQuYXhpc0V4dGVudCxpKTtyZXR1cm4gYS5tb2RlbD1lLGF9LGUucHJvdG90eXBlLl9jcmVhdGVHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzW3RdPW5ldyBFaTtyZXR1cm4gdGhpcy5ncm91cC5hZGQoZSksZX0sZS5wcm90b3R5cGUuX3JlbmRlckF4aXNMaW5lPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uZ2V0RXh0ZW50KCk7aWYoaS5nZXQoWyJsaW5lU3R5bGUiLCJzaG93Il0pKXt2YXIgbz1uZXcgdXUoe3NoYXBlOnt4MTpyWzBdLHkxOjAseDI6clsxXSx5MjowfSxzdHlsZTpJKHtsaW5lQ2FwOiJyb3VuZCJ9LGkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejI6MX0pO2UuYWRkKG8pO3ZhciBhPXRoaXMuX3Byb2dyZXNzTGluZT1uZXcgdXUoe3NoYXBlOnt4MTpyWzBdLHgyOnRoaXMuX2N1cnJlbnRQb2ludGVyP3RoaXMuX2N1cnJlbnRQb2ludGVyLng6clswXSx5MTowLHkyOjB9LHN0eWxlOlQoe2xpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6by5zdHlsZS5saW5lV2lkdGh9LGkuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHoyOjF9KTtlLmFkZChhKX19LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzVGljaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89aS5nZXREYXRhKCksYT1uLnNjYWxlLmdldFRpY2tzKCk7dGhpcy5fdGlja1N5bWJvbHM9W10sUChhLChmdW5jdGlvbih0KXt2YXIgYT1uLmRhdGFUb0Nvb3JkKHQudmFsdWUpLHM9by5nZXRJdGVtTW9kZWwodC52YWx1ZSksbD1zLmdldE1vZGVsKCJpdGVtU3R5bGUiKSx1PXMuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKSxoPXMuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsIml0ZW1TdHlsZSJdKSxjPXt4OmEseTowLG9uY2xpY2s6VihyLl9jaGFuZ2VUaW1lbGluZSxyLHQudmFsdWUpfSxwPUlFKHMsbCxlLGMpO3AuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9dS5nZXRJdGVtU3R5bGUoKSxwLmVuc3VyZVN0YXRlKCJwcm9ncmVzcyIpLnN0eWxlPWguZ2V0SXRlbVN0eWxlKCksc2wocCk7dmFyIGQ9X3MocCk7cy5nZXQoInRvb2x0aXAiKT8oZC5kYXRhSW5kZXg9dC52YWx1ZSxkLmRhdGFNb2RlbD1pKTpkLmRhdGFJbmRleD1kLmRhdGFNb2RlbD1udWxsLHIuX3RpY2tTeW1ib2xzLnB1c2gocCl9KSl9LGUucHJvdG90eXBlLl9yZW5kZXJBeGlzTGFiZWw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcztpZihuLmdldExhYmVsTW9kZWwoKS5nZXQoInNob3ciKSl7dmFyIG89aS5nZXREYXRhKCksYT1uLmdldFZpZXdMYWJlbHMoKTt0aGlzLl90aWNrTGFiZWxzPVtdLFAoYSwoZnVuY3Rpb24oaSl7dmFyIGE9aS50aWNrVmFsdWUscz1vLmdldEl0ZW1Nb2RlbChhKSxsPXMuZ2V0TW9kZWwoImxhYmVsIiksdT1zLmdldE1vZGVsKFsiZW1waGFzaXMiLCJsYWJlbCJdKSxoPXMuZ2V0TW9kZWwoWyJwcm9ncmVzcyIsImxhYmVsIl0pLGM9bi5kYXRhVG9Db29yZChpLnRpY2tWYWx1ZSkscD1uZXcgY3Moe3g6Yyx5OjAscm90YXRpb246dC5sYWJlbFJvdGF0aW9uLXQucm90YXRpb24sb25jbGljazpWKHIuX2NoYW5nZVRpbWVsaW5lLHIsYSksc2lsZW50OiExLHN0eWxlOnBoKGwse3RleHQ6aS5mb3JtYXR0ZWRMYWJlbCxhbGlnbjp0LmxhYmVsQWxpZ24sdmVydGljYWxBbGlnbjp0LmxhYmVsQmFzZWxpbmV9KX0pO3AuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9cGgodSkscC5lbnN1cmVTdGF0ZSgicHJvZ3Jlc3MiKS5zdHlsZT1waChoKSxlLmFkZChwKSxzbChwKSxTRShwKS5kYXRhSW5kZXg9YSxyLl90aWNrTGFiZWxzLnB1c2gocCl9KSl9fSxlLnByb3RvdHlwZS5fcmVuZGVyQ29udHJvbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvbnRyb2xTaXplLG89dC5yb3RhdGlvbixhPWkuZ2V0TW9kZWwoImNvbnRyb2xTdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHM9aS5nZXRNb2RlbChbImVtcGhhc2lzIiwiY29udHJvbFN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGw9aS5nZXRQbGF5U3RhdGUoKSx1PWkuZ2V0KCJpbnZlcnNlIiwhMCk7ZnVuY3Rpb24gaCh0LG4sbCx1KXtpZih0KXt2YXIgaD1JaSh0dChpLmdldChbImNvbnRyb2xTdHlsZSIsbisiQnRuU2l6ZSJdKSxyKSxyKSxjPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWkuc3R5bGUsbz1laCh0LmdldChbImNvbnRyb2xTdHlsZSIsZV0pLGl8fHt9LG5ldyBnaShuWzBdLG5bMV0sblsyXSxuWzNdKSk7ciYmby5zZXRTdHlsZShyKTtyZXR1cm4gb30oaSxuKyJJY29uIixbMCwtaC8yLGgsaF0se3g6dFswXSx5OnRbMV0sb3JpZ2luWDpyLzIsb3JpZ2luWTowLHJvdGF0aW9uOnU/LW86MCxyZWN0SG92ZXI6ITAsc3R5bGU6YSxvbmNsaWNrOmx9KTtjLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXMsZS5hZGQoYyksc2woYyl9fWgodC5uZXh0QnRuUG9zaXRpb24sIm5leHQiLFYodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyx1PyItIjoiKyIpKSxoKHQucHJldkJ0blBvc2l0aW9uLCJwcmV2IixWKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsdT8iKyI6Ii0iKSksaCh0LnBsYXlQb3NpdGlvbixsPyJzdG9wIjoicGxheSIsVih0aGlzLl9oYW5kbGVQbGF5Q2xpY2ssdGhpcywhbCksITApfSxlLnByb3RvdHlwZS5fcmVuZGVyQ3VycmVudFBvaW50ZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9aS5nZXREYXRhKCksbz1pLmdldEN1cnJlbnRJbmRleCgpLGE9ci5nZXRJdGVtTW9kZWwobykuZ2V0TW9kZWwoImNoZWNrcG9pbnRTdHlsZSIpLHM9dGhpcyxsPXtvbkNyZWF0ZTpmdW5jdGlvbih0KXt0LmRyYWdnYWJsZT0hMCx0LmRyaWZ0PVYocy5faGFuZGxlUG9pbnRlckRyYWcscyksdC5vbmRyYWdlbmQ9VihzLl9oYW5kbGVQb2ludGVyRHJhZ2VuZCxzKSxURSh0LHMuX3Byb2dyZXNzTGluZSxvLG4saSwhMCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe1RFKHQscy5fcHJvZ3Jlc3NMaW5lLG8sbixpKX19O3RoaXMuX2N1cnJlbnRQb2ludGVyPUlFKGEsYSx0aGlzLl9tYWluR3JvdXAse30sdGhpcy5fY3VycmVudFBvaW50ZXIsbCl9LGUucHJvdG90eXBlLl9oYW5kbGVQbGF5Q2xpY2s9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLHBsYXlTdGF0ZTp0LGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJEcmFnPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5fcG9pbnRlckNoYW5nZVRpbWVsaW5lKFtuLm9mZnNldFgsbi5vZmZzZXRZXSl9LGUucHJvdG90eXBlLl9oYW5kbGVQb2ludGVyRHJhZ2VuZD1mdW5jdGlvbih0KXt0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW3Qub2Zmc2V0WCx0Lm9mZnNldFldLCEwKX0sZS5wcm90b3R5cGUuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RvQXhpc0Nvb3JkKHQpWzBdLGk9cWkodGhpcy5fYXhpcy5nZXRFeHRlbnQoKS5zbGljZSgpKTtuPmlbMV0mJihuPWlbMV0pLG48aVswXSYmKG49aVswXSksdGhpcy5fY3VycmVudFBvaW50ZXIueD1uLHRoaXMuX2N1cnJlbnRQb2ludGVyLm1hcmtSZWRyYXcoKSx0aGlzLl9wcm9ncmVzc0xpbmUuc2hhcGUueDI9bix0aGlzLl9wcm9ncmVzc0xpbmUuZGlydHkoKTt2YXIgcj10aGlzLl9maW5kTmVhcmVzdFRpY2sobiksbz10aGlzLm1vZGVsOyhlfHxyIT09by5nZXRDdXJyZW50SW5kZXgoKSYmby5nZXQoInJlYWx0aW1lIikpJiZ0aGlzLl9jaGFuZ2VUaW1lbGluZShyKX0sZS5wcm90b3R5cGUuX2RvUGxheVN0b3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLm1vZGVsLmdldFBsYXlTdGF0ZSgpJiYodGhpcy5fdGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT10Lm1vZGVsO3QuX2NoYW5nZVRpbWVsaW5lKGUuZ2V0Q3VycmVudEluZGV4KCkrKGUuZ2V0KCJyZXdpbmQiLCEwKT8tMToxKSl9KSx0aGlzLm1vZGVsLmdldCgicGxheUludGVydmFsIikpKX0sZS5wcm90b3R5cGUuX3RvQXhpc0Nvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBxdSh0LHRoaXMuX21haW5Hcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKX0sZS5wcm90b3R5cGUuX2ZpbmROZWFyZXN0VGljaz1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMubW9kZWwuZ2V0RGF0YSgpLGk9MS8wLHI9dGhpcy5fYXhpcztyZXR1cm4gbi5lYWNoKFsidmFsdWUiXSwoZnVuY3Rpb24obixvKXt2YXIgYT1yLmRhdGFUb0Nvb3JkKG4pLHM9TWF0aC5hYnMoYS10KTtzPGkmJihpPXMsZT1vKX0pKSxlfSxlLnByb3RvdHlwZS5fY2xlYXJUaW1lcj1mdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX0sZS5wcm90b3R5cGUuX2NoYW5nZVRpbWVsaW5lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0Q3VycmVudEluZGV4KCk7IisiPT09dD90PWUrMToiLSI9PT10JiYodD1lLTEpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZUNoYW5nZSIsY3VycmVudEluZGV4OnQsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5fdXBkYXRlVGlja3NTdGF0dXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLmdldEN1cnJlbnRJbmRleCgpLGU9dGhpcy5fdGlja1N5bWJvbHMsbj10aGlzLl90aWNrTGFiZWxzO2lmKGUpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZSYmZVtpXSYmZVtpXS50b2dnbGVTdGF0ZSgicHJvZ3Jlc3MiLGk8dCk7aWYobilmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKW4mJm5baV0mJm5baV0udG9nZ2xlU3RhdGUoInByb2dyZXNzIixTRShuW2ldKS5kYXRhSW5kZXg8PXQpfSxlLnR5cGU9InRpbWVsaW5lLnNsaWRlciIsZX0oeEUpO2Z1bmN0aW9uIElFKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldCgiY29sb3IiKTtyPyhyLnNldENvbG9yKGEpLG4uYWRkKHIpLG8mJm8ub25VcGRhdGUocikpOigocj1meSh0LmdldCgic3ltYm9sIiksLTEsLTEsMiwyLGEpKS5zZXRTdHlsZSgic3Ryb2tlTm9TY2FsZSIsITApLG4uYWRkKHIpLG8mJm8ub25DcmVhdGUocikpO3ZhciBzPWUuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSk7ci5zZXRTdHlsZShzKSxpPVMoe3JlY3RIb3ZlcjohMCx6MjoxMDB9LGksITApO3ZhciBsPXQuZ2V0KCJzeW1ib2xTaXplIik7bD1sIGluc3RhbmNlb2YgQXJyYXk/bC5zbGljZSgpOlsrbCwrbF0saS5zY2FsZVg9bFswXS8yLGkuc2NhbGVZPWxbMV0vMjt2YXIgdT10LmdldCgic3ltYm9sT2Zmc2V0Iik7dSYmKGkueD1pLnh8fDAsaS55PWkueXx8MCxpLngrPVppKHVbMF0sbFswXSksaS55Kz1aaSh1WzFdLGxbMV0pKTt2YXIgaD10LmdldCgic3ltYm9sUm90YXRlIik7cmV0dXJuIGkucm90YXRpb249KGh8fDApKk1hdGguUEkvMTgwfHwwLHIuYXR0cihpKSxyLnVwZGF0ZVRyYW5zZm9ybSgpLHJ9ZnVuY3Rpb24gVEUodCxlLG4saSxyLG8pe2lmKCF0LmRyYWdnaW5nKXt2YXIgYT1yLmdldE1vZGVsKCJjaGVja3BvaW50U3R5bGUiKSxzPWkuZGF0YVRvQ29vcmQoci5nZXREYXRhKCkuZ2V0KCJ2YWx1ZSIsbikpO2lmKG98fCFhLmdldCgiYW5pbWF0aW9uIiwhMCkpdC5hdHRyKHt4OnMseTowfSksZSYmZS5hdHRyKHtzaGFwZTp7eDI6c319KTtlbHNle3ZhciBsPXtkdXJhdGlvbjphLmdldCgiYW5pbWF0aW9uRHVyYXRpb24iLCEwKSxlYXNpbmc6YS5nZXQoImFuaW1hdGlvbkVhc2luZyIsITApfTt0LnN0b3BBbmltYXRpb24obnVsbCwhMCksdC5hbmltYXRlVG8oe3g6cyx5OjB9LGwpLGUmJmUuYW5pbWF0ZVRvKHtzaGFwZTp7eDI6c319LGwpfX19ZnVuY3Rpb24gQ0UodCl7dmFyIGU9dCYmdC50aW1lbGluZTtGKGUpfHwoZT1lP1tlXTpbXSksUChlLChmdW5jdGlvbih0KXt0JiZmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj17bnVtYmVyOiJ2YWx1ZSIsdGltZToidGltZSJ9O25bZV0mJih0LmF4aXNUeXBlPW5bZV0sZGVsZXRlIHQudHlwZSk7aWYoREUodCksQUUodCwiY29udHJvbFBvc2l0aW9uIikpe3ZhciBpPXQuY29udHJvbFN0eWxlfHwodC5jb250cm9sU3R5bGU9e30pO0FFKGksInBvc2l0aW9uIil8fChpLnBvc2l0aW9uPXQuY29udHJvbFBvc2l0aW9uKSwibm9uZSIhPT1pLnBvc2l0aW9ufHxBRShpLCJzaG93Iil8fChpLnNob3c9ITEsZGVsZXRlIGkucG9zaXRpb24pLGRlbGV0ZSB0LmNvbnRyb2xQb3NpdGlvbn1QKHQuZGF0YXx8W10sKGZ1bmN0aW9uKHQpe1godCkmJiFGKHQpJiYoIUFFKHQsInZhbHVlIikmJkFFKHQsIm5hbWUiKSYmKHQudmFsdWU9dC5uYW1lKSxERSh0KSl9KSl9KHQpfSkpfWZ1bmN0aW9uIERFKHQpe3ZhciBlPXQuaXRlbVN0eWxlfHwodC5pdGVtU3R5bGU9e30pLG49ZS5lbXBoYXNpc3x8KGUuZW1waGFzaXM9e30pLGk9dC5sYWJlbHx8dC5sYWJlbHx8e30scj1pLm5vcm1hbHx8KGkubm9ybWFsPXt9KSxvPXtub3JtYWw6MSxlbXBoYXNpczoxfTtQKGksKGZ1bmN0aW9uKHQsZSl7b1tlXXx8QUUocixlKXx8KHJbZV09dCl9KSksbi5sYWJlbCYmIUFFKGksImVtcGhhc2lzIikmJihpLmVtcGhhc2lzPW4ubGFiZWwsZGVsZXRlIG4ubGFiZWwpfWZ1bmN0aW9uIEFFKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gTEUodCxlKXtpZighdClyZXR1cm4hMTtmb3IodmFyIG49Rih0KT90Olt0XSxpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXSYmbltpXVtlXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBrRSh0KXticih0LCJsYWJlbCIsWyJzaG93Il0pfXZhciBQRT1rcigpLE9FPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5jcmVhdGVkQnlTZWxmPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksdGhpcy5fbWVyZ2VPcHRpb24odCxuLCExLCEwKX0sZS5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYoYS5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuX19ob3N0U2VyaWVzO3JldHVybiB0aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpJiZ0JiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX21lcmdlT3B0aW9uKHQsZSwhMSwhMSl9LGUucHJvdG90eXBlLl9tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLm1haW5UeXBlO258fGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQodGhpcy5tYWluVHlwZSwhMCksbz1QRSh0KVtyXTtuJiZuLmRhdGE/KG8/by5fbWVyZ2VPcHRpb24obixlLCEwKTooaSYma0UobiksUChuLmRhdGEsKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheT8oa0UodFswXSksa0UodFsxXSkpOmtFKHQpfSkpLEkobz10aGlzLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcyhuLHRoaXMsZSkse21haW5UeXBlOnRoaXMubWFpblR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfSksby5fX2hvc3RTZXJpZXM9dCksUEUodClbcl09byk6UEUodClbcl09bnVsbH0pLHRoaXMpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCk7cmV0dXJuIHRmKCJzZWN0aW9uIix7aGVhZGVyOnRoaXMubmFtZSxibG9ja3M6W3RmKCJuYW1lVmFsdWUiLHtuYW1lOm8sdmFsdWU6cixub05hbWU6IW8sbm9WYWx1ZTpudWxsPT1yfSldfSl9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LGUuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBFKHQpW2VdfSxlLnR5cGU9Im1hcmtlciIsZS5kZXBlbmRlbmNpZXM9WyJzZXJpZXMiLCJncmlkIiwicG9sYXIiLCJnZW8iXSxlfShYYyk7TChPRSxUZC5wcm90b3R5cGUpO3ZhciBSRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBuZXcgZSh0LG4saSl9LGUudHlwZT0ibWFya1BvaW50IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NSxzeW1ib2w6InBpbiIsc3ltYm9sU2l6ZTo1MCx0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sbGFiZWw6e3Nob3c6ITAscG9zaXRpb246Imluc2lkZSJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19LGV9KE9FKTtmdW5jdGlvbiBORSh0LGUsbixpLHIsbyl7dmFyIGE9W10scz1WXyhlLGkpP2UuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpOmksbD1HRShlLHMsdCksdT1lLmluZGljZXNPZk5lYXJlc3QocyxsKVswXTthW3JdPWUuZ2V0KG4sdSksYVtvXT1lLmdldChzLHUpO3ZhciBoPWUuZ2V0KGksdSksYz1LaShlLmdldChpLHUpKTtyZXR1cm4oYz1NYXRoLm1pbihjLDIwKSk+PTAmJihhW29dPSthW29dLnRvRml4ZWQoYykpLFthLGhdfXZhciB6RT17bWluOkIoTkUsIm1pbiIpLG1heDpCKE5FLCJtYXgiKSxhdmVyYWdlOkIoTkUsImF2ZXJhZ2UiKSxtZWRpYW46QihORSwibWVkaWFuIil9O2Z1bmN0aW9uIEVFKHQsZSl7dmFyIG49dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoZSYmIWZ1bmN0aW9uKHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQueCkpJiYhaXNOYU4ocGFyc2VGbG9hdCh0LnkpKX0oZSkmJiFGKGUuY29vcmQpJiZpKXt2YXIgcj1pLmRpbWVuc2lvbnMsbz1WRShlLG4saSx0KTtpZigoZT13KGUpKS50eXBlJiZ6RVtlLnR5cGVdJiZvLmJhc2VBeGlzJiZvLnZhbHVlQXhpcyl7dmFyIGE9RChyLG8uYmFzZUF4aXMuZGltKSxzPUQocixvLnZhbHVlQXhpcy5kaW0pLGw9ekVbZS50eXBlXShuLG8uYmFzZURhdGFEaW0sby52YWx1ZURhdGFEaW0sYSxzKTtlLmNvb3JkPWxbMF0sZS52YWx1ZT1sWzFdfWVsc2V7Zm9yKHZhciB1PVtudWxsIT1lLnhBeGlzP2UueEF4aXM6ZS5yYWRpdXNBeGlzLG51bGwhPWUueUF4aXM/ZS55QXhpczplLmFuZ2xlQXhpc10saD0wO2g8MjtoKyspekVbdVtoXV0mJih1W2hdPUdFKG4sbi5tYXBEaW1lbnNpb24ocltoXSksdVtoXSkpO2UuY29vcmQ9dX19cmV0dXJuIGV9ZnVuY3Rpb24gVkUodCxlLG4saSl7dmFyIHI9e307cmV0dXJuIG51bGwhPXQudmFsdWVJbmRleHx8bnVsbCE9dC52YWx1ZURpbT8oci52YWx1ZURhdGFEaW09bnVsbCE9dC52YWx1ZUluZGV4P2UuZ2V0RGltZW5zaW9uKHQudmFsdWVJbmRleCk6dC52YWx1ZURpbSxyLnZhbHVlQXhpcz1uLmdldEF4aXMoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKSxpPW4uZGltZW5zaW9ucztlPW4uZ2V0RGltZW5zaW9uKGUpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1uLmdldERpbWVuc2lvbkluZm8oaVtyXSk7aWYoby5uYW1lPT09ZSlyZXR1cm4gby5jb29yZERpbX19KGksci52YWx1ZURhdGFEaW0pKSxyLmJhc2VBeGlzPW4uZ2V0T3RoZXJBeGlzKHIudmFsdWVBeGlzKSxyLmJhc2VEYXRhRGltPWUubWFwRGltZW5zaW9uKHIuYmFzZUF4aXMuZGltKSk6KHIuYmFzZUF4aXM9aS5nZXRCYXNlQXhpcygpLHIudmFsdWVBeGlzPW4uZ2V0T3RoZXJBeGlzKHIuYmFzZUF4aXMpLHIuYmFzZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oci5iYXNlQXhpcy5kaW0pLHIudmFsdWVEYXRhRGltPWUubWFwRGltZW5zaW9uKHIudmFsdWVBeGlzLmRpbSkpLHJ9ZnVuY3Rpb24gQkUodCxlKXtyZXR1cm4hKHQmJnQuY29udGFpbkRhdGEmJmUuY29vcmQmJiFmdW5jdGlvbih0KXtyZXR1cm4hKGlzTmFOKHBhcnNlRmxvYXQodC54KSkmJmlzTmFOKHBhcnNlRmxvYXQodC55KSkpfShlKSl8fHQuY29udGFpbkRhdGEoZS5jb29yZCl9ZnVuY3Rpb24gRkUodCxlLG4saSl7cmV0dXJuIGk8Mj90LmNvb3JkJiZ0LmNvb3JkW2ldOnQudmFsdWV9ZnVuY3Rpb24gR0UodCxlLG4pe2lmKCJhdmVyYWdlIj09PW4pe3ZhciBpPTAscj0wO3JldHVybiB0LmVhY2goZSwoZnVuY3Rpb24odCxlKXtpc05hTih0KXx8KGkrPXQscisrKX0pKSxpL3J9cmV0dXJuIm1lZGlhbiI9PT1uP3QuZ2V0TWVkaWFuKGUpOnQuZ2V0RGF0YUV4dGVudChlKVsibWF4Ij09PW4/MTowXX12YXIgSEU9a3IoKSxXRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5tYXJrZXJHcm91cE1hcD1odCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10aGlzLm1hcmtlckdyb3VwTWFwO3IuZWFjaCgoZnVuY3Rpb24odCl7SEUodCkua2VlcD0hMX0pKSxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciByPU9FLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LGkudHlwZSk7ciYmaS5yZW5kZXJTZXJpZXModCxyLGUsbil9KSksci5lYWNoKChmdW5jdGlvbih0KXshSEUodCkua2VlcCYmaS5ncm91cC5yZW1vdmUodC5ncm91cCl9KSl9LGUucHJvdG90eXBlLm1hcmtLZWVwPWZ1bmN0aW9uKHQpe0hFKHQpLmtlZXA9ITB9LGUucHJvdG90eXBlLmJsdXJTZXJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztQKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPU9FLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LGUudHlwZSk7biYmbi5nZXREYXRhKCkuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3QmJktzKHQpfSkpfSkpfSxlLnR5cGU9Im1hcmtlciIsZX0od2YpO2Z1bmN0aW9uIFVFKHQsZSxuKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW07dC5lYWNoKChmdW5jdGlvbihyKXt2YXIgbyxhPXQuZ2V0SXRlbU1vZGVsKHIpLHM9WmkoYS5nZXQoIngiKSxuLmdldFdpZHRoKCkpLGw9WmkoYS5nZXQoInkiKSxuLmdldEhlaWdodCgpKTtpZihpc05hTihzKXx8aXNOYU4obCkpe2lmKGUuZ2V0TWFya2VyUG9zaXRpb24pbz1lLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxyKSk7ZWxzZSBpZihpKXt2YXIgdT10LmdldChpLmRpbWVuc2lvbnNbMF0sciksaD10LmdldChpLmRpbWVuc2lvbnNbMV0scik7bz1pLmRhdGFUb1BvaW50KFt1LGhdKX19ZWxzZSBvPVtzLGxdO2lzTmFOKHMpfHwob1swXT1zKSxpc05hTihsKXx8KG9bMV09bCksdC5zZXRJdGVtTGF5b3V0KHIsbyl9KSl9dmFyIFhFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgZT1PRS5nZXRNYXJrZXJNb2RlbEZyb21TZXJpZXModCwibWFya1BvaW50Iik7ZSYmKFVFKGUuZ2V0RGF0YSgpLHQsbiksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KCkpfSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8sbmV3IG13KSx1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtpPXQ/Tyh0JiZ0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBUKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSkpOlt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dO3ZhciByPW5ldyBMXyhpLG4pLG89TyhuLmdldCgiZGF0YSIpLEIoRUUsZSkpO3QmJihvPU4obyxCKEJFLHQpKSk7cmV0dXJuIHIuaW5pdERhdGEobyxudWxsLHQ/RkU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSxyfShyLHQsZSk7ZS5zZXREYXRhKHUpLFVFKGUuZ2V0RGF0YSgpLHQsaSksdS5lYWNoKChmdW5jdGlvbih0KXt2YXIgbj11LmdldEl0ZW1Nb2RlbCh0KSxpPW4uZ2V0U2hhbGxvdygic3ltYm9sIikscj1uLmdldFNoYWxsb3coInN5bWJvbFNpemUiKSxvPW4uZ2V0U2hhbGxvdygic3ltYm9sUm90YXRlIik7aWYoRyhpKXx8RyhyKXx8RyhvKSl7dmFyIHM9ZS5nZXRSYXdWYWx1ZSh0KSxsPWUuZ2V0RGF0YVBhcmFtcyh0KTtHKGkpJiYoaT1pKHMsbCkpLEcocikmJihyPXIocyxsKSksRyhvKSYmKG89byhzLGwpKX12YXIgaD1uLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxjPW1nKGEsImNvbG9yIik7aC5maWxsfHwoaC5maWxsPWMpLHUuc2V0SXRlbVZpc3VhbCh0LHtzeW1ib2w6aSxzeW1ib2xTaXplOnIsc3ltYm9sUm90YXRlOm8sc3R5bGU6aH0pfSkpLGwudXBkYXRlRGF0YSh1KSx0aGlzLmdyb3VwLmFkZChsLmdyb3VwKSx1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtfcyh0KS5kYXRhTW9kZWw9ZX0pKX0pKSx0aGlzLm1hcmtLZWVwKGwpLGwuZ3JvdXAuc2lsZW50PWUuZ2V0KCJzaWxlbnQiKXx8dC5nZXQoInNpbGVudCIpfSxlLnR5cGU9Im1hcmtQb2ludCIsZX0oV0UpO3ZhciBZRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBuZXcgZSh0LG4saSl9LGUudHlwZT0ibWFya0xpbmUiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo1LHN5bWJvbDpbImNpcmNsZSIsImFycm93Il0sc3ltYm9sU2l6ZTpbOCwxNl0sc3ltYm9sT2Zmc2V0OjAscHJlY2lzaW9uOjIsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJlbmQiLGRpc3RhbmNlOjV9LGxpbmVTdHlsZTp7dHlwZToiZGFzaGVkIn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfSxsaW5lU3R5bGU6e3dpZHRoOjN9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciJ9LGV9KE9FKSxaRT1rcigpLGpFPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dC5nZXREYXRhKCk7aWYoRihpKSlyPWk7ZWxzZXt2YXIgYT1pLnR5cGU7aWYoIm1pbiI9PT1hfHwibWF4Ij09PWF8fCJhdmVyYWdlIj09PWF8fCJtZWRpYW4iPT09YXx8bnVsbCE9aS54QXhpc3x8bnVsbCE9aS55QXhpcyl7dmFyIHM9dm9pZCAwLGw9dm9pZCAwO2lmKG51bGwhPWkueUF4aXN8fG51bGwhPWkueEF4aXMpcz1lLmdldEF4aXMobnVsbCE9aS55QXhpcz8ieSI6IngiKSxsPVEoaS55QXhpcyxpLnhBeGlzKTtlbHNle3ZhciB1PVZFKGksbyxlLHQpO3M9dS52YWx1ZUF4aXMsbD1HRShvLEJfKG8sdS52YWx1ZURhdGFEaW0pLGEpfXZhciBoPSJ4Ij09PXMuZGltPzA6MSxjPTEtaCxwPXcoaSksZD17Y29vcmQ6W119O3AudHlwZT1udWxsLHAuY29vcmQ9W10scC5jb29yZFtjXT0tMS8wLGQuY29vcmRbY109MS8wO3ZhciBmPW4uZ2V0KCJwcmVjaXNpb24iKTtmPj0wJiYibnVtYmVyIj09dHlwZW9mIGwmJihsPStsLnRvRml4ZWQoTWF0aC5taW4oZiwyMCkpKSxwLmNvb3JkW2hdPWQuY29vcmRbaF09bCxyPVtwLGQse3R5cGU6YSx2YWx1ZUluZGV4OmkudmFsdWVJbmRleCx2YWx1ZTpsfV19ZWxzZSByPVtdfXZhciBnPVtFRSh0LHJbMF0pLEVFKHQsclsxXSksSSh7fSxyWzJdKV07cmV0dXJuIGdbMl0udHlwZT1nWzJdLnR5cGV8fG51bGwsUyhnWzJdLGdbMF0pLFMoZ1syXSxnWzFdKSxnfTtmdW5jdGlvbiBxRSh0KXtyZXR1cm4haXNOYU4odCkmJiFpc0Zpbml0ZSh0KX1mdW5jdGlvbiBLRSh0LGUsbixpKXt2YXIgcj0xLXQsbz1pLmRpbWVuc2lvbnNbdF07cmV0dXJuIHFFKGVbcl0pJiZxRShuW3JdKSYmZVt0XT09PW5bdF0mJmkuZ2V0QXhpcyhvKS5jb250YWluRGF0YShlW3RdKX1mdW5jdGlvbiAkRSh0LGUpe2lmKCJjYXJ0ZXNpYW4yZCI9PT10LnR5cGUpe3ZhciBuPWVbMF0uY29vcmQsaT1lWzFdLmNvb3JkO2lmKG4mJmkmJihLRSgxLG4saSx0KXx8S0UoMCxuLGksdCkpKXJldHVybiEwfXJldHVybiBCRSh0LGVbMF0pJiZCRSh0LGVbMV0pfWZ1bmN0aW9uIEpFKHQsZSxuLGkscil7dmFyIG8sYT1pLmNvb3JkaW5hdGVTeXN0ZW0scz10LmdldEl0ZW1Nb2RlbChlKSxsPVppKHMuZ2V0KCJ4Iiksci5nZXRXaWR0aCgpKSx1PVppKHMuZ2V0KCJ5Iiksci5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihpLmdldE1hcmtlclBvc2l0aW9uKW89aS5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyh0LmRpbWVuc2lvbnMsZSkpO2Vsc2V7dmFyIGg9YS5kaW1lbnNpb25zLGM9dC5nZXQoaFswXSxlKSxwPXQuZ2V0KGhbMV0sZSk7bz1hLmRhdGFUb1BvaW50KFtjLHBdKX1pZihOdyhhLCJjYXJ0ZXNpYW4yZCIpKXt2YXIgZD1hLmdldEF4aXMoIngiKSxmPWEuZ2V0QXhpcygieSIpO2g9YS5kaW1lbnNpb25zO3FFKHQuZ2V0KGhbMF0sZSkpP29bMF09ZC50b0dsb2JhbENvb3JkKGQuZ2V0RXh0ZW50KClbbj8wOjFdKTpxRSh0LmdldChoWzFdLGUpKSYmKG9bMV09Zi50b0dsb2JhbENvb3JkKGYuZ2V0RXh0ZW50KClbbj8wOjFdKSl9aXNOYU4obCl8fChvWzBdPWwpLGlzTmFOKHUpfHwob1sxXT11KX1lbHNlIG89W2wsdV07dC5zZXRJdGVtTGF5b3V0KGUsbyl9dmFyIFFFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgZT1PRS5nZXRNYXJrZXJNb2RlbEZyb21TZXJpZXModCwibWFya0xpbmUiKTtpZihlKXt2YXIgaT1lLmdldERhdGEoKSxyPVpFKGUpLmZyb20sbz1aRShlKS50bztyLmVhY2goKGZ1bmN0aW9uKGUpe0pFKHIsZSwhMCx0LG4pLEpFKG8sZSwhMSx0LG4pfSkpLGkuZWFjaCgoZnVuY3Rpb24odCl7aS5zZXRJdGVtTGF5b3V0KHQsW3IuZ2V0SXRlbUxheW91dCh0KSxvLmdldEl0ZW1MYXlvdXQodCldKX0pKSx0aGlzLm1hcmtlckdyb3VwTWFwLmdldCh0LmlkKS51cGRhdGVMYXlvdXQoKX19KSx0aGlzKX0sZS5wcm90b3R5cGUucmVuZGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXQuaWQsYT10LmdldERhdGEoKSxzPXRoaXMubWFya2VyR3JvdXBNYXAsbD1zLmdldChvKXx8cy5zZXQobyxuZXcgVkMpO3RoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApO3ZhciB1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtpPXQ/Tyh0JiZ0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3JldHVybiBUKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSkpOlt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dO3ZhciByPW5ldyBMXyhpLG4pLG89bmV3IExfKGksbiksYT1uZXcgTF8oW10sbikscz1PKG4uZ2V0KCJkYXRhIiksQihqRSxlLHQsbikpO3QmJihzPU4ocyxCKCRFLHQpKSk7dmFyIGw9dD9GRTpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX07cmV0dXJuIHIuaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxudWxsLGwpLG8uaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxudWxsLGwpLGEuaW5pdERhdGEoTyhzLChmdW5jdGlvbih0KXtyZXR1cm4gdFsyXX0pKSksYS5oYXNJdGVtT3B0aW9uPSEwLHtmcm9tOnIsdG86byxsaW5lOmF9fShyLHQsZSksaD11LmZyb20sYz11LnRvLHA9dS5saW5lO1pFKGUpLmZyb209aCxaRShlKS50bz1jLGUuc2V0RGF0YShwKTt2YXIgZD1lLmdldCgic3ltYm9sIiksZj1lLmdldCgic3ltYm9sU2l6ZSIpLGc9ZS5nZXQoInN5bWJvbFJvdGF0ZSIpLHk9ZS5nZXQoInN5bWJvbE9mZnNldCIpO2Z1bmN0aW9uIHYoZSxuLHIpe3ZhciBvPWUuZ2V0SXRlbU1vZGVsKG4pO0pFKGUsbixyLHQsaSk7dmFyIHM9by5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCk7bnVsbD09cy5maWxsJiYocy5maWxsPW1nKGEsImNvbG9yIikpLGUuc2V0SXRlbVZpc3VhbChuLHtzeW1ib2xLZWVwQXNwZWN0Om8uZ2V0KCJzeW1ib2xLZWVwQXNwZWN0Iiksc3ltYm9sT2Zmc2V0OnR0KG8uZ2V0KCJzeW1ib2xPZmZzZXQiKSx5W3I/MDoxXSksc3ltYm9sUm90YXRlOnR0KG8uZ2V0KCJzeW1ib2xSb3RhdGUiLCEwKSxnW3I/MDoxXSksc3ltYm9sU2l6ZTp0dChvLmdldCgic3ltYm9sU2l6ZSIpLGZbcj8wOjFdKSxzeW1ib2w6dHQoby5nZXQoInN5bWJvbCIsITApLGRbcj8wOjFdKSxzdHlsZTpzfSl9RihkKXx8KGQ9W2QsZF0pLEYoZil8fChmPVtmLGZdKSxGKGcpfHwoZz1bZyxnXSksRih5KXx8KHk9W3kseV0pLHUuZnJvbS5lYWNoKChmdW5jdGlvbih0KXt2KGgsdCwhMCksdihjLHQsITEpfSkpLHAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9cC5nZXRJdGVtTW9kZWwodCkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpO3Auc2V0SXRlbUxheW91dCh0LFtoLmdldEl0ZW1MYXlvdXQodCksYy5nZXRJdGVtTGF5b3V0KHQpXSksbnVsbD09ZS5zdHJva2UmJihlLnN0cm9rZT1oLmdldEl0ZW1WaXN1YWwodCwic3R5bGUiKS5maWxsKSxwLnNldEl0ZW1WaXN1YWwodCx7ZnJvbVN5bWJvbEtlZXBBc3BlY3Q6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbEtlZXBBc3BlY3QiKSxmcm9tU3ltYm9sT2Zmc2V0OmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xPZmZzZXQiKSxmcm9tU3ltYm9sUm90YXRlOmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xSb3RhdGUiKSxmcm9tU3ltYm9sU2l6ZTpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sU2l6ZSIpLGZyb21TeW1ib2w6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbCIpLHRvU3ltYm9sS2VlcEFzcGVjdDpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sS2VlcEFzcGVjdCIpLHRvU3ltYm9sT2Zmc2V0OmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xPZmZzZXQiKSx0b1N5bWJvbFJvdGF0ZTpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sUm90YXRlIiksdG9TeW1ib2xTaXplOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksdG9TeW1ib2w6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbCIpLHN0eWxlOmV9KX0pKSxsLnVwZGF0ZURhdGEocCksdS5saW5lLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LG4pe3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe19zKHQpLmRhdGFNb2RlbD1lfSkpfSkpLHRoaXMubWFya0tlZXAobCksbC5ncm91cC5zaWxlbnQ9ZS5nZXQoInNpbGVudCIpfHx0LmdldCgic2lsZW50Iil9LGUudHlwZT0ibWFya0xpbmUiLGV9KFdFKTt2YXIgdFY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY3JlYXRlTWFya2VyTW9kZWxGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbmV3IGUodCxuLGkpfSxlLnR5cGU9Im1hcmtBcmVhIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MSx0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sYW5pbWF0aW9uOiExLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJ0b3AifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjB9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoidG9wIn19fSxlfShPRSksZVY9a3IoKSxuVj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1FRSh0LGlbMF0pLG89RUUodCxpWzFdKSxhPXIuY29vcmQscz1vLmNvb3JkO2FbMF09UShhWzBdLC0xLzApLGFbMV09UShhWzFdLC0xLzApLHNbMF09UShzWzBdLDEvMCksc1sxXT1RKHNbMV0sMS8wKTt2YXIgbD1NKFt7fSxyLG9dKTtyZXR1cm4gbC5jb29yZD1bci5jb29yZCxvLmNvb3JkXSxsLngwPXIueCxsLnkwPXIueSxsLngxPW8ueCxsLnkxPW8ueSxsfTtmdW5jdGlvbiBpVih0KXtyZXR1cm4haXNOYU4odCkmJiFpc0Zpbml0ZSh0KX1mdW5jdGlvbiByVih0LGUsbixpKXt2YXIgcj0xLXQ7cmV0dXJuIGlWKGVbcl0pJiZpVihuW3JdKX1mdW5jdGlvbiBvVih0LGUpe3ZhciBuPWUuY29vcmRbMF0saT1lLmNvb3JkWzFdO3JldHVybiEhKE53KHQsImNhcnRlc2lhbjJkIikmJm4mJmkmJihyVigxLG4saSl8fHJWKDAsbixpKSkpfHwoQkUodCx7Y29vcmQ6bix4OmUueDAseTplLnkwfSl8fEJFKHQse2Nvb3JkOmkseDplLngxLHk6ZS55MX0pKX1mdW5jdGlvbiBhVih0LGUsbixpLHIpe3ZhciBvLGE9aS5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1aaShzLmdldChuWzBdKSxyLmdldFdpZHRoKCkpLHU9Wmkocy5nZXQoblsxXSksci5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihpLmdldE1hcmtlclBvc2l0aW9uKW89aS5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyhuLGUpKTtlbHNle3ZhciBoPVtkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpXTthLmNsYW1wRGF0YSYmYS5jbGFtcERhdGEoaCxoKSxvPWEuZGF0YVRvUG9pbnQoaCwhMCl9aWYoTncoYSwiY2FydGVzaWFuMmQiKSl7dmFyIGM9YS5nZXRBeGlzKCJ4IikscD1hLmdldEF4aXMoInkiKSxkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpO2lWKGQpP29bMF09Yy50b0dsb2JhbENvb3JkKGMuZ2V0RXh0ZW50KClbIngwIj09PW5bMF0/MDoxXSk6aVYoZikmJihvWzFdPXAudG9HbG9iYWxDb29yZChwLmdldEV4dGVudCgpWyJ5MCI9PT1uWzFdPzA6MV0pKX1pc05hTihsKXx8KG9bMF09bCksaXNOYU4odSl8fChvWzFdPXUpfWVsc2Ugbz1bbCx1XTtyZXR1cm4gb312YXIgc1Y9W1sieDAiLCJ5MCJdLFsieDEiLCJ5MCJdLFsieDEiLCJ5MSJdLFsieDAiLCJ5MSJdXSxsVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIGU9T0UuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsIm1hcmtBcmVhIik7aWYoZSl7dmFyIGk9ZS5nZXREYXRhKCk7aS5lYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PKHNWLChmdW5jdGlvbihyKXtyZXR1cm4gYVYoaSxlLHIsdCxuKX0pKTtpLnNldEl0ZW1MYXlvdXQoZSxyKSxpLmdldEl0ZW1HcmFwaGljRWwoZSkuc2V0U2hhcGUoInBvaW50cyIscil9KSl9fSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8se2dyb3VwOm5ldyBFaX0pO3RoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHRoaXMubWFya0tlZXAobCk7dmFyIHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bIngwIiwieTAiLCJ4MSIsInkxIl07dD8oaT1PKHQmJnQuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7dmFyIG49ZS5nZXREYXRhKCk7cmV0dXJuIFQoe25hbWU6dH0sbi5nZXREaW1lbnNpb25JbmZvKG4ubWFwRGltZW5zaW9uKHQpKXx8e30pfSkpLHI9bmV3IExfKE8obywoZnVuY3Rpb24odCxlKXtyZXR1cm57bmFtZTp0LHR5cGU6aVtlJTJdLnR5cGV9fSkpLG4pKTpyPW5ldyBMXyhpPVt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dLG4pO3ZhciBhPU8obi5nZXQoImRhdGEiKSxCKG5WLGUsdCxuKSk7dCYmKGE9TihhLEIob1YsdCkpKTt2YXIgcz10P2Z1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0LmNvb3JkW01hdGguZmxvb3IoaS8yKV1baSUyXX06ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9O3JldHVybiByLmluaXREYXRhKGEsbnVsbCxzKSxyLmhhc0l0ZW1PcHRpb249ITAscn0ocix0LGUpO2Uuc2V0RGF0YSh1KSx1LmVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPU8oc1YsKGZ1bmN0aW9uKG4pe3JldHVybiBhVih1LGUsbix0LGkpfSkpLG89ci5nZXRBeGlzKCJ4Iikuc2NhbGUscz1yLmdldEF4aXMoInkiKS5zY2FsZSxsPW8uZ2V0RXh0ZW50KCksaD1zLmdldEV4dGVudCgpLGM9W28ucGFyc2UodS5nZXQoIngwIixlKSksby5wYXJzZSh1LmdldCgieDEiLGUpKV0scD1bcy5wYXJzZSh1LmdldCgieTAiLGUpKSxzLnBhcnNlKHUuZ2V0KCJ5MSIsZSkpXTtxaShjKSxxaShwKTt2YXIgZD0hIShsWzBdPmNbMV18fGxbMV08Y1swXXx8aFswXT5wWzFdfHxoWzFdPHBbMF0pO3Uuc2V0SXRlbUxheW91dChlLHtwb2ludHM6bixhbGxDbGlwcGVkOmR9KTt2YXIgZj11LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksZz1tZyhhLCJjb2xvciIpO2YuZmlsbHx8KGYuZmlsbD1nLCJzdHJpbmciPT10eXBlb2YgZi5maWxsJiYoZi5maWxsPSRlKGYuZmlsbCwuNCkpKSxmLnN0cm9rZXx8KGYuc3Ryb2tlPWcpLHUuc2V0SXRlbVZpc3VhbChlLCJzdHlsZSIsZil9KSksdS5kaWZmKGVWKGwpLmRhdGEpLmFkZCgoZnVuY3Rpb24odCl7dmFyIGU9dS5nZXRJdGVtTGF5b3V0KHQpO2lmKCFlLmFsbENsaXBwZWQpe3ZhciBuPW5ldyBydSh7c2hhcGU6e3BvaW50czplLnBvaW50c319KTt1LnNldEl0ZW1HcmFwaGljRWwodCxuKSxsLmdyb3VwLmFkZChuKX19KSkudXBkYXRlKChmdW5jdGlvbih0LG4pe3ZhciBpPWVWKGwpLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChuKSxyPXUuZ2V0SXRlbUxheW91dCh0KTtyLmFsbENsaXBwZWQ/aSYmbC5ncm91cC5yZW1vdmUoaSk6KGk/SHUoaSx7c2hhcGU6e3BvaW50czpyLnBvaW50c319LGUsdCk6aT1uZXcgcnUoe3NoYXBlOntwb2ludHM6ci5wb2ludHN9fSksdS5zZXRJdGVtR3JhcGhpY0VsKHQsaSksbC5ncm91cC5hZGQoaSkpfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7dmFyIGU9ZVYobCkuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKHQpO2wuZ3JvdXAucmVtb3ZlKGUpfSkpLmV4ZWN1dGUoKSx1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LG4pe3ZhciBpPXUuZ2V0SXRlbU1vZGVsKG4pLHI9dS5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIik7dC51c2VTdHlsZSh1LmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSksaGgodCxjaChpKSx7bGFiZWxGZXRjaGVyOmUsbGFiZWxEYXRhSW5kZXg6bixkZWZhdWx0VGV4dDp1LmdldE5hbWUobil8fCIiLGluaGVyaXRDb2xvcjoic3RyaW5nIj09dHlwZW9mIHIuZmlsbD8kZShyLmZpbGwsMSk6IiMwMDAifSksY2wodCxpKSxzbCh0KSxfcyh0KS5kYXRhTW9kZWw9ZX0pKSxlVihsKS5kYXRhPXUsbC5ncm91cC5zaWxlbnQ9ZS5nZXQoInNpbGVudCIpfHx0LmdldCgic2lsZW50Iil9LGUudHlwZT0ibWFya0FyZWEiLGV9KFdFKTt2YXIgdVY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKSx0LnNlbGVjdGVkPXQuc2VsZWN0ZWR8fHt9LHRoaXMuX3VwZGF0ZVNlbGVjdG9yKHQpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm1lcmdlT3B0aW9uLmNhbGwodGhpcyxlLG4pLHRoaXMuX3VwZGF0ZVNlbGVjdG9yKGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlU2VsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3RvcixuPXRoaXMuZWNNb2RlbDshMD09PWUmJihlPXQuc2VsZWN0b3I9WyJhbGwiLCJpbnZlcnNlIl0pLEYoZSkmJlAoZSwoZnVuY3Rpb24odCxpKXtIKHQpJiYodD17dHlwZTp0fSksZVtpXT1TKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4iYWxsIj09PWU/e3R5cGU6ImFsbCIsdGl0bGU6dC5nZXRMb2NhbGUoWyJsZWdlbmQiLCJzZWxlY3RvciIsImFsbCJdKX06ImludmVyc2UiPT09ZT97dHlwZToiaW52ZXJzZSIsdGl0bGU6dC5nZXRMb2NhbGUoWyJsZWdlbmQiLCJzZWxlY3RvciIsImludmVyc2UiXSl9OnZvaWQgMH0obix0LnR5cGUpKX0pKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKTt2YXIgdD10aGlzLl9kYXRhO2lmKHRbMF0mJiJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpKXtmb3IodmFyIGU9ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmdldCgibmFtZSIpO2lmKHRoaXMuaXNTZWxlY3RlZChpKSl7dGhpcy5zZWxlY3QoaSksZT0hMDticmVha319IWUmJnRoaXMuc2VsZWN0KHRbMF0uZ2V0KCJuYW1lIikpfX0sZS5wcm90b3R5cGUuX3VwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1bXTt0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKGkpe3ZhciByLG89aS5uYW1lO2lmKG4ucHVzaChvKSxpLmxlZ2VuZFZpc3VhbFByb3ZpZGVyKXt2YXIgYT1pLmxlZ2VuZFZpc3VhbFByb3ZpZGVyLmdldEFsbE5hbWVzKCk7dC5pc1Nlcmllc0ZpbHRlcmVkKGkpfHwobj1uLmNvbmNhdChhKSksYS5sZW5ndGg/ZT1lLmNvbmNhdChhKTpyPSEwfWVsc2Ugcj0hMDtyJiZEcihpKSYmZS5wdXNoKGkubmFtZSl9KSksdGhpcy5fYXZhaWxhYmxlTmFtZXM9bjt2YXIgaT1PKHRoaXMuZ2V0KCJkYXRhIil8fGUsKGZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiB0fHwodD17bmFtZTp0fSksbmV3IE9oKHQsdGhpcyx0aGlzLmVjTW9kZWwpfSksdGhpcyk7dGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDsic2luZ2xlIj09PXRoaXMuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmUCh0aGlzLl9kYXRhLChmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIildPSExfSkpO2VbdF09ITB9LGUucHJvdG90eXBlLnVuU2VsZWN0PWZ1bmN0aW9uKHQpeyJzaW5nbGUiIT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpJiYodGhpcy5vcHRpb24uc2VsZWN0ZWRbdF09ITEpfSxlLnByb3RvdHlwZS50b2dnbGVTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtlLmhhc093blByb3BlcnR5KHQpfHwoZVt0XT0hMCksdGhpc1tlW3RdPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQpfSxlLnByb3RvdHlwZS5hbGxTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7UCh0LChmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIiwhMCldPSEwfSkpfSxlLnByb3RvdHlwZS5pbnZlcnNlU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXRoaXMub3B0aW9uLnNlbGVjdGVkO1AodCwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQoIm5hbWUiLCEwKTtlLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT0hMCksZVtuXT0hZVtuXX0pKX0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtyZXR1cm4hKGUuaGFzT3duUHJvcGVydHkodCkmJiFlW3RdKSYmRCh0aGlzLl9hdmFpbGFibGVOYW1lcyx0KT49MH0sZS5wcm90b3R5cGUuZ2V0T3JpZW50PWZ1bmN0aW9uKCl7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuZ2V0KCJvcmllbnQiKT97aW5kZXg6MSxuYW1lOiJ2ZXJ0aWNhbCJ9OntpbmRleDowLG5hbWU6Imhvcml6b250YWwifX0sZS50eXBlPSJsZWdlbmQucGxhaW4iLGUuZGVwZW5kZW5jaWVzPVsic2VyaWVzIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjQsc2hvdzohMCxvcmllbnQ6Imhvcml6b250YWwiLGxlZnQ6ImNlbnRlciIsdG9wOjAsYWxpZ246ImF1dG8iLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsaXRlbVdpZHRoOjI1LGl0ZW1IZWlnaHQ6MTQsc3ltYm9sUm90YXRlOiJpbmhlcml0IixpbmFjdGl2ZUNvbG9yOiIjY2NjIixpbmFjdGl2ZUJvcmRlckNvbG9yOiIjY2NjIixpbmFjdGl2ZUJvcmRlcldpZHRoOiJhdXRvIixpdGVtU3R5bGU6e2NvbG9yOiJpbmhlcml0IixvcGFjaXR5OiJpbmhlcml0IixkZWNhbDoiaW5oZXJpdCIsc2hhZG93Qmx1cjowLHNoYWRvd0NvbG9yOm51bGwsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxib3JkZXJDb2xvcjoiaW5oZXJpdCIsYm9yZGVyV2lkdGg6ImF1dG8iLGJvcmRlckNhcDoiaW5oZXJpdCIsYm9yZGVySm9pbjoiaW5oZXJpdCIsYm9yZGVyRGFzaE9mZnNldDoiaW5oZXJpdCIsYm9yZGVyTWl0ZXJMaW1pdDoiaW5oZXJpdCJ9LGxpbmVTdHlsZTp7d2lkdGg6ImF1dG8iLGNvbG9yOiJpbmhlcml0IixpbmFjdGl2ZUNvbG9yOiIjY2NjIixpbmFjdGl2ZVdpZHRoOjIsb3BhY2l0eToiaW5oZXJpdCIsdHlwZToiaW5oZXJpdCIsY2FwOiJpbmhlcml0Iixqb2luOiJpbmhlcml0IixkYXNoT2Zmc2V0OiJpbmhlcml0IixtaXRlckxpbWl0OiJpbmhlcml0IixzaGFkb3dCbHVyOjAsc2hhZG93Q29sb3I6bnVsbCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowfSx0ZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sc2VsZWN0ZWRNb2RlOiEwLHNlbGVjdG9yOiExLHNlbGVjdG9yTGFiZWw6e3Nob3c6ITAsYm9yZGVyUmFkaXVzOjEwLHBhZGRpbmc6WzMsNSwzLDVdLGZvbnRTaXplOjEyLGZvbnRGYW1pbHk6IiBzYW5zLXNlcmlmIixjb2xvcjoiIzY2NiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiIzY2NiJ9LGVtcGhhc2lzOntzZWxlY3RvckxhYmVsOntzaG93OiEwLGNvbG9yOiIjZWVlIixiYWNrZ3JvdW5kQ29sb3I6IiM2NjYifX0sc2VsZWN0b3JQb3NpdGlvbjoiYXV0byIsc2VsZWN0b3JJdGVtR2FwOjcsc2VsZWN0b3JCdXR0b25HYXA6MTAsdG9vbHRpcDp7c2hvdzohMX19LGV9KFhjKSxoVj1CLGNWPVAscFY9RWksZFY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLm5ld2xpbmVEaXNhYmxlZD0hMSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRlbnRHcm91cD1uZXcgcFYpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX3NlbGVjdG9yR3JvdXA9bmV3IHBWKSx0aGlzLl9pc0ZpcnN0UmVuZGVyPSEwfSxlLnByb3RvdHlwZS5nZXRDb250ZW50R3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudEdyb3VwfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rvckdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdG9yR3JvdXB9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5faXNGaXJzdFJlbmRlcjtpZih0aGlzLl9pc0ZpcnN0UmVuZGVyPSExLHRoaXMucmVzZXRJbm5lcigpLHQuZ2V0KCJzaG93IiwhMCkpe3ZhciByPXQuZ2V0KCJhbGlnbiIpLG89dC5nZXQoIm9yaWVudCIpO3ImJiJhdXRvIiE9PXJ8fChyPSJyaWdodCI9PT10LmdldCgibGVmdCIpJiYidmVydGljYWwiPT09bz8icmlnaHQiOiJsZWZ0Iik7dmFyIGE9dC5nZXQoInNlbGVjdG9yIiwhMCkscz10LmdldCgic2VsZWN0b3JQb3NpdGlvbiIsITApOyFhfHxzJiYiYXV0byIhPT1zfHwocz0iaG9yaXpvbnRhbCI9PT1vPyJlbmQiOiJzdGFydCIpLHRoaXMucmVuZGVySW5uZXIocix0LGUsbixhLG8scyk7dmFyIGw9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx1PXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LGg9dC5nZXQoInBhZGRpbmciKSxjPVZjKGwsdSxoKSxwPXRoaXMubGF5b3V0SW5uZXIodCxyLGMsaSxhLHMpLGQ9VmMoVCh7d2lkdGg6cC53aWR0aCxoZWlnaHQ6cC5oZWlnaHR9LGwpLHUsaCk7dGhpcy5ncm91cC54PWQueC1wLngsdGhpcy5ncm91cC55PWQueS1wLnksdGhpcy5ncm91cC5tYXJrUmVkcmF3KCksdGhpcy5ncm91cC5hZGQodGhpcy5fYmFja2dyb3VuZEVsPUJOKHAsdCkpfX0sZS5wcm90b3R5cGUucmVzZXRJbm5lcj1mdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5fYmFja2dyb3VuZEVsJiZ0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRWwpLHRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5yZW5kZXJJbm5lcj1mdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz10aGlzLmdldENvbnRlbnRHcm91cCgpLGw9aHQoKSx1PWUuZ2V0KCJzZWxlY3RlZE1vZGUiKSxoPVtdO24uZWFjaFJhd1NlcmllcygoZnVuY3Rpb24odCl7IXQuZ2V0KCJsZWdlbmRIb3ZlckxpbmsiKSYmaC5wdXNoKHQuaWQpfSkpLGNWKGUuZ2V0RGF0YSgpLChmdW5jdGlvbihyLG8pe3ZhciBhPXIuZ2V0KCJuYW1lIik7aWYoIXRoaXMubmV3bGluZURpc2FibGVkJiYoIiI9PT1hfHwiXG4iPT09YSkpe3ZhciBjPW5ldyBwVjtyZXR1cm4gYy5uZXdsaW5lPSEwLHZvaWQgcy5hZGQoYyl9dmFyIHA9bi5nZXRTZXJpZXNCeU5hbWUoYSlbMF07aWYoIWwuZ2V0KGEpKXtpZihwKXt2YXIgZD1wLmdldERhdGEoKSxmPWQuZ2V0VmlzdWFsKCJsZWdlbmRMaW5lU3R5bGUiKXx8e30sZz1kLmdldFZpc3VhbCgibGVnZW5kSWNvbiIpLHk9ZC5nZXRWaXN1YWwoInN0eWxlIik7dGhpcy5fY3JlYXRlSXRlbShwLGEsbyxyLGUsdCxmLHksZyx1KS5vbigiY2xpY2siLGhWKGZWLGEsbnVsbCxpLGgpKS5vbigibW91c2VvdmVyIixoVih5VixwLm5hbWUsbnVsbCxpLGgpKS5vbigibW91c2VvdXQiLGhWKHZWLHAubmFtZSxudWxsLGksaCkpLGwuc2V0KGEsITApfWVsc2Ugbi5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbihuKXtpZighbC5nZXQoYSkmJm4ubGVnZW5kVmlzdWFsUHJvdmlkZXIpe3ZhciBzPW4ubGVnZW5kVmlzdWFsUHJvdmlkZXI7aWYoIXMuY29udGFpbk5hbWUoYSkpcmV0dXJuO3ZhciBjPXMuaW5kZXhPZk5hbWUoYSkscD1zLmdldEl0ZW1WaXN1YWwoYywic3R5bGUiKSxkPXMuZ2V0SXRlbVZpc3VhbChjLCJsZWdlbmRJY29uIiksZj1IZShwLmZpbGwpO2YmJjA9PT1mWzNdJiYoZlszXT0uMixwLmZpbGw9SmUoZiwicmdiYSIpKSx0aGlzLl9jcmVhdGVJdGVtKG4sYSxvLHIsZSx0LHt9LHAsZCx1KS5vbigiY2xpY2siLGhWKGZWLG51bGwsYSxpLGgpKS5vbigibW91c2VvdmVyIixoVih5VixudWxsLGEsaSxoKSkub24oIm1vdXNlb3V0IixoVih2VixudWxsLGEsaSxoKSksbC5zZXQoYSwhMCl9fSksdGhpcyk7MH19KSx0aGlzKSxyJiZ0aGlzLl9jcmVhdGVTZWxlY3RvcihyLGUsaSxvLGEpfSxlLnByb3RvdHlwZS5fY3JlYXRlU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10aGlzLmdldFNlbGVjdG9yR3JvdXAoKTtjVih0LChmdW5jdGlvbih0KXt2YXIgaT10LnR5cGUscj1uZXcgY3Moe3N0eWxlOnt4OjAseTowLGFsaWduOiJjZW50ZXIiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LG9uY2xpY2s6ZnVuY3Rpb24oKXtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJhbGwiPT09aT8ibGVnZW5kQWxsU2VsZWN0IjoibGVnZW5kSW52ZXJzZVNlbGVjdCJ9KX19KTtvLmFkZChyKSxoaChyLHtub3JtYWw6ZS5nZXRNb2RlbCgic2VsZWN0b3JMYWJlbCIpLGVtcGhhc2lzOmUuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsInNlbGVjdG9yTGFiZWwiXSl9LHtkZWZhdWx0VGV4dDp0LnRpdGxlfSksc2wocil9KSl9LGUucHJvdG90eXBlLl9jcmVhdGVJdGVtPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe3ZhciBoPXQudmlzdWFsRHJhd1R5cGUsYz1yLmdldCgiaXRlbVdpZHRoIikscD1yLmdldCgiaXRlbUhlaWdodCIpLGQ9ci5pc1NlbGVjdGVkKGUpLGY9aS5nZXQoInN5bWJvbFJvdGF0ZSIpLGc9aS5nZXQoImljb24iKSx5PWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe2Zvcih2YXIgcz1lLmdldE1vZGVsKCJpdGVtU3R5bGUiKSxsPUxoLmNvbmNhdChbWyJkZWNhbCJdXSksdT17fSxoPTA7aDxsLmxlbmd0aDsrK2gpe3ZhciBjPWxbaF1bbFtoXS5sZW5ndGgtMV0scD1sW2hdWzBdO2lmKCJpbmhlcml0Ij09PSh5PXMuZ2V0U2hhbGxvdyhjKSkpc3dpdGNoKHApe2Nhc2UiZmlsbCI6dS5maWxsPXJbb107YnJlYWs7Y2FzZSJzdHJva2UiOnUuc3Ryb2tlPXJbMD09PXQubGFzdEluZGV4T2YoImVtcHR5IiwwKT8iZmlsbCI6InN0cm9rZSJdO2JyZWFrO2Nhc2Uib3BhY2l0eSI6dS5vcGFjaXR5PSgiZmlsbCI9PT1vP3I6aSkub3BhY2l0eTticmVhaztkZWZhdWx0OnVbcF09cltwXX1lbHNlImF1dG8iPT09eSYmImxpbmVXaWR0aCI9PT1wP3UubGluZVdpZHRoPXIubGluZVdpZHRoPjA/MjowOnVbcF09eX12YXIgZD1lLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxmPUNoLmNvbmNhdChbWyJpbmFjdGl2ZUNvbG9yIl0sWyJpbmFjdGl2ZVdpZHRoIl1dKSxnPXt9O2ZvcihoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciB5O2M9ZltoXVsxXSxwPWZbaF1bMF07ImluaGVyaXQiPT09KHk9ZC5nZXRTaGFsbG93KGMpKT9nW3BdPWlbcF06ImF1dG8iPT09eSYmImxpbmVXaWR0aCI9PT1wP2cubGluZVdpZHRoPWkubGluZVdpZHRoPjA/MjowOmdbcF09eX1pZigiYXV0byI9PT11LmZpbGwmJih1LmZpbGw9ci5maWxsKSwiYXV0byI9PT11LnN0cm9rZSYmKHUuc3Ryb2tlPXIuZmlsbCksImF1dG8iPT09Zy5zdHJva2UmJihnLnN0cm9rZT1yLmZpbGwpLCFhKXt2YXIgdj1lLmdldCgiaW5hY3RpdmVCb3JkZXJXaWR0aCIpLG09dVt0LmluZGV4T2YoImVtcHR5Iik+LTE/ImZpbGwiOiJzdHJva2UiXTt1LmxpbmVXaWR0aD0iYXV0byI9PT12P3IubGluZVdpZHRoPjAmJm0/MjowOnUubGluZVdpZHRoLHUuZmlsbD1lLmdldCgiaW5hY3RpdmVDb2xvciIpLHUuc3Ryb2tlPWUuZ2V0KCJpbmFjdGl2ZUJvcmRlckNvbG9yIiksZy5zdHJva2U9bi5nZXQoImluYWN0aXZlQ29sb3IiKSxnLmxpbmVXaWR0aD1uLmdldCgiaW5hY3RpdmVXaWR0aCIpfXJldHVybntpdGVtU3R5bGU6dSxsaW5lU3R5bGU6Z319KGw9Z3x8bHx8InJvdW5kUmVjdCIsaSxyLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxhLHMsaCxkKSx2PW5ldyBwVixtPWkuZ2V0TW9kZWwoInRleHRTdHlsZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0LmdldExlZ2VuZEljb258fGcmJiJpbmhlcml0IiE9PWcpe3ZhciBfPSJpbmhlcml0Ij09PWcmJnQuZ2V0RGF0YSgpLmdldFZpc3VhbCgic3ltYm9sIik/ImluaGVyaXQiPT09Zj90LmdldERhdGEoKS5nZXRWaXN1YWwoInN5bWJvbFJvdGF0ZSIpOmY6MDt2LmFkZChmdW5jdGlvbih0KXt2YXIgZT10Lmljb258fCJyb3VuZFJlY3QiLG49ZnkoZSwwLDAsdC5pdGVtV2lkdGgsdC5pdGVtSGVpZ2h0LHQuaXRlbVN0eWxlLmZpbGwpO24uc2V0U3R5bGUodC5pdGVtU3R5bGUpLG4ucm90YXRpb249KHQuaWNvblJvdGF0ZXx8MCkqTWF0aC5QSS8xODAsbi5zZXRPcmlnaW4oW3QuaXRlbVdpZHRoLzIsdC5pdGVtSGVpZ2h0LzJdKSxlLmluZGV4T2YoImVtcHR5Iik+LTEmJihuLnN0eWxlLnN0cm9rZT1uLnN0eWxlLmZpbGwsbi5zdHlsZS5maWxsPSIjZmZmIixuLnN0eWxlLmxpbmVXaWR0aD0yKTtyZXR1cm4gbn0oe2l0ZW1XaWR0aDpjLGl0ZW1IZWlnaHQ6cCxpY29uOmwsaWNvblJvdGF0ZTpfLGl0ZW1TdHlsZTp5Lml0ZW1TdHlsZSxsaW5lU3R5bGU6eS5saW5lU3R5bGV9KSl9ZWxzZSB2LmFkZCh0LmdldExlZ2VuZEljb24oe2l0ZW1XaWR0aDpjLGl0ZW1IZWlnaHQ6cCxpY29uOmwsaWNvblJvdGF0ZTpmLGl0ZW1TdHlsZTp5Lml0ZW1TdHlsZSxsaW5lU3R5bGU6eS5saW5lU3R5bGV9KSk7dmFyIHg9ImxlZnQiPT09bz9jKzU6LTUsYj1vLHc9ci5nZXQoImZvcm1hdHRlciIpLFM9ZTsic3RyaW5nIj09dHlwZW9mIHcmJnc/Uz13LnJlcGxhY2UoIntuYW1lfSIsbnVsbCE9ZT9lOiIiKToiZnVuY3Rpb24iPT10eXBlb2YgdyYmKFM9dyhlKSk7dmFyIE09aS5nZXQoImluYWN0aXZlQ29sb3IiKTt2LmFkZChuZXcgY3Moe3N0eWxlOnBoKG0se3RleHQ6Uyx4OngseTpwLzIsZmlsbDpkP20uZ2V0VGV4dENvbG9yKCk6TSxhbGlnbjpiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KX0pKTt2YXIgST1uZXcgbHMoe3NoYXBlOnYuZ2V0Qm91bmRpbmdSZWN0KCksaW52aXNpYmxlOiEwfSksVD1pLmdldE1vZGVsKCJ0b29sdGlwIik7cmV0dXJuIFQuZ2V0KCJzaG93IikmJm9oKHtlbDpJLGNvbXBvbmVudE1vZGVsOnIsaXRlbU5hbWU6ZSxpdGVtVG9vbHRpcE9wdGlvbjpULm9wdGlvbn0pLHYuYWRkKEkpLHYuZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pKSxJLnNpbGVudD0hdSx0aGlzLmdldENvbnRlbnRHcm91cCgpLmFkZCh2KSxzbCh2KSx2Ll9fbGVnZW5kRGF0YUluZGV4PW4sdn0sZS5wcm90b3R5cGUubGF5b3V0SW5uZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuZ2V0Q29udGVudEdyb3VwKCkscz10aGlzLmdldFNlbGVjdG9yR3JvdXAoKTtFYyh0LmdldCgib3JpZW50IiksYSx0LmdldCgiaXRlbUdhcCIpLG4ud2lkdGgsbi5oZWlnaHQpO3ZhciBsPWEuZ2V0Qm91bmRpbmdSZWN0KCksdT1bLWwueCwtbC55XTtpZihzLm1hcmtSZWRyYXcoKSxhLm1hcmtSZWRyYXcoKSxyKXtFYygiaG9yaXpvbnRhbCIscyx0LmdldCgic2VsZWN0b3JJdGVtR2FwIiwhMCkpO3ZhciBoPXMuZ2V0Qm91bmRpbmdSZWN0KCksYz1bLWgueCwtaC55XSxwPXQuZ2V0KCJzZWxlY3RvckJ1dHRvbkdhcCIsITApLGQ9dC5nZXRPcmllbnQoKS5pbmRleCxmPTA9PT1kPyJ3aWR0aCI6ImhlaWdodCIsZz0wPT09ZD8iaGVpZ2h0Ijoid2lkdGgiLHk9MD09PWQ/InkiOiJ4IjsiZW5kIj09PW8/Y1tkXSs9bFtmXStwOnVbZF0rPWhbZl0rcCxjWzEtZF0rPWxbZ10vMi1oW2ddLzIscy54PWNbMF0scy55PWNbMV0sYS54PXVbMF0sYS55PXVbMV07dmFyIHY9e3g6MCx5OjB9O3JldHVybiB2W2ZdPWxbZl0rcCtoW2ZdLHZbZ109TWF0aC5tYXgobFtnXSxoW2ddKSx2W3ldPU1hdGgubWluKDAsaFt5XStjWzEtZF0pLHZ9cmV0dXJuIGEueD11WzBdLGEueT11WzFdLHRoaXMuZ3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5faXNGaXJzdFJlbmRlcj0hMH0sZS50eXBlPSJsZWdlbmQucGxhaW4iLGV9KHdmKTtmdW5jdGlvbiBmVih0LGUsbixpKXt2Vih0LGUsbixpKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJsZWdlbmRUb2dnbGVTZWxlY3QiLG5hbWU6bnVsbCE9dD90OmV9KSx5Vih0LGUsbixpKX1mdW5jdGlvbiBnVih0KXtmb3IodmFyIGUsbj10LmdldFpyKCkuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLGk9MCxyPW4ubGVuZ3RoO2k8ciYmIShlPW5baV0uc3RhdGVzLmVtcGhhc2lzKTspaSsrO3JldHVybiBlJiZlLmhvdmVyTGF5ZXJ9ZnVuY3Rpb24geVYodCxlLG4saSl7Z1Yobil8fG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImhpZ2hsaWdodCIsc2VyaWVzTmFtZTp0LG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6aX0pfWZ1bmN0aW9uIHZWKHQsZSxuLGkpe2dWKG4pfHxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkb3ducGxheSIsc2VyaWVzTmFtZTp0LG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6aX0pfWZ1bmN0aW9uIG1WKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJsZWdlbmQifSk7ZSYmZS5sZW5ndGgmJnQuZmlsdGVyU2VyaWVzKChmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZighZVtuXS5pc1NlbGVjdGVkKHQubmFtZSkpcmV0dXJuITE7cmV0dXJuITB9KSl9ZnVuY3Rpb24gX1YodCxlLG4pe3ZhciBpLHI9e30sbz0idG9nZ2xlU2VsZWN0ZWQiPT09dDtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KCJsZWdlbmQiLChmdW5jdGlvbihuKXtvJiZudWxsIT1pP25baT8ic2VsZWN0IjoidW5TZWxlY3QiXShlLm5hbWUpOiJhbGxTZWxlY3QiPT09dHx8ImludmVyc2VTZWxlY3QiPT09dD9uW3RdKCk6KG5bdF0oZS5uYW1lKSxpPW4uaXNTZWxlY3RlZChlLm5hbWUpKSxQKG4uZ2V0RGF0YSgpLChmdW5jdGlvbih0KXt2YXIgZT10LmdldCgibmFtZSIpO2lmKCJcbiIhPT1lJiYiIiE9PWUpe3ZhciBpPW4uaXNTZWxlY3RlZChlKTtyLmhhc093blByb3BlcnR5KGUpP3JbZV09cltlXSYmaTpyW2VdPWl9fSkpfSkpLCJhbGxTZWxlY3QiPT09dHx8ImludmVyc2VTZWxlY3QiPT09dD97c2VsZWN0ZWQ6cn06e25hbWU6ZS5uYW1lLHNlbGVjdGVkOnJ9fWZ1bmN0aW9uIHhWKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh1ViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZFYpLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU0VSSUVTX0ZJTFRFUixtViksdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoImxlZ2VuZCIsKGZ1bmN0aW9uKCl7cmV0dXJuInBsYWluIn0pKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRUb2dnbGVTZWxlY3QiLCJsZWdlbmRzZWxlY3RjaGFuZ2VkIixCKF9WLCJ0b2dnbGVTZWxlY3RlZCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRBbGxTZWxlY3QiLCJsZWdlbmRzZWxlY3RhbGwiLEIoX1YsImFsbFNlbGVjdCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRJbnZlcnNlU2VsZWN0IiwibGVnZW5kaW52ZXJzZXNlbGVjdCIsQihfViwiaW52ZXJzZVNlbGVjdCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRTZWxlY3QiLCJsZWdlbmRzZWxlY3RlZCIsQihfViwic2VsZWN0IikpLHQucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZFVuU2VsZWN0IiwibGVnZW5kdW5zZWxlY3RlZCIsQihfViwidW5TZWxlY3QiKSl9KHQpfXZhciBiVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zZXRTY3JvbGxEYXRhSW5kZXg9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uc2Nyb2xsRGF0YUluZGV4PXR9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPUhjKGUpO3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx3Vih0aGlzLGUscil9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksd1YodGhpcyx0aGlzLm9wdGlvbixlKX0sZS50eXBlPSJsZWdlbmQuc2Nyb2xsIixlLmRlZmF1bHRPcHRpb249emgodVYuZGVmYXVsdE9wdGlvbix7c2Nyb2xsRGF0YUluZGV4OjAscGFnZUJ1dHRvbkl0ZW1HYXA6NSxwYWdlQnV0dG9uR2FwOm51bGwscGFnZUJ1dHRvblBvc2l0aW9uOiJlbmQiLHBhZ2VGb3JtYXR0ZXI6IntjdXJyZW50fS97dG90YWx9IixwYWdlSWNvbnM6e2hvcml6b250YWw6WyJNMCwwTDEyLC0xMEwxMiwxMHoiLCJNMCwwTC0xMiwtMTBMLTEyLDEweiJdLHZlcnRpY2FsOlsiTTAsMEwyMCwwTDEwLC0yMHoiLCJNMCwwTDIwLDBMMTAsMjB6Il19LHBhZ2VJY29uQ29sb3I6IiMyZjQ1NTQiLHBhZ2VJY29uSW5hY3RpdmVDb2xvcjoiI2FhYSIscGFnZUljb25TaXplOjE1LHBhZ2VUZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6ODAwfSksZX0odVYpO2Z1bmN0aW9uIHdWKHQsZSxuKXt2YXIgaT1bMSwxXTtpW3QuZ2V0T3JpZW50KCkuaW5kZXhdPTAsR2MoZSxuLHt0eXBlOiJib3giLGlnbm9yZVNpemU6ISFpfSl9dmFyIFNWPUVpLE1WPVsid2lkdGgiLCJoZWlnaHQiXSxJVj1bIngiLCJ5Il0sVFY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLm5ld2xpbmVEaXNhYmxlZD0hMCxuLl9jdXJyZW50SW5kZXg9MCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250YWluZXJHcm91cD1uZXcgU1YpLHRoaXMuX2NvbnRhaW5lckdyb3VwLmFkZCh0aGlzLmdldENvbnRlbnRHcm91cCgpKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250cm9sbGVyR3JvdXA9bmV3IFNWKX0sZS5wcm90b3R5cGUucmVzZXRJbm5lcj1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0SW5uZXIuY2FsbCh0aGlzKSx0aGlzLl9jb250cm9sbGVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplPW51bGx9LGUucHJvdG90eXBlLnJlbmRlcklubmVyPWZ1bmN0aW9uKGUsbixpLHIsbyxhLHMpe3ZhciBsPXRoaXM7dC5wcm90b3R5cGUucmVuZGVySW5uZXIuY2FsbCh0aGlzLGUsbixpLHIsbyxhLHMpO3ZhciB1PXRoaXMuX2NvbnRyb2xsZXJHcm91cCxoPW4uZ2V0KCJwYWdlSWNvblNpemUiLCEwKSxjPUYoaCk/aDpbaCxoXTtkKCJwYWdlUHJldiIsMCk7dmFyIHA9bi5nZXRNb2RlbCgicGFnZVRleHRTdHlsZSIpO2Z1bmN0aW9uIGQodCxlKXt2YXIgaT10KyJEYXRhSW5kZXgiLG89ZWgobi5nZXQoInBhZ2VJY29ucyIsITApW24uZ2V0T3JpZW50KCkubmFtZV1bZV0se29uY2xpY2s6VihsLl9wYWdlR28sbCxpLG4scil9LHt4Oi1jWzBdLzIseTotY1sxXS8yLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTtvLm5hbWU9dCx1LmFkZChvKX11LmFkZChuZXcgY3Moe25hbWU6InBhZ2VUZXh0IixzdHlsZTp7dGV4dDoieHgveHgiLGZpbGw6cC5nZXRUZXh0Q29sb3IoKSxmb250OnAuZ2V0Rm9udCgpLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246ImNlbnRlciJ9LHNpbGVudDohMH0pKSxkKCJwYWdlTmV4dCIsMSl9LGUucHJvdG90eXBlLmxheW91dElubmVyPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10aGlzLmdldFNlbGVjdG9yR3JvdXAoKSxzPXQuZ2V0T3JpZW50KCkuaW5kZXgsbD1NVltzXSx1PUlWW3NdLGg9TVZbMS1zXSxjPUlWWzEtc107ciYmRWMoImhvcml6b250YWwiLGEsdC5nZXQoInNlbGVjdG9ySXRlbUdhcCIsITApKTt2YXIgcD10LmdldCgic2VsZWN0b3JCdXR0b25HYXAiLCEwKSxkPWEuZ2V0Qm91bmRpbmdSZWN0KCksZj1bLWQueCwtZC55XSxnPXcobik7ciYmKGdbbF09bltsXS1kW2xdLXApO3ZhciB5PXRoaXMuX2xheW91dENvbnRlbnRBbmRDb250cm9sbGVyKHQsaSxnLHMsbCxoLGMsdSk7aWYocil7aWYoImVuZCI9PT1vKWZbc10rPXlbbF0rcDtlbHNle3ZhciB2PWRbbF0rcDtmW3NdLT12LHlbdV0tPXZ9eVtsXSs9ZFtsXStwLGZbMS1zXSs9eVtjXSt5W2hdLzItZFtoXS8yLHlbaF09TWF0aC5tYXgoeVtoXSxkW2hdKSx5W2NdPU1hdGgubWluKHlbY10sZFtjXStmWzEtc10pLGEueD1mWzBdLGEueT1mWzFdLGEubWFya1JlZHJhdygpfXJldHVybiB5fSxlLnByb3RvdHlwZS5fbGF5b3V0Q29udGVudEFuZENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD10aGlzLmdldENvbnRlbnRHcm91cCgpLHU9dGhpcy5fY29udGFpbmVyR3JvdXAsaD10aGlzLl9jb250cm9sbGVyR3JvdXA7RWModC5nZXQoIm9yaWVudCIpLGwsdC5nZXQoIml0ZW1HYXAiKSxpP24ud2lkdGg6bnVsbCxpP251bGw6bi5oZWlnaHQpLEVjKCJob3Jpem9udGFsIixoLHQuZ2V0KCJwYWdlQnV0dG9uSXRlbUdhcCIsITApKTt2YXIgYz1sLmdldEJvdW5kaW5nUmVjdCgpLHA9aC5nZXRCb3VuZGluZ1JlY3QoKSxkPXRoaXMuX3Nob3dDb250cm9sbGVyPWNbcl0+bltyXSxmPVstYy54LC1jLnldO2V8fChmW2ldPWxbc10pO3ZhciBnPVswLDBdLHk9Wy1wLngsLXAueV0sdj10dCh0LmdldCgicGFnZUJ1dHRvbkdhcCIsITApLHQuZ2V0KCJpdGVtR2FwIiwhMCkpO2QmJigiZW5kIj09PXQuZ2V0KCJwYWdlQnV0dG9uUG9zaXRpb24iLCEwKT95W2ldKz1uW3JdLXBbcl06Z1tpXSs9cFtyXSt2KTt5WzEtaV0rPWNbb10vMi1wW29dLzIsbC5zZXRQb3NpdGlvbihmKSx1LnNldFBvc2l0aW9uKGcpLGguc2V0UG9zaXRpb24oeSk7dmFyIG09e3g6MCx5OjB9O2lmKG1bcl09ZD9uW3JdOmNbcl0sbVtvXT1NYXRoLm1heChjW29dLHBbb10pLG1bYV09TWF0aC5taW4oMCxwW2FdK3lbMS1pXSksdS5fX3JlY3RTaXplPW5bcl0sZCl7dmFyIF89e3g6MCx5OjB9O19bcl09TWF0aC5tYXgobltyXS1wW3JdLXYsMCksX1tvXT1tW29dLHUuc2V0Q2xpcFBhdGgobmV3IGxzKHtzaGFwZTpffSkpLHUuX19yZWN0U2l6ZT1fW3JdfWVsc2UgaC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3QuYXR0cih7aW52aXNpYmxlOiEwLHNpbGVudDohMH0pfSkpO3ZhciB4PXRoaXMuX2dldFBhZ2VJbmZvKHQpO3JldHVybiBudWxsIT14LnBhZ2VJbmRleCYmSHUobCx7eDp4LmNvbnRlbnRQb3NpdGlvblswXSx5OnguY29udGVudFBvc2l0aW9uWzFdfSxkP3Q6bnVsbCksdGhpcy5fdXBkYXRlUGFnZUluZm9WaWV3KHQseCksbX0sZS5wcm90b3R5cGUuX3BhZ2VHbz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZ2V0UGFnZUluZm8oZSlbdF07bnVsbCE9aSYmbi5kaXNwYXRjaEFjdGlvbih7dHlwZToibGVnZW5kU2Nyb2xsIixzY3JvbGxEYXRhSW5kZXg6aSxsZWdlbmRJZDplLmlkfSl9LGUucHJvdG90eXBlLl91cGRhdGVQYWdlSW5mb1ZpZXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb250cm9sbGVyR3JvdXA7UChbInBhZ2VQcmV2IiwicGFnZU5leHQiXSwoZnVuY3Rpb24oaSl7dmFyIHI9bnVsbCE9ZVtpKyJEYXRhSW5kZXgiXSxvPW4uY2hpbGRPZk5hbWUoaSk7byYmKG8uc2V0U3R5bGUoImZpbGwiLHI/dC5nZXQoInBhZ2VJY29uQ29sb3IiLCEwKTp0LmdldCgicGFnZUljb25JbmFjdGl2ZUNvbG9yIiwhMCkpLG8uY3Vyc29yPXI/InBvaW50ZXIiOiJkZWZhdWx0Iil9KSk7dmFyIGk9bi5jaGlsZE9mTmFtZSgicGFnZVRleHQiKSxyPXQuZ2V0KCJwYWdlRm9ybWF0dGVyIiksbz1lLnBhZ2VJbmRleCxhPW51bGwhPW8/bysxOjAscz1lLnBhZ2VDb3VudDtpJiZyJiZpLnNldFN0eWxlKCJ0ZXh0IixIKHIpP3IucmVwbGFjZSgie2N1cnJlbnR9IixudWxsPT1hPyIiOmErIiIpLnJlcGxhY2UoInt0b3RhbH0iLG51bGw9PXM/IiI6cysiIik6cih7Y3VycmVudDphLHRvdGFsOnN9KSl9LGUucHJvdG90eXBlLl9nZXRQYWdlSW5mbz1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgic2Nyb2xsRGF0YUluZGV4IiwhMCksbj10aGlzLmdldENvbnRlbnRHcm91cCgpLGk9dGhpcy5fY29udGFpbmVyR3JvdXAuX19yZWN0U2l6ZSxyPXQuZ2V0T3JpZW50KCkuaW5kZXgsbz1NVltyXSxhPUlWW3JdLHM9dGhpcy5fZmluZFRhcmdldEl0ZW1JbmRleChlKSxsPW4uY2hpbGRyZW4oKSx1PWxbc10saD1sLmxlbmd0aCxjPWg/MTowLHA9e2NvbnRlbnRQb3NpdGlvbjpbbi54LG4ueV0scGFnZUNvdW50OmMscGFnZUluZGV4OmMtMSxwYWdlUHJldkRhdGFJbmRleDpudWxsLHBhZ2VOZXh0RGF0YUluZGV4Om51bGx9O2lmKCF1KXJldHVybiBwO3ZhciBkPW0odSk7cC5jb250ZW50UG9zaXRpb25bcl09LWQucztmb3IodmFyIGY9cysxLGc9ZCx5PWQsdj1udWxsO2Y8PWg7KytmKSghKHY9bShsW2ZdKSkmJnkuZT5nLnMraXx8diYmIV8odixnLnMpKSYmKGc9eS5pPmcuaT95OnYpJiYobnVsbD09cC5wYWdlTmV4dERhdGFJbmRleCYmKHAucGFnZU5leHREYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50KSx5PXY7Zm9yKGY9cy0xLGc9ZCx5PWQsdj1udWxsO2Y+PS0xOy0tZikodj1tKGxbZl0pKSYmXyh5LHYucyl8fCEoZy5pPHkuaSl8fCh5PWcsbnVsbD09cC5wYWdlUHJldkRhdGFJbmRleCYmKHAucGFnZVByZXZEYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50LCsrcC5wYWdlSW5kZXgpLGc9djtyZXR1cm4gcDtmdW5jdGlvbiBtKHQpe2lmKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCksbj1lW2FdK3RbYV07cmV0dXJue3M6bixlOm4rZVtvXSxpOnQuX19sZWdlbmREYXRhSW5kZXh9fX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIHQuZT49ZSYmdC5zPD1lK2l9fSxlLnByb3RvdHlwZS5fZmluZFRhcmdldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2hvd0NvbnRyb2xsZXI/KHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuZWFjaENoaWxkKChmdW5jdGlvbihpLHIpe3ZhciBvPWkuX19sZWdlbmREYXRhSW5kZXg7bnVsbD09biYmbnVsbCE9byYmKG49ciksbz09PXQmJihlPXIpfSkpLG51bGwhPWU/ZTpuKTowO3ZhciBlLG59LGUudHlwZT0ibGVnZW5kLnNjcm9sbCIsZX0oZFYpO2Z1bmN0aW9uIENWKHQpe1FtKHhWKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoYlYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFRWKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRTY3JvbGwiLCJsZWdlbmRzY3JvbGwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPW4mJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImxlZ2VuZCIsc3ViVHlwZToic2Nyb2xsIixxdWVyeTp0fSwoZnVuY3Rpb24odCl7dC5zZXRTY3JvbGxEYXRhSW5kZXgobil9KSl9KSl9KHQpfXZhciBEVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLmluc2lkZSIsZS5kZWZhdWx0T3B0aW9uPXpoKHdOLmRlZmF1bHRPcHRpb24se2Rpc2FibGVkOiExLHpvb21Mb2NrOiExLHpvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITEscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ITB9KSxlfSh3TiksQVY9a3IoKTtmdW5jdGlvbiBMVih0LGUsbil7QVYodCkuY29vcmRTeXNSZWNvcmRNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9dC5kYXRhWm9vbUluZm9NYXAuZ2V0KGUudWlkKTtpJiYoaS5nZXRSYW5nZT1uKX0pKX1mdW5jdGlvbiBrVih0LGUpe2lmKGUpe3QucmVtb3ZlS2V5KGUubW9kZWwudWlkKTt2YXIgbj1lLmNvbnRyb2xsZXI7biYmbi5kaXNwb3NlKCl9fWZ1bmN0aW9uIFBWKHQsZSl7dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGFuaW1hdGlvbjp7ZWFzaW5nOiJjdWJpY091dCIsZHVyYXRpb246MTAwfSxiYXRjaDplfSl9ZnVuY3Rpb24gT1YodCxlLG4saSl7cmV0dXJuIHQuY29vcmRpbmF0ZVN5c3RlbS5jb250YWluUG9pbnQoW24saV0pfWZ1bmN0aW9uIFJWKHQpe3QucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuRklMVEVSLChmdW5jdGlvbih0LGUpe3ZhciBuPUFWKGUpLGk9bi5jb29yZFN5c1JlY29yZE1hcHx8KG4uY29vcmRTeXNSZWNvcmRNYXA9aHQoKSk7aS5lYWNoKChmdW5jdGlvbih0KXt0LmRhdGFab29tSW5mb01hcD1udWxsfSkpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixzdWJUeXBlOiJpbnNpZGUifSwoZnVuY3Rpb24odCl7UCh4Tih0KS5pbmZvTGlzdCwoZnVuY3Rpb24obil7dmFyIHI9bi5tb2RlbC51aWQsbz1pLmdldChyKXx8aS5zZXQocixmdW5jdGlvbih0LGUpe3ZhciBuPXttb2RlbDplLGNvbnRhaW5zUG9pbnQ6QihPVixlKSxkaXNwYXRjaEFjdGlvbjpCKFBWLHQpLGRhdGFab29tSW5mb01hcDpudWxsLGNvbnRyb2xsZXI6bnVsbH0saT1uLmNvbnRyb2xsZXI9bmV3IFdNKHQuZ2V0WnIoKSk7cmV0dXJuIFAoWyJwYW4iLCJ6b29tIiwic2Nyb2xsTW92ZSJdLChmdW5jdGlvbih0KXtpLm9uKHQsKGZ1bmN0aW9uKGUpe3ZhciBpPVtdO24uZGF0YVpvb21JbmZvTWFwLmVhY2goKGZ1bmN0aW9uKHIpe2lmKGUuaXNBdmFpbGFibGVCZWhhdmlvcihyLm1vZGVsLm9wdGlvbikpe3ZhciBvPShyLmdldFJhbmdlfHx7fSlbdF0sYT1vJiZvKHIuZHpSZWZlckNvb3JkU3lzSW5mbyxuLm1vZGVsLm1haW5UeXBlLG4uY29udHJvbGxlcixlKTshci5tb2RlbC5nZXQoImRpc2FibGVkIiwhMCkmJmEmJmkucHVzaCh7ZGF0YVpvb21JZDpyLm1vZGVsLmlkLHN0YXJ0OmFbMF0sZW5kOmFbMV19KX19KSksaS5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oaSl9KSl9KSksbn0oZSxuLm1vZGVsKSk7KG8uZGF0YVpvb21JbmZvTWFwfHwoby5kYXRhWm9vbUluZm9NYXA9aHQoKSkpLnNldCh0LnVpZCx7ZHpSZWZlckNvb3JkU3lzSW5mbzpuLG1vZGVsOnQsZ2V0UmFuZ2U6bnVsbH0pfSkpfSkpLGkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGUsbj10LmNvbnRyb2xsZXIscj10LmRhdGFab29tSW5mb01hcDtpZihyKXt2YXIgbz1yLmtleXMoKVswXTtudWxsIT1vJiYoZT1yLmdldChvKSl9aWYoZSl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGUsbj0idHlwZV8iLGk9e3R5cGVfdHJ1ZToyLHR5cGVfbW92ZToxLHR5cGVfZmFsc2U6MCx0eXBlX3VuZGVmaW5lZDotMX0scj0hMDtyZXR1cm4gdC5lYWNoKChmdW5jdGlvbih0KXt2YXIgbz10Lm1vZGVsLGE9IW8uZ2V0KCJkaXNhYmxlZCIsITApJiYoIW8uZ2V0KCJ6b29tTG9jayIsITApfHwibW92ZSIpO2lbbithXT5pW24rZV0mJihlPWEpLHI9ciYmby5nZXQoInByZXZlbnREZWZhdWx0TW91c2VNb3ZlIiwhMCl9KSkse2NvbnRyb2xUeXBlOmUsb3B0Ont6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiEwLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEhcn19fShyKTtuLmVuYWJsZShhLmNvbnRyb2xUeXBlLGEub3B0KSxuLnNldFBvaW50ZXJDaGVja2VyKHQuY29udGFpbnNQb2ludCksemYodCwiZGlzcGF0Y2hBY3Rpb24iLGUubW9kZWwuZ2V0KCJ0aHJvdHRsZSIsITApLCJmaXhSYXRlIil9ZWxzZSBrVihpLHQpfSkpfSkpfXZhciBOVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFab29tLmluc2lkZSIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSl7dC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLm5vVGFyZ2V0KCk/dGhpcy5fY2xlYXIoKToodGhpcy5yYW5nZT1lLmdldFBlcmNlbnRSYW5nZSgpLExWKGksZSx7cGFuOlYoelYucGFuLHRoaXMpLHpvb206Vih6Vi56b29tLHRoaXMpLHNjcm9sbE1vdmU6Vih6Vi5zY3JvbGxNb3ZlLHRoaXMpfSkpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUFWKHQpLmNvb3JkU3lzUmVjb3JkTWFwLGk9bi5rZXlzKCkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9bi5nZXQobykscz1hLmRhdGFab29tSW5mb01hcDtpZihzKXt2YXIgbD1lLnVpZDtzLmdldChsKSYmKHMucmVtb3ZlS2V5KGwpLHMua2V5cygpLmxlbmd0aHx8a1YobixhKSl9fX0odGhpcy5hcGksdGhpcy5kYXRhWm9vbU1vZGVsKSx0aGlzLnJhbmdlPW51bGx9LGUudHlwZT0iZGF0YVpvb20uaW5zaWRlIixlfShJTikselY9e3pvb206ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5yYW5nZSxvPXIuc2xpY2UoKSxhPXQuYXhpc01vZGVsc1swXTtpZihhKXt2YXIgcz1WVltlXShudWxsLFtpLm9yaWdpblgsaS5vcmlnaW5ZXSxhLG4sdCksbD0ocy5zaWduYWw+MD9zLnBpeGVsU3RhcnQrcy5waXhlbExlbmd0aC1zLnBpeGVsOnMucGl4ZWwtcy5waXhlbFN0YXJ0KS9zLnBpeGVsTGVuZ3RoKihvWzFdLW9bMF0pK29bMF0sdT1NYXRoLm1heCgxL2kuc2NhbGUsMCk7b1swXT0ob1swXS1sKSp1K2wsb1sxXT0ob1sxXS1sKSp1K2w7dmFyIGg9dGhpcy5kYXRhWm9vbU1vZGVsLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKTtyZXR1cm4gUEQoMCxvLFswLDEwMF0sMCxoLm1pblNwYW4saC5tYXhTcGFuKSx0aGlzLnJhbmdlPW8sclswXSE9PW9bMF18fHJbMV0hPT1vWzFdP286dm9pZCAwfX0scGFuOkVWKChmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9VlZbaV0oW28ub2xkWCxvLm9sZFldLFtvLm5ld1gsby5uZXdZXSxlLHIsbik7cmV0dXJuIGEuc2lnbmFsKih0WzFdLXRbMF0pKmEucGl4ZWwvYS5waXhlbExlbmd0aH0pKSxzY3JvbGxNb3ZlOkVWKChmdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIFZWW2ldKFswLDBdLFtvLnNjcm9sbERlbHRhLG8uc2Nyb2xsRGVsdGFdLGUscixuKS5zaWduYWwqKHRbMV0tdFswXSkqby5zY3JvbGxEZWx0YX0pKX07ZnVuY3Rpb24gRVYodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPXRoaXMucmFuZ2UsYT1vLnNsaWNlKCkscz1lLmF4aXNNb2RlbHNbMF07aWYocylyZXR1cm4gUEQodChhLHMsZSxuLGksciksYSxbMCwxMDBdLCJhbGwiKSx0aGlzLnJhbmdlPWEsb1swXSE9PWFbMF18fG9bMV0hPT1hWzFdP2E6dm9pZCAwfX12YXIgVlY9e2dyaWQ6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT17fSxzPXIubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7cmV0dXJuIHQ9dHx8WzAsMF0sIngiPT09by5kaW0/KGEucGl4ZWw9ZVswXS10WzBdLGEucGl4ZWxMZW5ndGg9cy53aWR0aCxhLnBpeGVsU3RhcnQ9cy54LGEuc2lnbmFsPW8uaW52ZXJzZT8xOi0xKTooYS5waXhlbD1lWzFdLXRbMV0sYS5waXhlbExlbmd0aD1zLmhlaWdodCxhLnBpeGVsU3RhcnQ9cy55LGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxwb2xhcjpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcyxhPXt9LHM9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksdT1zLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpO3JldHVybiB0PXQ/cy5wb2ludFRvQ29vcmQodCk6WzAsMF0sZT1zLnBvaW50VG9Db29yZChlKSwicmFkaXVzQXhpcyI9PT1uLm1haW5UeXBlPyhhLnBpeGVsPWVbMF0tdFswXSxhLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxhLnBpeGVsU3RhcnQ9bFswXSxhLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KGEucGl4ZWw9ZVsxXS10WzFdLGEucGl4ZWxMZW5ndGg9dVsxXS11WzBdLGEucGl4ZWxTdGFydD11WzBdLGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLCJob3Jpem9udGFsIj09PW8ub3JpZW50PyhzLnBpeGVsPWVbMF0tdFswXSxzLnBpeGVsTGVuZ3RoPWEud2lkdGgscy5waXhlbFN0YXJ0PWEueCxzLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KHMucGl4ZWw9ZVsxXS10WzFdLHMucGl4ZWxMZW5ndGg9YS5oZWlnaHQscy5waXhlbFN0YXJ0PWEueSxzLnNpZ25hbD1vLmludmVyc2U/LTE6MSksc319O2Z1bmN0aW9uIEJWKHQpe1BOKHQpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChEViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoTlYpLFJWKHQpfXZhciBGVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNsaWRlciIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj16aCh3Ti5kZWZhdWx0T3B0aW9uLHtzaG93OiEwLHJpZ2h0OiJwaCIsdG9wOiJwaCIsd2lkdGg6InBoIixoZWlnaHQ6InBoIixsZWZ0Om51bGwsYm90dG9tOm51bGwsYm9yZGVyQ29sb3I6IiNkMmRiZWUiLGJvcmRlclJhZGl1czozLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiNkMmRiZWUiLHdpZHRoOi41fSxhcmVhU3R5bGU6e2NvbG9yOiIjZDJkYmVlIixvcGFjaXR5Oi4yfX0sc2VsZWN0ZWREYXRhQmFja2dyb3VuZDp7bGluZVN0eWxlOntjb2xvcjoiIzhmYjBmNyIsd2lkdGg6LjV9LGFyZWFTdHlsZTp7Y29sb3I6IiM4ZmIwZjciLG9wYWNpdHk6LjJ9fSxmaWxsZXJDb2xvcjoicmdiYSgxMzUsMTc1LDI3NCwwLjIpIixoYW5kbGVJY29uOiJwYXRoOi8vTS05LjM1LDM0LjU2VjQybTAtNDBWOS41bS0yLDBoNGEyLDIsMCwwLDEsMiwydjIxYTIsMiwwLDAsMS0yLDJoLTRhMiwyLDAsMCwxLTItMnYtMjFBMiwyLDAsMCwxLTExLjM1LDkuNVoiLGhhbmRsZVNpemU6IjEwMCUiLGhhbmRsZVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyQ29sb3I6IiNBQ0I4RDEifSxtb3ZlSGFuZGxlU2l6ZTo3LG1vdmVIYW5kbGVJY29uOiJwYXRoOi8vTS0zMjAuOS01MEwtMzIwLjktNTBjMTguMSwwLDI3LjEsOSwyNy4xLDI3LjFWODUuN2MwLDE4LjEtOSwyNy4xLTI3LjEsMjcuMWwwLDBjLTE4LjEsMC0yNy4xLTktMjcuMS0yNy4xVi0yMi45Qy0zNDgtNDEtMzM5LTUwLTMyMC45LTUweiBNLTIxMi4zLTUwTC0yMTIuMy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTIzOS40LTQxLTIzMC40LTUwLTIxMi4zLTUweiBNLTEwMy43LTUwTC0xMDMuNy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTEzMC45LTQxLTEyMS44LTUwLTEwMy43LTUweiIsbW92ZUhhbmRsZVN0eWxlOntjb2xvcjoiI0QyREJFRSIsb3BhY2l0eTouN30sc2hvd0RldGFpbDohMCxzaG93RGF0YVNoYWRvdzoiYXV0byIscmVhbHRpbWU6ITAsem9vbUxvY2s6ITEsdGV4dFN0eWxlOntjb2xvcjoiIzZFNzA3OSJ9LGJydXNoU2VsZWN0OiEwLGJydXNoU3R5bGU6e2NvbG9yOiJyZ2JhKDEzNSwxNzUsMjc0LDAuMTUpIn0sZW1waGFzaXM6e2hhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiIzhGQjBGNyJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6IiM4RkIwRjcifX19KSxlfSh3TiksR1Y9bHMsSFY9Imhvcml6b250YWwiLFdWPSJ2ZXJ0aWNhbCIsVVY9WyJsaW5lIiwiYmFyIiwiY2FuZGxlc3RpY2siLCJzY2F0dGVyIl0sWFY9e2Vhc2luZzoiY3ViaWNPdXQiLGR1cmF0aW9uOjEwMH0sWVY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9kaXNwbGF5YWJsZXM9e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmFwaT1lLHRoaXMuX29uQnJ1c2g9Vih0aGlzLl9vbkJydXNoLHRoaXMpLHRoaXMuX29uQnJ1c2hFbmQ9Vih0aGlzLl9vbkJydXNoRW5kLHRoaXMpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSxuLGkscil7aWYodC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx6Zih0aGlzLCJfZGlzcGF0Y2hab29tQWN0aW9uIixlLmdldCgidGhyb3R0bGUiKSwiZml4UmF0ZSIpLHRoaXMuX29yaWVudD1lLmdldE9yaWVudCgpLCExIT09ZS5nZXQoInNob3ciKSl7aWYoZS5ub1RhcmdldCgpKXJldHVybiB0aGlzLl9jbGVhcigpLHZvaWQgdGhpcy5ncm91cC5yZW1vdmVBbGwoKTtyJiYiZGF0YVpvb20iPT09ci50eXBlJiZyLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCksdGhpcy5fdXBkYXRlVmlldygpfWVsc2UgdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyKCksdC5wcm90b3R5cGUuZGlzcG9zZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpe3ZhciB0LGUsbjsobj0odD10aGlzKVtlPSJfZGlzcGF0Y2hab29tQWN0aW9uIl0pJiZuW1BmXSYmKHRbZV09bltQZl0pO3ZhciBpPXRoaXMuYXBpLmdldFpyKCk7aS5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25CcnVzaCksaS5vZmYoIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpfSxlLnByb3RvdHlwZS5fYnVpbGRWaWV3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncm91cDt0LnJlbW92ZUFsbCgpLHRoaXMuX2JydXNoaW5nPSExLHRoaXMuX2Rpc3BsYXlhYmxlcy5icnVzaFJlY3Q9bnVsbCx0aGlzLl9yZXNldExvY2F0aW9uKCksdGhpcy5fcmVzZXRJbnRlcnZhbCgpO3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cD1uZXcgRWk7dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckhhbmRsZSgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LGUucHJvdG90eXBlLl9yZXNldExvY2F0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksbj10LmdldCgiYnJ1c2hTZWxlY3QiKT83OjAsaT10aGlzLl9maW5kQ29vcmRSZWN0KCkscj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxvPXRoaXMuX29yaWVudD09PUhWP3tyaWdodDpyLndpZHRoLWkueC1pLndpZHRoLHRvcDpyLmhlaWdodC0zMC03LW4sd2lkdGg6aS53aWR0aCxoZWlnaHQ6MzB9OntyaWdodDo3LHRvcDppLnksd2lkdGg6MzAsaGVpZ2h0OmkuaGVpZ2h0fSxhPUhjKHQub3B0aW9uKTtQKFsicmlnaHQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCJdLChmdW5jdGlvbih0KXsicGgiPT09YVt0XSYmKGFbdF09b1t0XSl9KSk7dmFyIHM9VmMoYSxyKTt0aGlzLl9sb2NhdGlvbj17eDpzLngseTpzLnl9LHRoaXMuX3NpemU9W3Mud2lkdGgscy5oZWlnaHRdLHRoaXMuX29yaWVudD09PVdWJiZ0aGlzLl9zaXplLnJldmVyc2UoKX0sZS5wcm90b3R5cGUuX3Bvc2l0aW9uR3JvdXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwLGU9dGhpcy5fbG9jYXRpb24sbj10aGlzLl9vcmllbnQsaT10aGlzLmRhdGFab29tTW9kZWwuZ2V0Rmlyc3RUYXJnZXRBeGlzTW9kZWwoKSxyPWkmJmkuZ2V0KCJpbnZlcnNlIiksbz10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAsYT0odGhpcy5fZGF0YVNoYWRvd0luZm98fHt9KS5vdGhlckF4aXNJbnZlcnNlO28uYXR0cihuIT09SFZ8fHI/bj09PUhWJiZyP3tzY2FsZVk6YT8xOi0xLHNjYWxlWDotMX06biE9PVdWfHxyP3tzY2FsZVk6YT8tMToxLHNjYWxlWDotMSxyb3RhdGlvbjpNYXRoLlBJLzJ9OntzY2FsZVk6YT8tMToxLHNjYWxlWDoxLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlWTphPzE6LTEsc2NhbGVYOjF9KTt2YXIgcz10LmdldEJvdW5kaW5nUmVjdChbb10pO3QueD1lLngtcy54LHQueT1lLnktcy55LHQubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5fZ2V0Vmlld0V4dGVudD1mdW5jdGlvbigpe3JldHVyblswLHRoaXMuX3NpemVbMF1dfSxlLnByb3RvdHlwZS5fcmVuZGVyQmFja2dyb3VuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxlPXRoaXMuX3NpemUsbj10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAsaT10LmdldCgiYnJ1c2hTZWxlY3QiKTtuLmFkZChuZXcgR1Yoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDplWzBdLGhlaWdodDplWzFdfSxzdHlsZTp7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHoyOi00MH0pKTt2YXIgcj1uZXcgR1Yoe3NoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOiJ0cmFuc3BhcmVudCJ9LHoyOjAsb25jbGljazpWKHRoaXMuX29uQ2xpY2tQYW5lbCx0aGlzKX0pLG89dGhpcy5hcGkuZ2V0WnIoKTtpPyhyLm9uKCJtb3VzZWRvd24iLHRoaXMuX29uQnJ1c2hTdGFydCx0aGlzKSxyLmN1cnNvcj0iY3Jvc3NoYWlyIixvLm9uKCJtb3VzZW1vdmUiLHRoaXMuX29uQnJ1c2gpLG8ub24oIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpKTooby5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25CcnVzaCksby5vZmYoIm1vdXNldXAiLHRoaXMuX29uQnJ1c2hFbmQpKSxuLmFkZChyKX0sZS5wcm90b3R5cGUuX3JlbmRlckRhdGFTaGFkb3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhU2hhZG93SW5mbz10aGlzLl9wcmVwYXJlRGF0YVNoYWRvd0luZm8oKTtpZih0aGlzLl9kaXNwbGF5YWJsZXMuZGF0YVNoYWRvd1NlZ3M9W10sdCl7dmFyIGU9dGhpcy5fc2l6ZSxuPXQuc2VyaWVzLGk9bi5nZXRSYXdEYXRhKCkscj1uLmdldFNoYWRvd0RpbT9uLmdldFNoYWRvd0RpbSgpOnQub3RoZXJEaW07aWYobnVsbCE9cil7dmFyIG89aS5nZXREYXRhRXh0ZW50KHIpLGE9LjMqKG9bMV0tb1swXSk7bz1bb1swXS1hLG9bMV0rYV07dmFyIHMsbD1bMCxlWzFdXSx1PVswLGVbMF1dLGg9W1tlWzBdLDBdLFswLDBdXSxjPVtdLHA9dVsxXS8oaS5jb3VudCgpLTEpLGQ9MCxmPU1hdGgucm91bmQoaS5jb3VudCgpL2VbMF0pO2kuZWFjaChbcl0sKGZ1bmN0aW9uKHQsZSl7aWYoZj4wJiZlJWYpZCs9cDtlbHNle3ZhciBuPW51bGw9PXR8fGlzTmFOKHQpfHwiIj09PXQsaT1uPzA6WWkodCxvLGwsITApO24mJiFzJiZlPyhoLnB1c2goW2hbaC5sZW5ndGgtMV1bMF0sMF0pLGMucHVzaChbY1tjLmxlbmd0aC0xXVswXSwwXSkpOiFuJiZzJiYoaC5wdXNoKFtkLDBdKSxjLnB1c2goW2QsMF0pKSxoLnB1c2goW2QsaV0pLGMucHVzaChbZCxpXSksZCs9cCxzPW59fSkpO2Zvcih2YXIgZz10aGlzLmRhdGFab29tTW9kZWwseT0wO3k8Mzt5Kyspe3ZhciB2PW0oMT09PXkpO3RoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cC5hZGQodiksdGhpcy5fZGlzcGxheWFibGVzLmRhdGFTaGFkb3dTZWdzLnB1c2godil9fX1mdW5jdGlvbiBtKHQpe3ZhciBlPWcuZ2V0TW9kZWwodD8ic2VsZWN0ZWREYXRhQmFja2dyb3VuZCI6ImRhdGFCYWNrZ3JvdW5kIiksbj1uZXcgRWksaT1uZXcgcnUoe3NoYXBlOntwb2ludHM6aH0sc2VnbWVudElnbm9yZVRocmVzaG9sZDoxLHN0eWxlOmUuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLmdldEFyZWFTdHlsZSgpLHNpbGVudDohMCx6MjotMjB9KSxyPW5ldyBhdSh7c2hhcGU6e3BvaW50czpjfSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc3R5bGU6ZS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHoyOi0xOX0pO3JldHVybiBuLmFkZChpKSxuLmFkZChyKSxufX0sZS5wcm90b3R5cGUuX3ByZXBhcmVEYXRhU2hhZG93SW5mbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxlPXQuZ2V0KCJzaG93RGF0YVNoYWRvdyIpO2lmKCExIT09ZSl7dmFyIG4saT10aGlzLmVjTW9kZWw7cmV0dXJuIHQuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKHIsbyl7UCh0LmdldEF4aXNQcm94eShyLG8pLmdldFRhcmdldFNlcmllc01vZGVscygpLChmdW5jdGlvbih0KXtpZighKG58fCEwIT09ZSYmRChVVix0LmdldCgidHlwZSIpKTwwKSl7dmFyIGEscz1pLmdldENvbXBvbmVudChtTihyKSxvKS5heGlzLGw9e3g6InkiLHk6IngiLHJhZGl1czoiYW5nbGUiLGFuZ2xlOiJyYWRpdXMifVtyXSx1PXQuY29vcmRpbmF0ZVN5c3RlbTtudWxsIT1sJiZ1LmdldE90aGVyQXhpcyYmKGE9dS5nZXRPdGhlckF4aXMocykuaW52ZXJzZSksbD10LmdldERhdGEoKS5tYXBEaW1lbnNpb24obCksbj17dGhpc0F4aXM6cyxzZXJpZXM6dCx0aGlzRGltOnIsb3RoZXJEaW06bCxvdGhlckF4aXNJbnZlcnNlOmF9fX0pLHRoaXMpfSksdGhpcyksbn19LGUucHJvdG90eXBlLl9yZW5kZXJIYW5kbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwLGU9dGhpcy5fZGlzcGxheWFibGVzLG49ZS5oYW5kbGVzPVtudWxsLG51bGxdLGk9ZS5oYW5kbGVMYWJlbHM9W251bGwsbnVsbF0scj10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAsbz10aGlzLl9zaXplLGE9dGhpcy5kYXRhWm9vbU1vZGVsLHM9dGhpcy5hcGksbD1hLmdldCgiYm9yZGVyUmFkaXVzIil8fDAsdT1hLmdldCgiYnJ1c2hTZWxlY3QiKSxoPWUuZmlsbGVyPW5ldyBHVih7c2lsZW50OnUsc3R5bGU6e2ZpbGw6YS5nZXQoImZpbGxlckNvbG9yIil9LHRleHRDb25maWc6e3Bvc2l0aW9uOiJpbnNpZGUifX0pO3IuYWRkKGgpLHIuYWRkKG5ldyBHVih7c2lsZW50OiEwLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3g6MCx5OjAsd2lkdGg6b1swXSxoZWlnaHQ6b1sxXSxyOmx9LHN0eWxlOntzdHJva2U6YS5nZXQoImRhdGFCYWNrZ3JvdW5kQ29sb3IiKXx8YS5nZXQoImJvcmRlckNvbG9yIiksbGluZVdpZHRoOjEsZmlsbDoicmdiYSgwLDAsMCwwKSJ9fSkpLFAoWzAsMV0sKGZ1bmN0aW9uKGUpe3ZhciBvPWEuZ2V0KCJoYW5kbGVJY29uIik7IWN5W29dJiZvLmluZGV4T2YoInBhdGg6Ly8iKTwwJiZvLmluZGV4T2YoImltYWdlOi8vIik8MCYmKG89InBhdGg6Ly8iK28pO3ZhciBzPWZ5KG8sLTEsMCwyLDIsbnVsbCwhMCk7cy5hdHRyKHtjdXJzb3I6WlYodGhpcy5fb3JpZW50KSxkcmFnZ2FibGU6ITAsZHJpZnQ6Vih0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsZSksb25kcmFnZW5kOlYodGhpcy5fb25EcmFnRW5kLHRoaXMpLG9ubW91c2VvdmVyOlYodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6Vih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMSksejI6NX0pO3ZhciBsPXMuZ2V0Qm91bmRpbmdSZWN0KCksdT1hLmdldCgiaGFuZGxlU2l6ZSIpO3RoaXMuX2hhbmRsZUhlaWdodD1aaSh1LHRoaXMuX3NpemVbMV0pLHRoaXMuX2hhbmRsZVdpZHRoPWwud2lkdGgvbC5oZWlnaHQqdGhpcy5faGFuZGxlSGVpZ2h0LHMuc2V0U3R5bGUoYS5nZXRNb2RlbCgiaGFuZGxlU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSkscy5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLHMucmVjdEhvdmVyPSEwLHMuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9YS5nZXRNb2RlbChbImVtcGhhc2lzIiwiaGFuZGxlU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksc2wocyk7dmFyIGg9YS5nZXQoImhhbmRsZUNvbG9yIik7bnVsbCE9aCYmKHMuc3R5bGUuZmlsbD1oKSxyLmFkZChuW2VdPXMpO3ZhciBjPWEuZ2V0TW9kZWwoInRleHRTdHlsZSIpO3QuYWRkKGlbZV09bmV3IGNzKHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnBoKGMse3g6MCx5OjAsdGV4dDoiIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUiLGFsaWduOiJjZW50ZXIiLGZpbGw6Yy5nZXRUZXh0Q29sb3IoKSxmb250OmMuZ2V0Rm9udCgpfSksejI6MTB9KSl9KSx0aGlzKTt2YXIgYz1oO2lmKHUpe3ZhciBwPVppKGEuZ2V0KCJtb3ZlSGFuZGxlU2l6ZSIpLG9bMV0pLGQ9ZS5tb3ZlSGFuZGxlPW5ldyBscyh7c3R5bGU6YS5nZXRNb2RlbCgibW92ZUhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksc2lsZW50OiEwLHNoYXBlOntyOlswLDAsMiwyXSx5Om9bMV0tLjUsaGVpZ2h0OnB9fSksZj0uOCpwLGc9ZS5tb3ZlSGFuZGxlSWNvbj1meShhLmdldCgibW92ZUhhbmRsZUljb24iKSwtZi8yLC1mLzIsZixmLCIjZmZmIiwhMCk7Zy5zaWxlbnQ9ITAsZy55PW9bMV0rcC8yLS41LGQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9YS5nZXRNb2RlbChbImVtcGhhc2lzIiwibW92ZUhhbmRsZVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpO3ZhciB5PU1hdGgubWluKG9bMV0vMixNYXRoLm1heChwLDEwKSk7KGM9ZS5tb3ZlWm9uZT1uZXcgbHMoe2ludmlzaWJsZTohMCxzaGFwZTp7eTpvWzFdLXksaGVpZ2h0OnAreX19KSkub24oIm1vdXNlb3ZlciIsKGZ1bmN0aW9uKCl7cy5lbnRlckVtcGhhc2lzKGQpfSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7cy5sZWF2ZUVtcGhhc2lzKGQpfSkpLHIuYWRkKGQpLHIuYWRkKGcpLHIuYWRkKGMpfWMuYXR0cih7ZHJhZ2dhYmxlOiEwLGN1cnNvcjpaVih0aGlzLl9vcmllbnQpLGRyaWZ0OlYodGhpcy5fb25EcmFnTW92ZSx0aGlzLCJhbGwiKSxvbmRyYWdzdGFydDpWKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbmRyYWdlbmQ6Vih0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6Vih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25tb3VzZW91dDpWKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKX0pfSxlLnByb3RvdHlwZS5fcmVzZXRJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JhbmdlPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRQZXJjZW50UmFuZ2UoKSxlPXRoaXMuX2dldFZpZXdFeHRlbnQoKTt0aGlzLl9oYW5kbGVFbmRzPVtZaSh0WzBdLFswLDEwMF0sZSwhMCksWWkodFsxXSxbMCwxMDBdLGUsITApXX0sZS5wcm90b3R5cGUuX3VwZGF0ZUludGVydmFsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kYXRhWm9vbU1vZGVsLGk9dGhpcy5faGFuZGxlRW5kcyxyPXRoaXMuX2dldFZpZXdFeHRlbnQoKSxvPW4uZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCkuZ2V0TWluTWF4U3BhbigpLGE9WzAsMTAwXTtQRChlLGkscixuLmdldCgiem9vbUxvY2siKT8iYWxsIjp0LG51bGwhPW8ubWluU3Bhbj9ZaShvLm1pblNwYW4sYSxyLCEwKTpudWxsLG51bGwhPW8ubWF4U3Bhbj9ZaShvLm1heFNwYW4sYSxyLCEwKTpudWxsKTt2YXIgcz10aGlzLl9yYW5nZSxsPXRoaXMuX3JhbmdlPXFpKFtZaShpWzBdLHIsYSwhMCksWWkoaVsxXSxyLGEsITApXSk7cmV0dXJuIXN8fHNbMF0hPT1sWzBdfHxzWzFdIT09bFsxXX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLG49dGhpcy5faGFuZGxlRW5kcyxpPXFpKG4uc2xpY2UoKSkscj10aGlzLl9zaXplO1AoWzAsMV0sKGZ1bmN0aW9uKHQpe3ZhciBpPWUuaGFuZGxlc1t0XSxvPXRoaXMuX2hhbmRsZUhlaWdodDtpLmF0dHIoe3NjYWxlWDpvLzIsc2NhbGVZOm8vMix4Om5bdF0rKHQ/LTE6MSkseTpyWzFdLzItby8yfSl9KSx0aGlzKSxlLmZpbGxlci5zZXRTaGFwZSh7eDppWzBdLHk6MCx3aWR0aDppWzFdLWlbMF0saGVpZ2h0OnJbMV19KTt2YXIgbz17eDppWzBdLHdpZHRoOmlbMV0taVswXX07ZS5tb3ZlSGFuZGxlJiYoZS5tb3ZlSGFuZGxlLnNldFNoYXBlKG8pLGUubW92ZVpvbmUuc2V0U2hhcGUobyksZS5tb3ZlWm9uZS5nZXRCb3VuZGluZ1JlY3QoKSxlLm1vdmVIYW5kbGVJY29uJiZlLm1vdmVIYW5kbGVJY29uLmF0dHIoIngiLG8ueCtvLndpZHRoLzIpKTtmb3IodmFyIGE9ZS5kYXRhU2hhZG93U2VncyxzPVswLGlbMF0saVsxXSxyWzBdXSxsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciB1PWFbbF0saD11LmdldENsaXBQYXRoKCk7aHx8KGg9bmV3IGxzLHUuc2V0Q2xpcFBhdGgoaCkpLGguc2V0U2hhcGUoe3g6c1tsXSx5OjAsd2lkdGg6c1tsKzFdLXNbbF0saGVpZ2h0OnJbMV19KX10aGlzLl91cGRhdGVEYXRhSW5mbyh0KX0sZS5wcm90b3R5cGUuX3VwZGF0ZURhdGFJbmZvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YVpvb21Nb2RlbCxuPXRoaXMuX2Rpc3BsYXlhYmxlcyxpPW4uaGFuZGxlTGFiZWxzLHI9dGhpcy5fb3JpZW50LG89WyIiLCIiXTtpZihlLmdldCgic2hvd0RldGFpbCIpKXt2YXIgYT1lLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO2lmKGEpe3ZhciBzPWEuZ2V0QXhpc01vZGVsKCkuYXhpcyxsPXRoaXMuX3JhbmdlLHU9dD9hLmNhbGN1bGF0ZURhdGFXaW5kb3coe3N0YXJ0OmxbMF0sZW5kOmxbMV19KS52YWx1ZVdpbmRvdzphLmdldERhdGFWYWx1ZVdpbmRvdygpO289W3RoaXMuX2Zvcm1hdExhYmVsKHVbMF0scyksdGhpcy5fZm9ybWF0TGFiZWwodVsxXSxzKV19fXZhciBoPXFpKHRoaXMuX2hhbmRsZUVuZHMuc2xpY2UoKSk7ZnVuY3Rpb24gYyh0KXt2YXIgZT1qdShuLmhhbmRsZXNbdF0ucGFyZW50LHRoaXMuZ3JvdXApLGE9S3UoMD09PXQ/InJpZ2h0IjoibGVmdCIsZSkscz10aGlzLl9oYW5kbGVXaWR0aC8yKzUsbD1xdShbaFt0XSsoMD09PXQ/LXM6cyksdGhpcy5fc2l6ZVsxXS8yXSxlKTtpW3RdLnNldFN0eWxlKHt4OmxbMF0seTpsWzFdLHZlcnRpY2FsQWxpZ246cj09PUhWPyJtaWRkbGUiOmEsYWxpZ246cj09PUhWP2E6ImNlbnRlciIsdGV4dDpvW3RdfSl9Yy5jYWxsKHRoaXMsMCksYy5jYWxsKHRoaXMsMSl9LGUucHJvdG90eXBlLl9mb3JtYXRMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVpvb21Nb2RlbCxpPW4uZ2V0KCJsYWJlbEZvcm1hdHRlciIpLHI9bi5nZXQoImxhYmVsUHJlY2lzaW9uIik7bnVsbCE9ciYmImF1dG8iIT09cnx8KHI9ZS5nZXRQaXhlbFByZWNpc2lvbigpKTt2YXIgbz1udWxsPT10fHxpc05hTih0KT8iIjoiY2F0ZWdvcnkiPT09ZS50eXBlfHwidGltZSI9PT1lLnR5cGU/ZS5zY2FsZS5nZXRMYWJlbCh7dmFsdWU6TWF0aC5yb3VuZCh0KX0pOnQudG9GaXhlZChNYXRoLm1pbihyLDIwKSk7cmV0dXJuIEcoaSk/aSh0LG8pOkgoaSk/aS5yZXBsYWNlKCJ7dmFsdWV9IixvKTpvfSxlLnByb3RvdHlwZS5fc2hvd0RhdGFJbmZvPWZ1bmN0aW9uKHQpe3Q9dGhpcy5fZHJhZ2dpbmd8fHQ7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLG49ZS5oYW5kbGVMYWJlbHM7blswXS5hdHRyKCJpbnZpc2libGUiLCF0KSxuWzFdLmF0dHIoImludmlzaWJsZSIsIXQpLGUubW92ZUhhbmRsZSYmdGhpcy5hcGlbdD8iZW50ZXJFbXBoYXNpcyI6ImxlYXZlRW1waGFzaXMiXShlLm1vdmVIYW5kbGUsMSl9LGUucHJvdG90eXBlLl9vbkRyYWdNb3ZlPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2RyYWdnaW5nPSEwLGVlKGkuZXZlbnQpO3ZhciByPXF1KFtlLG5dLHRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKSxvPXRoaXMuX3VwZGF0ZUludGVydmFsKHQsclswXSksYT10aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJyZWFsdGltZSIpO3RoaXMuX3VwZGF0ZVZpZXcoIWEpLG8mJmEmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMCl9LGUucHJvdG90eXBlLl9vbkRyYWdFbmQ9ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9zaG93RGF0YUluZm8oITEpLCF0aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJyZWFsdGltZSIpJiZ0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oITEpfSxlLnByb3RvdHlwZS5fb25DbGlja1BhbmVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NpemUsbj10aGlzLl9kaXNwbGF5YWJsZXMuc2xpZGVyR3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpO2lmKCEoblswXTwwfHxuWzBdPmVbMF18fG5bMV08MHx8blsxXT5lWzFdKSl7dmFyIGk9dGhpcy5faGFuZGxlRW5kcyxyPShpWzBdK2lbMV0pLzIsbz10aGlzLl91cGRhdGVJbnRlcnZhbCgiYWxsIixuWzBdLXIpO3RoaXMuX3VwZGF0ZVZpZXcoKSxvJiZ0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oITEpfX0sZS5wcm90b3R5cGUuX29uQnJ1c2hTdGFydD1mdW5jdGlvbih0KXt2YXIgZT10Lm9mZnNldFgsbj10Lm9mZnNldFk7dGhpcy5fYnJ1c2hTdGFydD1uZXcgYWkoZSxuKSx0aGlzLl9icnVzaGluZz0hMCx0aGlzLl9icnVzaFN0YXJ0VGltZT0rbmV3IERhdGV9LGUucHJvdG90eXBlLl9vbkJydXNoRW5kPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2JydXNoaW5nKXt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMuYnJ1c2hSZWN0O2lmKHRoaXMuX2JydXNoaW5nPSExLGUpe2UuYXR0cigiaWdub3JlIiwhMCk7dmFyIG49ZS5zaGFwZTtpZighKCtuZXcgRGF0ZS10aGlzLl9icnVzaFN0YXJ0VGltZTwyMDAmJk1hdGguYWJzKG4ud2lkdGgpPDUpKXt2YXIgaT10aGlzLl9nZXRWaWV3RXh0ZW50KCkscj1bMCwxMDBdO3RoaXMuX3JhbmdlPXFpKFtZaShuLngsaSxyLCEwKSxZaShuLngrbi53aWR0aCxpLHIsITApXSksdGhpcy5faGFuZGxlRW5kcz1bbi54LG4ueCtuLndpZHRoXSx0aGlzLl91cGRhdGVWaWV3KCksdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCExKX19fX0sZS5wcm90b3R5cGUuX29uQnJ1c2g9ZnVuY3Rpb24odCl7dGhpcy5fYnJ1c2hpbmcmJihlZSh0LmV2ZW50KSx0aGlzLl91cGRhdGVCcnVzaFJlY3QodC5vZmZzZXRYLHQub2Zmc2V0WSkpfSxlLnByb3RvdHlwZS5fdXBkYXRlQnJ1c2hSZWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZGlzcGxheWFibGVzLGk9dGhpcy5kYXRhWm9vbU1vZGVsLHI9bi5icnVzaFJlY3Q7cnx8KHI9bi5icnVzaFJlY3Q9bmV3IEdWKHtzaWxlbnQ6ITAsc3R5bGU6aS5nZXRNb2RlbCgiYnJ1c2hTdHlsZSIpLmdldEl0ZW1TdHlsZSgpfSksbi5zbGlkZXJHcm91cC5hZGQocikpLHIuYXR0cigiaWdub3JlIiwhMSk7dmFyIG89dGhpcy5fYnJ1c2hTdGFydCxhPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cCxzPWEudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSksbD1hLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChvLngsby55KSx1PXRoaXMuX3NpemU7c1swXT1NYXRoLm1heChNYXRoLm1pbih1WzBdLHNbMF0pLDApLHIuc2V0U2hhcGUoe3g6bFswXSx5OjAsd2lkdGg6c1swXS1sWzBdLGhlaWdodDp1WzFdfSl9LGUucHJvdG90eXBlLl9kaXNwYXRjaFpvb21BY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmFuZ2U7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRhdGFab29tIixmcm9tOnRoaXMudWlkLGRhdGFab29tSWQ6dGhpcy5kYXRhWm9vbU1vZGVsLmlkLGFuaW1hdGlvbjp0P1hWOm51bGwsc3RhcnQ6ZVswXSxlbmQ6ZVsxXX0pfSxlLnByb3RvdHlwZS5fZmluZENvb3JkUmVjdD1mdW5jdGlvbigpe3ZhciB0LGU9eE4odGhpcy5kYXRhWm9vbU1vZGVsKS5pbmZvTGlzdDtpZighdCYmZS5sZW5ndGgpe3ZhciBuPWVbMF0ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbTt0PW4uZ2V0UmVjdCYmbi5nZXRSZWN0KCl9aWYoIXQpe3ZhciBpPXRoaXMuYXBpLmdldFdpZHRoKCkscj10aGlzLmFwaS5nZXRIZWlnaHQoKTt0PXt4Oi4yKmkseTouMipyLHdpZHRoOi42KmksaGVpZ2h0Oi42KnJ9fXJldHVybiB0fSxlLnR5cGU9ImRhdGFab29tLnNsaWRlciIsZX0oSU4pO2Z1bmN0aW9uIFpWKHQpe3JldHVybiJ2ZXJ0aWNhbCI9PT10PyJucy1yZXNpemUiOiJldy1yZXNpemUifWZ1bmN0aW9uIGpWKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChGViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoWVYpLFBOKHQpfXZhciBxVj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dygoS1ZbdF18fHt9KVtlXSk7cmV0dXJuIG4mJkYoaSk/aVtpLmxlbmd0aC0xXTppfSxLVj17Y29sb3I6e2FjdGl2ZTpbIiMwMDZlZGQiLCIjZTBmZmZmIl0saW5hY3RpdmU6WyJyZ2JhKDAsMCwwLDApIl19LGNvbG9ySHVlOnthY3RpdmU6WzAsMzYwXSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JTYXR1cmF0aW9uOnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxjb2xvckxpZ2h0bmVzczp7YWN0aXZlOlsuOSwuNV0saW5hY3RpdmU6WzAsMF19LGNvbG9yQWxwaGE6e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LG9wYWNpdHk6e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LHN5bWJvbDp7YWN0aXZlOlsiY2lyY2xlIiwicm91bmRSZWN0IiwiZGlhbW9uZCJdLGluYWN0aXZlOlsibm9uZSJdfSxzeW1ib2xTaXplOnthY3RpdmU6WzEwLDUwXSxpbmFjdGl2ZTpbMCwwXX19LCRWPVRULm1hcFZpc3VhbCxKVj1UVC5lYWNoVmlzdWFsLFFWPUYsdEI9UCxlQj1xaSxuQj1ZaSxpQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uc3RhdGVMaXN0PVsiaW5SYW5nZSIsIm91dE9mUmFuZ2UiXSxuLnJlcGxhY2FibGVPcHRpb25LZXlzPVsiaW5SYW5nZSIsIm91dE9mUmFuZ2UiLCJ0YXJnZXQiLCJjb250cm9sbGVyIiwiY29sb3IiXSxuLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sbi5kYXRhQm91bmQ9Wy0xLzAsMS8wXSxuLnRhcmdldFZpc3VhbHM9e30sbi5jb250cm9sbGVyVmlzdWFscz17fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb247YS5jYW52YXNTdXBwb3J0ZWR8fChuLnJlYWx0aW1lPSExKSwhZSYmSnoobix0LHRoaXMucmVwbGFjYWJsZU9wdGlvbktleXMpLHRoaXMudGV4dFN0eWxlTW9kZWw9dGhpcy5nZXRNb2RlbCgidGV4dFN0eWxlIiksdGhpcy5yZXNldEl0ZW1TaXplKCksdGhpcy5jb21wbGV0ZVZpc3VhbE9wdGlvbigpfSxlLnByb3RvdHlwZS5yZXNldFZpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlTGlzdDt0PVYodCx0aGlzKSx0aGlzLmNvbnRyb2xsZXJWaXN1YWxzPSR6KHRoaXMub3B0aW9uLmNvbnRyb2xsZXIsZSx0KSx0aGlzLnRhcmdldFZpc3VhbHM9JHoodGhpcy5vcHRpb24udGFyZ2V0LGUsdCl9LGUucHJvdG90eXBlLmdldEl0ZW1TeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0U2VyaWVzSW5kaWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnNlcmllc0luZGV4LGU9W107cmV0dXJuIG51bGw9PXR8fCJhbGwiPT09dD90aGlzLmVjTW9kZWwuZWFjaFNlcmllcygoZnVuY3Rpb24odCxuKXtlLnB1c2gobil9KSk6ZT14cih0KSxlfSxlLnByb3RvdHlwZS5lYWNoVGFyZ2V0U2VyaWVzPWZ1bmN0aW9uKHQsZSl7UCh0aGlzLmdldFRhcmdldFNlcmllc0luZGljZXMoKSwoZnVuY3Rpb24obil7dmFyIGk9dGhpcy5lY01vZGVsLmdldFNlcmllc0J5SW5kZXgobik7aSYmdC5jYWxsKGUsaSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuaXNUYXJnZXRTZXJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9ITE7cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24obil7bj09PXQmJihlPSEwKX0pKSxlfSxlLnByb3RvdHlwZS5mb3JtYXRWYWx1ZVRleHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI9dGhpcy5vcHRpb24sbz1yLnByZWNpc2lvbixhPXRoaXMuZGF0YUJvdW5kLHM9ci5mb3JtYXR0ZXI7bj1ufHxbIjwiLCI+Il0sRih0KSYmKHQ9dC5zbGljZSgpLGk9ITApO3ZhciBsPWU/dDppP1t1KHRbMF0pLHUodFsxXSldOnUodCk7cmV0dXJuIEgocyk/cy5yZXBsYWNlKCJ7dmFsdWV9IixpP2xbMF06bCkucmVwbGFjZSgie3ZhbHVlMn0iLGk/bFsxXTpsKTpHKHMpP2k/cyh0WzBdLHRbMV0pOnModCk6aT90WzBdPT09YVswXT9uWzBdKyIgIitsWzFdOnRbMV09PT1hWzFdP25bMV0rIiAiK2xbMF06bFswXSsiIC0gIitsWzFdOmw7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdD09PWFbMF0/Im1pbiI6dD09PWFbMV0/Im1heCI6KCt0KS50b0ZpeGVkKE1hdGgubWluKG8sMjApKX19LGUucHJvdG90eXBlLnJlc2V0RXh0ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT1lQihbdC5taW4sdC5tYXhdKTt0aGlzLl9kYXRhRXh0ZW50PWV9LGUucHJvdG90eXBlLmdldERhdGFEaW1lbnNpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uZGltZW5zaW9uLG49dC5kaW1lbnNpb25zO2lmKG51bGwhPWV8fG4ubGVuZ3RoKXtpZihudWxsIT1lKXJldHVybiB0LmdldERpbWVuc2lvbihlKTtmb3IodmFyIGk9dC5kaW1lbnNpb25zLHI9aS5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIG89aVtyXTtpZighdC5nZXREaW1lbnNpb25JbmZvKG8pLmlzQ2FsY3VsYXRpb25Db29yZClyZXR1cm4gb319fSxlLnByb3RvdHlwZS5nZXRFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUV4dGVudC5zbGljZSgpfSxlLnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWNNb2RlbCxlPXRoaXMub3B0aW9uLG49e2luUmFuZ2U6ZS5pblJhbmdlLG91dE9mUmFuZ2U6ZS5vdXRPZlJhbmdlfSxpPWUudGFyZ2V0fHwoZS50YXJnZXQ9e30pLHI9ZS5jb250cm9sbGVyfHwoZS5jb250cm9sbGVyPXt9KTtTKGksbiksUyhyLG4pO3ZhciBvPXRoaXMuaXNDYXRlZ29yeSgpO2Z1bmN0aW9uIGEobil7UVYoZS5jb2xvcikmJiFuLmluUmFuZ2UmJihuLmluUmFuZ2U9e2NvbG9yOmUuY29sb3Iuc2xpY2UoKS5yZXZlcnNlKCl9KSxuLmluUmFuZ2U9bi5pblJhbmdlfHx7Y29sb3I6dC5nZXQoImdyYWRpZW50Q29sb3IiKX19YS5jYWxsKHRoaXMsaSksYS5jYWxsKHRoaXMsciksZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbZV0scj10W25dO2kmJiFyJiYocj10W25dPXt9LHRCKGksKGZ1bmN0aW9uKHQsZSl7aWYoVFQuaXNWYWxpZFR5cGUoZSkpe3ZhciBuPXFWKGUsImluYWN0aXZlIixvKTtudWxsIT1uJiYocltlXT1uLCJjb2xvciIhPT1lfHxyLmhhc093blByb3BlcnR5KCJvcGFjaXR5Iil8fHIuaGFzT3duUHJvcGVydHkoImNvbG9yQWxwaGEiKXx8KHIub3BhY2l0eT1bMCwwXSkpfX0pKSl9LmNhbGwodGhpcyxpLCJpblJhbmdlIiwib3V0T2ZSYW5nZSIpLGZ1bmN0aW9uKHQpe3ZhciBlPSh0LmluUmFuZ2V8fHt9KS5zeW1ib2x8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2wsbj0odC5pblJhbmdlfHx7fSkuc3ltYm9sU2l6ZXx8KHQub3V0T2ZSYW5nZXx8e30pLnN5bWJvbFNpemUsaT10aGlzLmdldCgiaW5hY3RpdmVDb2xvciIpLHI9dGhpcy5nZXRJdGVtU3ltYm9sKCl8fCJyb3VuZFJlY3QiO3RCKHRoaXMuc3RhdGVMaXN0LChmdW5jdGlvbihhKXt2YXIgcz10aGlzLml0ZW1TaXplLGw9dFthXTtsfHwobD10W2FdPXtjb2xvcjpvP2k6W2ldfSksbnVsbD09bC5zeW1ib2wmJihsLnN5bWJvbD1lJiZ3KGUpfHwobz9yOltyXSkpLG51bGw9PWwuc3ltYm9sU2l6ZSYmKGwuc3ltYm9sU2l6ZT1uJiZ3KG4pfHwobz9zWzBdOltzWzBdLHNbMF1dKSksbC5zeW1ib2w9JFYobC5zeW1ib2wsKGZ1bmN0aW9uKHQpe3JldHVybiJub25lIj09PXQ/cjp0fSkpO3ZhciB1PWwuc3ltYm9sU2l6ZTtpZihudWxsIT11KXt2YXIgaD0tMS8wO0pWKHUsKGZ1bmN0aW9uKHQpe3Q+aCYmKGg9dCl9KSksbC5zeW1ib2xTaXplPSRWKHUsKGZ1bmN0aW9uKHQpe3JldHVybiBuQih0LFswLGhdLFswLHNbMF1dLCEwKX0pKX19KSx0aGlzKX0uY2FsbCh0aGlzLHIpfSxlLnByb3RvdHlwZS5yZXNldEl0ZW1TaXplPWZ1bmN0aW9uKCl7dGhpcy5pdGVtU2l6ZT1bcGFyc2VGbG9hdCh0aGlzLmdldCgiaXRlbVdpZHRoIikpLHBhcnNlRmxvYXQodGhpcy5nZXQoIml0ZW1IZWlnaHQiKSldfSxlLnByb3RvdHlwZS5pc0NhdGVnb3J5PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZpc3VhbE1ldGE9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUudHlwZT0idmlzdWFsTWFwIixlLmRlcGVuZGVuY2llcz1bInNlcmllcyJdLGUuZGVmYXVsdE9wdGlvbj17c2hvdzohMCx6bGV2ZWw6MCx6OjQsc2VyaWVzSW5kZXg6ImFsbCIsbWluOjAsbWF4OjIwMCxsZWZ0OjAscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206MCxpdGVtV2lkdGg6bnVsbCxpdGVtSGVpZ2h0Om51bGwsaW52ZXJzZTohMSxvcmllbnQ6InZlcnRpY2FsIixiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlckNvbG9yOiIjY2NjIixjb250ZW50Q29sb3I6IiM1NzkzZjMiLGluYWN0aXZlQ29sb3I6IiNhYWEiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LHRleHRHYXA6MTAscHJlY2lzaW9uOjAsdGV4dFN0eWxlOntjb2xvcjoiIzMzMyJ9fSxlfShYYyksckI9WzIwLDE0MF0sb0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRFeHRlbnQoKSx0aGlzLnJlc2V0VmlzdWFsKChmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9ImxpbmVhciIsdC5kYXRhRXh0ZW50PXRoaXMuZ2V0RXh0ZW50KCl9KSksdGhpcy5fcmVzZXRSYW5nZSgpfSxlLnByb3RvdHlwZS5yZXNldEl0ZW1TaXplPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVzZXRJdGVtU2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5pdGVtU2l6ZTsobnVsbD09ZVswXXx8aXNOYU4oZVswXSkpJiYoZVswXT1yQlswXSksKG51bGw9PWVbMV18fGlzTmFOKGVbMV0pKSYmKGVbMV09ckJbMV0pfSxlLnByb3RvdHlwZS5fcmVzZXRSYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT10aGlzLm9wdGlvbi5yYW5nZTshZXx8ZS5hdXRvPyh0LmF1dG89MSx0aGlzLm9wdGlvbi5yYW5nZT10KTpGKGUpJiYoZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlWzBdPU1hdGgubWF4KGVbMF0sdFswXSksZVsxXT1NYXRoLm1pbihlWzFdLHRbMV0pKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksUCh0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uY29udHJvbGxlclt0XS5zeW1ib2xTaXplO2UmJmVbMF0hPT1lWzFdJiYoZVswXT1lWzFdLzMpfSksdGhpcyl9LGUucHJvdG90eXBlLnNldFNlbGVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnJhbmdlPXQuc2xpY2UoKSx0aGlzLl9yZXNldFJhbmdlKCl9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKSxlPXFpKCh0aGlzLmdldCgicmFuZ2UiKXx8W10pLnNsaWNlKCkpO3JldHVybiBlWzBdPnRbMV0mJihlWzBdPXRbMV0pLGVbMV0+dFsxXSYmKGVbMV09dFsxXSksZVswXTx0WzBdJiYoZVswXT10WzBdKSxlWzFdPHRbMF0mJihlWzFdPXRbMF0pLGV9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24ucmFuZ2Usbj10aGlzLmdldEV4dGVudCgpO3JldHVybihlWzBdPD1uWzBdfHxlWzBdPD10KSYmKGVbMV0+PW5bMV18fHQ8PWVbMV0pPyJpblJhbmdlIjoib3V0T2ZSYW5nZSJ9LGUucHJvdG90eXBlLmZpbmRUYXJnZXREYXRhSW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihuKXt2YXIgaT1bXSxyPW4uZ2V0RGF0YSgpO3IuZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb24ociksKGZ1bmN0aW9uKGUsbil7dFswXTw9ZSYmZTw9dFsxXSYmaS5wdXNoKG4pfSksdGhpcyksZS5wdXNoKHtzZXJpZXNJZDpuLmlkLGRhdGFJbmRleDppfSl9KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe3ZhciBlPWFCKHRoaXMsIm91dE9mUmFuZ2UiLHRoaXMuZ2V0RXh0ZW50KCkpLG49YUIodGhpcywiaW5SYW5nZSIsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksaT1bXTtmdW5jdGlvbiByKGUsbil7aS5wdXNoKHt2YWx1ZTplLGNvbG9yOnQoZSxuKX0pfWZvcih2YXIgbz0wLGE9MCxzPW4ubGVuZ3RoLGw9ZS5sZW5ndGg7YTxsJiYoIW4ubGVuZ3RofHxlW2FdPD1uWzBdKTthKyspZVthXTxuW29dJiZyKGVbYV0sIm91dE9mUmFuZ2UiKTtmb3IodmFyIHU9MTtvPHM7bysrLHU9MCl1JiZpLmxlbmd0aCYmcihuW29dLCJvdXRPZlJhbmdlIikscihuW29dLCJpblJhbmdlIik7Zm9yKHU9MTthPGw7YSsrKSghbi5sZW5ndGh8fG5bbi5sZW5ndGgtMV08ZVthXSkmJih1JiYoaS5sZW5ndGgmJnIoaVtpLmxlbmd0aC0xXS52YWx1ZSwib3V0T2ZSYW5nZSIpLHU9MCkscihlW2FdLCJvdXRPZlJhbmdlIikpO3ZhciBoPWkubGVuZ3RoO3JldHVybntzdG9wczppLG91dGVyQ29sb3JzOltoP2lbMF0uY29sb3I6InRyYW5zcGFyZW50IixoP2lbaC0xXS5jb2xvcjoidHJhbnNwYXJlbnQiXX19LGUudHlwZT0idmlzdWFsTWFwLmNvbnRpbnVvdXMiLGUuZGVmYXVsdE9wdGlvbj16aChpQi5kZWZhdWx0T3B0aW9uLHthbGlnbjoiYXV0byIsY2FsY3VsYWJsZTohMSxob3Zlckxpbms6ITAscmVhbHRpbWU6ITAsaGFuZGxlSWNvbjoicGF0aDovL00tMTEuMzksOS43N2gwYTMuNSwzLjUsMCwwLDEtMy41LDMuNWgtMjJhMy41LDMuNSwwLDAsMS0zLjUtMy41aDBhMy41LDMuNSwwLDAsMSwzLjUtMy41aDIyQTMuNSwzLjUsMCwwLDEtMTEuMzksOS43N1oiLGhhbmRsZVNpemU6IjEyMCUiLGhhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0saW5kaWNhdG9ySWNvbjoiY2lyY2xlIixpbmRpY2F0b3JTaXplOiI1MCUiLGluZGljYXRvclN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjIsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjIpIn19KSxlfShpQik7ZnVuY3Rpb24gYUIodCxlLG4pe2lmKG5bMF09PT1uWzFdKXJldHVybiBuLnNsaWNlKCk7Zm9yKHZhciBpPShuWzFdLW5bMF0pLzIwMCxyPW5bMF0sbz1bXSxhPTA7YTw9MjAwJiZyPG5bMV07YSsrKW8ucHVzaChyKSxyKz1pO3JldHVybiBvLnB1c2goblsxXSksb312YXIgc0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF1dG9Qb3NpdGlvblZhbHVlcz17bGVmdDoxLHJpZ2h0OjEsdG9wOjEsYm90dG9tOjF9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMudmlzdWFsTWFwTW9kZWw9dCwhMSE9PXQuZ2V0KCJzaG93Iik/dGhpcy5kb1JlbmRlcih0LGUsbixpKTp0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj13YyhlLmdldCgicGFkZGluZyIpfHwwKSxpPXQuZ2V0Qm91bmRpbmdSZWN0KCk7dC5hZGQobmV3IGxzKHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6aS54LW5bM10seTppLnktblswXSx3aWR0aDppLndpZHRoK25bM10rblsxXSxoZWlnaHQ6aS5oZWlnaHQrblswXStuWzJdfSxzdHlsZTp7ZmlsbDplLmdldCgiYmFja2dyb3VuZENvbG9yIiksc3Ryb2tlOmUuZ2V0KCJib3JkZXJDb2xvciIpLGxpbmVXaWR0aDplLmdldCgiYm9yZGVyV2lkdGgiKX19KSl9LGUucHJvdG90eXBlLmdldENvbnRyb2xsZXJWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPShuPW58fHt9KS5mb3JjZVN0YXRlLHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXt9O2lmKCJjb2xvciI9PT1lKXt2YXIgYT1yLmdldCgiY29udGVudENvbG9yIik7by5jb2xvcj1hfWZ1bmN0aW9uIHModCl7cmV0dXJuIG9bdF19ZnVuY3Rpb24gbCh0LGUpe29bdF09ZX12YXIgdT1yLmNvbnRyb2xsZXJWaXN1YWxzW2l8fHIuZ2V0VmFsdWVTdGF0ZSh0KV07cmV0dXJuIFAoVFQucHJlcGFyZVZpc3VhbFR5cGVzKHUpLChmdW5jdGlvbihpKXt2YXIgcj11W2ldO24uY29udmVydE9wYWNpdHlUb0FscGhhJiYib3BhY2l0eSI9PT1pJiYoaT0iY29sb3JBbHBoYSIscj11Ll9fYWxwaGFGb3JPcGFjaXR5KSxUVC5kZXBlbmRzT24oaSxlKSYmciYmci5hcHBseVZpc3VhbCh0LHMsbCl9KSksb1tlXX0sZS5wcm90b3R5cGUucG9zaXRpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5hcGk7QmModCxlLmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KX0sZS5wcm90b3R5cGUuZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7fSxlLnR5cGU9InZpc3VhbE1hcCIsZX0od2YpLGxCPVtbImxlZnQiLCJyaWdodCIsIndpZHRoIl0sWyJ0b3AiLCJib3R0b20iLCJoZWlnaHQiXV07ZnVuY3Rpb24gdUIodCxlLG4pe3ZhciBpPXQub3B0aW9uLHI9aS5hbGlnbjtpZihudWxsIT1yJiYiYXV0byIhPT1yKXJldHVybiByO2Zvcih2YXIgbz17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxhPSJob3Jpem9udGFsIj09PWkub3JpZW50PzE6MCxzPWxCW2FdLGw9WzAsbnVsbCwxMF0sdT17fSxoPTA7aDwzO2grKyl1W2xCWzEtYV1baF1dPWxbaF0sdVtzW2hdXT0yPT09aD9uWzBdOmlbc1toXV07dmFyIGM9W1sieCIsIndpZHRoIiwzXSxbInkiLCJoZWlnaHQiLDBdXVthXSxwPVZjKHUsbyxpLnBhZGRpbmcpO3JldHVybiBzWyhwLm1hcmdpbltjWzJdXXx8MCkrcFtjWzBdXSsuNSpwW2NbMV1dPC41Km9bY1sxXV0/MDoxXX1mdW5jdGlvbiBoQih0LGUpe3JldHVybiBQKHR8fFtdLChmdW5jdGlvbih0KXtudWxsIT10LmRhdGFJbmRleCYmKHQuZGF0YUluZGV4SW5zaWRlPXQuZGF0YUluZGV4LHQuZGF0YUluZGV4PW51bGwpLHQuaGlnaGxpZ2h0S2V5PSJ2aXN1YWxNYXAiKyhlP2UuY29tcG9uZW50SW5kZXg6IiIpfSkpLHR9dmFyIGNCPVlpLHBCPVAsZEI9TWF0aC5taW4sZkI9TWF0aC5tYXgsZ0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9zaGFwZXM9e30sbi5fZGF0YUludGVydmFsPVtdLG4uX2hhbmRsZUVuZHM9W10sbi5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRvUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FwaT1uLGkmJiJzZWxlY3REYXRhUmFuZ2UiPT09aS50eXBlJiZpLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCl9LGUucHJvdG90eXBlLl9idWlsZFZpZXc9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLmdyb3VwO3RoaXMuX29yaWVudD10LmdldCgib3JpZW50IiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KCJjYWxjdWxhYmxlIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgbj10LmdldCgidGV4dCIpO3RoaXMuX3JlbmRlckVuZHNUZXh0KGUsbiwwKSx0aGlzLl9yZW5kZXJFbmRzVGV4dChlLG4sMSksdGhpcy5fdXBkYXRlVmlldyghMCksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGUpLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtUb1NlcmllcygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LGUucHJvdG90eXBlLl9yZW5kZXJFbmRzVGV4dD1mdW5jdGlvbih0LGUsbil7aWYoZSl7dmFyIGk9ZVsxLW5dO2k9bnVsbCE9aT9pKyIiOiIiO3ZhciByPXRoaXMudmlzdWFsTWFwTW9kZWwsbz1yLmdldCgidGV4dEdhcCIpLGE9ci5pdGVtU2l6ZSxzPXRoaXMuX3NoYXBlcy5tYWluR3JvdXAsbD10aGlzLl9hcHBseVRyYW5zZm9ybShbYVswXS8yLDA9PT1uPy1vOmFbMV0rb10scyksdT10aGlzLl9hcHBseVRyYW5zZm9ybSgwPT09bj8iYm90dG9tIjoidG9wIixzKSxoPXRoaXMuX29yaWVudCxjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7dGhpcy5ncm91cC5hZGQobmV3IGNzKHtzdHlsZTp7eDpsWzBdLHk6bFsxXSx2ZXJ0aWNhbEFsaWduOiJob3Jpem9udGFsIj09PWg/Im1pZGRsZSI6dSxhbGlnbjoiaG9yaXpvbnRhbCI9PT1oP3U6ImNlbnRlciIsdGV4dDppLGZvbnQ6Yy5nZXRGb250KCksZmlsbDpjLmdldFRleHRDb2xvcigpfX0pKX19LGUucHJvdG90eXBlLl9yZW5kZXJCYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPXRoaXMuX3NoYXBlcyxpPWUuaXRlbVNpemUscj10aGlzLl9vcmllbnQsbz10aGlzLl91c2VIYW5kbGUsYT11QihlLHRoaXMuYXBpLGkpLHM9bi5tYWluR3JvdXA9dGhpcy5fY3JlYXRlQmFyR3JvdXAoYSksbD1uZXcgRWk7cy5hZGQobCksbC5hZGQobi5vdXRPZlJhbmdlPXlCKCkpLGwuYWRkKG4uaW5SYW5nZT15QihudWxsLG8/bUIodGhpcy5fb3JpZW50KTpudWxsLFYodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLCJhbGwiLCExKSxWKHRoaXMuX2RyYWdIYW5kbGUsdGhpcywiYWxsIiwhMCkpKSxsLnNldENsaXBQYXRoKG5ldyBscyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxyOjN9fSkpO3ZhciB1PWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoIuWbvSIpLGg9ZkIodS53aWR0aCx1LmhlaWdodCk7byYmKG4uaGFuZGxlVGh1bWJzPVtdLG4uaGFuZGxlTGFiZWxzPVtdLG4uaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKGUscywwLGksaCxyKSx0aGlzLl9jcmVhdGVIYW5kbGUoZSxzLDEsaSxoLHIpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IoZSxzLGksaCxyKSx0LmFkZChzKX0sZS5wcm90b3R5cGUuX2NyZWF0ZUhhbmRsZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9Vih0aGlzLl9kcmFnSGFuZGxlLHRoaXMsbiwhMSkscz1WKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxuLCEwKSxsPUlpKHQuZ2V0KCJoYW5kbGVTaXplIiksaVswXSksdT1meSh0LmdldCgiaGFuZGxlSWNvbiIpLC1sLzIsLWwvMixsLGwsbnVsbCwhMCksaD1tQih0aGlzLl9vcmllbnQpO3UuYXR0cih7Y3Vyc29yOmgsZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25kcmFnZW5kOnMsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7ZWUodC5ldmVudCl9fSksdS54PWlbMF0vMix1LnVzZVN0eWxlKHQuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHUuc2V0U3R5bGUoe3N0cm9rZU5vU2NhbGU6ITAsc3Ryb2tlRmlyc3Q6ITB9KSx1LnN0eWxlLmxpbmVXaWR0aCo9Mix1LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXQuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImhhbmRsZVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHBsKHUsITApLGUuYWRkKHUpO3ZhciBjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWwscD1uZXcgY3Moe2N1cnNvcjpoLGRyYWdnYWJsZTohMCxkcmlmdDphLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2VlKHQuZXZlbnQpfSxvbmRyYWdlbmQ6cyxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLGZvbnQ6Yy5nZXRGb250KCksZmlsbDpjLmdldFRleHRDb2xvcigpfX0pO3AuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT17b3BhY2l0eTouMX0scC5zdGF0ZVRyYW5zaXRpb249e2R1cmF0aW9uOjIwMH0sdGhpcy5ncm91cC5hZGQocCk7dmFyIGQ9W2wsMF0sZj10aGlzLl9zaGFwZXM7Zi5oYW5kbGVUaHVtYnNbbl09dSxmLmhhbmRsZUxhYmVsUG9pbnRzW25dPWQsZi5oYW5kbGVMYWJlbHNbbl09cH0sZS5wcm90b3R5cGUuX2NyZWF0ZUluZGljYXRvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPUlpKHQuZ2V0KCJpbmRpY2F0b3JTaXplIiksblswXSksYT1meSh0LmdldCgiaW5kaWNhdG9ySWNvbiIpLC1vLzIsLW8vMixvLG8sbnVsbCwhMCk7YS5hdHRyKHtjdXJzb3I6Im1vdmUiLGludmlzaWJsZTohMCxzaWxlbnQ6ITAseDpuWzBdLzJ9KTt2YXIgcz10LmdldE1vZGVsKCJpbmRpY2F0b3JTdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2lmKGEgaW5zdGFuY2VvZiBlcyl7dmFyIGw9YS5zdHlsZTthLnVzZVN0eWxlKEkoe2ltYWdlOmwuaW1hZ2UseDpsLngseTpsLnksd2lkdGg6bC53aWR0aCxoZWlnaHQ6bC5oZWlnaHR9LHMpKX1lbHNlIGEudXNlU3R5bGUocyk7ZS5hZGQoYSk7dmFyIHU9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxoPW5ldyBjcyh7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLGZvbnQ6dS5nZXRGb250KCksZmlsbDp1LmdldFRleHRDb2xvcigpfX0pO3RoaXMuZ3JvdXAuYWRkKGgpO3ZhciBjPVsoImhvcml6b250YWwiPT09cj9pLzI6NikrblswXS8yLDBdLHA9dGhpcy5fc2hhcGVzO3AuaW5kaWNhdG9yPWEscC5pbmRpY2F0b3JMYWJlbD1oLHAuaW5kaWNhdG9yTGFiZWxQb2ludD1jLHRoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMH0sZS5wcm90b3R5cGUuX2RyYWdIYW5kbGU9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fdXNlSGFuZGxlKXtpZih0aGlzLl9kcmFnZ2luZz0hZSwhZSl7dmFyIHI9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW24saV0sdGhpcy5fc2hhcGVzLm1haW5Hcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxyWzFdKSx0aGlzLl9oaWRlSW5kaWNhdG9yKCksdGhpcy5fdXBkYXRlVmlldygpfWU9PT0hdGhpcy52aXN1YWxNYXBNb2RlbC5nZXQoInJlYWx0aW1lIikmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDp0aGlzLl9kYXRhSW50ZXJ2YWwuc2xpY2UoKX0pLGU/IXRoaXMuX2hvdmVyaW5nJiZ0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCk6dkIodGhpcy52aXN1YWxNYXBNb2RlbCkmJnRoaXMuX2RvSG92ZXJMaW5rVG9TZXJpZXModGhpcy5faGFuZGxlRW5kc1t0XSwhMSl9fSxlLnByb3RvdHlwZS5fcmVzZXRJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLl9kYXRhSW50ZXJ2YWw9dC5nZXRTZWxlY3RlZCgpLG49dC5nZXRFeHRlbnQoKSxpPVswLHQuaXRlbVNpemVbMV1dO3RoaXMuX2hhbmRsZUVuZHM9W2NCKGVbMF0sbixpLCEwKSxjQihlWzFdLG4saSwhMCldfSxlLnByb3RvdHlwZS5fdXBkYXRlSW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXtlPWV8fDA7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX2hhbmRsZUVuZHMscj1bMCxuLml0ZW1TaXplWzFdXTtQRChlLGkscix0LDApO3ZhciBvPW4uZ2V0RXh0ZW50KCk7dGhpcy5fZGF0YUludGVydmFsPVtjQihpWzBdLHIsbywhMCksY0IoaVsxXSxyLG8sITApXX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUuZ2V0RXh0ZW50KCksaT10aGlzLl9zaGFwZXMscj1bMCxlLml0ZW1TaXplWzFdXSxvPXQ/cjp0aGlzLl9oYW5kbGVFbmRzLGE9dGhpcy5fY3JlYXRlQmFyVmlzdWFsKHRoaXMuX2RhdGFJbnRlcnZhbCxuLG8sImluUmFuZ2UiKSxzPXRoaXMuX2NyZWF0ZUJhclZpc3VhbChuLG4sciwib3V0T2ZSYW5nZSIpO2kuaW5SYW5nZS5zZXRTdHlsZSh7ZmlsbDphLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIsYS5iYXJQb2ludHMpLGkub3V0T2ZSYW5nZS5zZXRTdHlsZSh7ZmlsbDpzLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIscy5iYXJQb2ludHMpLHRoaXMuX3VwZGF0ZUhhbmRsZShvLGEpfSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXtmb3JjZVN0YXRlOmksY29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxvPXRoaXMuX21ha2VDb2xvckdyYWRpZW50KHQsciksYT1bdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sInN5bWJvbFNpemUiLHIpLHRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJzeW1ib2xTaXplIixyKV0scz10aGlzLl9jcmVhdGVCYXJQb2ludHMobixhKTtyZXR1cm57YmFyQ29sb3I6bmV3IG11KDAsMCwwLDEsbyksYmFyUG9pbnRzOnMsaGFuZGxlc0NvbG9yOltvWzBdLmNvbG9yLG9bby5sZW5ndGgtMV0uY29sb3JdfX0sZS5wcm90b3R5cGUuX21ha2VDb2xvckdyYWRpZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT0odFsxXS10WzBdKS8xMDA7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFswXSwiY29sb3IiLGUpLG9mZnNldDowfSk7Zm9yKHZhciByPTE7cjwxMDA7cisrKXt2YXIgbz10WzBdK2kqcjtpZihvPnRbMV0pYnJlYWs7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwobywiY29sb3IiLGUpLG9mZnNldDpyLzEwMH0pfXJldHVybiBuLnB1c2goe2NvbG9yOnRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJjb2xvciIsZSksb2Zmc2V0OjF9KSxufSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbC5pdGVtU2l6ZTtyZXR1cm5bW25bMF0tZVswXSx0WzBdXSxbblswXSx0WzBdXSxbblswXSx0WzFdXSxbblswXS1lWzFdLHRbMV1dXX0sZS5wcm90b3R5cGUuX2NyZWF0ZUJhckdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yaWVudCxuPXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0KCJpbnZlcnNlIik7cmV0dXJuIG5ldyBFaSgiaG9yaXpvbnRhbCIhPT1lfHxuPyJob3Jpem9udGFsIj09PWUmJm4/e3NjYWxlWDoiYm90dG9tIj09PXQ/LTE6MSxyb3RhdGlvbjotTWF0aC5QSS8yfToidmVydGljYWwiIT09ZXx8bj97c2NhbGVYOiJsZWZ0Ij09PXQ/MTotMX06e3NjYWxlWDoibGVmdCI9PT10PzE6LTEsc2NhbGVZOi0xfTp7c2NhbGVYOiJib3R0b20iPT09dD8xOi0xLHJvdGF0aW9uOk1hdGguUEkvMn0pfSxlLnByb3RvdHlwZS5fdXBkYXRlSGFuZGxlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdXNlSGFuZGxlKXt2YXIgbj10aGlzLl9zaGFwZXMsaT10aGlzLnZpc3VhbE1hcE1vZGVsLHI9bi5oYW5kbGVUaHVtYnMsbz1uLmhhbmRsZUxhYmVscyxhPWkuaXRlbVNpemUscz1pLmdldEV4dGVudCgpO3BCKFswLDFdLChmdW5jdGlvbihsKXt2YXIgdT1yW2xdO3Uuc2V0U3R5bGUoImZpbGwiLGUuaGFuZGxlc0NvbG9yW2xdKSx1Lnk9dFtsXTt2YXIgaD1jQih0W2xdLFswLGFbMV1dLHMsITApLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGgsInN5bWJvbFNpemUiKTt1LnNjYWxlWD11LnNjYWxlWT1jL2FbMF0sdS54PWFbMF0tYy8yO3ZhciBwPXF1KG4uaGFuZGxlTGFiZWxQb2ludHNbbF0sanUodSx0aGlzLmdyb3VwKSk7b1tsXS5zZXRTdHlsZSh7eDpwWzBdLHk6cFsxXSx0ZXh0OmkuZm9ybWF0VmFsdWVUZXh0KHRoaXMuX2RhdGFJbnRlcnZhbFtsXSksdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjoidmVydGljYWwiPT09dGhpcy5fb3JpZW50P3RoaXMuX2FwcGx5VHJhbnNmb3JtKCJsZWZ0IixuLm1haW5Hcm91cCk6ImNlbnRlciJ9KX0pLHRoaXMpfX0sZS5wcm90b3R5cGUuX3Nob3dJbmRpY2F0b3I9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXIuZ2V0RXh0ZW50KCksYT1yLml0ZW1TaXplLHM9WzAsYVsxXV0sbD10aGlzLl9zaGFwZXMsdT1sLmluZGljYXRvcjtpZih1KXt1LmF0dHIoImludmlzaWJsZSIsITEpO3ZhciBoPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0LCJjb2xvciIse2NvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0pLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHQsInN5bWJvbFNpemUiKSxwPWNCKHQsbyxzLCEwKSxkPWFbMF0tYy8yLGY9e3g6dS54LHk6dS55fTt1Lnk9cCx1Lng9ZDt2YXIgZz1xdShsLmluZGljYXRvckxhYmVsUG9pbnQsanUodSx0aGlzLmdyb3VwKSkseT1sLmluZGljYXRvckxhYmVsO3kuYXR0cigiaW52aXNpYmxlIiwhMSk7dmFyIHY9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImxlZnQiLGwubWFpbkdyb3VwKSxtPSJob3Jpem9udGFsIj09PXRoaXMuX29yaWVudDt5LnNldFN0eWxlKHt0ZXh0OihufHwiIikrci5mb3JtYXRWYWx1ZVRleHQoZSksdmVydGljYWxBbGlnbjptP3Y6Im1pZGRsZSIsYWxpZ246bT8iY2VudGVyIjp2fSk7dmFyIF89e3g6ZCx5OnAsc3R5bGU6e2ZpbGw6aH19LHg9e3N0eWxlOnt4OmdbMF0seTpnWzFdfX07aWYoci5lY01vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhdGhpcy5fZmlyc3RTaG93SW5kaWNhdG9yKXt2YXIgYj17ZHVyYXRpb246MTAwLGVhc2luZzoiY3ViaWNJbk91dCIsYWRkaXRpdmU6ITB9O3UueD1mLngsdS55PWYueSx1LmFuaW1hdGVUbyhfLGIpLHkuYW5pbWF0ZVRvKHgsYil9ZWxzZSB1LmF0dHIoXykseS5hdHRyKHgpO3RoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMTt2YXIgdz10aGlzLl9zaGFwZXMuaGFuZGxlTGFiZWxzO2lmKHcpZm9yKHZhciBTPTA7Uzx3Lmxlbmd0aDtTKyspdGhpcy5fYXBpLmVudGVyQmx1cih3W1NdKX19LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fc2hhcGVzLm1haW5Hcm91cC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7aWYodC5faG92ZXJpbmc9ITAsIXQuX2RyYWdnaW5nKXt2YXIgbj10LnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplLGk9dC5fYXBwbHlUcmFuc2Zvcm0oW2Uub2Zmc2V0WCxlLm9mZnNldFldLHQuX3NoYXBlcy5tYWluR3JvdXAsITAsITApO2lbMV09ZEIoZkIoMCxpWzFdKSxuWzFdKSx0Ll9kb0hvdmVyTGlua1RvU2VyaWVzKGlbMV0sMDw9aVswXSYmaVswXTw9blswXSl9fSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7dC5faG92ZXJpbmc9ITEsIXQuX2RyYWdnaW5nJiZ0Ll9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9KSl9LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0aGlzLnZpc3VhbE1hcE1vZGVsLm9wdGlvbi5ob3Zlckxpbms/KHQub24oIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3Zlcix0aGlzKSx0Lm9uKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LGUucHJvdG90eXBlLl9kb0hvdmVyTGlua1RvU2VyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPW4uaXRlbVNpemU7aWYobi5vcHRpb24uaG92ZXJMaW5rKXt2YXIgcj1bMCxpWzFdXSxvPW4uZ2V0RXh0ZW50KCk7dD1kQihmQihyWzBdLHQpLHJbMV0pO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT02LHI9dC5nZXQoImhvdmVyTGlua0RhdGFTaXplIik7ciYmKGk9Y0IocixlLG4sITApLzIpO3JldHVybiBpfShuLG8scikscz1bdC1hLHQrYV0sbD1jQih0LHIsbywhMCksdT1bY0Ioc1swXSxyLG8sITApLGNCKHNbMV0scixvLCEwKV07c1swXTxyWzBdJiYodVswXT0tMS8wKSxzWzFdPnJbMV0mJih1WzFdPTEvMCksZSYmKHVbMF09PT0tMS8wP3RoaXMuX3Nob3dJbmRpY2F0b3IobCx1WzFdLCI8ICIsYSk6dVsxXT09PTEvMD90aGlzLl9zaG93SW5kaWNhdG9yKGwsdVswXSwiPiAiLGEpOnRoaXMuX3Nob3dJbmRpY2F0b3IobCxsLCLiiYggIixhKSk7dmFyIGg9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXMsYz1bXTsoZXx8dkIobikpJiYoYz10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1uLmZpbmRUYXJnZXREYXRhSW5kaWNlcyh1KSk7dmFyIHA9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxpPXt9O3JldHVybiByKHR8fFtdLG4pLHIoZXx8W10saSxuKSxbbyhuKSxvKGkpXTtmdW5jdGlvbiByKHQsZSxuKXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe3ZhciBvPUNyKHRbaV0uc2VyaWVzSWQsbnVsbCk7aWYobnVsbD09bylyZXR1cm47Zm9yKHZhciBhPXhyKHRbaV0uZGF0YUluZGV4KSxzPW4mJm5bb10sbD0wLHU9YS5sZW5ndGg7bDx1O2wrKyl7dmFyIGg9YVtsXTtzJiZzW2hdP3NbaF09bnVsbDooZVtvXXx8KGVbb109e30pKVtoXT0xfX19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoaSkmJm51bGwhPXRbaV0paWYoZSluLnB1c2goK2kpO2Vsc2V7dmFyIHI9byh0W2ldLCEwKTtyLmxlbmd0aCYmbi5wdXNoKHtzZXJpZXNJZDppLGRhdGFJbmRleDpyfSl9cmV0dXJuIG59fShoLGMpO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixoQihwWzBdLG4pKSx0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJoaWdobGlnaHQiLGhCKHBbMV0sbikpfX0sZS5wcm90b3R5cGUuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsbj10aGlzLnZpc3VhbE1hcE1vZGVsO2lmKGUmJm51bGwhPV9zKGUpLmRhdGFJbmRleCl7dmFyIGk9X3MoZSkscj10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChpLnNlcmllc0luZGV4KTtpZihuLmlzVGFyZ2V0U2VyaWVzKHIpKXt2YXIgbz1yLmdldERhdGEoaS5kYXRhVHlwZSksYT1vLmdldChuLmdldERhdGFEaW1lbnNpb24obyksaS5kYXRhSW5kZXgpO2lzTmFOKGEpfHx0aGlzLl9zaG93SW5kaWNhdG9yKGEsYSl9fX0sZS5wcm90b3R5cGUuX2hpZGVJbmRpY2F0b3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zaGFwZXM7dC5pbmRpY2F0b3ImJnQuaW5kaWNhdG9yLmF0dHIoImludmlzaWJsZSIsITApLHQuaW5kaWNhdG9yTGFiZWwmJnQuaW5kaWNhdG9yTGFiZWwuYXR0cigiaW52aXNpYmxlIiwhMCk7dmFyIGU9dGhpcy5fc2hhcGVzLmhhbmRsZUxhYmVscztpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuX2FwaS5sZWF2ZUJsdXIoZVtuXSl9LGUucHJvdG90eXBlLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzPWZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixoQih0LHRoaXMudmlzdWFsTWFwTW9kZWwpKSx0Lmxlbmd0aD0wfSxlLnByb3RvdHlwZS5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzPWZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3ZlciksdC5vZmYoIm1vdXNlb3V0Iix0aGlzLl9oaWRlSW5kaWNhdG9yKX0sZS5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWp1KGUsaT9udWxsOnRoaXMuZ3JvdXApO3JldHVybiBGKHQpP3F1KHQscixuKTpLdSh0LHIsbil9LGUucHJvdG90eXBlLl9kaXNwYXRjaEhpZ2hEb3duPWZ1bmN0aW9uKHQsZSl7ZSYmZS5sZW5ndGgmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOnQsYmF0Y2g6ZX0pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9LGUudHlwZT0idmlzdWFsTWFwLmNvbnRpbnVvdXMiLGV9KHNCKTtmdW5jdGlvbiB5Qih0LGUsbixpKXtyZXR1cm4gbmV3IHJ1KHtzaGFwZTp7cG9pbnRzOnR9LGRyYWdnYWJsZTohIW4sY3Vyc29yOmUsZHJpZnQ6bixvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtlZSh0LmV2ZW50KX0sb25kcmFnZW5kOml9KX1mdW5jdGlvbiB2Qih0KXt2YXIgZT10LmdldCgiaG92ZXJMaW5rT25IYW5kbGUiKTtyZXR1cm4hIShudWxsPT1lP3QuZ2V0KCJyZWFsdGltZSIpOmUpfWZ1bmN0aW9uIG1CKHQpe3JldHVybiJ2ZXJ0aWNhbCI9PT10PyJucy1yZXNpemUiOiJldy1yZXNpemUifXZhciBfQj17dHlwZToic2VsZWN0RGF0YVJhbmdlIixldmVudDoiZGF0YVJhbmdlU2VsZWN0ZWQiLHVwZGF0ZToidXBkYXRlIn0seEI9ZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJ2aXN1YWxNYXAiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldFNlbGVjdGVkKHQuc2VsZWN0ZWQpfSkpfSxiQj1be2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIiwoZnVuY3Rpb24oZSl7dmFyIGkscixvLGEscyxsPXQucGlwZWxpbmVDb250ZXh0OyFlLmlzVGFyZ2V0U2VyaWVzKHQpfHxsJiZsLmxhcmdlfHxuLnB1c2goKGk9ZS5zdGF0ZUxpc3Qscj1lLnRhcmdldFZpc3VhbHMsbz1WKGUuZ2V0VmFsdWVTdGF0ZSxlKSxhPWUuZ2V0RGF0YURpbWVuc2lvbih0LmdldERhdGEoKSkscz17fSxQKGksKGZ1bmN0aW9uKHQpe3ZhciBlPVRULnByZXBhcmVWaXN1YWxUeXBlcyhyW3RdKTtzW3RdPWV9KSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTtmdW5jdGlvbiBsKHQpe3JldHVybiB2ZyhlLGksdCl9ZnVuY3Rpb24gdSh0LG4pe19nKGUsaSx0LG4pfWZvcihudWxsIT1hJiYobj1lLmdldERpbWVuc2lvbihhKSk7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIGg9ZS5nZXRSYXdEYXRhSXRlbShpKTtpZighaHx8ITEhPT1oLnZpc3VhbE1hcClmb3IodmFyIGM9bnVsbCE9YT9lLmdldChuLGkpOmkscD1vKGMpLGQ9cltwXSxmPXNbcF0sZz0wLHk9Zi5sZW5ndGg7Zzx5O2crKyl7dmFyIHY9ZltnXTtkW3ZdJiZkW3ZdLmFwcGx5VmlzdWFsKGMsbCx1KX19fX0pKX0pKSxufX0se2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCksaT1bXTtlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe2lmKGUuaXNUYXJnZXRTZXJpZXModCkpe3ZhciByPWUuZ2V0VmlzdWFsTWV0YShWKHdCLG51bGwsdCxlKSl8fHtzdG9wczpbXSxvdXRlckNvbG9yczpbXX0sbz1lLmdldERhdGFEaW1lbnNpb24obiksYT1uLmdldERpbWVuc2lvbkluZm8obyk7bnVsbCE9YSYmKHIuZGltZW5zaW9uPWEuaW5kZXgsaS5wdXNoKHIpKX19KSksdC5nZXREYXRhKCkuc2V0VmlzdWFsKCJ2aXN1YWxNZXRhIixpKX19XTtmdW5jdGlvbiB3Qih0LGUsbixpKXtmb3IodmFyIHI9ZS50YXJnZXRWaXN1YWxzW2ldLG89VFQucHJlcGFyZVZpc3VhbFR5cGVzKHIpLGE9e2NvbG9yOm1nKHQuZ2V0RGF0YSgpLCJjb2xvciIpfSxzPTAsbD1vLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1vW3NdLGg9clsib3BhY2l0eSI9PT11PyJfX2FscGhhRm9yT3BhY2l0eSI6dV07aCYmaC5hcHBseVZpc3VhbChuLGMscCl9cmV0dXJuIGEuY29sb3I7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gYVt0XX1mdW5jdGlvbiBwKHQsZSl7YVt0XT1lfX12YXIgU0I9UDtmdW5jdGlvbiBNQih0KXt2YXIgZT10JiZ0LnZpc3VhbE1hcDtGKGUpfHwoZT1lP1tlXTpbXSksU0IoZSwoZnVuY3Rpb24odCl7aWYodCl7SUIodCwic3BsaXRMaXN0IikmJiFJQih0LCJwaWVjZXMiKSYmKHQucGllY2VzPXQuc3BsaXRMaXN0LGRlbGV0ZSB0LnNwbGl0TGlzdCk7dmFyIGU9dC5waWVjZXM7ZSYmRihlKSYmU0IoZSwoZnVuY3Rpb24odCl7WCh0KSYmKElCKHQsInN0YXJ0IikmJiFJQih0LCJtaW4iKSYmKHQubWluPXQuc3RhcnQpLElCKHQsImVuZCIpJiYhSUIodCwibWF4IikmJih0Lm1heD10LmVuZCkpfSkpfX0pKX1mdW5jdGlvbiBJQih0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KGUpfXZhciBUQj0hMTtmdW5jdGlvbiBDQih0KXtUQnx8KFRCPSEwLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJ2aXN1YWxNYXAiLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYXRlZ29yaWVzfHwodC5waWVjZXM/dC5waWVjZXMubGVuZ3RoPjA6dC5zcGxpdE51bWJlcj4wKSYmIXQuY2FsY3VsYWJsZT8icGllY2V3aXNlIjoiY29udGludW91cyJ9KSksdC5yZWdpc3RlckFjdGlvbihfQix4QiksUChiQiwoZnVuY3Rpb24oZSl7dC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5DT01QT05FTlQsZSl9KSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihNQikpfWZ1bmN0aW9uIERCKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChvQiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoZ0IpLENCKHQpfXZhciBBQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX3BpZWNlTGlzdD1bXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRFeHRlbnQoKTt2YXIgaT10aGlzLl9tb2RlPXRoaXMuX2RldGVybWluZU1vZGUoKTt0aGlzLl9waWVjZUxpc3Q9W10sTEJbdGhpcy5fbW9kZV0uY2FsbCh0aGlzLHRoaXMuX3BpZWNlTGlzdCksdGhpcy5fcmVzZXRTZWxlY3RlZChlLG4pO3ZhciByPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM7dGhpcy5yZXNldFZpc3VhbCgoZnVuY3Rpb24odCxlKXsiY2F0ZWdvcmllcyI9PT1pPyh0Lm1hcHBpbmdNZXRob2Q9ImNhdGVnb3J5Iix0LmNhdGVnb3JpZXM9dyhyKSk6KHQuZGF0YUV4dGVudD10aGlzLmdldEV4dGVudCgpLHQubWFwcGluZ01ldGhvZD0icGllY2V3aXNlIix0LnBpZWNlTGlzdD1PKHRoaXMuX3BpZWNlTGlzdCwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dyh0KSwiaW5SYW5nZSIhPT1lJiYodC52aXN1YWw9bnVsbCksdH0pKSl9KSl9LGUucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb24sbj17fSxpPVRULmxpc3RWaXN1YWxUeXBlcygpLHI9dGhpcy5pc0NhdGVnb3J5KCk7ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIHQmJnRbZV0mJnRbZV0uaGFzT3duUHJvcGVydHkobil9UChlLnBpZWNlcywoZnVuY3Rpb24odCl7UChpLChmdW5jdGlvbihlKXt0Lmhhc093blByb3BlcnR5KGUpJiYobltlXT0xKX0pKX0pKSxQKG4sKGZ1bmN0aW9uKHQsbil7dmFyIGk9ITE7UCh0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24odCl7aT1pfHxvKGUsdCxuKXx8byhlLnRhcmdldCx0LG4pfSksdGhpcyksIWkmJlAodGhpcy5zdGF0ZUxpc3QsKGZ1bmN0aW9uKHQpeyhlW3RdfHwoZVt0XT17fSkpW25dPXFWKG4sImluUmFuZ2UiPT09dD8iYWN0aXZlIjoiaW5hY3RpdmUiLHIpfSkpfSksdGhpcyksdC5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5fcmVzZXRTZWxlY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLGk9dGhpcy5fcGllY2VMaXN0LHI9KGU/bjp0KS5zZWxlY3RlZHx8e307aWYobi5zZWxlY3RlZD1yLFAoaSwoZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFNlbGVjdGVkTWFwS2V5KHQpO3IuaGFzT3duUHJvcGVydHkobil8fChyW25dPSEwKX0pLHRoaXMpLCJzaW5nbGUiPT09bi5zZWxlY3RlZE1vZGUpe3ZhciBvPSExO1AoaSwoZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFNlbGVjdGVkTWFwS2V5KHQpO3Jbbl0mJihvP3Jbbl09ITE6bz0hMCl9KSx0aGlzKX19LGUucHJvdG90eXBlLmdldEl0ZW1TeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIml0ZW1TeW1ib2wiKX0sZS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRNYXBLZXk9ZnVuY3Rpb24odCl7cmV0dXJuImNhdGVnb3JpZXMiPT09dGhpcy5fbW9kZT90LnZhbHVlKyIiOnQuaW5kZXgrIiJ9LGUucHJvdG90eXBlLmdldFBpZWNlTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWVjZUxpc3R9LGUucHJvdG90eXBlLl9kZXRlcm1pbmVNb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIHQucGllY2VzJiZ0LnBpZWNlcy5sZW5ndGg+MD8icGllY2VzIjp0aGlzLm9wdGlvbi5jYXRlZ29yaWVzPyJjYXRlZ29yaWVzIjoic3BsaXROdW1iZXIifSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zZWxlY3RlZD13KHQpfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPVRULmZpbmRQaWVjZUluZGV4KHQsdGhpcy5fcGllY2VMaXN0KTtyZXR1cm4gbnVsbCE9ZSYmdGhpcy5vcHRpb24uc2VsZWN0ZWRbdGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0aGlzLl9waWVjZUxpc3RbZV0pXT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0RGF0YUluZGljZXM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10aGlzLl9waWVjZUxpc3Q7cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24oaSl7dmFyIHI9W10sbz1pLmdldERhdGEoKTtvLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uKG8pLChmdW5jdGlvbihlLGkpe1RULmZpbmRQaWVjZUluZGV4KGUsbik9PT10JiZyLnB1c2goaSl9KSx0aGlzKSxlLnB1c2goe3Nlcmllc0lkOmkuaWQsZGF0YUluZGV4OnJ9KX0pLHRoaXMpLGV9LGUucHJvdG90eXBlLmdldFJlcHJlc2VudFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHRoaXMuaXNDYXRlZ29yeSgpKWU9dC52YWx1ZTtlbHNlIGlmKG51bGwhPXQudmFsdWUpZT10LnZhbHVlO2Vsc2V7dmFyIG49dC5pbnRlcnZhbHx8W107ZT1uWzBdPT09LTEvMCYmblsxXT09PTEvMD8wOihuWzBdK25bMV0pLzJ9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFZpc3VhbE1ldGE9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNDYXRlZ29yeSgpKXt2YXIgZT1bXSxuPVsiIiwiIl0saT10aGlzLHI9dGhpcy5fcGllY2VMaXN0LnNsaWNlKCk7aWYoci5sZW5ndGgpe3ZhciBvPXJbMF0uaW50ZXJ2YWxbMF07byE9PS0xLzAmJnIudW5zaGlmdCh7aW50ZXJ2YWw6Wy0xLzAsb119KSwobz1yW3IubGVuZ3RoLTFdLmludGVydmFsWzFdKSE9PTEvMCYmci5wdXNoKHtpbnRlcnZhbDpbbywxLzBdfSl9ZWxzZSByLnB1c2goe2ludGVydmFsOlstMS8wLDEvMF19KTt2YXIgYT0tMS8wO3JldHVybiBQKHIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJ2YWw7ZSYmKGVbMF0+YSYmcyhbYSxlWzBdXSwib3V0T2ZSYW5nZSIpLHMoZS5zbGljZSgpKSxhPWVbMV0pfSksdGhpcykse3N0b3BzOmUsb3V0ZXJDb2xvcnM6bn19ZnVuY3Rpb24gcyhyLG8pe3ZhciBhPWkuZ2V0UmVwcmVzZW50VmFsdWUoe2ludGVydmFsOnJ9KTtvfHwobz1pLmdldFZhbHVlU3RhdGUoYSkpO3ZhciBzPXQoYSxvKTtyWzBdPT09LTEvMD9uWzBdPXM6clsxXT09PTEvMD9uWzFdPXM6ZS5wdXNoKHt2YWx1ZTpyWzBdLGNvbG9yOnN9LHt2YWx1ZTpyWzFdLGNvbG9yOnN9KX19LGUudHlwZT0idmlzdWFsTWFwLnBpZWNld2lzZSIsZS5kZWZhdWx0T3B0aW9uPXpoKGlCLmRlZmF1bHRPcHRpb24se3NlbGVjdGVkOm51bGwsbWluT3BlbjohMSxtYXhPcGVuOiExLGFsaWduOiJhdXRvIixpdGVtV2lkdGg6MjAsaXRlbUhlaWdodDoxNCxpdGVtU3ltYm9sOiJyb3VuZFJlY3QiLHBpZWNlczpudWxsLGNhdGVnb3JpZXM6bnVsbCxzcGxpdE51bWJlcjo1LHNlbGVjdGVkTW9kZToibXVsdGlwbGUiLGl0ZW1HYXA6MTAsaG92ZXJMaW5rOiEwfSksZX0oaUIpLExCPXtzcGxpdE51bWJlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixuPU1hdGgubWluKGUucHJlY2lzaW9uLDIwKSxpPXRoaXMuZ2V0RXh0ZW50KCkscj1lLnNwbGl0TnVtYmVyO3I9TWF0aC5tYXgocGFyc2VJbnQociwxMCksMSksZS5zcGxpdE51bWJlcj1yO2Zvcih2YXIgbz0oaVsxXS1pWzBdKS9yOytvLnRvRml4ZWQobikhPT1vJiZuPDU7KW4rKztlLnByZWNpc2lvbj1uLG89K28udG9GaXhlZChuKSxlLm1pbk9wZW4mJnQucHVzaCh7aW50ZXJ2YWw6Wy0xLzAsaVswXV0sY2xvc2U6WzAsMF19KTtmb3IodmFyIGE9MCxzPWlbMF07YTxyO3MrPW8sYSsrKXt2YXIgbD1hPT09ci0xP2lbMV06cytvO3QucHVzaCh7aW50ZXJ2YWw6W3MsbF0sY2xvc2U6WzEsMV19KX1lLm1heE9wZW4mJnQucHVzaCh7aW50ZXJ2YWw6W2lbMV0sMS8wXSxjbG9zZTpbMCwwXX0pLGhyKHQpLFAodCwoZnVuY3Rpb24odCxlKXt0LmluZGV4PWUsdC50ZXh0PXRoaXMuZm9ybWF0VmFsdWVUZXh0KHQuaW50ZXJ2YWwpfSksdGhpcyl9LGNhdGVnb3JpZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247UChlLmNhdGVnb3JpZXMsKGZ1bmN0aW9uKGUpe3QucHVzaCh7dGV4dDp0aGlzLmZvcm1hdFZhbHVlVGV4dChlLCEwKSx2YWx1ZTplfSl9KSx0aGlzKSxrQihlLHQpfSxwaWVjZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247UChlLnBpZWNlcywoZnVuY3Rpb24oZSxuKXtYKGUpfHwoZT17dmFsdWU6ZX0pO3ZhciBpPXt0ZXh0OiIiLGluZGV4Om59O2lmKG51bGwhPWUubGFiZWwmJihpLnRleHQ9ZS5sYWJlbCksZS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSl7dmFyIHI9aS52YWx1ZT1lLnZhbHVlO2kuaW50ZXJ2YWw9W3Iscl0saS5jbG9zZT1bMSwxXX1lbHNle2Zvcih2YXIgbz1pLmludGVydmFsPVtdLGE9aS5jbG9zZT1bMCwwXSxzPVsxLDAsMV0sbD1bLTEvMCwxLzBdLHU9W10saD0wO2g8MjtoKyspe2Zvcih2YXIgYz1bWyJndGUiLCJndCIsIm1pbiJdLFsibHRlIiwibHQiLCJtYXgiXV1baF0scD0wO3A8MyYmbnVsbD09b1toXTtwKyspb1toXT1lW2NbcF1dLGFbaF09c1twXSx1W2hdPTI9PT1wO251bGw9PW9baF0mJihvW2hdPWxbaF0pfXVbMF0mJm9bMV09PT0xLzAmJihhWzBdPTApLHVbMV0mJm9bMF09PT0tMS8wJiYoYVsxXT0wKSxvWzBdPT09b1sxXSYmYVswXSYmYVsxXSYmKGkudmFsdWU9b1swXSl9aS52aXN1YWw9VFQucmV0cmlldmVWaXN1YWxzKGUpLHQucHVzaChpKX0pLHRoaXMpLGtCKGUsdCksaHIodCksUCh0LChmdW5jdGlvbih0KXt2YXIgZT10LmNsb3NlLG49W1siPCIsIuKJpCJdW2VbMV1dLFsiPiIsIuKJpSJdW2VbMF1dXTt0LnRleHQ9dC50ZXh0fHx0aGlzLmZvcm1hdFZhbHVlVGV4dChudWxsIT10LnZhbHVlP3QudmFsdWU6dC5pbnRlcnZhbCwhMSxuKX0pLHRoaXMpfX07ZnVuY3Rpb24ga0IodCxlKXt2YXIgbj10LmludmVyc2U7KCJ2ZXJ0aWNhbCI9PT10Lm9yaWVudD8hbjpuKSYmZS5yZXZlcnNlKCl9dmFyIFBCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRvUmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncm91cDt0LnJlbW92ZUFsbCgpO3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1lLmdldCgidGV4dEdhcCIpLGk9ZS50ZXh0U3R5bGVNb2RlbCxyPWkuZ2V0Rm9udCgpLG89aS5nZXRUZXh0Q29sb3IoKSxhPXRoaXMuX2dldEl0ZW1BbGlnbigpLHM9ZS5pdGVtU2l6ZSxsPXRoaXMuX2dldFZpZXdEYXRhKCksdT1sLmVuZHNUZXh0LGg9UShlLmdldCgic2hvd0xhYmVsIiwhMCksIXUpO3UmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVswXSxzLGgsYSksUChsLnZpZXdQaWVjZUxpc3QsKGZ1bmN0aW9uKGkpe3ZhciBsPWkucGllY2UsdT1uZXcgRWk7dS5vbmNsaWNrPVYodGhpcy5fb25JdGVtQ2xpY2ssdGhpcyxsKSx0aGlzLl9lbmFibGVIb3ZlckxpbmsodSxpLmluZGV4SW5Nb2RlbFBpZWNlTGlzdCk7dmFyIGM9ZS5nZXRSZXByZXNlbnRWYWx1ZShsKTtpZih0aGlzLl9jcmVhdGVJdGVtU3ltYm9sKHUsYyxbMCwwLHNbMF0sc1sxXV0pLGgpe3ZhciBwPXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0VmFsdWVTdGF0ZShjKTt1LmFkZChuZXcgY3Moe3N0eWxlOnt4OiJyaWdodCI9PT1hPy1uOnNbMF0rbix5OnNbMV0vMix0ZXh0OmwudGV4dCx2ZXJ0aWNhbEFsaWduOiJtaWRkbGUiLGFsaWduOmEsZm9udDpyLGZpbGw6byxvcGFjaXR5OiJvdXRPZlJhbmdlIj09PXA/LjU6MX19KSl9dC5hZGQodSl9KSx0aGlzKSx1JiZ0aGlzLl9yZW5kZXJFbmRzVGV4dCh0LHVbMV0scyxoLGEpLEVjKGUuZ2V0KCJvcmllbnQiKSx0LGUuZ2V0KCJpdGVtR2FwIikpLHRoaXMucmVuZGVyQmFja2dyb3VuZCh0KSx0aGlzLnBvc2l0aW9uR3JvdXAodCl9LGUucHJvdG90eXBlLl9lbmFibGVIb3Zlckxpbms9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3Qub24oIm1vdXNlb3ZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkoImhpZ2hsaWdodCIpfSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkoImRvd25wbGF5Iil9KSk7dmFyIGk9ZnVuY3Rpb24odCl7dmFyIGk9bi52aXN1YWxNYXBNb2RlbDtpLm9wdGlvbi5ob3ZlckxpbmsmJm4uYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOnQsYmF0Y2g6aEIoaS5maW5kVGFyZ2V0RGF0YUluZGljZXMoZSksaSl9KX19LGUucHJvdG90eXBlLl9nZXRJdGVtQWxpZ249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dC5vcHRpb247aWYoInZlcnRpY2FsIj09PWUub3JpZW50KXJldHVybiB1Qih0LHRoaXMuYXBpLHQuaXRlbVNpemUpO3ZhciBuPWUuYWxpZ247cmV0dXJuIG4mJiJhdXRvIiE9PW58fChuPSJsZWZ0Iiksbn0sZS5wcm90b3R5cGUuX3JlbmRlckVuZHNUZXh0PWZ1bmN0aW9uKHQsZSxuLGkscil7aWYoZSl7dmFyIG89bmV3IEVpLGE9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbDtvLmFkZChuZXcgY3Moe3N0eWxlOnt4Omk/InJpZ2h0Ij09PXI/blswXTowOm5bMF0vMix5Om5bMV0vMix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUiLGFsaWduOmk/cjoiY2VudGVyIix0ZXh0OmUsZm9udDphLmdldEZvbnQoKSxmaWxsOmEuZ2V0VGV4dENvbG9yKCl9fSkpLHQuYWRkKG8pfX0sZS5wcm90b3R5cGUuX2dldFZpZXdEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aXN1YWxNYXBNb2RlbCxlPU8odC5nZXRQaWVjZUxpc3QoKSwoZnVuY3Rpb24odCxlKXtyZXR1cm57cGllY2U6dCxpbmRleEluTW9kZWxQaWVjZUxpc3Q6ZX19KSksbj10LmdldCgidGV4dCIpLGk9dC5nZXQoIm9yaWVudCIpLHI9dC5nZXQoImludmVyc2UiKTtyZXR1cm4oImhvcml6b250YWwiPT09aT9yOiFyKT9lLnJldmVyc2UoKTpuJiYobj1uLnNsaWNlKCkucmV2ZXJzZSgpKSx7dmlld1BpZWNlTGlzdDplLGVuZHNUZXh0Om59fSxlLnByb3RvdHlwZS5fY3JlYXRlSXRlbVN5bWJvbD1mdW5jdGlvbih0LGUsbil7dC5hZGQoZnkodGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsInN5bWJvbCIpLG5bMF0sblsxXSxuWzJdLG5bM10sdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsImNvbG9yIikpKX0sZS5wcm90b3R5cGUuX29uSXRlbUNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1lLm9wdGlvbixpPXcobi5zZWxlY3RlZCkscj1lLmdldFNlbGVjdGVkTWFwS2V5KHQpOyJzaW5nbGUiPT09bi5zZWxlY3RlZE1vZGU/KGlbcl09ITAsUChpLChmdW5jdGlvbih0LGUpe2lbZV09ZT09PXJ9KSkpOmlbcl09IWlbcl0sdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOml9KX0sZS50eXBlPSJ2aXN1YWxNYXAucGllY2V3aXNlIixlfShzQik7ZnVuY3Rpb24gT0IodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEFCKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhQQiksQ0IodCl9dmFyIFJCPXtsYWJlbDp7ZW5hYmxlZDohMH0sZGVjYWw6e3Nob3c6ITF9fSxOQj1rcigpLHpCPXt9O2Z1bmN0aW9uIEVCKHQsZSl7dmFyIG49dC5nZXRNb2RlbCgiYXJpYSIpO2lmKG4uZ2V0KCJlbmFibGVkIikpe3ZhciBpPXcoUkIpO1MoaS5sYWJlbCx0LmdldExvY2FsZU1vZGVsKCkuZ2V0KCJhcmlhIiksITEpLFMobi5vcHRpb24saSwhMSksZnVuY3Rpb24oKXtpZihuLmdldE1vZGVsKCJkZWNhbCIpLmdldCgic2hvdyIpKXt2YXIgZT1odCgpO3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYodC51c2VDb2xvclBhbGV0dGVPbkRhdGEpe3ZhciBuPWUuZ2V0KHQudHlwZSk7bnx8KG49e30sZS5zZXQodC50eXBlLG4pKSxOQih0KS5zY29wZT1ufX0pKSx0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKGUpe2lmKCF0LmlzU2VyaWVzRmlsdGVyZWQoZSkpaWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuZW5hYmxlQXJpYURlY2FsKXt2YXIgbj1lLmdldERhdGEoKTtpZihlLnVzZUNvbG9yUGFsZXR0ZU9uRGF0YSl7dmFyIGk9ZS5nZXRSYXdEYXRhKCkscj17fSxvPU5CKGUpLnNjb3BlO24uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRSYXdJbmRleCh0KTtyW2VdPXR9KSk7dmFyIGE9aS5jb3VudCgpO2kuZWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9clt0XSxsPWkuZ2V0TmFtZSh0KXx8dCsiIixoPXhwKGUuZWNNb2RlbCxsLG8sYSksYz1uLmdldEl0ZW1WaXN1YWwocywiZGVjYWwiKTtuLnNldEl0ZW1WaXN1YWwocywiZGVjYWwiLHUoYyxoKSl9KSl9ZWxzZXt2YXIgcz14cChlLmVjTW9kZWwsZS5uYW1lLHpCLHQuZ2V0U2VyaWVzQ291bnQoKSksbD1uLmdldFZpc3VhbCgiZGVjYWwiKTtuLnNldFZpc3VhbCgiZGVjYWwiLHUobCxzKSl9fWVsc2UgZS5lbmFibGVBcmlhRGVjYWwoKTtmdW5jdGlvbiB1KHQsZSl7dmFyIG49dD9JKEkoe30sZSksdCk6ZTtyZXR1cm4gbi5kaXJ0eT0hMCxufX0pKX19KCksZnVuY3Rpb24oKXt2YXIgaT10LmdldExvY2FsZU1vZGVsKCkuZ2V0KCJhcmlhIiksbz1uLmdldE1vZGVsKCJsYWJlbCIpO2lmKG8ub3B0aW9uPVQoby5vcHRpb24saSksIW8uZ2V0KCJlbmFibGVkIikpcmV0dXJuO3ZhciBhPWUuZ2V0WnIoKS5kb207aWYoby5nZXQoImRlc2NyaXB0aW9uIikpcmV0dXJuIHZvaWQgYS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLG8uZ2V0KCJkZXNjcmlwdGlvbiIpKTt2YXIgcyxsPXQuZ2V0U2VyaWVzQ291bnQoKSx1PW8uZ2V0KFsiZGF0YSIsIm1heENvdW50Il0pfHwxMCxoPW8uZ2V0KFsic2VyaWVzIiwibWF4Q291bnQiXSl8fDEwLGM9TWF0aC5taW4obCxoKTtpZihsPDEpcmV0dXJuO3ZhciBwPWZ1bmN0aW9uKCl7dmFyIGU9dC5nZXQoInRpdGxlIik7ZSYmZS5sZW5ndGgmJihlPWVbMF0pO3JldHVybiBlJiZlLnRleHR9KCk7aWYocCl7dmFyIGQ9by5nZXQoWyJnZW5lcmFsIiwid2l0aFRpdGxlIl0pO3M9cihkLHt0aXRsZTpwfSl9ZWxzZSBzPW8uZ2V0KFsiZ2VuZXJhbCIsIndpdGhvdXRUaXRsZSJdKTt2YXIgZj1bXSxnPWw+MT9vLmdldChbInNlcmllcyIsIm11bHRpcGxlIiwicHJlZml4Il0pOm8uZ2V0KFsic2VyaWVzIiwic2luZ2xlIiwicHJlZml4Il0pO3MrPXIoZyx7c2VyaWVzQ291bnQ6bH0pLHQuZWFjaFNlcmllcygoZnVuY3Rpb24oZSxuKXtpZihuPGMpe3ZhciBpPXZvaWQgMCxhPWUuZ2V0KCJuYW1lIik/IndpdGhOYW1lIjoid2l0aG91dE5hbWUiO2k9cihpPWw+MT9vLmdldChbInNlcmllcyIsIm11bHRpcGxlIixhXSk6by5nZXQoWyJzZXJpZXMiLCJzaW5nbGUiLGFdKSx7c2VyaWVzSWQ6ZS5zZXJpZXNJbmRleCxzZXJpZXNOYW1lOmUuZ2V0KCJuYW1lIiksc2VyaWVzVHlwZTooXz1lLnN1YlR5cGUsdC5nZXRMb2NhbGVNb2RlbCgpLmdldChbInNlcmllcyIsInR5cGVOYW1lcyJdKVtfXXx8IuiHquWumuS5ieWbviIpfSk7dmFyIHM9ZS5nZXREYXRhKCk7aWYocy5jb3VudCgpPnUpaSs9cihvLmdldChbImRhdGEiLCJwYXJ0aWFsRGF0YSJdKSx7ZGlzcGxheUNudDp1fSk7ZWxzZSBpKz1vLmdldChbImRhdGEiLCJhbGxEYXRhIl0pO2Zvcih2YXIgaD1bXSxwPTA7cDxzLmNvdW50KCk7cCsrKWlmKHA8dSl7dmFyIGQ9cy5nZXROYW1lKHApLGc9TWQocyxwKSx5PW8uZ2V0KFsiZGF0YSIsZD8id2l0aE5hbWUiOiJ3aXRob3V0TmFtZSJdKTtoLnB1c2gocih5LHtuYW1lOmQsdmFsdWU6Z30pKX12YXIgdj1vLmdldChbImRhdGEiLCJzZXBhcmF0b3IiLCJtaWRkbGUiXSksbT1vLmdldChbImRhdGEiLCJzZXBhcmF0b3IiLCJlbmQiXSk7aSs9aC5qb2luKHYpK20sZi5wdXNoKGkpfXZhciBffSkpO3ZhciB5PW8uZ2V0TW9kZWwoWyJzZXJpZXMiLCJtdWx0aXBsZSIsInNlcGFyYXRvciJdKSx2PXkuZ2V0KCJtaWRkbGUiKSxtPXkuZ2V0KCJlbmQiKTtzKz1mLmpvaW4odikrbSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIscyl9KCl9ZnVuY3Rpb24gcih0LGUpe2lmKCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj10O3JldHVybiBQKGUsKGZ1bmN0aW9uKHQsZSl7bj1uLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFx7XFxzKiIrZSsiXFxzKlxcfSIsImciKSx0KX0pKSxufX1mdW5jdGlvbiBWQih0KXtpZih0JiZ0LmFyaWEpe3ZhciBlPXQuYXJpYTtudWxsIT1lLnNob3cmJihlLmVuYWJsZWQ9ZS5zaG93KSxlLmxhYmVsPWUubGFiZWx8fHt9LFAoWyJkZXNjcmlwdGlvbiIsImdlbmVyYWwiLCJzZXJpZXMiLCJkYXRhIl0sKGZ1bmN0aW9uKHQpe251bGwhPWVbdF0mJihlLmxhYmVsW3RdPWVbdF0pfSkpfX12YXIgQkI9e3ZhbHVlOiJlcSIsIjwiOiJsdCIsIjw9IjoibHRlIiwiPiI6Imd0IiwiPj0iOiJndGUiLCI9IjoiZXEiLCIhPSI6Im5lIiwiPD4iOiJuZSJ9LEZCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZihudWxsPT0odGhpcy5fY29uZFZhbD1IKHQpP25ldyBSZWdFeHAodCk6JCh0KT90Om51bGwpKXt2YXIgZT0iIjswLHZyKGUpfX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuInN0cmluZyI9PT1lP3RoaXMuX2NvbmRWYWwudGVzdCh0KToibnVtYmVyIj09PWUmJnRoaXMuX2NvbmRWYWwudGVzdCh0KyIiKX0sdH0oKSxHQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHR9KCksSEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5ldmFsdWF0ZSgpKXJldHVybiExO3JldHVybiEwfSx0fSgpLFdCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbixlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5ldmFsdWF0ZSgpKXJldHVybiEwO3JldHVybiExfSx0fSgpLFVCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5jaGlsZC5ldmFsdWF0ZSgpfSx0fSgpLFhCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ISF0aGlzLnZhbHVlUGFyc2VyLGU9KDAsdGhpcy5nZXRWYWx1ZSkodGhpcy52YWx1ZUdldHRlclBhcmFtKSxuPXQ/dGhpcy52YWx1ZVBhcnNlcihlKTpudWxsLGk9MDtpPHRoaXMuc3ViQ29uZExpc3QubGVuZ3RoO2krKylpZighdGhpcy5zdWJDb25kTGlzdFtpXS5ldmFsdWF0ZSh0P246ZSkpcmV0dXJuITE7cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gWUIodCxlKXtpZighMD09PXR8fCExPT09dCl7dmFyIG49bmV3IEdCO3JldHVybiBuLnZhbHVlPXQsbn12YXIgaT0iIjtyZXR1cm4gakIodCl8fHZyKGkpLHQuYW5kP1pCKCJhbmQiLHQsZSk6dC5vcj9aQigib3IiLHQsZSk6dC5ub3Q/ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5vdCxpPSIiOzA7akIobil8fHZyKGkpO3ZhciByPW5ldyBVQjtyLmNoaWxkPVlCKG4sZSksci5jaGlsZHx8dnIoaSk7cmV0dXJuIHJ9KHQsZSk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49IiIsaT1lLnByZXBhcmVHZXRWYWx1ZSh0KSxyPVtdLG89RSh0KSxhPXQucGFyc2VyLHM9YT9PZChhKTpudWxsLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXTtpZigicGFyc2VyIiE9PXUmJiFlLnZhbHVlR2V0dGVyQXR0ck1hcC5nZXQodSkpe3ZhciBoPWR0KEJCLHUpP0JCW3VdOnUsYz10W3VdLHA9cz9zKGMpOmMsZD1WZChoLHApfHwicmVnIj09PWgmJm5ldyBGQihwKTtkfHx2cihuKSxyLnB1c2goZCl9fXIubGVuZ3RofHx2cihuKTt2YXIgZj1uZXcgWEI7cmV0dXJuIGYudmFsdWVHZXR0ZXJQYXJhbT1pLGYudmFsdWVQYXJzZXI9cyxmLmdldFZhbHVlPWUuZ2V0VmFsdWUsZi5zdWJDb25kTGlzdD1yLGZ9KHQsZSl9ZnVuY3Rpb24gWkIodCxlLG4pe3ZhciBpPWVbdF0scj0iIjtGKGkpfHx2cihyKSxpLmxlbmd0aHx8dnIocik7dmFyIG89ImFuZCI9PT10P25ldyBIQjpuZXcgV0I7cmV0dXJuIG8uY2hpbGRyZW49TyhpLChmdW5jdGlvbih0KXtyZXR1cm4gWUIodCxuKX0pKSxvLmNoaWxkcmVuLmxlbmd0aHx8dnIociksb31mdW5jdGlvbiBqQih0KXtyZXR1cm4gWCh0KSYmIWsodCl9dmFyIHFCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2NvbmQ9WUIodCxlKX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZC5ldmFsdWF0ZSgpfSx0fSgpO3ZhciBLQj17dHlwZToiZWNoYXJ0czpmaWx0ZXIiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixpLHI9dC51cHN0cmVhbSxvPShuPXQuY29uZmlnLGk9e3ZhbHVlR2V0dGVyQXR0ck1hcDpodCh7ZGltZW5zaW9uOiEwfSkscHJlcGFyZUdldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSIiLG49dC5kaW1lbnNpb247ZHQodCwiZGltZW5zaW9uIil8fHZyKGUpO3ZhciBpPXIuZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gaXx8dnIoZSkse2RpbUlkeDppLmluZGV4fX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHIucmV0cmlldmVWYWx1ZUZyb21JdGVtKGUsdC5kaW1JZHgpfX0sbmV3IHFCKG4saSkpLGE9W10scz0wLGw9ci5jb3VudCgpO3M8bDtzKyspZT1yLmdldFJhd0RhdGFJdGVtKHMpLG8uZXZhbHVhdGUoKSYmYS5wdXNoKGUpO3JldHVybntkYXRhOmF9fX07dmFyICRCPXt0eXBlOiJlY2hhcnRzOnNvcnQiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LnVwc3RyZWFtLG49dC5jb25maWcsaT0iIixyPXhyKG4pO3IubGVuZ3RofHx2cihpKTt2YXIgbz1bXTtQKHIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9uLHI9dC5vcmRlcixhPXQucGFyc2VyLHM9dC5pbmNvbXBhcmFibGU7aWYobnVsbD09biYmdnIoaSksImFzYyIhPT1yJiYiZGVzYyIhPT1yJiZ2cihpKSxzJiYibWluIiE9PXMmJiJtYXgiIT09cyl7dmFyIGw9IiI7MCx2cihsKX1pZigiYXNjIiE9PXImJiJkZXNjIiE9PXIpe3ZhciB1PSIiOzAsdnIodSl9dmFyIGg9ZS5nZXREaW1lbnNpb25JbmZvKG4pO2h8fHZyKGkpO3ZhciBjPWE/T2QoYSk6bnVsbDthJiYhYyYmdnIoaSksby5wdXNoKHtkaW1JZHg6aC5pbmRleCxwYXJzZXI6Yyxjb21wYXJhdG9yOm5ldyB6ZChyLHMpfSl9KSk7dmFyIGE9ZS5zb3VyY2VGb3JtYXQ7YSE9PSRjJiZhIT09SmMmJnZyKGkpO2Zvcih2YXIgcz1bXSxsPTAsdT1lLmNvdW50KCk7bDx1O2wrKylzLnB1c2goZS5nZXRSYXdEYXRhSXRlbShsKSk7cmV0dXJuIHMuc29ydCgoZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHI9b1tpXSxhPWUucmV0cmlldmVWYWx1ZUZyb21JdGVtKHQsci5kaW1JZHgpLHM9ZS5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW0obixyLmRpbUlkeCk7ci5wYXJzZXImJihhPXIucGFyc2VyKGEpLHM9ci5wYXJzZXIocykpO3ZhciBsPXIuY29tcGFyYXRvci5ldmFsdWF0ZShhLHMpO2lmKDAhPT1sKXJldHVybiBsfXJldHVybiAwfSkpLHtkYXRhOnN9fX07dmFyIEpCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iZGF0YXNldCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx0aGlzLl9zb3VyY2VNYW5hZ2VyPW5ldyBaZCh0aGlzKSxqZCh0aGlzKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSxqZCh0aGlzKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZU1hbmFnZXIuZGlydHkoKX0sZS5wcm90b3R5cGUuZ2V0U291cmNlTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNYW5hZ2VyfSxlLnR5cGU9ImRhdGFzZXQiLGUuZGVmYXVsdE9wdGlvbj17c2VyaWVzTGF5b3V0Qnk6bnB9LGV9KFhjKSxRQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFzZXQiLGV9cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFzZXQiLGV9KHdmKTtRbShbZnVuY3Rpb24odCl7dC5yZWdpc3RlclBhaW50ZXIoImNhbnZhcyIsdXcpfV0pLFFtKFtmdW5jdGlvbih0KXt0LnJlZ2lzdGVyUGFpbnRlcigic3ZnIix0dyl9XSksUW0oW2Z1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoVXcpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChodyksdC5yZWdpc3RlckxheW91dChYdygibGluZSIsITApKSx0LnJlZ2lzdGVyVmlzdWFsKHtzZXJpZXNUeXBlOiJsaW5lIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpO24mJiFuLnN0cm9rZSYmKG4uc3Ryb2tlPWUuZ2V0VmlzdWFsKCJzdHlsZSIpLmZpbGwpLGUuc2V0VmlzdWFsKCJsZWdlbmRMaW5lU3R5bGUiLG4pfX0pLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU1RBVElTVElDLGp3KCJsaW5lIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KG5TKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoS3cpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuTEFZT1VULEIobHgsImJhciIpKSx0LnJlZ2lzdGVyTGF5b3V0KHQuUFJJT1JJVFkuVklTVUFMLlBST0dSRVNTSVZFX0xBWU9VVCx1eCksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMsancoImJhciIpKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJjaGFuZ2VBeGlzT3JkZXIiLGV2ZW50OiJjaGFuZ2VBeGlzT3JkZXIiLHVwZGF0ZToidXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOm4scXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3Quc29ydEluZm8mJmUuYXhpcy5zZXRDYXRlZ29yeVNvcnRJbmZvKHQuc29ydEluZm8pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KFNTKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoVFMpLGV5KCJwaWUiLHQucmVnaXN0ZXJBY3Rpb24pLHQucmVnaXN0ZXJMYXlvdXQoQihnUywicGllIikpLHQucmVnaXN0ZXJQcm9jZXNzb3IoeVMoInBpZSIpKX0sZnVuY3Rpb24odCl7UW0oSU0pLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChDUyksdC5yZWdpc3RlckNoYXJ0VmlldyhrUyksdC5yZWdpc3RlckxheW91dChYdygic2NhdHRlciIpKX0sZnVuY3Rpb24odCl7UW0oQk0pLHQucmVnaXN0ZXJDaGFydFZpZXcoTE0pLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChrTSksdC5yZWdpc3RlckxheW91dChUTSksdC5yZWdpc3RlclByb2Nlc3Nvcih5UygicmFkYXIiKSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihBTSl9LGZ1bmN0aW9uKHQpe1FtKE1JKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KHVJKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoaEkpLHQucmVnaXN0ZXJMYXlvdXQocEkpLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU1RBVElTVElDLGNJKSxleSgibWFwIix0LnJlZ2lzdGVyQWN0aW9uKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0Vmlldyh6SSksdC5yZWdpc3RlclNlcmllc01vZGVsKG5UKSx0LnJlZ2lzdGVyTGF5b3V0KHJUKSx0LnJlZ2lzdGVyVmlzdWFsKG9UKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLGV2ZW50OiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLHVwZGF0ZToidXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIG49dC5kYXRhSW5kZXgsaT1lLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleChuKTtpLmlzRXhwYW5kPSFpLmlzRXhwYW5kfSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InRyZWVSb2FtIixldmVudDoidHJlZVJvYW0iLHVwZGF0ZToibm9uZSJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZSIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPXdJKGUuY29vcmRpbmF0ZVN5c3RlbSx0KTtlLnNldENlbnRlciYmZS5zZXRDZW50ZXIobi5jZW50ZXIpLGUuc2V0Wm9vbSYmZS5zZXRab29tKG4uem9vbSl9KSl9KSl9KHQpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyU2VyaWVzTW9kZWwodVQpLHQucmVnaXN0ZXJDaGFydFZpZXcod1QpLHQucmVnaXN0ZXJWaXN1YWwoQlQpLHQucmVnaXN0ZXJMYXlvdXQoSlQpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8c1QubGVuZ3RoO2UrKyl0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOnNUW2VdLHVwZGF0ZToidXBkYXRlVmlldyJ9LGFUKTt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0cmVlbWFwUm9vdFRvTm9kZSIsdXBkYXRlOiJ1cGRhdGVWaWV3In0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlbWFwIixxdWVyeTp0fSwoZnVuY3Rpb24oZSxuKXt2YXIgaT1KSSh0LFsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUm9vdFRvTm9kZSJdLGUpO2lmKGkpe3ZhciByPWUuZ2V0Vmlld1Jvb3QoKTtyJiYodC5kaXJlY3Rpb249dFQocixpLm5vZGUpPyJyb2xsVXAiOiJkcmlsbERvd24iKSxlLnJlc2V0Vmlld1Jvb3QoaS5ub2RlKX19KSl9KSl9KHQpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KCRDKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwockQpLHQucmVnaXN0ZXJQcm9jZXNzb3IockMpLHQucmVnaXN0ZXJWaXN1YWwob0MpLHQucmVnaXN0ZXJWaXN1YWwoc0MpLHQucmVnaXN0ZXJMYXlvdXQodkMpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuUE9TVF9DSEFSVF9MQVlPVVQsTUMpLHQucmVnaXN0ZXJMYXlvdXQoVEMpLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKCJncmFwaFZpZXciLHtkaW1lbnNpb25zOmZJLmRpbWVuc2lvbnMsY3JlYXRlOkNDfSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiZm9jdXNOb2RlQWRqYWNlbmN5IixldmVudDoiZm9jdXNOb2RlQWRqYWNlbmN5Iix1cGRhdGU6InNlcmllczpmb2N1c05vZGVBZGphY2VuY3kifSwoZnVuY3Rpb24oKXt9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLGV2ZW50OiJ1bmZvY3VzTm9kZUFkamFjZW5jeSIsdXBkYXRlOiJzZXJpZXM6dW5mb2N1c05vZGVBZGphY2VuY3kifSwoZnVuY3Rpb24oKXt9KSksdC5yZWdpc3RlckFjdGlvbihvRCwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgbj13SShlLmNvb3JkaW5hdGVTeXN0ZW0sdCk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG4uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShuLnpvb20pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGhEKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoY0QpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGZEKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoZ0QpLHQucmVnaXN0ZXJMYXlvdXQoeUQpLHQucmVnaXN0ZXJQcm9jZXNzb3IoeVMoImZ1bm5lbCIpKX0sZnVuY3Rpb24odCl7UW0oSEEpLHQucmVnaXN0ZXJDaGFydFZpZXcodkQpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbCh3RCksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5CUlVTSCxJRCl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoWEEpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChZQSksdC5yZWdpc3RlckxheW91dChaQSksdC5yZWdpc3RlclZpc3VhbChvTCksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiZHJhZ05vZGUiLGV2ZW50OiJkcmFnbm9kZSIsdXBkYXRlOiJ1cGRhdGUifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InNhbmtleSIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0Tm9kZVBvc2l0aW9uKHQuZGF0YUluZGV4LFt0LmxvY2FsWCx0LmxvY2FsWV0pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoc0wpLHQucmVnaXN0ZXJDaGFydFZpZXcobEwpLHQucmVnaXN0ZXJWaXN1YWwoZkwpLHQucmVnaXN0ZXJMYXlvdXQoeUwpLHQucmVnaXN0ZXJUcmFuc2Zvcm0odkwpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KF9MKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoTEwpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3Ioa0wpLHQucmVnaXN0ZXJWaXN1YWwoekwpLHQucmVnaXN0ZXJMYXlvdXQoVkwpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEhMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoV0wpLHQucmVnaXN0ZXJMYXlvdXQoWHcoImVmZmVjdFNjYXR0ZXIiKSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoJEwpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChlayksdC5yZWdpc3RlckxheW91dChLTCksdC5yZWdpc3RlclZpc3VhbChpayl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoYWspLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChzayl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoY2spLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChBayksdC5yZWdpc3RlckxheW91dChCKGx4LCJwaWN0b3JpYWxCYXIiKSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoTGspLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChrayksdC5yZWdpc3RlckxheW91dChQayksdC5yZWdpc3RlclByb2Nlc3Nvcih5UygidGhlbWVSaXZlciIpKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhFayksdC5yZWdpc3RlclNlcmllc01vZGVsKFZrKSx0LnJlZ2lzdGVyTGF5b3V0KEIoR2ssInN1bmJ1cnN0IikpLHQucmVnaXN0ZXJQcm9jZXNzb3IoQih5Uywic3VuYnVyc3QiKSksdC5yZWdpc3RlclZpc3VhbChXayksZnVuY3Rpb24odCl7dC5yZWdpc3RlckFjdGlvbih7dHlwZTpOayx1cGRhdGU6InVwZGF0ZVZpZXcifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTp0fSwoZnVuY3Rpb24oZSxuKXt2YXIgaT1KSSh0LFtOa10sZSk7aWYoaSl7dmFyIHI9ZS5nZXRWaWV3Um9vdCgpO3ImJih0LmRpcmVjdGlvbj10VChyLGkubm9kZSk/InJvbGxVcCI6ImRyaWxsRG93biIpLGUucmVzZXRWaWV3Um9vdChpLm5vZGUpfX0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOnprLHVwZGF0ZToibm9uZSJ9LChmdW5jdGlvbih0LGUsbil7dD1JKHt9LHQpLGUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToic3VuYnVyc3QiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgbj1KSSh0LFt6a10sZSk7biYmKHQuZGF0YUluZGV4PW4ubm9kZS5kYXRhSW5kZXgpfSkpLG4uZGlzcGF0Y2hBY3Rpb24oSSh0LHt0eXBlOiJoaWdobGlnaHQifSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InN1bmJ1cnN0VW5oaWdobGlnaHQiLHVwZGF0ZToidXBkYXRlVmlldyJ9LChmdW5jdGlvbih0LGUsbil7dD1JKHt9LHQpLG4uZGlzcGF0Y2hBY3Rpb24oSSh0LHt0eXBlOiJkb3ducGxheSJ9KSl9KSl9KHQpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEZQKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoQlApfV0pLFFtKChmdW5jdGlvbih0KXtRbShJTSksUW0oYVIpfSkpLFFtKChmdW5jdGlvbih0KXtRbShhUiksZE0ucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJQb2xhckF4aXNQb2ludGVyIixzUiksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oInBvbGFyIix4UiksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHVSKSx0LnJlZ2lzdGVyQ29tcG9uZW50Vmlldyh6UiksQlModCwiYW5nbGUiLGNSLFJSKSxCUyh0LCJyYWRpdXMiLHBSLE5SKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhJUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoQVIpLHQucmVnaXN0ZXJMYXlvdXQoQihPUiwiYmFyIikpfSkpLFFtKE1JKSxRbSgoZnVuY3Rpb24odCl7UW0oYVIpLGRNLnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiU2luZ2xlQXhpc1BvaW50ZXIiLHFSKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhRUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoRlIpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChIUiksQlModCwic2luZ2xlIixIUixIUi5kZWZhdWx0T3B0aW9uKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgic2luZ2xlIixZUil9KSksUW0oSEEpLFFtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwodE4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHJOKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgiY2FsZW5kYXIiLGFOKX0pKSxRbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGNOKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhwTiksdC5yZWdpc3RlclByZXByb2Nlc3NvcihoTil9KSksUW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChWTiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoRk4pLHpOKCJzYXZlQXNJbWFnZSIsR04pLHpOKCJtYWdpY1R5cGUiLFVOKSx6TigiZGF0YVZpZXciLCROKSx6TigiZGF0YVpvb20iLF96KSx6TigicmVzdG9yZSIsbnopLFFtKE9OKX0pKSxRbSgoZnVuY3Rpb24odCl7UW0oYVIpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh3eiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoV3opLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InNob3dUaXAiLGV2ZW50OiJzaG93VGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlTaG93VGlwIn0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImhpZGVUaXAiLGV2ZW50OiJoaWRlVGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlIaWRlVGlwIn0sKGZ1bmN0aW9uKCl7fSkpfSkpLFFtKGFSKSxRbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcoY0UpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChwRSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihqeiksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5CUlVTSCxhRSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2giLGV2ZW50OiJicnVzaCIsdXBkYXRlOiJ1cGRhdGVWaXN1YWwifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2Uuc2V0QXJlYXModC5hcmVhcyl9KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2hTZWxlY3QiLGV2ZW50OiJicnVzaFNlbGVjdGVkIix1cGRhdGU6Im5vbmUifSwoZnVuY3Rpb24oKXt9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToiYnJ1c2hFbmQiLGV2ZW50OiJicnVzaEVuZCIsdXBkYXRlOiJub25lIn0sKGZ1bmN0aW9uKCl7fSkpLHpOKCJicnVzaCIsZ0UpfSkpLFFtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoeUUpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KHZFKX0pKSxRbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKF9FKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhNRSksdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInRpbWVsaW5lIiwoZnVuY3Rpb24oKXtyZXR1cm4ic2xpZGVyIn0pKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0aW1lbGluZUNoYW5nZSIsZXZlbnQ6InRpbWVsaW5lQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXRDb21wb25lbnQoInRpbWVsaW5lIik7cmV0dXJuIG4mJm51bGwhPXQuY3VycmVudEluZGV4JiYobi5zZXRDdXJyZW50SW5kZXgodC5jdXJyZW50SW5kZXgpLCFuLmdldCgibG9vcCIsITApJiZuLmlzSW5kZXhNYXgoKSYmbi5zZXRQbGF5U3RhdGUoITEpKSxlLnJlc2V0T3B0aW9uKCJ0aW1lbGluZSIse3JlcGxhY2VNZXJnZTpuLmdldCgicmVwbGFjZU1lcmdlIiwhMCl9KSxUKHtjdXJyZW50SW5kZXg6bi5vcHRpb24uY3VycmVudEluZGV4fSx0KX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLGV2ZW50OiJ0aW1lbGluZVBsYXlDaGFuZ2VkIix1cGRhdGU6InVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO24mJm51bGwhPXQucGxheVN0YXRlJiZuLnNldFBsYXlTdGF0ZSh0LnBsYXlTdGF0ZSl9KSl9KHQpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoQ0UpfSkpLFFtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoUkUpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFhFKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtMRSh0LnNlcmllcywibWFya1BvaW50IikmJih0Lm1hcmtQb2ludD10Lm1hcmtQb2ludHx8e30pfSkpfSkpLFFtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoWUUpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KFFFKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtMRSh0LnNlcmllcywibWFya0xpbmUiKSYmKHQubWFya0xpbmU9dC5tYXJrTGluZXx8e30pfSkpfSkpLFFtKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwodFYpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGxWKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKChmdW5jdGlvbih0KXtMRSh0LnNlcmllcywibWFya0FyZWEiKSYmKHQubWFya0FyZWE9dC5tYXJrQXJlYXx8e30pfSkpfSkpLFFtKChmdW5jdGlvbih0KXtRbSh4ViksUW0oQ1YpfSkpLFFtKChmdW5jdGlvbih0KXtRbShCViksUW0oalYpfSkpLFFtKEJWKSxRbShqViksUW0oKGZ1bmN0aW9uKHQpe1FtKERCKSxRbShPQil9KSksUW0oREIpLFFtKE9CKSxRbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclByZXByb2Nlc3NvcihWQiksdC5yZWdpc3RlclZpc3VhbCh0LlBSSU9SSVRZLlZJU1VBTC5BUklBLEVCKX0pKSxRbSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclRyYW5zZm9ybShLQiksdC5yZWdpc3RlclRyYW5zZm9ybSgkQil9KSksUW0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChKQiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoUUIpfSkpLHQuQXhpcz1oYix0LkNoYXJ0Vmlldz1UZix0LkNvbXBvbmVudE1vZGVsPVhjLHQuQ29tcG9uZW50Vmlldz13Zix0Lkxpc3Q9TF8sdC5Nb2RlbD1PaCx0LlBSSU9SSVRZPUd2LHQuU2VyaWVzTW9kZWw9ZmYsdC5jb2xvcj10bix0LmNvbm5lY3Q9ZnVuY3Rpb24odCl7aWYoRih0KSl7dmFyIGU9dDt0PW51bGwsUnYoZSwoZnVuY3Rpb24oZSl7bnVsbCE9ZS5ncm91cCYmKHQ9ZS5ncm91cCl9KSksdD10fHwiZ18iK1BtKyssUnYoZSwoZnVuY3Rpb24oZSl7ZS5ncm91cD10fSkpfXJldHVybiBMbVt0XT0hMCx0fSx0LmRhdGFUb29sPXt9LHQuZGVwZW5kZW5jaWVzPXt6cmVuZGVyOiI1LjEuMSJ9LHQuZGlzQ29ubmVjdD1SbSx0LmRpc2Nvbm5lY3Q9Tm0sdC5kaXNwb3NlPWZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90PUFtW3RdOnQgaW5zdGFuY2VvZiB5bXx8KHQ9em0odCkpLHQgaW5zdGFuY2VvZiB5bSYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5lbnY9YSx0LmV4dGVuZENoYXJ0Vmlldz1mdW5jdGlvbih0KXt2YXIgZT1UZi5leHRlbmQodCk7cmV0dXJuIFRmLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT1YYy5leHRlbmQodCk7cmV0dXJuIFhjLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXdmLmV4dGVuZCh0KTtyZXR1cm4gd2YucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmV4dGVuZFNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPWZmLmV4dGVuZCh0KTtyZXR1cm4gZmYucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmZvcm1hdD1KeCx0LmdldENvb3JkaW5hdGVTeXN0ZW1EaW1lbnNpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPUFwLmdldCh0KTtpZihlKXJldHVybiBlLmdldERpbWVuc2lvbnNJbmZvP2UuZ2V0RGltZW5zaW9uc0luZm8oKTplLmRpbWVuc2lvbnMuc2xpY2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPXptLHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBBbVt0XX0sdC5nZXRNYXA9ZnVuY3Rpb24odCl7cmV0dXJuIGt2KHQpfSx0LmdyYXBoaWM9JHgsdC5oZWxwZXI9angsdC5pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT16bSh0KTtpZihpKXJldHVybiBpO3ZhciByPW5ldyB5bSh0LGUsbik7cmV0dXJuIHIuaWQ9ImVjXyIra20rKyxBbVtyLmlkXT1yLFZyKHQsT20sci5pZCksaG0ociksUnYoTW0sKGZ1bmN0aW9uKHQpe3Qocil9KSkscn0sdC5pbm5lckRyYXdFbGVtZW50T25DYW52YXM9a3ksdC5tYXRyaXg9cW4sdC5udW1iZXI9cXgsdC5wYXJzZUdlb0pTT049dnYsdC5wYXJzZUdlb0pzb249dnYsdC5yZWdpc3RlckFjdGlvbj1IbSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbT1XbSx0LnJlZ2lzdGVyTGF5b3V0PVVtLHQucmVnaXN0ZXJMb2FkaW5nPWptLHQucmVnaXN0ZXJMb2NhbGU9V2gsdC5yZWdpc3Rlck1hcD1xbSx0LnJlZ2lzdGVyUG9zdEluaXQ9Rm0sdC5yZWdpc3RlclBvc3RVcGRhdGU9R20sdC5yZWdpc3RlclByZXByb2Nlc3Nvcj1WbSx0LnJlZ2lzdGVyUHJvY2Vzc29yPUJtLHQucmVnaXN0ZXJUaGVtZT1FbSx0LnJlZ2lzdGVyVHJhbnNmb3JtPUttLHQucmVnaXN0ZXJWaXN1YWw9WG0sdC5zZXRDYW52YXNDcmVhdG9yPWZ1bmN0aW9uKHQpe20oImNyZWF0ZUNhbnZhcyIsdCl9LHQudGhyb3R0bGU9TmYsdC50aW1lPUt4LHQudXNlPVFtLHQudXRpbD1ReCx0LnZlY3Rvcj1FdCx0LnZlcnNpb249IjUuMS4yIix0LnpyVXRpbD1ndCx0LnpyZW5kZXI9VWksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwo="></script>
<script src="data:application/javascript;base64,IWZ1bmN0aW9uKHIsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sbik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuZWNTdGF0PW4oKTpyLmVjU3RhdD1uKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlKXtpZih0W2VdKXJldHVybiB0W2VdLmV4cG9ydHM7dmFyIG89dFtlXT17ZXhwb3J0czp7fSxpZDplLGxvYWRlZDohMX07cmV0dXJuIHJbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciB0PXt9O3JldHVybiBuLm09cixuLmM9dCxuLnA9IiIsbigwKX0oW2Z1bmN0aW9uKHIsbix0KXtyLmV4cG9ydHM9dCgxMil9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHI9bnVsbD09PXI/TmFOOityLCJudW1iZXIiPT10eXBlb2YgciYmIWlzTmFOKHIpfWZ1bmN0aW9uIHQocil7cmV0dXJuIGlzRmluaXRlKHIpJiZyPT09TWF0aC5yb3VuZChyKX1yZXR1cm57aXNOdW1iZXI6bixpc0ludGVnZXI6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbil7dmFyIHQ9ci5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7aWYobjw9MHx8dDwyKXJldHVybiByWzBdO2lmKG4+PTEpcmV0dXJuIHJbdC0xXTt2YXIgZT0odC0xKSpuLG89TWF0aC5mbG9vcihlKSxhPXJbb10sdT1yW28rMV07cmV0dXJuIGErKHUtYSkqKGUtbyl9fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPVtdO3Qocik7KW4ucHVzaChyLmxlbmd0aCkscj1yWzBdO3JldHVybiBufWZ1bmN0aW9uIHQocil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWwuY2FsbChyKX1mdW5jdGlvbiBlKHIsbil7Zm9yKHZhciB0PVtdLGU9MDtlPHI7ZSsrKXt0W2VdPVtdO2Zvcih2YXIgbz0wO288bjtvKyspdFtlXVtvXT0wfXJldHVybiB0fWZ1bmN0aW9uIG8ocil7Zm9yKHZhciBuPTAsdD0wO3Q8ci5sZW5ndGg7dCsrKW4rPXJbdF07cmV0dXJuIG59ZnVuY3Rpb24gYShyLG4pe2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoO2UrKyl0Kz1yW2VdW25dO3JldHVybiB0fWZ1bmN0aW9uIHUocixuKXtyZXR1cm4gcj5uPzE6cjxuPy0xOnI9PT1uPzA6TmFOfWZ1bmN0aW9uIGkocixuLHQsZSl7Zm9yKG51bGw9PXQmJih0PTApLG51bGw9PWUmJihlPXIubGVuZ3RoKTt0PGU7KXt2YXIgbz1NYXRoLmZsb29yKCh0K2UpLzIpLGE9dShyW29dLG4pO2lmKGE+MCllPW87ZWxzZXtpZighKGE8MCkpcmV0dXJuIG8rMTt0PW8rMX19cmV0dXJuIHR9ZnVuY3Rpb24gZihyLG4sdCl7aWYociYmbil7aWYoci5tYXAmJnIubWFwPT09aClyZXR1cm4gci5tYXAobix0KTtmb3IodmFyIGU9W10sbz0wLGE9ci5sZW5ndGg7bzxhO28rKyllLnB1c2gobi5jYWxsKHQscltvXSxvLHIpKTtyZXR1cm4gZX19dmFyIGw9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPUFycmF5LnByb3RvdHlwZSxoPXMubWFwO3JldHVybntzaXplOm4saXNBcnJheTp0LHplcm9zOmUsc3VtOm8sc3VtT2ZDb2x1bW46YSxhc2NlbmRpbmc6dSxiaXNlY3Q6aSxtYXA6Zn19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtpZighbyhyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlLCB5b3Ugc2hvdWxkIGlucHV0IGFuIGFycmF5Iik7dmFyIG49W10sdD1hKHIpO2lmKDE9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKWkocltlXSkmJm4ucHVzaChyW2VdKTtlbHNlIGlmKDI9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKXtmb3IodmFyIHU9ITAsZj0wO2Y8dFsxXTtmKyspaShyW2VdW2ZdKXx8KHU9ITEpO3UmJm4ucHVzaChyW2VdKX1yZXR1cm4gbn12YXIgZT10KDMpLG89ZS5pc0FycmF5LGE9ZS5zaXplLHU9dCgxKSxpPXUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7dmFyIG49dCg5KTtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9bihyKTtyZXR1cm4gdD9NYXRoLnNxcnQodCk6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtmb3IodmFyIG49LSgxLzApLHQ9MDt0PHIubGVuZ3RoO3QrKylvKHJbdF0pJiZyW3RdPm4mJihuPXJbdF0pO3JldHVybiBufXZhciBlPXQoMSksbz1lLmlzTnVtYmVyO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7dmFyIG49ci5sZW5ndGg7cmV0dXJuIG4/ZShyKS9yLmxlbmd0aDowfXZhciBlPXQoMTApO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPTEvMCx0PTA7dDxyLmxlbmd0aDt0KyspbyhyW3RdKSYmclt0XTxuJiYobj1yW3RdKTtyZXR1cm4gbn12YXIgZT10KDEpLG89ZS5pc051bWJlcjtyZXR1cm4gbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxuPDIpcmV0dXJuIDA7aWYoci5sZW5ndGg+PTIpe2Zvcih2YXIgdCxlPWEociksdT0wLGk9MDtpPHIubGVuZ3RoO2krKylvKHJbaV0pJiYodD1yW2ldLWUsdSs9dCp0KTtyZXR1cm4gdS9yLmxlbmd0aC0xfX12YXIgZT10KDEpLG89ZS5pc051bWJlcixhPXQoNyk7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXt2YXIgbj1yLmxlbmd0aDtpZighbilyZXR1cm4gMDtmb3IodmFyIHQ9MCxlPTA7ZTxuO2UrKylvKHJbZV0pJiYodCs9cltlXSk7cmV0dXJuIHR9dmFyIGU9dCgxKSxvPWUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe2Zvcih2YXIgdCxvLGksZixzPWwociksaD1jKHNbMF0sMiksdj1hKHIsbikscD0hMDtwOyl7cD0hMTtmb3IodmFyIGQ9MDtkPHNbMF07ZCsrKXt0PTEvMCxvPS0xO2Zvcih2YXIgTT0wO008bjtNKyspaT11KHJbZF0sdltNXSksaTx0JiYodD1pLG89TSk7aFtkXVswXSE9PW8mJihwPSEwKSxoW2RdWzBdPW8saFtkXVsxXT1nKHQsMil9Zm9yKHZhciBkPTA7ZDxuO2QrKyl7Zj1bXTtmb3IodmFyIE09MDtNPGgubGVuZ3RoO00rKyloW01dWzBdPT09ZCYmZi5wdXNoKHJbTV0pO3ZbZF09ZShmKX19dmFyIHg9e2NlbnRyb2lkczp2LGNsdXN0ZXJBc3NpZ25lZDpofTtyZXR1cm4geH1mdW5jdGlvbiBlKHIpe2Zvcih2YXIgbix0LGU9bChyKSxvPVtdLGE9MDthPGVbMV07YSsrKXtuPTA7Zm9yKHZhciB1PTA7dTxlWzBdO3UrKyluKz1yW3VdW2FdO3Q9bi9lWzBdLG8ucHVzaCh0KX1yZXR1cm4gb31mdW5jdGlvbiBvKHIsdCxvKXtmdW5jdGlvbiBhKCl7aWYoRTx0KXt5PTEvMDtmb3IodmFyIHIsZSxvLGE9MDthPHgubGVuZ3RoO2ErKyl7Yj1bXSx3PVtdO2Zvcih2YXIgdT0wO3U8ZC5sZW5ndGg7dSsrKWRbdV1bMF09PT1hP2IucHVzaCh2W3VdKTp3LnB1c2goZFt1XVsxXSk7Tj1uKGIsMiksQT1zKE4uY2x1c3RlckFzc2lnbmVkLDEpLHE9aCh3KSxBK3E8eSYmKHk9cStBLHI9YSxlPU4uY2VudHJvaWRzLG89Ti5jbHVzdGVyQXNzaWduZWQpfWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKTA9PT1vW3VdWzBdP29bdV1bMF09cjoxPT09b1t1XVswXSYmKG9bdV1bMF09eC5sZW5ndGgpO2Zvcih4W3JdPWVbMF0seC5wdXNoKGVbMV0pLHU9MCxhPTA7dTxkLmxlbmd0aCYmYTxvLmxlbmd0aDt1KyspZFt1XVswXT09PXImJihkW3VdWzBdPW9bYV1bMF0sZFt1XVsxXT1vW2ErK11bMV0pO2Zvcih2YXIgaT1bXSx1PTA7dTx4Lmxlbmd0aDt1Kyspe2lbdV09W107Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXVswXT09PXUmJmlbdV0ucHVzaCh2W2FdKX1qLmNsdXN0ZXJBc3NtZW50PWQsai5jZW50cm9pZHM9eCxqLnBvaW50c0luQ2x1c3Rlcj1pLEUrK31lbHNlIGouaXNFbmQ9ITA7cmV0dXJuIGp9Zm9yKHZhciBmLHY9aShyKSxwPWwodiksZD1jKHBbMF0sMiksTT1lKHYpLHg9W01dLG09MDttPHBbMF07bSsrKWY9dSh2W21dLE0pLGRbbV1bMV09ZyhmLDIpO3ZhciB5LGIsdyxOLEEscSxFPTEsaj17aXNFbmQ6ITF9LHo9e25leHQ6YX07aWYobylyZXR1cm4gejtmb3IodmFyIGo7IShqPXoubmV4dCgpKS5pc0VuZDspO3JldHVybiBqfWZ1bmN0aW9uIGEocixuKXtmb3IodmFyIHQsZSxvLGE9bChyKSx1PWMobixhWzFdKSxpPTA7aTxhWzFdO2krKyl7dD1yWzBdW2ldLGU9clswXVtpXTtmb3IodmFyIGY9MTtmPGFbMF07ZisrKXJbZl1baV08dCYmKHQ9cltmXVtpXSkscltmXVtpXT5lJiYoZT1yW2ZdW2ldKTtvPWUtdDtmb3IodmFyIGY9MDtmPG47ZisrKXVbZl1baV09dCtvKk1hdGgucmFuZG9tKCl9cmV0dXJuIHV9ZnVuY3Rpb24gdShyLG4pe2lmKCF2KHIpJiYhdihuKSlyZXR1cm4gcChnKHItbiwyKSk7Zm9yKHZhciB0PTAsZT0wO2U8ci5sZW5ndGg7ZSsrKXQrPWcocltlXS1uW2VdLDIpO3JldHVybiBwKHQpfXZhciBpPXQoNCksZj10KDMpLGw9Zi5zaXplLHM9Zi5zdW1PZkNvbHVtbixoPWYuc3VtLGM9Zi56ZXJvcyx2PWYuaXNBcnJheSxwPU1hdGguc3FydCxnPU1hdGgucG93O3JldHVybntrTWVhbnM6bixoaWVyYXJjaGljYWxLTWVhbnM6b319LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJue2NsdXN0ZXJpbmc6dCgxMSkscmVncmVzc2lvbjp0KDE0KSxzdGF0aXN0aWNzOnQoMTUpLGhpc3RvZ3JhbTp0KDEzKX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe249bnVsbD09bj9wLnNxdWFyZVJvb3Q6cFtuXTtmb3IodmFyIHQ9aShyKSxhPWUodCksdT1vKHQpLGY9bih0LHUsYSksbD12KHUsYSxmKSxnPWgoTWF0aC5jZWlsKHUvbCkqbCxNYXRoLmZsb29yKGEvbCkqbCxsKSxkPWcubGVuZ3RoLE09bmV3IEFycmF5KGQrMSkseD0wO3g8PWQ7eCsrKU1beF09e30sTVt4XS5zYW1wbGU9W10sTVt4XS54MD14PjA/Z1t4LTFdOmdbeF0tdT09PWw/dTpnW3hdLWwsTVt4XS54MT14PGQ/Z1t4XTphLWdbeC0xXT09PWw/YTpnW3gtMV0rbDtmb3IodmFyIHg9MDt4PHQubGVuZ3RoO3grKyl1PD10W3hdJiZ0W3hdPD1hJiZNW2MoZyx0W3hdLDAsZCldLnNhbXBsZS5wdXNoKHRbeF0pO3ZhciByPXMoTSxmdW5jdGlvbihyKXtyZXR1cm5bKHIueDArci54MSkvMixyLnNhbXBsZS5sZW5ndGhdfSk7cmV0dXJue2JpbnM6TSxkYXRhOnJ9fXZhciBlPXQoNiksbz10KDgpLGE9dCgyKSx1PXQoNSksaT10KDQpLGY9dCgzKSxsPWYuYXNjZW5kaW5nLHM9Zi5tYXAsaD10KDE3KSxjPWYuYmlzZWN0LHY9dCgxOCkscD17c3F1YXJlUm9vdDpmdW5jdGlvbihyKXt2YXIgbj1NYXRoLmNlaWwoTWF0aC5zcXJ0KHIubGVuZ3RoKSk7cmV0dXJuIG4+NTA/NTA6bn0sc2NvdHQ6ZnVuY3Rpb24ocixuLHQpe3JldHVybiBNYXRoLmNlaWwoKHQtbikvKDMuNSp1KHIpKk1hdGgucG93KHIubGVuZ3RoLC0xLzMpKSl9LGZyZWVkbWFuRGlhY29uaXM6ZnVuY3Rpb24ocixuLHQpe3JldHVybiByLnNvcnQobCksTWF0aC5jZWlsKCh0LW4pLygyKihhKHIsLjc1KS1hKHIsLjI1KSkqTWF0aC5wb3coci5sZW5ndGgsLTEvMykpKX0sc3R1cmdlczpmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKHIubGVuZ3RoKS9NYXRoLkxOMikrMX19O3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocixuKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoLTE7dCsrKXtmb3IodmFyIGU9dCxvPXQrMTtvPHIubGVuZ3RoLTE7bysrKU1hdGguYWJzKHJbdF1bb10pPk1hdGguYWJzKHJbdF1bZV0pJiYoZT1vKTtmb3IodmFyIGE9dDthPHIubGVuZ3RoO2ErKyl7dmFyIHU9clthXVt0XTtyW2FdW3RdPXJbYV1bZV0sclthXVtlXT11fWZvcih2YXIgaT10KzE7aTxyLmxlbmd0aC0xO2krKylmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj10O2YtLSlyW2ZdW2ldLT1yW2ZdW3RdL3JbdF1bdF0qclt0XVtpXX1mb3IodmFyIGw9bmV3IEFycmF5KG4pLHM9ci5sZW5ndGgtMSxvPXIubGVuZ3RoLTI7bz49MDtvLS0pe2Zvcih2YXIgdT0wLHQ9bysxO3Q8ci5sZW5ndGgtMTt0KyspdSs9clt0XVtvXSpsW3RdO2xbb109KHJbc11bb10tdSkvcltvXVtvXX1yZXR1cm4gbH12YXIgZT10KDQpLG89e2xpbmVhcjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MCx1PTAsaT1uLmxlbmd0aCxmPTA7ZjxpO2YrKyl0Kz1uW2ZdWzBdLG8rPW5bZl1bMV0sYSs9bltmXVswXSpuW2ZdWzFdLHUrPW5bZl1bMF0qbltmXVswXTtmb3IodmFyIGw9KGkqYS10Km8pLyhpKnUtdCp0KSxzPW8vaS1sKnQvaSxoPVtdLGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHY9W25bY11bMF0sbCpuW2NdWzBdK3NdO2gucHVzaCh2KX12YXIgcD0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyJ4ICsgIitNYXRoLnJvdW5kKDEwMCpzKS8xMDA7cmV0dXJue3BvaW50czpoLHBhcmFtZXRlcjp7Z3JhZGllbnQ6bCxpbnRlcmNlcHQ6c30sZXhwcmVzc2lvbjpwfX0sbGluZWFyVGhyb3VnaE9yaWdpbjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MDthPG4ubGVuZ3RoO2ErKyl0Kz1uW2FdWzBdKm5bYV1bMF0sbys9blthXVswXSpuW2FdWzFdO2Zvcih2YXIgdT1vL3QsaT1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBsPVtuW2ZdWzBdLG5bZl1bMF0qdV07aS5wdXNoKGwpfXZhciBzPSJ5ID0gIitNYXRoLnJvdW5kKDEwMCp1KS8xMDArIngiO3JldHVybntwb2ludHM6aSxwYXJhbWV0ZXI6e2dyYWRpZW50OnV9LGV4cHJlc3Npb246c319LGV4cG9uZW50aWFsOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTAsZj0wLGw9MDtsPG4ubGVuZ3RoO2wrKyl0Kz1uW2xdWzBdLG8rPW5bbF1bMV0sZis9bltsXVswXSpuW2xdWzFdLGErPW5bbF1bMF0qbltsXVswXSpuW2xdWzFdLHUrPW5bbF1bMV0qTWF0aC5sb2cobltsXVsxXSksaSs9bltsXVswXSpuW2xdWzFdKk1hdGgubG9nKG5bbF1bMV0pO2Zvcih2YXIgcz1vKmEtZipmLGg9TWF0aC5wb3coTWF0aC5FLChhKnUtZippKS9zKSxjPShvKmktZip1KS9zLHY9W10scD0wO3A8bi5sZW5ndGg7cCsrKXt2YXIgZz1bbltwXVswXSxoKk1hdGgucG93KE1hdGguRSxjKm5bcF1bMF0pXTt2LnB1c2goZyl9dmFyIGQ9InkgPSAiK01hdGgucm91bmQoMTAwKmgpLzEwMCsiZV4oIitNYXRoLnJvdW5kKDEwMCpjKS8xMDArIngpIjtyZXR1cm57cG9pbnRzOnYscGFyYW1ldGVyOntjb2VmZmljaWVudDpoLGluZGV4OmN9LGV4cHJlc3Npb246ZH19LGxvZ2FyaXRobWljOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTA7aTxuLmxlbmd0aDtpKyspdCs9TWF0aC5sb2cobltpXVswXSksbys9bltpXVsxXSpNYXRoLmxvZyhuW2ldWzBdKSxhKz1uW2ldWzFdLHUrPU1hdGgucG93KE1hdGgubG9nKG5baV1bMF0pLDIpO2Zvcih2YXIgZj0oaSpvLWEqdCkvKGkqdS10KnQpLGw9KGEtZip0KS9pLHM9W10saD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgYz1bbltoXVswXSxmKk1hdGgubG9nKG5baF1bMF0pK2xdO3MucHVzaChjKX12YXIgdj0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyIgKyAiK01hdGgucm91bmQoMTAwKmYpLzEwMCsibG4oeCkiO3JldHVybntwb2ludHM6cyxwYXJhbWV0ZXI6e2dyYWRpZW50OmYsaW50ZXJjZXB0Omx9LGV4cHJlc3Npb246dn19LHBvbHlub21pYWw6ZnVuY3Rpb24ocix0KXt2YXIgbz1lKHIpOyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9Mik7Zm9yKHZhciBhPVtdLHU9W10saT10KzEsZj0wO2Y8aTtmKyspe2Zvcih2YXIgbD0wLHM9MDtzPG8ubGVuZ3RoO3MrKylsKz1vW3NdWzFdKk1hdGgucG93KG9bc11bMF0sZik7dS5wdXNoKGwpO2Zvcih2YXIgaD1bXSxjPTA7YzxpO2MrKyl7Zm9yKHZhciB2PTAscD0wO3A8by5sZW5ndGg7cCsrKXYrPU1hdGgucG93KG9bcF1bMF0sZitjKTtoLnB1c2godil9YS5wdXNoKGgpfWEucHVzaCh1KTtmb3IodmFyIGc9bihhLGkpLGQ9W10sZj0wO2Y8by5sZW5ndGg7ZisrKXtmb3IodmFyIE09MCxzPTA7czxnLmxlbmd0aDtzKyspTSs9Z1tzXSpNYXRoLnBvdyhvW2ZdWzBdLHMpO2QucHVzaChbb1tmXVswXSxNXSl9Zm9yKHZhciB4PSJ5ID0gIixmPWcubGVuZ3RoLTE7Zj49MDtmLS0peCs9Zj4xP01hdGgucm91bmQoZ1tmXSpNYXRoLnBvdygxMCxmKzEpKS9NYXRoLnBvdygxMCxmKzEpKyJ4XiIrZisiICsgIjoxPT09Zj9NYXRoLnJvdW5kKDEwMCpnW2ZdKS8xMDArInggKyAiOk1hdGgucm91bmQoMTAwKmdbZl0pLzEwMDtyZXR1cm57cG9pbnRzOmQscGFyYW1ldGVyOmcsZXhwcmVzc2lvbjp4fX19LGE9ZnVuY3Rpb24ocixuLHQpe3JldHVybiBvW3JdKG4sdCl9O3JldHVybiBhfS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe3ZhciBuPXt9O3JldHVybiBuLm1heD10KDYpLG4uZGV2aWF0aW9uPXQoNSksbi5tZWFuPXQoNyksbi5tZWRpYW49dCgxNiksbi5taW49dCg4KSxuLm1heD10KDIpLG4ubWF4PXQoOSksbi5zdW09dCgxMCksbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3JldHVybiBlKHIsLjUpfXZhciBlPXQoMik7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2U8Mj8obj1yLHI9MCx0PTEpOnQ9ZTwzPzE6K3Q7Zm9yKHZhciBvPU1hdGguY2VpbCgobi1yKS90KSxhPW5ldyBBcnJheShvKzEpLHU9MDt1PG8rMTt1KyspYVt1XT1yK3UqdDtyZXR1cm4gYX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1NYXRoLmFicyhuLXIpL3Qsbz1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4xMCkpLGE9ZS9vO3JldHVybiBhPj1NYXRoLnNxcnQoNTApP28qPTEwOmE+PU1hdGguc3FydCgxMCk/byo9NTphPj1NYXRoLnNxcnQoMikmJihvKj0yKSxuPj1yP286LW99fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9XSl9KTs="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJlY2hhcnRzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImVjaGFydHMiXSx0KTp0KChlPWV8fHNlbGYpLmRhdGFUb29sPXt9LGUuZWNoYXJ0cyl9KHRoaXMsZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9QXJyYXkucHJvdG90eXBlLGk9ci5zbGljZSxsPXIubWFwLG89ZnVuY3Rpb24oKXt9LmNvbnN0cnVjdG9yLHI9bz9vLnByb3RvdHlwZTpudWxsO2Z1bmN0aW9uIGEoZSx0LHIpe2lmKCFlKXJldHVybltdO2lmKCF0KXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gaS5hcHBseShlLHQpfShlKTtpZihlLm1hcCYmZS5tYXA9PT1sKXJldHVybiBlLm1hcCh0LHIpO2Zvcih2YXIgbz1bXSxuPTAsYT1lLmxlbmd0aDtuPGE7bisrKW8ucHVzaCh0LmNhbGwocixlW25dLG4sZSkpO3JldHVybiBvfXImJiJmdW5jdGlvbiI9PXR5cGVvZiByLmJpbmQmJnIuY2FsbC5iaW5kKHIuYmluZCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPWUuZmlyc3RDaGlsZDtyOyl7aWYoMT09PXIubm9kZVR5cGUmJnIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKSlyZXR1cm4gcjtyPXIubmV4dFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1lLmZpcnN0Q2hpbGQsbz1bXTtyOylyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkmJm8ucHVzaChyKSxyPXIubmV4dFNpYmxpbmc7cmV0dXJuIG99bz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpmdW5jdGlvbihlKXtpZighKHQ9InN0cmluZyI9PXR5cGVvZiBlPyhuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKTplKXx8dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpcmV0dXJuIG51bGw7aWYoIShlPWModCwiZ2V4ZiIpKSlyZXR1cm4gbnVsbDtmb3IodmFyIGYsdD1jKGUsImdyYXBoIikscj0oZT1jKHQsImF0dHJpYnV0ZXMiKSk/YShkKGUsImF0dHJpYnV0ZSIpLGZ1bmN0aW9uKGUpe3JldHVybntpZDpwKGUsImlkIiksdGl0bGU6cChlLCJ0aXRsZSIpLHR5cGU6cChlLCJ0eXBlIil9fSk6W10sbz17fSxuPTA7bjxyLmxlbmd0aDtuKyspb1tyW25dLmlkXT1yW25dO3JldHVybntub2RlczooZT1jKHQsIm5vZGVzIiksZj1vLGU/YShkKGUsIm5vZGUiKSxmdW5jdGlvbihlKXt2YXIgdD17aWQ6cChlLCJpZCIpLG5hbWU6cChlLCJsYWJlbCIpLGl0ZW1TdHlsZTp7bm9ybWFsOnt9fX0scj1jKGUsInZpejpzaXplIiksbz1jKGUsInZpejpwb3NpdGlvbiIpLG49YyhlLCJ2aXo6Y29sb3IiKSxlPWMoZSwiYXR0dmFsdWVzIik7aWYociYmKHQuc3ltYm9sU2l6ZT1wYXJzZUZsb2F0KHAociwidmFsdWUiKSkpLG8mJih0Lng9cGFyc2VGbG9hdChwKG8sIngiKSksdC55PXBhcnNlRmxvYXQocChvLCJ5IikpKSxuJiYodC5pdGVtU3R5bGUubm9ybWFsLmNvbG9yPSJyZ2IoIitbMHxwKG4sInIiKSwwfHAobiwiZyIpLDB8cChuLCJiIildLmpvaW4oIiwiKSsiKSIpLGUpe3ZhciBhPWQoZSwiYXR0dmFsdWUiKTt0LmF0dHJpYnV0ZXM9e307Zm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBsPWFbaV0sdT1wKGwsImZvciIpLHM9cChsLCJ2YWx1ZSIpLGw9Zlt1XTtpZihsKXtzd2l0Y2gobC50eXBlKXtjYXNlImludGVnZXIiOmNhc2UibG9uZyI6cz1wYXJzZUludChzLDEwKTticmVhaztjYXNlImZsb2F0IjpjYXNlImRvdWJsZSI6cz1wYXJzZUZsb2F0KHMpO2JyZWFrO2Nhc2UiYm9vbGVhbiI6cz0idHJ1ZSI9PT1zLnRvTG93ZXJDYXNlKCl9dC5hdHRyaWJ1dGVzW3VdPXN9fX1yZXR1cm4gdH0pOltdKSxsaW5rczoodD1jKHQsImVkZ2VzIikpP2EoZCh0LCJlZGdlIiksZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOnAoZSwiaWQiKSxuYW1lOnAoZSwibGFiZWwiKSxzb3VyY2U6cChlLCJzb3VyY2UiKSx0YXJnZXQ6cChlLCJ0YXJnZXQiKSxsaW5lU3R5bGU6e25vcm1hbDp7fX19LHI9dC5saW5lU3R5bGUubm9ybWFsLG89YyhlLCJ2aXo6dGhpY2tuZXNzIiksZT1jKGUsInZpejpjb2xvciIpO3JldHVybiBvJiYoci53aWR0aD1wYXJzZUZsb2F0KG8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSksZSYmKHIuY29sb3I9InJnYigiK1swfHAoZSwiciIpLDB8cChlLCJnIiksMHxwKGUsImIiKV0uam9pbigiLCIpKyIpIiksdH0pOltdfX19KTtmdW5jdGlvbiB5KGUsdCl7dmFyIHI9KGUubGVuZ3RoLTEpKnQrMSxvPU1hdGguZmxvb3IociksdD0rZVtvLTFdLHI9ci1vO3JldHVybiByP3QrciooZVtvXS10KTp0fWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHI9W10sbz1bXSxuPVtdLGE9KHQ9dHx8e30pLmJvdW5kSVFSLGk9Im5vbmUiPT09YXx8MD09PWEsbD0wO2w8ZS5sZW5ndGg7bCsrKXtuLnB1c2gobCsiIik7dmFyIHU9KChnPWVbbF0uc2xpY2UoKSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSxnKSxzPXkodSwuMjUpLGY9eSh1LC41KSxwPXkodSwuNzUpLGM9dVswXSxkPXVbdS5sZW5ndGgtMV0sZz0obnVsbD09YT8xLjU6YSkqKHAtcyksdj1pP2M6TWF0aC5tYXgoYyxzLWcpLGI9aT9kOk1hdGgubWluKGQscCtnKTtyLnB1c2goW3YscyxmLHAsYl0pO2Zvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgbT11W2hdOyhtPHZ8fGI8bSkmJihtPVtsLG1dLCJ2ZXJ0aWNhbCI9PT10LmxheW91dCYmbS5yZXZlcnNlKCksby5wdXNoKG0pKX19cmV0dXJue2JveERhdGE6cixvdXRsaWVyczpvLGF4aXNEYXRhOm59fXI9IjEuMC4wIjt0LmRhdGFUb29sJiYodC5kYXRhVG9vbC52ZXJzaW9uPXIsdC5kYXRhVG9vbC5nZXhmPW8sdC5kYXRhVG9vbC5wcmVwYXJlQm94cGxvdERhdGE9biksZS5nZXhmPW8sZS5wcmVwYXJlQm94cGxvdERhdGE9bixlLnZlcnNpb249cixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KTs="></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ2VjaGFydHM0cicsCgogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgCiAgICB2YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgICB2YXIgY2hhcnQsb3B0czsKCiAgICBjb25zdCBldmFsRnVuID0gKHNvdXJjZU9wdHMpID0+IHsKICAgICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzb3VyY2VPcHRzKTsKICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgaWYgKG9wdHNba2V5XSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGV2YWxGdW4ob3B0c1trZXldKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgb3B0c1trZXldID0gZXZhbCgnKCcgKyBvcHRzW2tleV0gKyAnKScpOwogICAgICAgICAgICB9IGNhdGNoIHsgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybihvcHRzKTsKICAgIH0KICAgIAogICAgcmV0dXJuIHsKCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7CiAgICAgICAgCiAgICAgICAgaWYoeC5kaXNwb3NlID09PSB0cnVlKXsKICAgICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSk7CiAgICAgICAgICBjaGFydC5kaXNwb3NlKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgIGlmKHgudGhlbWUyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIHRoID0gSlNPTi5wYXJzZSh4LmN1c3RvbVRoZW1lKTsKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3RlclRoZW1lKHgudGhlbWVfbmFtZSwgdGgpOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgfQoKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdyZWdpc3Rlck1hcCcpKXsKICAgICAgICAgIGZvciggdmFyIG1hcCA9IDA7IG1hcCA8IHgucmVnaXN0ZXJNYXAubGVuZ3RoOyBtYXArKyl7CiAgICAgICAgICAgIGVjaGFydHMucmVnaXN0ZXJNYXAoeC5yZWdpc3Rlck1hcFttYXBdLm1hcE5hbWUsIHgucmVnaXN0ZXJNYXBbbWFwXS5nZW9KU09OKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnbWFwYm94VG9rZW4nKSl7CiAgICAgICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHgubWFwYm94VG9rZW47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSwgeC50aGVtZSwgeC5tYWluT3B0cyk7CiAgICAgICAgCiAgICAgICAgb3B0cyA9IGV2YWxGdW4oeC5vcHRzKTsKICAgICAgICAKICAgICAgICBpZih4LmRyYXcgPT09IHRydWUpCiAgICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cyk7CiAgICAgICAgCiAgICAgICAgLy8gc2hpbnkgY2FsbGJhY2tzCiAgICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkgewogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2hzZWxlY3RlZCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19icnVzaCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2giLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfYnJ1c2hfcmVsZWFzZWQnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIGNoYXJ0Lm9uKCJsZWdlbmRzZWxlY3RjaGFuZ2VkIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9jaGFuZ2UnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUubmFtZSk7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9zZWxlY3RlZCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZWxlY3RlZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oImdsb2JhbG91dCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19nbG9iYWxfb3V0JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjYXB0dXJlJykpewogICAgICAgICAgICBjaGFydC5vbih4LmNhcHR1cmUsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnXycgKyB4LmNhcHR1cmUgKyAiOmVjaGFydHM0clBhcnNlIiwgZSwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiY2xpY2siLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEsIHtwcmlvcml0eTogJ2V2ZW50J30pOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19jbGlja2VkX3JvdycgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhSW5kZXggKyAxLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9zZXJpZScgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZXJpZXNOYW1lLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX21vdXNlb3Zlcl9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfcm93JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGFJbmRleCArIDEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfc2VyaWUnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuc2VyaWVzTmFtZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnJlY2FsY3VsYXRpbmcnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHguaGlkZVdoaXRlID09PSB0cnVlKXsKICAgICAgICAgICAgICB2YXIgY3NzID0gJy5yZWNhbGN1bGF0aW5nIHtvcGFjaXR5OiAxLjAgIWltcG9ydGFudDsgfScsCiAgICAgICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sCiAgICAgICAgICAgICAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICAgICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCl7CiAgICAgICAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYoeC5sb2FkaW5nID09PSB0cnVlKXsKICAgICAgICAgICAgICBjaGFydC5zaG93TG9hZGluZygnZGVmYXVsdCcsIHgubG9hZGluZ09wdHMpOwogICAgICAgICAgICB9IGVsc2UgaWYoeC5sb2FkaW5nID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnZhbHVlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdCcpKXsKICAgICAgICAgIHZhciBjb25uZWN0aW9ucyA9IFtdOwogICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IHguY29ubmVjdC5sZW5ndGg7IGMrKyl7CiAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goZ2V0X2VfY2hhcnRzKHguY29ubmVjdFtjXSkpOwogICAgICAgICAgfQogICAgICAgICAgY29ubmVjdGlvbnMucHVzaChjaGFydCk7CiAgICAgICAgICBlY2hhcnRzLmNvbm5lY3QoY29ubmVjdGlvbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBhY3Rpb25zCiAgICAgICAgaWYoeC5ldmVudHMubGVuZ3RoID49IDEpewogICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHguZXZlbnRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oeC5ldmVudHNbaV0uZGF0YSk7CiAgICAgICAgICB9ICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gYnV0dG9ucwogICAgICAgIHZhciBidXR0b25zID0geC5idXR0b25zOwogICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLm1hcCggZnVuY3Rpb24oYnV0dG9uSWQpewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgCiAgICAgICAgICAgIChmdW5jdGlvbihpZCkgewogICAgICAgICAgICAgIGNvbnN0IHNjb3BlZF9pZCA9IGlkOwogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGJ1dHRvbnNbc2NvcGVkX2lkXS5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsKICAgICAgICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZWwuZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgICkoYnV0dG9uSWQpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnb24nKSl7CiAgICAgICAgICBmb3IodmFyIGUgPSAwOyBlIDwgeC5vbi5sZW5ndGg7IGUrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9uKHgub25bZV0uZXZlbnQsIHgub25bZV0ucXVlcnksIHgub25bZV0uaGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ29mZicpKXsKICAgICAgICAgIGZvcih2YXIgZXYgPSAwOyBldiA8IHgub2ZmLmxlbmd0aDsgZXYrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9mZih4Lm9mZltldl0uZXZlbnQsIHgub2ZmW2V2XS5xdWVyeSwgeC5vZmZbZXZdLmhhbmRsZXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjaGFydEdyb3VwJykpewogICAgICAgICAgY2hhcnQuZ3JvdXAgPSB4LmNoYXJ0R3JvdXA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwQ29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuY29ubmVjdCh4Lmdyb3VwQ29ubmVjdCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwRGlzY29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuZGlzY29ubmVjdCh4Lmdyb3VwRGlzY29ubmVjdCk7CiAgICAgICAgfQoKICAgICAgfSwKICAgICAgCiAgICAgIGdldENoYXJ0OiBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBjaGFydDsKICAgICAgfSwKICAgICAgCiAgICAgIGdldE9wdHM6IGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIG9wdHM7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgaWYoY2hhcnQpewogICAgICAgICAgY2hhcnQucmVzaXplKHt3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSk7CiAgICAgICAgfQoKICAgICAgfQoKICAgIH07CiAgfQp9KTsKCmZ1bmN0aW9uIGdldF9lX2NoYXJ0cyhpZCl7CgogIHZhciBodG1sV2lkZ2V0c09iaiA9IEhUTUxXaWRnZXRzLmZpbmQoIiMiICsgaWQpOwoKICB2YXIgZWNoYXJ0czsKCiAgaWYgKHR5cGVvZiBodG1sV2lkZ2V0c09iaiAhPSAndW5kZWZpbmVkJykgewogICAgZWNoYXJ0cyA9IGh0bWxXaWRnZXRzT2JqLmdldENoYXJ0KCk7CiAgfQoKICByZXR1cm4oZWNoYXJ0cyk7Cn0KCmZ1bmN0aW9uIGdldF9lX2NoYXJ0c19vcHRzKGlkKXsKCiAgdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7CgogIHZhciBlY2hhcnRzOwoKICBpZiAodHlwZW9mIGh0bWxXaWRnZXRzT2JqICE9ICd1bmRlZmluZWQnKSB7CiAgICBlY2hhcnRzID0gaHRtbFdpZGdldHNPYmouZ2V0T3B0cygpOwogIH0KCiAgcmV0dXJuKGVjaGFydHMpOwp9CgpmdW5jdGlvbiBkaXN0aW5jdCh2YWx1ZSwgaW5kZXgsIHNlbGYpIHsgCiAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4Owp9CgpmdW5jdGlvbiBybV91bmRlZmluZWQoZWwpewogIHJldHVybiBlbCAhPSB1bmRlZmluZWQ7Cn0KCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAKICAvLyBEUkFXCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZHJhd19wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICB2YXIgb3B0cyA9IGdldF9lX2NoYXJ0c19vcHRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdHMpOwogICAgICB9CiAgfSk7CiAgCiAgLy8gSElHSExJR0hUIEFORCBET1dOUExBWQogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2hpZ2hsaWdodF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ2hpZ2hsaWdodCcsCiAgICAgICAgICBzZXJpZXNJbmRleDogZGF0YS5zZXJpZXNJbmRleCwKICAgICAgICAgIHNlcmllc05hbWU6IGRhdGEuc2VyaWVzTmFtZQogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfZG93bnBsYXlfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdkb3ducGxheScsCiAgICAgICAgICBzZXJpZXNJbmRleDogZGF0YS5zZXJpZXNJbmRleCwKICAgICAgICAgIHNlcmllc05hbWU6IGRhdGEuc2VyaWVzTmFtZQogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgLy8gVE9PTFRJUCAgCiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2Vfc2hvd3RpcF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZGF0YS5vcHRzKTsKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2hpZGV0aXBfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICAgIHR5cGU6ICdoaWRlVGlwJwogICAgICAgIH0pOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfYXBwZW5kX3AnLAogICAgZnVuY3Rpb24ob3B0cykgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMob3B0cy5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5hcHBlbmREYXRhKHsKICAgICAgICAgIHNlcmllc0luZGV4OiBvcHRzLnNlcmllc0luZGV4LAogICAgICAgICAgZGF0YTogb3B0cy5kYXRhCiAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9mb2N1c19ub2RlX2FkamFjZW5jeV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGFbMF0uaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGhpZ2hsaWdodCl7CiAgICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbihoaWdobGlnaHQub3B0cyk7CiAgICAgICAgfSkKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3VuZm9jdXNfbm9kZV9hZGphY2VuY3lfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhWzBdLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihoaWdobGlnaHQpewogICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oaGlnaGxpZ2h0Lm9wdHMpOwogICAgICAgIH0pCiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9kaXNwYXRjaF9hY3Rpb25fcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGRhdGEub3B0cyk7CiAgICAgIH0KICB9KTsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfcmVnaXN0ZXJfbWFwJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgICQuYWpheCh7IAogICAgICAgICAgdXJsOiB4Lmdlb0pTT04sIAogICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywgCiAgICAgICAgICBhc3luYzogeC5tYXBBc3luYywKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGpzb24peyAKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3Rlck1hcCh4Lm1hcE5hbWUsIGpzb24pOwogICAgICAgICAgfSAKICAgICAgICB9KTsKICAgICAgICAKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9yZXNpemUnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5yZXNpemUoKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9zZW5kX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBsZXQgb3B0cyA9IGNoYXJ0LmdldE9wdGlvbigpOwoKICAgICAgICAvLyBhZGQgc2VyaWVzCiAgICAgICAgaWYoIW9wdHMuc2VyaWVzKQogICAgICAgICAgb3B0cy5zZXJpZXMgPSBbXTsKCiAgICAgICAgaWYoZGF0YS5vcHRzLnNlcmllcykKICAgICAgICAgIGRhdGEub3B0cy5zZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZSl7CiAgICAgICAgICAgIG9wdHMuc2VyaWVzLnB1c2goc2VyaWUpOwogICAgICAgICAgfSk7CgogICAgICAgIGlmKGRhdGEub3B0cy5jb2xvcil7CiAgICAgICAgICBpZihkYXRhLm9wdHMuYXBwZW5kQ29sb3IpCiAgICAgICAgICAgIGRhdGEub3B0cy5jb2xvci5mb3JFYWNoKGZ1bmN0aW9uKGNvbG9yKXsKICAgICAgICAgICAgICBvcHRzLmNvbG9yLnB1c2goY29sb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGVsc2UgCiAgICAgICAgICAgIG9wdHMuY29sb3IgPSBkYXRhLm9wdHMuY29sb3I7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKGRhdGEub3B0cy5iYWNrZ3JvdW5kQ29sb3IpCiAgICAgICAgICBvcHRzLmNvbG9yID0gZGF0YS5vcHRzLmJhY2tncm91bmRDb2xvcjsKCiAgICAgICAgLy8gbGVnZW5kCiAgICAgICAgaWYoZGF0YS5vcHRzLmxlZ2VuZCAmJiBvcHRzLmxlZ2VuZC5sZW5ndGggPiAwKQogICAgICAgICAgaWYoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKQogICAgICAgICAgICBvcHRzLmxlZ2VuZFswXS5kYXRhID0gb3B0cy5sZWdlbmRbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLmxlZ2VuZC5kYXRhKTsKICAgICAgICAKICAgICAgICAvLyB4IEF4aXMKICAgICAgICBpZihvcHRzLnhBeGlzKXsKICAgICAgICAgIGlmKG9wdHMueEF4aXNbMF0uZGF0YSl7CiAgICAgICAgICAgIGxldCB4YXhpcyA9IG9wdHMueEF4aXNbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLnhBeGlzWzBdLmRhdGEpOwogICAgICAgICAgICB4YXhpcyA9IHhheGlzLmZpbHRlcihkaXN0aW5jdCkuZmlsdGVyKHJtX3VuZGVmaW5lZCk7CiAgICAgICAgICAgIG9wdHMueEF4aXNbMF0uZGF0YSA9IHhheGlzOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8geSBBeGlzCiAgICAgICAgaWYob3B0cy55QXhpcyl7CiAgICAgICAgICBpZihvcHRzLnlBeGlzWzBdLmRhdGEpewogICAgICAgICAgICBsZXQgeWF4aXMgPSBvcHRzLnlBeGlzWzBdLmRhdGEuY29uY2F0KGRhdGEub3B0cy55QXhpc1swXS5kYXRhKTsKICAgICAgICAgICAgeWF4aXMgPSB5YXhpcy5maWx0ZXIoZGlzdGluY3QpLmZpbHRlcihybV91bmRlZmluZWQpOwogICAgICAgICAgICBvcHRzLnlBeGlzWzBdLmRhdGEgPSB5YXhpczsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRzLCB0cnVlKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9yZW1vdmVfc2VyaWVfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIAogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBsZXQgb3B0cyA9IGNoYXJ0LmdldE9wdGlvbigpOwoKICAgICAgICBpZihkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgbGV0IHNlcmllcyA9IG9wdHMuc2VyaWVzOwogICAgICAgICAgc2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocywgaW5kZXgpewogICAgICAgICAgICBpZiAodHlwZW9mIHMubmFtZSA9PSAidW5kZWZpbmVkIil7CiAgICAgICAgICAgICBpZiAocy5kYXRhW1swXV0ubmFtZSA9PSBkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmKHMubmFtZSA9PSBkYXRhLnNlcmllX25hbWUpewogICAgICAgICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBzZXJpZXMpCiAgICAgICAgICBvcHRzLnNlcmllcyA9IHNlcmllczsKICAgICAgICB9CgogICAgICAgIGlmKGRhdGEuc2VyaWVfaW5kZXggIT0gbnVsbCl7CiAgICAgICAgICBvcHRzLnNlcmllcyA9IG9wdHMuc2VyaWVzLnNwbGljZShkYXRhLnNlcmllX2luZGV4LCAxKTsKICAgICAgICB9CgogICAgICAgIGNoYXJ0LnNldE9wdGlvbihvcHRzLCB0cnVlKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9tZXJnZV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsgICAgCiAgICAgIC8vIGNhbGxlZCBieSBlX21lcmdlLCBhZGQgbWFya3MgdG8gc2VyaWUKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKGRhdGEub3B0cyk7IAogICAgICB9CiAgfSk7CiAgCn0K"></script>

</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-92b91356e282cddd4146" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-92b91356e282cddd4146">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["2015","2016","2017","2018","2019","2020","2021"],"type":"category","boundaryGap":true}],"legend":{"data":["","",""]},"series":[{"data":[{"value":["2015","97.62"]},{"value":["2016","83.72"]},{"value":["2017","70.11"]},{"value":["2018","60.55"]},{"value":["2019","50.42"]},{"value":["2020","41.00"]},{"value":["2021","32.61"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"","type":"line","coordinateSystem":"cartesian2d","areaStyle":[],"stack":"grp"},{"data":[{"value":["2015","61.97"]},{"value":["2016","70.33"]},{"value":["2017","75.14"]},{"value":["2018","76.27"]},{"value":["2019","71.70"]},{"value":["2020","72.90"]},{"value":["2021","71.62"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"","type":"line","coordinateSystem":"cartesian2d","areaStyle":[],"stack":"grp"},{"data":[{"value":["2015","31.11"]},{"value":["2016","41.21"]},{"value":["2017","49.78"]},{"value":["2018","60.87"]},{"value":["2019","69.72"]},{"value":["2020","76.23"]},{"value":["2021","86.58"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"","type":"line","coordinateSystem":"cartesian2d","areaStyle":[],"stack":"grp"}],"tooltip":{"trigger":"axis"},"backgroundColor":"white"},"dispose":true},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-92b91356e282cddd4146">{"viewer":{"width":"100%","height":350,"padding":0,"fill":true},"browser":{"width":"100%","height":500,"padding":0,"fill":true}}</script>
</body>
</html>
